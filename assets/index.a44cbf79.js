(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerpolicy&&(n.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?n.credentials="include":r.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(r){if(r.ep)return;r.ep=!0;const n=t(r);fetch(r.href,n)}})();function lt(){}const Ee=i=>i;function vn(i,e){for(const t in e)i[t]=e[t];return i}function yn(i){return i&&typeof i=="object"&&typeof i.then=="function"}function Xe(i){return i()}function De(){return Object.create(null)}function bt(i){i.forEach(Xe)}function Tt(i){return typeof i=="function"}function Zt(i,e){return i!=i?e==e:i!==e||i&&typeof i=="object"||typeof i=="function"}let ae;function wt(i,e){return ae||(ae=document.createElement("a")),ae.href=e,i===ae.href}function wn(i){return Object.keys(i).length===0}function kn(i,e,t,o){if(i){const r=Qe(i,e,t,o);return i[0](r)}}function Qe(i,e,t,o){return i[1]&&o?vn(t.ctx.slice(),i[1](o(e))):t.ctx}function An(i,e,t,o){if(i[2]&&o){const r=i[2](o(t));if(e.dirty===void 0)return r;if(typeof r=="object"){const n=[],s=Math.max(e.dirty.length,r.length);for(let l=0;l<s;l+=1)n[l]=e.dirty[l]|r[l];return n}return e.dirty|r}return e.dirty}function Sn(i,e,t,o,r,n){if(r){const s=Qe(e,t,o,n);i.p(s,r)}}function En(i){if(i.ctx.length>32){const e=[],t=i.ctx.length/32;for(let o=0;o<t;o++)e[o]=-1;return e}return-1}const $e=typeof window<"u";let tn=$e?()=>window.performance.now():()=>Date.now(),Ce=$e?i=>requestAnimationFrame(i):lt;const Jt=new Set;function en(i){Jt.forEach(e=>{e.c(i)||(Jt.delete(e),e.f())}),Jt.size!==0&&Ce(en)}function nn(i){let e;return Jt.size===0&&Ce(en),{promise:new Promise(t=>{Jt.add(e={c:i,f:t})}),abort(){Jt.delete(e)}}}function tt(i,e){i.appendChild(e)}function rn(i){if(!i)return document;const e=i.getRootNode?i.getRootNode():i.ownerDocument;return e&&e.host?e:i.ownerDocument}function Cn(i){const e=et("style");return zn(rn(i),e),e.sheet}function zn(i,e){return tt(i.head||i,e),e.sheet}function at(i,e,t){i.insertBefore(e,t||null)}function st(i){i.parentNode.removeChild(i)}function ze(i,e){for(let t=0;t<i.length;t+=1)i[t]&&i[t].d(e)}function et(i){return document.createElement(i)}function It(i){return document.createTextNode(i)}function mt(){return It(" ")}function Ut(){return It("")}function ot(i,e,t,o){return i.addEventListener(e,t,o),()=>i.removeEventListener(e,t,o)}function T(i,e,t){t==null?i.removeAttribute(e):i.getAttribute(e)!==t&&i.setAttribute(e,t)}function In(i){return Array.from(i.childNodes)}function Mt(i,e){e=""+e,i.wholeText!==e&&(i.data=e)}function Nt(i,e){i.value=e==null?"":e}function ge(i,e,t,o){t===null?i.style.removeProperty(e):i.style.setProperty(e,t,o?"important":"")}function Te(i,e){for(let t=0;t<i.options.length;t+=1){const o=i.options[t];if(o.__value===e){o.selected=!0;return}}i.selectedIndex=-1}function Bn(i){const e=i.querySelector(":checked")||i.options[0];return e&&e.__value}function xn(i,e,{bubbles:t=!1,cancelable:o=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(i,t,o,e),r}const he=new Map;let pe=0;function Rn(i){let e=5381,t=i.length;for(;t--;)e=(e<<5)-e^i.charCodeAt(t);return e>>>0}function On(i,e){const t={stylesheet:Cn(e),rules:{}};return he.set(i,t),t}function we(i,e,t,o,r,n,s,l=0){const c=16.666/o;let f=`{
`;for(let _=0;_<=1;_+=c){const g=e+(t-e)*n(_);f+=_*100+`%{${s(g,1-g)}}
`}const m=f+`100% {${s(t,1-t)}}
}`,p=`__svelte_${Rn(m)}_${l}`,y=rn(i),{stylesheet:h,rules:v}=he.get(y)||On(y,i);v[p]||(v[p]=!0,h.insertRule(`@keyframes ${p} ${m}`,h.cssRules.length));const d=i.style.animation||"";return i.style.animation=`${d?`${d}, `:""}${p} ${o}ms linear ${r}ms 1 both`,pe+=1,p}function ke(i,e){const t=(i.style.animation||"").split(", "),o=t.filter(e?n=>n.indexOf(e)<0:n=>n.indexOf("__svelte")===-1),r=t.length-o.length;r&&(i.style.animation=o.join(", "),pe-=r,pe||Fn())}function Fn(){Ce(()=>{pe||(he.forEach(i=>{const{ownerNode:e}=i.stylesheet;e&&st(e)}),he.clear())})}let ie;function Lt(i){ie=i}function Dn(){if(!ie)throw new Error("Function called outside component initialization");return ie}const ee=[],kt=[],fe=[],Ae=[],Tn=Promise.resolve();let Se=!1;function Pn(){Se||(Se=!0,Tn.then(Ie))}function Bt(i){fe.push(i)}function St(i){Ae.push(i)}const ve=new Set;let le=0;function Ie(){const i=ie;do{for(;le<ee.length;){const e=ee[le];le++,Lt(e),Ln(e.$$)}for(Lt(null),ee.length=0,le=0;kt.length;)kt.pop()();for(let e=0;e<fe.length;e+=1){const t=fe[e];ve.has(t)||(ve.add(t),t())}fe.length=0}while(ee.length);for(;Ae.length;)Ae.pop()();Se=!1,ve.clear(),Lt(i)}function Ln(i){if(i.fragment!==null){i.update(),bt(i.before_update);const e=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(Bt)}}let te;function sn(){return te||(te=Promise.resolve(),te.then(()=>{te=null})),te}function re(i,e,t){i.dispatchEvent(xn(`${e?"intro":"outro"}${t}`))}const de=new Set;let jt;function Kt(){jt={r:0,c:[],p:jt}}function qt(){jt.r||bt(jt.c),jt=jt.p}function ct(i,e){i&&i.i&&(de.delete(i),i.i(e))}function _t(i,e,t,o){if(i&&i.o){if(de.has(i))return;de.add(i),jt.c.push(()=>{de.delete(i),o&&(t&&i.d(1),o())}),i.o(e)}else o&&o()}const on={duration:0};function _e(i,e,t){let o=e(i,t),r=!1,n,s,l=0;function c(){n&&ke(i,n)}function f(){const{delay:p=0,duration:y=300,easing:h=Ee,tick:v=lt,css:d}=o||on;d&&(n=we(i,0,1,y,p,h,d,l++)),v(0,1);const _=tn()+p,g=_+y;s&&s.abort(),r=!0,Bt(()=>re(i,!0,"start")),s=nn(b=>{if(r){if(b>=g)return v(1,0),re(i,!0,"end"),c(),r=!1;if(b>=_){const S=h((b-_)/y);v(S,1-S)}}return r})}let m=!1;return{start(){m||(m=!0,ke(i),Tt(o)?(o=o(),sn().then(f)):f())},invalidate(){m=!1},end(){r&&(c(),r=!1)}}}function me(i,e,t,o){let r=e(i,t),n=o?0:1,s=null,l=null,c=null;function f(){c&&ke(i,c)}function m(y,h){const v=y.b-n;return h*=Math.abs(v),{a:n,b:y.b,d:v,duration:h,start:y.start,end:y.start+h,group:y.group}}function p(y){const{delay:h=0,duration:v=300,easing:d=Ee,tick:_=lt,css:g}=r||on,b={start:tn()+h,b:y};y||(b.group=jt,jt.r+=1),s||l?l=b:(g&&(f(),c=we(i,n,y,v,h,d,g)),y&&_(0,1),s=m(b,v),Bt(()=>re(i,y,"start")),nn(S=>{if(l&&S>l.start&&(s=m(l,v),l=null,re(i,s.b,"start"),g&&(f(),c=we(i,n,s.b,s.duration,0,d,r.css))),s){if(S>=s.end)_(n=s.b,1-n),re(i,s.b,"end"),l||(s.b?f():--s.group.r||bt(s.group.c)),s=null;else if(S>=s.start){const I=S-s.start;n=s.a+s.d*d(I/s.duration),_(n,1-n)}}return!!(s||l)}))}return{run(y){Tt(r)?sn().then(()=>{r=r(),p(y)}):p(y)},end(){f(),s=l=null}}}function Be(i,e){const t=e.token={};function o(r,n,s,l){if(e.token!==t)return;e.resolved=l;let c=e.ctx;s!==void 0&&(c=c.slice(),c[s]=l);const f=r&&(e.current=r)(c);let m=!1;e.block&&(e.blocks?e.blocks.forEach((p,y)=>{y!==n&&p&&(Kt(),_t(p,1,1,()=>{e.blocks[y]===p&&(e.blocks[y]=null)}),qt())}):e.block.d(1),f.c(),ct(f,1),f.m(e.mount(),e.anchor),m=!0),e.block=f,e.blocks&&(e.blocks[n]=f),m&&Ie()}if(yn(i)){const r=Dn();if(i.then(n=>{Lt(r),o(e.then,1,e.value,n),Lt(null)},n=>{if(Lt(r),o(e.catch,2,e.error,n),Lt(null),!e.hasCatch)throw n}),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,i),!0;e.resolved=i}}function xe(i,e,t){const o=e.slice(),{resolved:r}=i;i.current===i.then&&(o[i.value]=r),i.current===i.catch&&(o[i.error]=r),i.block.p(o,t)}function Et(i,e,t){const o=i.$$.props[e];o!==void 0&&(i.$$.bound[o]=t,t(i.$$.ctx[o]))}function Rt(i){i&&i.c()}function Ct(i,e,t,o){const{fragment:r,after_update:n}=i.$$;r&&r.m(e,t),o||Bt(()=>{const s=i.$$.on_mount.map(Xe).filter(Tt);i.$$.on_destroy?i.$$.on_destroy.push(...s):bt(s),i.$$.on_mount=[]}),n.forEach(Bt)}function zt(i,e){const t=i.$$;t.fragment!==null&&(bt(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function jn(i,e){i.$$.dirty[0]===-1&&(ee.push(i),Pn(),i.$$.dirty.fill(0)),i.$$.dirty[e/31|0]|=1<<e%31}function Gt(i,e,t,o,r,n,s,l=[-1]){const c=ie;Lt(i);const f=i.$$={fragment:null,ctx:[],props:n,update:lt,not_equal:r,bound:De(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:De(),dirty:l,skip_bound:!1,root:e.target||c.$$.root};s&&s(f.root);let m=!1;if(f.ctx=t?t(i,e.props||{},(p,y,...h)=>{const v=h.length?h[0]:y;return f.ctx&&r(f.ctx[p],f.ctx[p]=v)&&(!f.skip_bound&&f.bound[p]&&f.bound[p](v),m&&jn(i,p)),y}):[],f.update(),m=!0,bt(f.before_update),f.fragment=o?o(f.ctx):!1,e.target){if(e.hydrate){const p=In(e.target);f.fragment&&f.fragment.l(p),p.forEach(st)}else f.fragment&&f.fragment.c();e.intro&&ct(i.$$.fragment),Ct(i,e.target,e.anchor,e.customElement),Ie()}Lt(c)}class Vt{$destroy(){zt(this,1),this.$destroy=lt}$on(e,t){if(!Tt(t))return lt;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(t),()=>{const r=o.indexOf(t);r!==-1&&o.splice(r,1)}}$set(e){this.$$set&&!wn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Un(i){var e=i.default;if(typeof e=="function"){var t=function(){return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(o){var r=Object.getOwnPropertyDescriptor(i,o);Object.defineProperty(t,o,r.get?r:{enumerable:!0,get:function(){return i[o]}})}),t}var Nn={exports:{}};(function(i){var e=function(t){var o=Object.prototype,r=o.hasOwnProperty,n=Object.defineProperty||function(B,F,E){B[F]=E.value},s,l=typeof Symbol=="function"?Symbol:{},c=l.iterator||"@@iterator",f=l.asyncIterator||"@@asyncIterator",m=l.toStringTag||"@@toStringTag";function p(B,F,E){return Object.defineProperty(B,F,{value:E,enumerable:!0,configurable:!0,writable:!0}),B[F]}try{p({},"")}catch{p=function(F,E,z){return F[E]=z}}function y(B,F,E,z){var H=F&&F.prototype instanceof S?F:S,Y=Object.create(H.prototype),q=new Q(z||[]);return n(Y,"_invoke",{value:k(B,E,q)}),Y}t.wrap=y;function h(B,F,E){try{return{type:"normal",arg:B.call(F,E)}}catch(z){return{type:"throw",arg:z}}}var v="suspendedStart",d="suspendedYield",_="executing",g="completed",b={};function S(){}function I(){}function C(){}var N={};p(N,c,function(){return this});var L=Object.getPrototypeOf,j=L&&L(L(W([])));j&&j!==o&&r.call(j,c)&&(N=j);var D=C.prototype=S.prototype=Object.create(N);I.prototype=C,n(D,"constructor",{value:C,configurable:!0}),n(C,"constructor",{value:I,configurable:!0}),I.displayName=p(C,m,"GeneratorFunction");function M(B){["next","throw","return"].forEach(function(F){p(B,F,function(E){return this._invoke(F,E)})})}t.isGeneratorFunction=function(B){var F=typeof B=="function"&&B.constructor;return F?F===I||(F.displayName||F.name)==="GeneratorFunction":!1},t.mark=function(B){return Object.setPrototypeOf?Object.setPrototypeOf(B,C):(B.__proto__=C,p(B,m,"GeneratorFunction")),B.prototype=Object.create(D),B},t.awrap=function(B){return{__await:B}};function G(B,F){function E(Y,q,ut,ht){var it=h(B[Y],B,q);if(it.type==="throw")ht(it.arg);else{var ft=it.arg,vt=ft.value;return vt&&typeof vt=="object"&&r.call(vt,"__await")?F.resolve(vt.__await).then(function(pt){E("next",pt,ut,ht)},function(pt){E("throw",pt,ut,ht)}):F.resolve(vt).then(function(pt){ft.value=pt,ut(ft)},function(pt){return E("throw",pt,ut,ht)})}}var z;function H(Y,q){function ut(){return new F(function(ht,it){E(Y,q,ht,it)})}return z=z?z.then(ut,ut):ut()}n(this,"_invoke",{value:H})}M(G.prototype),p(G.prototype,f,function(){return this}),t.AsyncIterator=G,t.async=function(B,F,E,z,H){H===void 0&&(H=Promise);var Y=new G(y(B,F,E,z),H);return t.isGeneratorFunction(F)?Y:Y.next().then(function(q){return q.done?q.value:Y.next()})};function k(B,F,E){var z=v;return function(Y,q){if(z===_)throw new Error("Generator is already running");if(z===g){if(Y==="throw")throw q;return nt()}for(E.method=Y,E.arg=q;;){var ut=E.delegate;if(ut){var ht=O(ut,E);if(ht){if(ht===b)continue;return ht}}if(E.method==="next")E.sent=E._sent=E.arg;else if(E.method==="throw"){if(z===v)throw z=g,E.arg;E.dispatchException(E.arg)}else E.method==="return"&&E.abrupt("return",E.arg);z=_;var it=h(B,F,E);if(it.type==="normal"){if(z=E.done?g:d,it.arg===b)continue;return{value:it.arg,done:E.done}}else it.type==="throw"&&(z=g,E.method="throw",E.arg=it.arg)}}}function O(B,F){var E=B.iterator[F.method];if(E===s){if(F.delegate=null,F.method==="throw"){if(B.iterator.return&&(F.method="return",F.arg=s,O(B,F),F.method==="throw"))return b;F.method="throw",F.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var z=h(E,B.iterator,F.arg);if(z.type==="throw")return F.method="throw",F.arg=z.arg,F.delegate=null,b;var H=z.arg;if(!H)return F.method="throw",F.arg=new TypeError("iterator result is not an object"),F.delegate=null,b;if(H.done)F[B.resultName]=H.value,F.next=B.nextLoc,F.method!=="return"&&(F.method="next",F.arg=s);else return H;return F.delegate=null,b}M(D),p(D,m,"Generator"),p(D,c,function(){return this}),p(D,"toString",function(){return"[object Generator]"});function u(B){var F={tryLoc:B[0]};1 in B&&(F.catchLoc=B[1]),2 in B&&(F.finallyLoc=B[2],F.afterLoc=B[3]),this.tryEntries.push(F)}function P(B){var F=B.completion||{};F.type="normal",delete F.arg,B.completion=F}function Q(B){this.tryEntries=[{tryLoc:"root"}],B.forEach(u,this),this.reset(!0)}t.keys=function(B){var F=Object(B),E=[];for(var z in F)E.push(z);return E.reverse(),function H(){for(;E.length;){var Y=E.pop();if(Y in F)return H.value=Y,H.done=!1,H}return H.done=!0,H}};function W(B){if(B){var F=B[c];if(F)return F.call(B);if(typeof B.next=="function")return B;if(!isNaN(B.length)){var E=-1,z=function H(){for(;++E<B.length;)if(r.call(B,E))return H.value=B[E],H.done=!1,H;return H.value=s,H.done=!0,H};return z.next=z}}return{next:nt}}t.values=W;function nt(){return{value:s,done:!0}}return Q.prototype={constructor:Q,reset:function(B){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(P),!B)for(var F in this)F.charAt(0)==="t"&&r.call(this,F)&&!isNaN(+F.slice(1))&&(this[F]=s)},stop:function(){this.done=!0;var B=this.tryEntries[0],F=B.completion;if(F.type==="throw")throw F.arg;return this.rval},dispatchException:function(B){if(this.done)throw B;var F=this;function E(ht,it){return Y.type="throw",Y.arg=B,F.next=ht,it&&(F.method="next",F.arg=s),!!it}for(var z=this.tryEntries.length-1;z>=0;--z){var H=this.tryEntries[z],Y=H.completion;if(H.tryLoc==="root")return E("end");if(H.tryLoc<=this.prev){var q=r.call(H,"catchLoc"),ut=r.call(H,"finallyLoc");if(q&&ut){if(this.prev<H.catchLoc)return E(H.catchLoc,!0);if(this.prev<H.finallyLoc)return E(H.finallyLoc)}else if(q){if(this.prev<H.catchLoc)return E(H.catchLoc,!0)}else if(ut){if(this.prev<H.finallyLoc)return E(H.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(B,F){for(var E=this.tryEntries.length-1;E>=0;--E){var z=this.tryEntries[E];if(z.tryLoc<=this.prev&&r.call(z,"finallyLoc")&&this.prev<z.finallyLoc){var H=z;break}}H&&(B==="break"||B==="continue")&&H.tryLoc<=F&&F<=H.finallyLoc&&(H=null);var Y=H?H.completion:{};return Y.type=B,Y.arg=F,H?(this.method="next",this.next=H.finallyLoc,b):this.complete(Y)},complete:function(B,F){if(B.type==="throw")throw B.arg;return B.type==="break"||B.type==="continue"?this.next=B.arg:B.type==="return"?(this.rval=this.arg=B.arg,this.method="return",this.next="end"):B.type==="normal"&&F&&(this.next=F),b},finish:function(B){for(var F=this.tryEntries.length-1;F>=0;--F){var E=this.tryEntries[F];if(E.finallyLoc===B)return this.complete(E.completion,E.afterLoc),P(E),b}},catch:function(B){for(var F=this.tryEntries.length-1;F>=0;--F){var E=this.tryEntries[F];if(E.tryLoc===B){var z=E.completion;if(z.type==="throw"){var H=z.arg;P(E)}return H}}throw new Error("illegal catch attempt")},delegateYield:function(B,F,E){return this.delegate={iterator:W(B),resultName:F,nextLoc:E},this.method==="next"&&(this.arg=s),b}},t}(i.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(Nn);var Wn={defaultArgs:["./ffmpeg","-nostdin","-y"],baseOptions:{log:!1,logger:()=>{},progress:()=>{},corePath:""}},Zn=(i,e)=>{const t=i._malloc(e.length*Uint32Array.BYTES_PER_ELEMENT);return e.forEach((o,r)=>{const n=i.lengthBytesUTF8(o)+1,s=i._malloc(n);i.stringToUTF8(o,s,n),i.setValue(t+Uint32Array.BYTES_PER_ELEMENT*r,s,"i32")}),[e.length,t]};const Mn="@ffmpeg/ffmpeg",Gn="0.11.6",Vn="FFmpeg WebAssembly version",Hn="src/index.js",Kn="src/index.d.ts",qn={example:"examples"},Yn={start:"node scripts/server.js","start:worker":"node scripts/worker-server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js","build:worker":"rimraf dist && webpack --config scripts/webpack.config.worker.prod.js",prepublishOnly:"npm run build",lint:"eslint src",wait:"rimraf dist && wait-on http://localhost:3000/dist/ffmpeg.dev.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:ffmpeg test:node:all","test:node":"node node_modules/mocha/bin/_mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser":"mocha-headless-chrome -a allow-file-access-from-files -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:ffmpeg":"npm run test:browser -- -f ./tests/ffmpeg.test.html"},Jn={"./src/node/index.js":"./src/browser/index.js"},Xn={type:"git",url:"git+https://github.com/ffmpegwasm/ffmpeg.wasm.git"},Qn=["ffmpeg","WebAssembly","video"],$n="Jerome Wu <jeromewus@gmail.com>",tr="MIT",er={url:"https://github.com/ffmpegwasm/ffmpeg.wasm/issues"},nr={node:">=12.16.1"},rr="https://github.com/ffmpegwasm/ffmpeg.wasm#readme",ir={"is-url":"^1.2.4","node-fetch":"^2.6.1","regenerator-runtime":"^0.13.7","resolve-url":"^0.2.1"},sr={"@babel/core":"^7.12.3","@babel/preset-env":"^7.12.1","@ffmpeg/core":"^0.11.0","@types/emscripten":"^1.39.4","babel-eslint":"^10.1.0","babel-loader":"^8.1.0",chai:"^4.2.0",cors:"^2.8.5",eslint:"^7.12.1","eslint-config-airbnb-base":"^14.1.0","eslint-plugin-import":"^2.22.1",express:"^4.17.1",mocha:"^8.2.1","mocha-headless-chrome":"^2.0.3","npm-run-all":"^4.1.5","wait-on":"^5.3.0",webpack:"^5.3.2","webpack-cli":"^4.1.0","webpack-dev-middleware":"^4.0.0"},an={name:Mn,version:Gn,description:Vn,main:Hn,types:Kn,directories:qn,scripts:Yn,browser:Jn,repository:Xn,keywords:Qn,author:$n,license:tr,bugs:er,engines:nr,homepage:rr,dependencies:ir,devDependencies:sr},or=(typeof process<"u",`https://unpkg.com/@ffmpeg/core@${an.devDependencies["@ffmpeg/core"].substring(1)}/dist/ffmpeg-core.js`),ar={corePath:or};let Re=!1,ln=()=>{};const lr=i=>{Re=i},cr=i=>{ln=i},ur=(i,e)=>{ln({type:i,message:e}),Re&&console.log(`[${i}] ${e}`)};var Ht={logging:Re,setLogging:lr,setCustomLogger:cr,log:ur};const fr=i=>`
createFFmpegCore is not defined. ffmpeg.wasm is unable to find createFFmpegCore after loading ffmpeg-core.js from ${i}. Use another URL when calling createFFmpeg():

const ffmpeg = createFFmpeg({
  corePath: 'http://localhost:3000/ffmpeg-core.js',
});
`;var Pe={CREATE_FFMPEG_CORE_IS_NOT_DEFINED:fr};const Yt=async(i,e)=>{Ht.log("info",`fetch ${i}`);const t=await(await fetch(i)).arrayBuffer();Ht.log("info",`${i} file size = ${t.byteLength} bytes`);const o=new Blob([t],{type:e}),r=URL.createObjectURL(o);return Ht.log("info",`${i} blob URL = ${r}`),r},dr=async({corePath:i,workerPath:e,wasmPath:t})=>{if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope){if(typeof i!="string")throw Error("corePath should be a string!");const l=new URL(i,import.meta.url).href,c=await Yt(l,"application/javascript"),f=await Yt(t!==void 0?t:l.replace("ffmpeg-core.js","ffmpeg-core.wasm"),"application/wasm"),m=await Yt(e!==void 0?e:l.replace("ffmpeg-core.js","ffmpeg-core.worker.js"),"application/javascript");return typeof createFFmpegCore>"u"?new Promise(p=>{if(globalThis.importScripts(c),typeof createFFmpegCore>"u")throw Error(Pe.CREATE_FFMPEG_CORE_IS_NOT_DEFINED(l));Ht.log("info","ffmpeg-core.js script loaded"),p({createFFmpegCore,corePath:c,wasmPath:f,workerPath:m})}):(Ht.log("info","ffmpeg-core.js script is loaded already"),Promise.resolve({createFFmpegCore,corePath:c,wasmPath:f,workerPath:m}))}if(typeof i!="string")throw Error("corePath should be a string!");const o=new URL(i,import.meta.url).href,r=await Yt(o,"application/javascript"),n=await Yt(t!==void 0?t:o.replace("ffmpeg-core.js","ffmpeg-core.wasm"),"application/wasm"),s=await Yt(e!==void 0?e:o.replace("ffmpeg-core.js","ffmpeg-core.worker.js"),"application/javascript");return typeof createFFmpegCore>"u"?new Promise(l=>{const c=document.createElement("script"),f=()=>{if(c.removeEventListener("load",f),typeof createFFmpegCore>"u")throw Error(Pe.CREATE_FFMPEG_CORE_IS_NOT_DEFINED(o));Ht.log("info","ffmpeg-core.js script loaded"),l({createFFmpegCore,corePath:r,wasmPath:n,workerPath:s})};c.src=r,c.type="text/javascript",c.addEventListener("load",f),document.getElementsByTagName("head")[0].appendChild(c)}):(Ht.log("info","ffmpeg-core.js script is loaded already"),Promise.resolve({createFFmpegCore,corePath:r,wasmPath:n,workerPath:s}))},hr=i=>new Promise((e,t)=>{const o=new FileReader;o.onload=()=>{e(o.result)},o.onerror=({target:{error:{code:r}}})=>{t(Error(`File could not be read! Code=${r}`))},o.readAsArrayBuffer(i)}),pr=async i=>{let e=i;return typeof i>"u"?new Uint8Array:(typeof i=="string"?/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(i)?e=atob(i.split(",")[1]).split("").map(t=>t.charCodeAt(0)):e=await(await fetch(new URL(i,import.meta.url).href)).arrayBuffer():(i instanceof File||i instanceof Blob)&&(e=await hr(i)),new Uint8Array(e))},mr=Object.freeze(Object.defineProperty({__proto__:null,defaultOptions:ar,getCreateFFmpegCore:dr,fetchFile:pr},Symbol.toStringTag,{value:"Module"})),cn=Un(mr),{defaultArgs:gr,baseOptions:_r}=Wn,br=Zn,{defaultOptions:vr,getCreateFFmpegCore:yr}=cn,{version:wr}=an,ye=Error("ffmpeg.wasm is not ready, make sure you have completed load().");var kr=(i={})=>{const{log:e,logger:t,progress:o,...r}={..._r,...vr,...i};let n=null,s=null,l=null,c=null,f=!1,m=()=>{},p=e,y=o,h=0,v=0,d=!1,_=0;const g=u=>{u==="FFMPEG_END"&&l!==null&&(l(),l=null,c=null,f=!1)},b=(u,P)=>{m({type:u,message:P}),p&&console.log(`[${u}] ${P}`)},S=u=>{const[P,Q,W]=u.split(":");return parseFloat(P)*60*60+parseFloat(Q)*60+parseFloat(W)},I=(u,P)=>{if(typeof u=="string")if(u.startsWith("  Duration")){const Q=u.split(", ")[0].split(": ")[1],W=S(Q);P({duration:W,ratio:_}),(h===0||h>W)&&(h=W,d=!0)}else if(d&&u.startsWith("    Stream")){const Q=u.match(/([\d.]+) fps/);if(Q){const W=parseFloat(Q[1]);v=h*W}else v=0;d=!1}else if(u.startsWith("frame")||u.startsWith("size")){const Q=u.split("time=")[1].split(" ")[0],W=S(Q),nt=u.match(/frame=\s*(\d+)/);if(v&&nt){const B=parseFloat(nt[1]);_=Math.min(B/v,1)}else _=W/h;P({ratio:_,time:W})}else u.startsWith("video:")&&(P({ratio:1}),h=0)},C=({type:u,message:P})=>{b(u,P),I(P,y),g(P)},N=async()=>{if(b("info","load ffmpeg-core"),n===null){b("info","loading ffmpeg-core");const{createFFmpegCore:u,corePath:P,workerPath:Q,wasmPath:W}=await yr(r);n=await u({mainScriptUrlOrBlob:P,printErr:nt=>C({type:"fferr",message:nt}),print:nt=>C({type:"ffout",message:nt}),locateFile:(nt,B)=>{if(typeof window<"u"||typeof WorkerGlobalScope<"u"){if(typeof W<"u"&&nt.endsWith("ffmpeg-core.wasm"))return W;if(typeof Q<"u"&&nt.endsWith("ffmpeg-core.worker.js"))return Q}return B+nt}}),s=n.cwrap(r.mainName||"proxy_main","number",["number","number"]),b("info","ffmpeg-core loaded")}else throw Error("ffmpeg.wasm was loaded, you should not load it again, use ffmpeg.isLoaded() to check next time.")},L=()=>n!==null,j=(...u)=>{if(b("info",`run ffmpeg command: ${u.join(" ")}`),n===null)throw ye;if(f)throw Error("ffmpeg.wasm can only run one command at a time");return f=!0,new Promise((P,Q)=>{const W=[...gr,...u].filter(nt=>nt.length!==0);l=P,c=Q,s(...br(n,W))})},D=(u,...P)=>{if(b("info",`run FS.${u} ${P.map(Q=>typeof Q=="string"?Q:`<${Q.length} bytes binary file>`).join(" ")}`),n===null)throw ye;{let Q=null;try{Q=n.FS[u](...P)}catch{throw Error(u==="readdir"?`ffmpeg.FS('readdir', '${P[0]}') error. Check if the path exists, ex: ffmpeg.FS('readdir', '/')`:u==="readFile"?`ffmpeg.FS('readFile', '${P[0]}') error. Check if the path exists`:"Oops, something went wrong in FS operation.")}return Q}},M=()=>{if(n===null)throw ye;c&&c("ffmpeg has exited"),f=!1;try{n.exit(1)}catch(u){b(u.message),c&&c(u)}finally{n=null,s=null,l=null,c=null}},G=u=>{y=u},k=u=>{m=u},O=u=>{p=u};return b("info",`use ffmpeg.wasm v${wr}`),{setProgress:G,setLogger:k,setLogging:O,load:N,isLoaded:L,run:j,exit:M,FS:D}};const Ar=kr,{fetchFile:Sr}=cn;var Er={createFFmpeg:Ar,fetchFile:Sr};const Dt=Er.createFFmpeg({corePath:"../ffmpeg-core/ffmpeg-core.js",mainName:"main"}),Cr=async i=>i.type=="audio/ogg"?new Blob([i],{type:"audio/ogg"}):await new Promise(e=>{const t=new FileReader,o=new Blob([i]);t.readAsArrayBuffer(o),t.onload=async()=>{const r=t.result;await Dt.load(),Dt.FS("writeFile","audio",new Uint8Array(r)),await Dt.run("-i","audio","-acodec","libvorbis","/output.ogg");const n=Dt.FS("readFile","/output.ogg");Dt.exit(),e(new Blob([n],{type:"audio/ogg"}))}}),zr=async i=>await new Promise(e=>{const t=new FileReader;t.readAsArrayBuffer(i),t.onload=async()=>{const o=t.result;await Dt.load(),Dt.FS("writeFile","audio",new Uint8Array(o)),await Dt.run("-i","audio","-ac","1","/output.ogg");const r=Dt.FS("readFile","/output.ogg");Dt.exit(),e(new Blob([r],{type:"audio/ogg"}))}}),Ir=async(i,e,t)=>await new Promise(o=>{const r=new Image;r.src=URL.createObjectURL(i),r.onload=()=>{const n=document.createElement("canvas");n.width=e,n.height=t,n.getContext("2d").drawImage(r,0,0,e,t);const l=n.toDataURL("image/png");o(Br(l))}}),Br=i=>new Promise(e=>{const t=xr(i);e(new Blob([t],{type:"image/png"}))}),xr=i=>{const e=i.split(",")[1],t=window.atob(e),o=new ArrayBuffer(t.length),r=new Uint8Array(o);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return o},Rr=(i,e)=>{const t=document.createElement("a");t.href=URL.createObjectURL(i),t.download=e,t.click()};function Or(i){let e,t,o,r,n;const s=i[2].default,l=kn(s,i,i[1],null);return{c(){e=et("div"),t=et("span"),o=It(i[0]),r=mt(),l&&l.c(),T(t,"id","tooltiptext"),T(t,"class","svelte-1xbdaqc"),T(e,"id","container"),T(e,"class","svelte-1xbdaqc")},m(c,f){at(c,e,f),tt(e,t),tt(t,o),tt(e,r),l&&l.m(e,null),n=!0},p(c,[f]){(!n||f&1)&&Mt(o,c[0]),l&&l.p&&(!n||f&2)&&Sn(l,s,c,c[1],n?An(s,c[1],f,null):En(c[1]),null)},i(c){n||(ct(l,c),n=!0)},o(c){_t(l,c),n=!1},d(c){c&&st(e),l&&l.d(c)}}}function Fr(i,e,t){let{$$slots:o={},$$scope:r}=e,{text:n}=e;return i.$$set=s=>{"text"in s&&t(0,n=s.text),"$$scope"in s&&t(1,r=s.$$scope)},[n,r,o]}class ne extends Vt{constructor(e){super(),Gt(this,e,Fr,Or,Zt,{text:0})}}const Dr="/jext-reborn/assets/default_disk.59365372.png",un="/jext-reborn/assets/loading.9ab4977f.webp",fn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAFxnpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjarVdZkuQoDP3nFHMEkBDLcVgj5gZz/Hkshsyq6umqjrHDNinL4klPSKRq//zd1V84iLxWVnxw0TmNw0YbKWEQ9DrivBtt530dzzvzLlfnBUHEePL66dPWT5DL/eDYye9yFfYbCtuQOYbnwWPmMa6vICGnJTd2G4ptDVwM/hVq3oaKfXFpX/a6N4/xW70JPKJUBRMxUWPDet7DQsDjIk5DjrvmAD0zJcxR4SFstjEE5M2956nfAv0e/D1SH6N/Rh+CT2nL+UMs3cOa+/qFkQ9yPtPQ68R8ENH7i+S1/+TOvnqvofe2vEvWIaJuZ9QM9hOhoZgRcp6fOZwel2Ds5xlxBp10AeVVF51xFhMNIfpdGWuqSaabNp/FFEC01MjjSVSIpyywp0iFB092nKaT58iVA3gr1BSos0wHi5nzxjlfMQEzVwNVMjBmJv2/ONV/vfzJqXovI0RGhxMr4KKR14AxmBt3aIEQ0zdvMgP8nJt+/ZI/SFUwKDPMAQ4mnZeJLObmFk+eGXqC51pCRvm6DSBEmFsAxjAY0M6wGGe0R7UxBnEMICgBObGlDAaMCFWAJMvsSHnCksHc+MabqUtCjoYYtQlECDv24CZyAlnWCvLH24AcSsJiRcSJl6AkSnLsrBPnnHejyCXP3nrxznsffPQpcLBBggs+hBBDihQZNVCiiz6GGGNKpBImSrCVoJ8gyZQ52yzZZZ9DjjkVpE+xRYorvoQSS6pUuaJMVFd9DTXW1IxqqBTNNmmu+RZabKkj1zp326W77nvosafD2mb10/kD1sxmjSZTQ88f1iBV3j8mzCgnMjgDY2QNGPeDASQ0Dc50MNbSYG5wpiNhUQgBpAxuVDWDMVBomyHp5nB3mfsWb0rCt3ij3zGnBnX/B3MK1H3m7QvW6uhzZTK2VuGIqWasvtYpII8CcgCoxzhAt1MbA8rNlx6dnj+CRjWaCi1xpSNMfenWwFXJJ93C6IWPULcp7LFxOVKK1VgBWwjwGFhtirJLVukKW5wDgasvQqlTOIB2KksDraLJ+l5Zn+wj9dKXckbrT590A/YDR2gWgM7FhyFVUyw8QaeSj08hLv+TzdejZbE45P2DtC437Sj+zySy9AJK9aOW84JoY3UHNwrSFuZrT5UFsblYrkm7TOZYjy/ex/V51bH1GzraYlWw2PmqO79GckBFWZEfLflE7WHosqFMCY/UtTv9Rh+TN9fkIdMeWd1MdGXJ52sgPnJyvkR9uc+HzkyPttTNB5JNq4elWnY+Wg7hyfOm0xxlc4Pil/MS85kHpX3S75I7CeaRmWtyZEq4SOPvkKpfQf0pUvUrqN9EWh6kClDDDYD1G6pDITrqei+zRK/rCcK9+krsrG4W6pXrCMHjVvN515RoO3Zgp3xscSiNH6Hi2pe/KE/IzCcKZetGxOMYKGEXFVe6P6rNpFXYurXdnjgOs7sERW7uyIuZ5mI83KCg7EBUikjIm42y5SaWu0JzX+FEpjZ36HBrshbYbrxKP+6UcIODLrAToR4PUM/c4pxPBTbrJa7h2vbItqfS5vsx2WWxoIDlT7W6JC79IpL1GULV2q3VP4WpvsT5BzDVlzjRUh6idXe3V/FOCvyJOUI0xenaaFX5YmBZqlm38lj9+OS8e18pFxJiVJPbGWnRZ85ET/IlwpRn/rRThEy56zDWatTIkYhefqRmtyQx9UU11aclnWR6f6pRLp+ccygwdwHXp9ySjzdBn2VdDWa8FSitCpmxk7orqm7qbXMv69ftPk9c5YvoqS/D+Sm8WP7P3sJ2NKlHblZ4W2aVbn5I2hlXXjLzu/jUN/B8C596B3jxtbyTYmwuT/fvi7xsbrPunGRuIqRlbNKu3MpSLhYbplM29lKpnG7yYqO+F2S5q7+Vrepem0XbHYT5brKWV0mHd5jqS5x/AFN9ifOnMLl3VSP+R/wLwQRCBdriyuEAAAGFaUNDUElDQyBwcm9maWxlAAB4nH2RPUjDUBSFT1ulpVQc2kHEIUPVxYKoiKNWoQgVQq3QqoPJS/+gSUOS4uIouBYc/FmsOrg46+rgKgiCPyCOTk6KLlLifUmhRYwPLu/jvHcO990H+JtVppo944CqWUYmlRRy+VUh+IowQlSjiErM1OdEMQ3P9XUPH9/vEjzL+96fq08pmAzwCcSzTDcs4g3i6U1L57xPHGNlSSE+Jx4zqEHiR67LLr9xLjns55kxI5uZJ44RC6UulruYlQ2VeIo4rqga5ftzLiuctzir1Tpr98lfGCloK8tcpxpCCotYgggBMuqooAoLCdo1Ukxk6Dzp4R90/CK5ZHJVwMixgBpUSI4f/A9+z9YsTk64SZEk0Pti2x/DQHAXaDVs+/vYtlsnQOAZuNI6/loTmPkkvdHR4kdA/zZwcd3R5D3gcgcYeNIlQ3KkAJW/WATez+ib8kD0FgivuXNrn+P0AcjSrNI3wMEhMFKi7HWPd4e65/bvnfb8fgBGIXKVL4xNQwAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+YKCAonM+tPNNQAAAELSURBVBjTNcE9SAJhAIDh9w5L+gSRMDUlIeiHhhAuTAocg6CWNgfnoKGIppaWyCgaAt1CCCvhIBCqrSCEIi4olKvxKjuzHBpEkA6PsKnnkfKPh50VY5UpobDgTRJ1RbkQR1iNNuVbA2ksM9KZVCYwmy+M90Z41aoMzfXRqlgs+zaQw4qH4v41PzmbYfcoLqebwtoVT1kDIQRyV7eTTltCU0s8W/c0glXM8zpvZpVscw9H3DlD/1KQyG6MnfVtpF+ZG71I6jLFp1zDESKAVnngJHfMx9k3AMmeBLObcRL2InLYM4hPBNDUEv/eT+tYNZv0XRo53zogFBf4p71k9C0KZZWBeR+G/oU/JvgD3DRc8fJrLSwAAAAASUVORK5CYII=",Tr="/jext-reborn/assets/chest.dc4b25ff.png",Pr="/jext-reborn/assets/delete_btn.871175bc.png",Lr="/jext-reborn/assets/delete_btn_hover.386c7405.png";function Wt(i,{delay:e=0,duration:t=400,easing:o=Ee}={}){const r=+getComputedStyle(i).opacity;return{delay:e,duration:t,easing:o,css:n=>`opacity: ${n*r}`}}function jr(i){return{c:lt,m:lt,p:lt,i:lt,o:lt,d:lt}}function Ur(i){let e;function t(n,s){return n[0]?Wr:Nr}let o=t(i),r=o(i);return{c(){r.c(),e=Ut()},m(n,s){r.m(n,s),at(n,e,s)},p(n,s){o===(o=t(n))&&r?r.p(n,s):(r.d(1),r=o(n),r&&(r.c(),ct(r,1),r.m(e.parentNode,e)))},i(n){ct(r)},o:lt,d(n){r.d(n),n&&st(e)}}}function Nr(i){let e,t,o,r,n,s,l,c,f;return{c(){e=et("div"),t=et("img"),r=mt(),n=et("p"),s=It(i[2]),wt(t.src,o=i[1])||T(t,"src",o),T(t,"alt",i[2]),T(t,"class","svelte-72nmcc"),T(e,"class","svelte-72nmcc")},m(m,p){at(m,e,p),tt(e,t),tt(e,r),tt(e,n),tt(n,s),c||(f=[ot(e,"click",function(){Tt(i[3])&&i[3].apply(this,arguments)}),ot(e,"keydown",null)],c=!0)},p(m,p){i=m,p&2&&!wt(t.src,o=i[1])&&T(t,"src",o),p&4&&T(t,"alt",i[2]),p&4&&Mt(s,i[2])},i(m){l||Bt(()=>{l=_e(e,Wt,{}),l.start()})},o:lt,d(m){m&&st(e),c=!1,bt(f)}}}function Wr(i){let e,t,o,r,n,s,l,c,f;return{c(){e=et("div"),t=et("img"),r=mt(),n=et("p"),s=It(i[2]),wt(t.src,o=i[6])||T(t,"src",o),T(t,"alt",i[2]),T(t,"class","svelte-72nmcc"),T(e,"class","selected svelte-72nmcc")},m(m,p){at(m,e,p),tt(e,t),tt(e,r),tt(e,n),tt(n,s),c||(f=[ot(e,"click",function(){Tt(i[3])&&i[3].apply(this,arguments)}),ot(e,"keydown",null)],c=!0)},p(m,p){i=m,p&4&&T(t,"alt",i[2]),p&4&&Mt(s,i[2])},i(m){l||Bt(()=>{l=_e(e,Wt,{}),l.start()})},o:lt,d(m){m&&st(e),c=!1,bt(f)}}}function Zr(i){let e;function t(n,s){return n[0]?Gr:Mr}let o=t(i),r=o(i);return{c(){r.c(),e=Ut()},m(n,s){r.m(n,s),at(n,e,s)},p(n,s){o===(o=t(n))&&r?r.p(n,s):(r.d(1),r=o(n),r&&(r.c(),ct(r,1),r.m(e.parentNode,e)))},i(n){ct(r)},o:lt,d(n){r.d(n),n&&st(e)}}}function Mr(i){let e,t,o,r,n,s,l,c,f;return{c(){e=et("div"),t=et("img"),r=mt(),n=et("p"),s=It(i[2]),wt(t.src,o=i[1])||T(t,"src",o),T(t,"alt",i[2]),T(t,"class","svelte-72nmcc"),T(e,"class","svelte-72nmcc")},m(m,p){at(m,e,p),tt(e,t),tt(e,r),tt(e,n),tt(n,s),c||(f=[ot(e,"click",function(){Tt(i[3])&&i[3].apply(this,arguments)}),ot(e,"keydown",null)],c=!0)},p(m,p){i=m,p&2&&!wt(t.src,o=i[1])&&T(t,"src",o),p&4&&T(t,"alt",i[2]),p&4&&Mt(s,i[2])},i(m){l||Bt(()=>{l=_e(e,Wt,{}),l.start()})},o:lt,d(m){m&&st(e),c=!1,bt(f)}}}function Gr(i){let e,t,o,r,n,s,l,c,f;return{c(){e=et("div"),t=et("img"),r=mt(),n=et("p"),s=It(i[2]),wt(t.src,o=un)||T(t,"src",o),T(t,"alt",i[2]),T(t,"class","svelte-72nmcc"),T(e,"class","selected svelte-72nmcc")},m(m,p){at(m,e,p),tt(e,t),tt(e,r),tt(e,n),tt(n,s),c||(f=[ot(e,"click",function(){Tt(i[3])&&i[3].apply(this,arguments)}),ot(e,"keydown",null)],c=!0)},p(m,p){i=m,p&4&&T(t,"alt",i[2]),p&4&&Mt(s,i[2])},i(m){l||Bt(()=>{l=_e(e,Wt,{}),l.start()})},o:lt,d(m){m&&st(e),c=!1,bt(f)}}}function Vr(i){let e,t={ctx:i,current:null,token:null,hasCatch:!1,pending:Zr,then:Ur,catch:jr,value:6};return Be(i[4],t),{c(){e=Ut(),t.block.c()},m(o,r){at(o,e,r),t.block.m(o,t.anchor=r),t.mount=()=>e.parentNode,t.anchor=e},p(o,[r]){i=o,xe(t,i,r)},i(o){ct(t.block)},o:lt,d(o){o&&st(e),t.block.d(o),t.token=null,t=null}}}function Hr(i,e,t){let{value:o=!1}=e,{image:r}=e,{name:n}=e,{onClick:s=()=>{}}=e;const c=(async f=>{const p=await(await fetch(f)).blob();return URL.createObjectURL(p)})(r);return i.$$set=f=>{"value"in f&&t(0,o=f.value),"image"in f&&t(1,r=f.image),"name"in f&&t(2,n=f.name),"onClick"in f&&t(3,s=f.onClick)},[o,r,n,s,c]}class Kr extends Vt{constructor(e){super(),Gt(this,e,Hr,Vr,Zt,{value:0,image:1,name:2,onClick:3})}}const dn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA0UlEQVR42nWSsQ1CMQxEvQ4rINFR0SOBxAgpaRgA/Q3YhelAF+mi9+/nF1YS2zn7zq7v+/H7tEu31/XYbea7nw6ruM/SRYlM0HtZluEzIO+KycporsI3qzGHeSW01tpwsJukkl0MAAcV0GdyJ6AKpa/cVlZyq9SG9yFicpR4TKDipOmzMjnH525m/g6QTp5uOT8zNt2D5J68SaVyPORsYPtJxVrVjBcraHSkwDH3TUxnguyZu1pRkD1v541wpjHb0MokKkz+WWgDkDtgkfbm7wJ/9oUoq3qXqFkAAAAASUVORK5CYII=",Le=new Map([[4,"1.14 - 1.14.4"],[5,"1.15 - 1.16.1"],[6,"1.16.2-1.16.5"],[7,"1.17 - 1.17.1"],[8,"1.18 - 1.18.2"],[9,"1.19 - 1.19.2"]]),je=[{source:"chests/ancient_city,chests/ancient_city_ice_box",img:"loottable_icons/Ancient_City.webp",name:"Ancient City",minVersion:9},{source:"chests/bastion_bridge,chests/bastion_hoglin_treasure,chests/bastion_other,chests/bastion_treasure",img:"loottable_icons/Bastion_Remnant.webp",name:"Bastion Remnant",minVersion:5},{source:"chests/desert_pyramid",img:"loottable_icons/Desert_pyramid.webp",name:"Desert Pyramid",minVersion:4},{source:"chests/simple_dungeon",img:"loottable_icons/Dungeon.webp",name:"Dungeon",minVersion:4},{source:"chests/end_city_treasure",img:"loottable_icons/End_City.webp",name:"End City",minVersion:4},{source:"chests/igloo_chest",img:"loottable_icons/Igloo.webp",name:"Igloo",minVersion:4},{source:"chests/jungle_temple",img:"loottable_icons/Jungle_pyramid.webp",name:"Jungle Temple",minVersion:4},{source:"chests/nether_bridge",img:"loottable_icons/Nether_Fortress.webp",name:"Nether Fortress",minVersion:4},{source:"chests/ruined_portal",img:"loottable_icons/Nether_portal.webp",name:"Ruined Portal",minVersion:5},{source:"chests/pillager_outpost",img:"loottable_icons/Pillager_outpost.webp",name:"Pillager Outpost",minVersion:4},{source:"chests/shipwreck_map,chests/shipwreck_supply,chests/shipwreck_treasure",img:"loottable_icons/Shipwreck.webp",name:"Shipwreck",minVersion:4},{source:"chests/stronghold_corridor,chests/stronghold_crossing",img:"loottable_icons/Stronghold.webp",name:"Stronghold",minVersion:4},{source:"chests/underwater_ruin_big,chests/underwater_ruin_small",img:"loottable_icons/Underwater_ruin.webp",name:"Underwater Ruins",minVersion:4},{source:"chests/village/village_plains_house,chests/village/village_savanna_house,chests/village/village_desert_house,chests/village/village_snowy_house,chests/village/village_taiga_house",img:"loottable_icons/Village.webp",name:"Village",minVersion:4},{source:"chests/woodland_mansion",img:"loottable_icons/Woodland_Mansion.webp",name:"Woodland Mansion",minVersion:4},{source:"chests/abandoned_mineshaft",img:"loottable_icons/Mineshaft.webp",name:"Mineshaft",minVersion:4}];function Ue(i,e,t){const o=i.slice();return o[6]=e[t],o}function Ne(i){let e,t,o,r,n,s,l,c=je,f=[];for(let p=0;p<c.length;p+=1)f[p]=Ze(Ue(i,c,p));const m=p=>_t(f[p],1,1,()=>{f[p]=null});return{c(){e=et("div"),t=et("div");for(let p=0;p<f.length;p+=1)f[p].c();o=mt(),r=et("div"),r.innerHTML='<div id="content" class="svelte-1m5gm3z"><p id="generate_text" class="noselect svelte-1m5gm3z">OK</p></div>',T(t,"class","popupcontainer svelte-1m5gm3z"),T(r,"id","messagepopupconfirm"),T(r,"class","popupconfirm svelte-1m5gm3z"),T(e,"class","popup svelte-1m5gm3z")},m(p,y){at(p,e,y),tt(e,t);for(let h=0;h<f.length;h+=1)f[h].m(t,null);tt(e,o),tt(e,r),n=!0,s||(l=[ot(r,"click",i[4]),ot(r,"keydown",null)],s=!0)},p(p,y){if(y&13){c=je;let h;for(h=0;h<c.length;h+=1){const v=Ue(p,c,h);f[h]?(f[h].p(v,y),ct(f[h],1)):(f[h]=Ze(v),f[h].c(),ct(f[h],1),f[h].m(t,null))}for(Kt(),h=c.length;h<f.length;h+=1)m(h);qt()}},i(p){if(!n){for(let y=0;y<c.length;y+=1)ct(f[y]);n=!0}},o(p){f=f.filter(Boolean);for(let y=0;y<f.length;y+=1)_t(f[y]);n=!1},d(p){p&&st(e),ze(f,p),s=!1,bt(l)}}}function We(i){let e,t;function o(){return i[5](i[6])}return e=new Kr({props:{image:i[6].img,name:i[6].name,value:i[0].includes(i[6].source),onClick:o}}),{c(){Rt(e.$$.fragment)},m(r,n){Ct(e,r,n),t=!0},p(r,n){i=r;const s={};n&1&&(s.value=i[0].includes(i[6].source)),e.$set(s)},i(r){t||(ct(e.$$.fragment,r),t=!0)},o(r){_t(e.$$.fragment,r),t=!1},d(r){zt(e,r)}}}function Ze(i){let e,t,o=i[6].minVersion&&i[6].minVersion<=i[2]&&We(i);return{c(){o&&o.c(),e=Ut()},m(r,n){o&&o.m(r,n),at(r,e,n),t=!0},p(r,n){r[6].minVersion&&r[6].minVersion<=r[2]?o?(o.p(r,n),n&4&&ct(o,1)):(o=We(r),o.c(),ct(o,1),o.m(e.parentNode,e)):o&&(Kt(),_t(o,1,1,()=>{o=null}),qt())},i(r){t||(ct(o),t=!0)},o(r){_t(o),t=!1},d(r){o&&o.d(r),r&&st(e)}}}function qr(i){let e,t,o,r,n,s,l,c=i[1]&&Ne(i);return{c(){e=et("div"),o=mt(),c&&c.c(),r=Ut(),T(e,"class","popupbackground svelte-1m5gm3z"),ge(e,"background-image","url("+dn+")")},m(f,m){at(f,e,m),at(f,o,m),c&&c.m(f,m),at(f,r,m),n=!0,s||(l=[ot(e,"click",i[4]),ot(e,"keydown",null)],s=!0)},p(f,[m]){f[1]?c?(c.p(f,m),m&2&&ct(c,1)):(c=Ne(f),c.c(),ct(c,1),c.m(r.parentNode,r)):c&&(Kt(),_t(c,1,1,()=>{c=null}),qt())},i(f){n||(Bt(()=>{t||(t=me(e,Wt,{},!0)),t.run(1)}),ct(c),n=!0)},o(f){t||(t=me(e,Wt,{},!1)),t.run(0),_t(c),n=!1},d(f){f&&st(e),f&&t&&t.end(),f&&st(o),c&&c.d(f),f&&st(r),s=!1,bt(l)}}}function Yr(i,e,t){let{selectedDungeons:o=[]}=e,{version:r}=e,{closePopup:n}=e;const s=f=>{o.includes(f)?t(0,o=o.filter(m=>m!=f)):t(0,o=[...o,f])},l=()=>{t(1,n=!1),document.querySelector(".popup").style.display="none"},c=f=>s(f.source);return i.$$set=f=>{"selectedDungeons"in f&&t(0,o=f.selectedDungeons),"version"in f&&t(2,r=f.version),"closePopup"in f&&t(1,n=f.closePopup)},[o,n,r,s,l,c]}class Jr extends Vt{constructor(e){super(),Gt(this,e,Yr,qr,Zt,{selectedDungeons:0,version:2,closePopup:1})}}function Me(i){let e,t,o,r,n;function s(m){i[13](m)}function l(m){i[14](m)}function c(m){i[15](m)}let f={};return i[0].lootTables!==void 0&&(f.selectedDungeons=i[0].lootTables),i[1]!==void 0&&(f.version=i[1]),i[4]!==void 0&&(f.closePopup=i[4]),e=new Jr({props:f}),kt.push(()=>Et(e,"selectedDungeons",s)),kt.push(()=>Et(e,"version",l)),kt.push(()=>Et(e,"closePopup",c)),{c(){Rt(e.$$.fragment)},m(m,p){Ct(e,m,p),n=!0},p(m,p){const y={};!t&&p&1&&(t=!0,y.selectedDungeons=m[0].lootTables,St(()=>t=!1)),!o&&p&2&&(o=!0,y.version=m[1],St(()=>o=!1)),!r&&p&16&&(r=!0,y.closePopup=m[4],St(()=>r=!1)),e.$set(y)},i(m){n||(ct(e.$$.fragment,m),n=!0)},o(m){_t(e.$$.fragment,m),n=!1},d(m){zt(e,m)}}}function Xr(i){return{c:lt,m:lt,p:lt,i:lt,o:lt,d:lt}}function Qr(i){let e,t,o,r,n,s,l,c,f,m,p,y,h,v,d,_,g,b,S,I,C,N,L,j;t=new ne({props:{text:"Changes the disc icon",$$slots:{default:[$r]},$$scope:{ctx:i}}}),s=new ne({props:{text:"Toggles Creeper drops",$$slots:{default:[ni]},$$scope:{ctx:i}}}),f=new ne({props:{text:"Selects structures in which the disc can be found",$$slots:{default:[ri]},$$scope:{ctx:i}}}),y=new ne({props:{text:"Removes the disc",$$slots:{default:[oi]},$$scope:{ctx:i}}});function D(k,O){return k[0].namespace.length>90?li:ai}let M=D(i),G=M(i);return{c(){e=et("div"),Rt(t.$$.fragment),o=mt(),r=et("div"),n=et("div"),Rt(s.$$.fragment),l=mt(),c=et("div"),Rt(f.$$.fragment),m=mt(),p=et("div"),Rt(y.$$.fragment),h=mt(),v=et("div"),d=et("input"),_=mt(),g=et("input"),b=mt(),S=et("p"),G.c(),I=mt(),C=et("textarea"),T(n,"id","wrapper"),T(n,"class","svelte-12gqr3a"),T(c,"id","wrapper"),T(c,"class","svelte-12gqr3a"),T(p,"id","wrapper"),T(p,"class","svelte-12gqr3a"),T(r,"id","buttons"),T(r,"class","svelte-12gqr3a"),T(e,"id","icons"),T(e,"class","svelte-12gqr3a"),T(d,"type","text"),T(d,"name","song_name"),T(d,"id","song_name_input"),T(d,"class","svelte-12gqr3a"),T(g,"type","text"),T(g,"name","song_author"),T(g,"id","song_author_input"),T(g,"class","svelte-12gqr3a"),T(S,"id","disknamespace"),T(S,"class","svelte-12gqr3a"),T(v,"id","names"),T(v,"class","svelte-12gqr3a"),T(C,"name","song_lore"),T(C,"id","song_lore_input"),T(C,"cols","30"),T(C,"rows","6"),T(C,"class","svelte-12gqr3a")},m(k,O){at(k,e,O),Ct(t,e,null),tt(e,o),tt(e,r),tt(r,n),Ct(s,n,null),tt(r,l),tt(r,c),Ct(f,c,null),tt(r,m),tt(r,p),Ct(y,p,null),at(k,h,O),at(k,v,O),tt(v,d),Nt(d,i[0].name),tt(v,_),tt(v,g),Nt(g,i[0].author),tt(v,b),tt(v,S),G.m(S,null),at(k,I,O),at(k,C,O),Nt(C,i[0].lores),N=!0,L||(j=[ot(d,"input",i[16]),ot(d,"input",i[5]),ot(g,"input",i[17]),ot(g,"input",i[5]),ot(C,"input",i[18])],L=!0)},p(k,O){const u={};O&4194305&&(u.$$scope={dirty:O,ctx:k}),t.$set(u);const P={};O&4194305&&(P.$$scope={dirty:O,ctx:k}),s.$set(P);const Q={};O&4194304&&(Q.$$scope={dirty:O,ctx:k}),f.$set(Q);const W={};O&4194316&&(W.$$scope={dirty:O,ctx:k}),y.$set(W),O&1&&d.value!==k[0].name&&Nt(d,k[0].name),O&1&&g.value!==k[0].author&&Nt(g,k[0].author),M===(M=D(k))&&G?G.p(k,O):(G.d(1),G=M(k),G&&(G.c(),G.m(S,null))),O&1&&Nt(C,k[0].lores)},i(k){N||(ct(t.$$.fragment,k),ct(s.$$.fragment,k),ct(f.$$.fragment,k),ct(y.$$.fragment,k),N=!0)},o(k){_t(t.$$.fragment,k),_t(s.$$.fragment,k),_t(f.$$.fragment,k),_t(y.$$.fragment,k),N=!1},d(k){k&&st(e),zt(t),zt(s),zt(f),zt(y),k&&st(h),k&&st(v),G.d(),k&&st(I),k&&st(C),L=!1,bt(j)}}}function $r(i){let e,t,o,r;return{c(){e=et("img"),T(e,"id","disc_texture"),wt(e.src,t=URL.createObjectURL(i[0].texture))||T(e,"src",t),T(e,"height","64"),T(e,"width","64"),T(e,"alt","disc icon"),T(e,"class","svelte-12gqr3a")},m(n,s){at(n,e,s),o||(r=[ot(e,"click",i[10]),ot(e,"keydown",null)],o=!0)},p(n,s){s&1&&!wt(e.src,t=URL.createObjectURL(n[0].texture))&&T(e,"src",t)},d(n){n&&st(e),o=!1,bt(r)}}}function ti(i){let e,t,o,r;return{c(){e=et("img"),T(e,"id","toggle_creeper"),wt(e.src,t=fn)||T(e,"src",t),T(e,"alt","creeper icon"),T(e,"class","svelte-12gqr3a")},m(n,s){at(n,e,s),o||(r=[ot(e,"click",i[8]),ot(e,"keydown",null)],o=!0)},p:lt,d(n){n&&st(e),o=!1,bt(r)}}}function ei(i){let e,t,o,r;return{c(){e=et("img"),T(e,"id","toggle_creeper"),wt(e.src,t=fn)||T(e,"src",t),T(e,"alt","creeper icon"),T(e,"class","grayscale svelte-12gqr3a")},m(n,s){at(n,e,s),o||(r=[ot(e,"click",i[8]),ot(e,"keydown",null)],o=!0)},p:lt,d(n){n&&st(e),o=!1,bt(r)}}}function ni(i){let e;function t(n,s){return n[0].creeperDrop?ti:ei}let o=t(i),r=o(i);return{c(){r.c(),e=Ut()},m(n,s){r.m(n,s),at(n,e,s)},p(n,s){o===(o=t(n))&&r?r.p(n,s):(r.d(1),r=o(n),r&&(r.c(),r.m(e.parentNode,e)))},d(n){r.d(n),n&&st(e)}}}function ri(i){let e,t,o,r;return{c(){e=et("img"),T(e,"id","loot_selector"),wt(e.src,t=Tr)||T(e,"src",t),T(e,"alt","chest icon"),T(e,"class","svelte-12gqr3a")},m(n,s){at(n,e,s),o||(r=[ot(e,"click",i[11]),ot(e,"keydown",null)],o=!0)},p:lt,d(n){n&&st(e),o=!1,bt(r)}}}function ii(i){let e,t,o,r;return{c(){e=et("img"),T(e,"id","song_delete"),wt(e.src,t=Lr)||T(e,"src",t),T(e,"alt","delete icon"),T(e,"class","svelte-12gqr3a")},m(n,s){at(n,e,s),o||(r=[ot(e,"mouseleave",i[9]),ot(e,"click",function(){Tt(i[2])&&i[2].apply(this,arguments)}),ot(e,"keydown",null)],o=!0)},p(n,s){i=n},d(n){n&&st(e),o=!1,bt(r)}}}function si(i){let e,t,o,r;return{c(){e=et("img"),T(e,"id","song_delete"),wt(e.src,t=Pr)||T(e,"src",t),T(e,"alt","delete icon"),T(e,"class","svelte-12gqr3a")},m(n,s){at(n,e,s),o||(r=[ot(e,"mouseenter",i[9]),ot(e,"click",function(){Tt(i[2])&&i[2].apply(this,arguments)}),ot(e,"keydown",null)],o=!0)},p(n,s){i=n},d(n){n&&st(e),o=!1,bt(r)}}}function oi(i){let e;function t(n,s){return n[3]?ii:si}let o=t(i),r=o(i);return{c(){r.c(),e=Ut()},m(n,s){r.m(n,s),at(n,e,s)},p(n,s){o===(o=t(n))&&r?r.p(n,s):(r.d(1),r=o(n),r&&(r.c(),r.m(e.parentNode,e)))},d(n){r.d(n),n&&st(e)}}}function ai(i){let e=i[0].namespace+"",t;return{c(){t=It(e)},m(o,r){at(o,t,r)},p(o,r){r&1&&e!==(e=o[0].namespace+"")&&Mt(t,e)},d(o){o&&st(t)}}}function li(i){let e=i[0].namespace.substring(0,90)+"",t,o;return{c(){t=It(e),o=It("...")},m(r,n){at(r,t,n),at(r,o,n)},p(r,n){n&1&&e!==(e=r[0].namespace.substring(0,90)+"")&&Mt(t,e)},d(r){r&&st(t),r&&st(o)}}}function ci(i){let e,t={ctx:i,current:null,token:null,hasCatch:!1,pending:di,then:fi,catch:ui,value:21};return Be(i[7],t),{c(){e=Ut(),t.block.c()},m(o,r){at(o,e,r),t.block.m(o,t.anchor=r),t.mount=()=>e.parentNode,t.anchor=e},p(o,r){i=o,xe(t,i,r)},i:lt,o:lt,d(o){o&&st(e),t.block.d(o),t.token=null,t=null}}}function ui(i){return{c:lt,m:lt,p:lt,d:lt}}function fi(i){let e,t,o;return{c(){e=et("div"),t=et("img"),wt(t.src,o=un)||T(t,"src",o),T(t,"alt","loading"),T(t,"class","svelte-12gqr3a"),T(e,"id","loading"),T(e,"class","svelte-12gqr3a")},m(r,n){at(r,e,n),tt(e,t)},p:lt,d(r){r&&st(e)}}}function di(i){let e;return{c(){e=et("div"),e.innerHTML='<img src="" alt="loading" class="svelte-12gqr3a"/>',T(e,"id","loading"),T(e,"class","svelte-12gqr3a")},m(t,o){at(t,e,o)},p:lt,d(t){t&&st(e)}}}function hi(i){let e,t,o,r=i[4]&&Me(i),n={ctx:i,current:null,token:null,hasCatch:!1,pending:ci,then:Qr,catch:Xr,value:21,blocks:[,,,]};return Be(i[6],n),{c(){r&&r.c(),e=mt(),t=et("div"),n.block.c(),T(t,"id","song"),T(t,"class","svelte-12gqr3a")},m(s,l){r&&r.m(s,l),at(s,e,l),at(s,t,l),n.block.m(t,n.anchor=null),n.mount=()=>t,n.anchor=null,o=!0},p(s,[l]){i=s,i[4]?r?(r.p(i,l),l&16&&ct(r,1)):(r=Me(i),r.c(),ct(r,1),r.m(e.parentNode,e)):r&&(Kt(),_t(r,1,1,()=>{r=null}),qt()),xe(n,i,l)},i(s){o||(ct(r),ct(n.block),o=!0)},o(s){_t(r);for(let l=0;l<3;l+=1){const c=n.blocks[l];_t(c)}o=!1},d(s){r&&r.d(s),s&&st(e),s&&st(t),n.block.d(),n.token=null,n=null}}}function pi(i,e,t){let{song:o}=e,{id:r}=e,{version:n}=e,{onRemove:s=()=>{}}=e;const l=()=>{t(0,o.namespace=`${o.name}${o.author}${r}`.replace(/[^a-zA-Z0-9]/g,"").replaceAll("1","one").replaceAll("2","two").replaceAll("3","three").replaceAll("4","four").replaceAll("5","five").replaceAll("6","six").replaceAll("7","seven").replaceAll("8","eight").replaceAll("9","nine").replaceAll("0","zero").toLowerCase(),o)},c=async()=>{const j=o.uploadedFile.name.replace(/(\.mp3)|(\.ogg)|(\.wav)/g,"").split(/ ?- ?/g);j.length>=1&&t(0,o.name=j.shift(),o),j.length>=1&&t(0,o.author=j.join(),o),l(),t(0,o.oggFile=await Cr(o.uploadedFile),o),t(0,o.monoFile=await zr(o.oggFile),o),t(0,o.texture=await(await fetch(Dr)).blob(),o)},f=async()=>await new Promise(j=>{setTimeout(()=>{j()},1)}),m=c(),p=f(),y=()=>{t(0,o.creeperDrop=!o.creeperDrop,o)};let h=!1;const v=()=>{t(3,h=!h)},d=()=>{const j=document.createElement("input");j.type="file",j.accept="image/*",j.addEventListener("change",()=>{const D=j.files[0];D&&t(0,o.texture=D,o)}),j.click()};let _=!1;const g=()=>{t(4,_=!0)};function b(j){i.$$.not_equal(o.lootTables,j)&&(o.lootTables=j,t(0,o))}function S(j){n=j,t(1,n)}function I(j){_=j,t(4,_)}function C(){o.name=this.value,t(0,o)}function N(){o.author=this.value,t(0,o)}function L(){o.lores=this.value,t(0,o)}return i.$$set=j=>{"song"in j&&t(0,o=j.song),"id"in j&&t(12,r=j.id),"version"in j&&t(1,n=j.version),"onRemove"in j&&t(2,s=j.onRemove)},[o,n,s,h,_,l,m,p,y,v,d,g,r,b,S,I,C,N,L]}class mi extends Vt{constructor(e){super(),Gt(this,e,pi,hi,Zt,{song:0,id:12,version:1,onRemove:2})}}function Ge(i,e,t){const o=i.slice();return o[7]=e[t],o[8]=e,o[9]=t,o}function Ve(i){let e,t,o,r;function n(){return i[4](i[7])}function s(f){i[5](f,i[7],i[8],i[9])}function l(f){i[6](f)}let c={id:i[9],onRemove:n};return i[7]!==void 0&&(c.song=i[7]),i[1]!==void 0&&(c.version=i[1]),e=new mi({props:c}),kt.push(()=>Et(e,"song",s)),kt.push(()=>Et(e,"version",l)),{c(){Rt(e.$$.fragment)},m(f,m){Ct(e,f,m),r=!0},p(f,m){i=f;const p={};m&1&&(p.onRemove=n),!t&&m&1&&(t=!0,p.song=i[7],St(()=>t=!1)),!o&&m&2&&(o=!0,p.version=i[1],St(()=>o=!1)),e.$set(p)},i(f){r||(ct(e.$$.fragment,f),r=!0)},o(f){_t(e.$$.fragment,f),r=!1},d(f){zt(e,f)}}}function gi(i){let e,t,o,r,n,s,l,c,f,m=i[0],p=[];for(let h=0;h<m.length;h+=1)p[h]=Ve(Ge(i,m,h));const y=h=>_t(p[h],1,1,()=>{p[h]=null});return{c(){e=et("div"),t=et("div");for(let h=0;h<p.length;h+=1)p[h].c();o=mt(),r=et("hr"),n=mt(),s=et("div"),s.innerHTML='<h1 class="noselect svelte-15f98v0">+</h1>',T(t,"id","songscontainer"),T(r,"class","hidden"),T(s,"id","addsongsbtn"),T(s,"class","svelte-15f98v0"),T(e,"id","content"),T(e,"class","svelte-15f98v0")},m(h,v){at(h,e,v),tt(e,t);for(let d=0;d<p.length;d+=1)p[d].m(t,null);tt(e,o),tt(e,r),tt(e,n),tt(e,s),l=!0,c||(f=[ot(s,"click",i[2]),ot(s,"keydown",null)],c=!0)},p(h,[v]){if(v&11){m=h[0];let d;for(d=0;d<m.length;d+=1){const _=Ge(h,m,d);p[d]?(p[d].p(_,v),ct(p[d],1)):(p[d]=Ve(_),p[d].c(),ct(p[d],1),p[d].m(t,null))}for(Kt(),d=m.length;d<p.length;d+=1)y(d);qt()}},i(h){if(!l){for(let v=0;v<m.length;v+=1)ct(p[v]);l=!0}},o(h){p=p.filter(Boolean);for(let v=0;v<p.length;v+=1)_t(p[v]);l=!1},d(h){h&&st(e),ze(p,h),c=!1,bt(f)}}}function _i(i,e,t){let{discData:o=[]}=e,{version:r}=e;const n=()=>{const m=document.createElement("input");m.type="file",m.multiple=!0,m.accept="audio/*",m.click(),m.addEventListener("change",async()=>{if(!m.files||m.files.length===0)return;const p=[];for(let y=0;y<m.files.length;y++)p.push({uploadedFile:m.files[y],name:"Disc Name",author:"Disc Author",lores:`This is the lore of the disc

You can have multiple lines

If you don't want any lores you can leave this empty`,texture:null,creeperDrop:!0,lootTables:[],monoFile:null,namespace:"",oggFile:null});t(0,o=[...o,...p])})},s=m=>{t(0,o=o.filter(p=>p!=m))},l=m=>s(m);function c(m,p,y,h){y[h]=m,t(0,o)}function f(m){r=m,t(1,r)}return i.$$set=m=>{"discData"in m&&t(0,o=m.discData),"version"in m&&t(1,r=m.version)},[o,r,n,s,l,c,f]}class bi extends Vt{constructor(e){super(),Gt(this,e,_i,gi,Zt,{discData:0,version:1})}}const hn="/jext-reborn/assets/pack_icon.57c0be34.png";function He(i,e,t){const o=i.slice();return o[9]=e[t][0],o[10]=e[t][1],o}function vi(i){let e,t,o,r;return{c(){e=et("img"),wt(e.src,t=hn)||T(e,"src",t),T(e,"alt","pack icon"),T(e,"id","pack_icon"),T(e,"class","noselect svelte-1577ojo")},m(n,s){at(n,e,s),o||(r=[ot(e,"click",i[3]),ot(e,"keypress",null)],o=!0)},p:lt,d(n){n&&st(e),o=!1,bt(r)}}}function Ke(i){let e,t=i[10]+"",o;return{c(){e=et("option"),o=It(t),e.__value=i[9],e.value=e.__value},m(r,n){at(r,e,n),tt(e,o)},p:lt,d(r){r&&st(e)}}}function yi(i){let e,t,o,r,n,s,l,c,f,m,p,y,h,v,d;t=new ne({props:{text:"Sets the resourcepack icon",$$slots:{default:[vi]},$$scope:{ctx:i}}});let _=[...Le],g=[];for(let b=0;b<_.length;b+=1)g[b]=Ke(He(i,_,b));return{c(){e=et("div"),Rt(t.$$.fragment),o=mt(),r=et("input"),n=mt(),s=et("input"),l=mt(),c=et("select");for(let b=0;b<g.length;b+=1)g[b].c();f=mt(),m=et("input"),p=mt(),y=et("label"),y.textContent="Use mono audio",T(r,"type","file"),T(r,"name","pack_icon"),T(r,"id","pack_icon_input"),T(r,"class","hidden"),T(r,"accept","image/png"),T(s,"type","text"),T(s,"name","pack_name"),T(s,"id","pack_name_input"),T(s,"class","svelte-1577ojo"),T(c,"name","version"),T(c,"id","version_input"),T(c,"class","svelte-1577ojo"),i[1]===void 0&&Bt(()=>i[7].call(c)),T(m,"type","checkbox"),T(m,"name","useMono"),T(m,"id","useMono"),T(m,"class","svelte-1577ojo"),T(y,"for","useMono"),T(y,"class","svelte-1577ojo"),T(e,"id","header"),T(e,"class","svelte-1577ojo")},m(b,S){at(b,e,S),Ct(t,e,null),tt(e,o),tt(e,r),tt(e,n),tt(e,s),Nt(s,i[0]),tt(e,l),tt(e,c);for(let I=0;I<g.length;I+=1)g[I].m(c,null);Te(c,i[1]),tt(e,f),tt(e,m),m.checked=i[2],tt(e,p),tt(e,y),h=!0,v||(d=[ot(s,"input",i[6]),ot(s,"input",i[4]),ot(c,"change",i[7]),ot(m,"change",i[8])],v=!0)},p(b,[S]){const I={};if(S&8192&&(I.$$scope={dirty:S,ctx:b}),t.$set(I),S&1&&s.value!==b[0]&&Nt(s,b[0]),S&0){_=[...Le];let C;for(C=0;C<_.length;C+=1){const N=He(b,_,C);g[C]?g[C].p(N,S):(g[C]=Ke(N),g[C].c(),g[C].m(c,null))}for(;C<g.length;C+=1)g[C].d(1);g.length=_.length}S&2&&Te(c,b[1]),S&4&&(m.checked=b[2])},i(b){h||(ct(t.$$.fragment,b),h=!0)},o(b){_t(t.$$.fragment,b),h=!1},d(b){b&&st(e),zt(t),ze(g,b),v=!1,bt(d)}}}function wi(i,e,t){let{packname:o="your_pack_name"}=e,{version:r=9}=e,{imagesrc:n=hn}=e,{useMono:s=!0}=e;const l=()=>{var y;(y=document.querySelector("#pack_icon_input"))==null||y.addEventListener("change",()=>{const h=document.querySelector("#pack_icon_input").files;if(!h||h.length===0)return;const v=h[0],d=new FileReader;d.onload=()=>{const _=new Image;_.onload=()=>{const g=document.createElement("canvas");g.width=64,g.height=64,g.getContext("2d").drawImage(_,0,0,64,64);const S=g.toDataURL("image/png");document.querySelector("#pack_icon").src=S},t(5,n=_.src=d.result)},d.readAsDataURL(v)}),document.querySelector("#pack_icon_input").click()},c=()=>{t(0,o=o.replace(" ","_").replace(/[^a-zA-Z0-9_]/g,"").toLowerCase())};function f(){o=this.value,t(0,o)}function m(){r=Bn(this),t(1,r)}function p(){s=this.checked,t(2,s)}return i.$$set=y=>{"packname"in y&&t(0,o=y.packname),"version"in y&&t(1,r=y.version),"imagesrc"in y&&t(5,n=y.imagesrc),"useMono"in y&&t(2,s=y.useMono)},[o,r,s,l,c,n,f,m,p]}class ki extends Vt{constructor(e){super(),Gt(this,e,wi,yi,Zt,{packname:0,version:1,imagesrc:5,useMono:2})}}function qe(i){let e,t,o,r,n,s,l;return{c(){e=et("div"),t=et("div"),o=It(i[1]),r=mt(),n=et("div"),n.innerHTML='<div id="content" class="svelte-16n0rxp"><p id="generate_text" class="noselect svelte-16n0rxp">OK</p></div>',T(t,"class","popupcontainer svelte-16n0rxp"),T(t,"id","messagepopupcontainer"),T(n,"id","messagepopupconfirm"),T(n,"class","popupconfirm svelte-16n0rxp"),T(e,"class","popup svelte-16n0rxp")},m(c,f){at(c,e,f),tt(e,t),tt(t,o),tt(e,r),tt(e,n),s||(l=[ot(n,"click",i[2]),ot(n,"keydown",null)],s=!0)},p(c,f){f&2&&Mt(o,c[1])},d(c){c&&st(e),s=!1,bt(l)}}}function Ai(i){let e,t,o,r,n,s,l,c=i[0]&&qe(i);return{c(){e=et("div"),o=mt(),c&&c.c(),r=Ut(),T(e,"class","popupbackground svelte-16n0rxp"),ge(e,"background-image","url("+dn+")")},m(f,m){at(f,e,m),at(f,o,m),c&&c.m(f,m),at(f,r,m),n=!0,s||(l=[ot(e,"click",i[2]),ot(e,"keydown",null)],s=!0)},p(f,[m]){f[0]?c?c.p(f,m):(c=qe(f),c.c(),c.m(r.parentNode,r)):c&&(c.d(1),c=null)},i(f){n||(Bt(()=>{t||(t=me(e,Wt,{},!0)),t.run(1)}),n=!0)},o(f){t||(t=me(e,Wt,{},!1)),t.run(0),n=!1},d(f){f&&st(e),f&&t&&t.end(),f&&st(o),c&&c.d(f),f&&st(r),s=!1,bt(l)}}}function Si(i,e,t){let{text:o}=e,{closePopup:r}=e;const n=()=>{t(0,r=!1)};return i.$$set=s=>{"text"in s&&t(1,o=s.text),"closePopup"in s&&t(0,r=s.closePopup)},[r,o,n]}class Ei extends Vt{constructor(e){super(),Gt(this,e,Si,Ai,Zt,{text:1,closePopup:0})}}const pn="/jext-reborn/assets/generate_btn.516338f5.png";function ue(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var mn={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(i,e){(function(t){i.exports=t()})(function(){return function t(o,r,n){function s(f,m){if(!r[f]){if(!o[f]){var p=typeof ue=="function"&&ue;if(!m&&p)return p(f,!0);if(l)return l(f,!0);var y=new Error("Cannot find module '"+f+"'");throw y.code="MODULE_NOT_FOUND",y}var h=r[f]={exports:{}};o[f][0].call(h.exports,function(v){var d=o[f][1][v];return s(d||v)},h,h.exports,t,o,r,n)}return r[f].exports}for(var l=typeof ue=="function"&&ue,c=0;c<n.length;c++)s(n[c]);return s}({1:[function(t,o,r){var n=t("./utils"),s=t("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(c){for(var f,m,p,y,h,v,d,_=[],g=0,b=c.length,S=b,I=n.getTypeOf(c)!=="string";g<c.length;)S=b-g,p=I?(f=c[g++],m=g<b?c[g++]:0,g<b?c[g++]:0):(f=c.charCodeAt(g++),m=g<b?c.charCodeAt(g++):0,g<b?c.charCodeAt(g++):0),y=f>>2,h=(3&f)<<4|m>>4,v=1<S?(15&m)<<2|p>>6:64,d=2<S?63&p:64,_.push(l.charAt(y)+l.charAt(h)+l.charAt(v)+l.charAt(d));return _.join("")},r.decode=function(c){var f,m,p,y,h,v,d=0,_=0,g="data:";if(c.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var b,S=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===l.charAt(64)&&S--,c.charAt(c.length-2)===l.charAt(64)&&S--,S%1!=0)throw new Error("Invalid base64 input, bad content length.");for(b=s.uint8array?new Uint8Array(0|S):new Array(0|S);d<c.length;)f=l.indexOf(c.charAt(d++))<<2|(y=l.indexOf(c.charAt(d++)))>>4,m=(15&y)<<4|(h=l.indexOf(c.charAt(d++)))>>2,p=(3&h)<<6|(v=l.indexOf(c.charAt(d++))),b[_++]=f,h!==64&&(b[_++]=m),v!==64&&(b[_++]=p);return b}},{"./support":30,"./utils":32}],2:[function(t,o,r){var n=t("./external"),s=t("./stream/DataWorker"),l=t("./stream/Crc32Probe"),c=t("./stream/DataLengthProbe");function f(m,p,y,h,v){this.compressedSize=m,this.uncompressedSize=p,this.crc32=y,this.compression=h,this.compressedContent=v}f.prototype={getContentWorker:function(){var m=new s(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),p=this;return m.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new s(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(m,p,y){return m.pipe(new l).pipe(new c("uncompressedSize")).pipe(p.compressWorker(y)).pipe(new c("compressedSize")).withStreamInfo("compression",p)},o.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,o,r){var n=t("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},r.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,o,r){var n=t("./utils"),s=function(){for(var l,c=[],f=0;f<256;f++){l=f;for(var m=0;m<8;m++)l=1&l?3988292384^l>>>1:l>>>1;c[f]=l}return c}();o.exports=function(l,c){return l!==void 0&&l.length?n.getTypeOf(l)!=="string"?function(f,m,p,y){var h=s,v=y+p;f^=-1;for(var d=y;d<v;d++)f=f>>>8^h[255&(f^m[d])];return-1^f}(0|c,l,l.length,0):function(f,m,p,y){var h=s,v=y+p;f^=-1;for(var d=y;d<v;d++)f=f>>>8^h[255&(f^m.charCodeAt(d))];return-1^f}(0|c,l,l.length,0):0}},{"./utils":32}],5:[function(t,o,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(t,o,r){var n=null;n=typeof Promise<"u"?Promise:t("lie"),o.exports={Promise:n}},{lie:37}],7:[function(t,o,r){var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=t("pako"),l=t("./utils"),c=t("./stream/GenericWorker"),f=n?"uint8array":"array";function m(p,y){c.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=y,this.meta={}}r.magic="\b\0",l.inherits(m,c),m.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(f,p.data),!1)},m.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(y){p.push({data:y,meta:p.meta})}},r.compressWorker=function(p){return new m("Deflate",p)},r.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,o,r){function n(h,v){var d,_="";for(d=0;d<v;d++)_+=String.fromCharCode(255&h),h>>>=8;return _}function s(h,v,d,_,g,b){var S,I,C=h.file,N=h.compression,L=b!==f.utf8encode,j=l.transformTo("string",b(C.name)),D=l.transformTo("string",f.utf8encode(C.name)),M=C.comment,G=l.transformTo("string",b(M)),k=l.transformTo("string",f.utf8encode(M)),O=D.length!==C.name.length,u=k.length!==M.length,P="",Q="",W="",nt=C.dir,B=C.date,F={crc32:0,compressedSize:0,uncompressedSize:0};v&&!d||(F.crc32=h.crc32,F.compressedSize=h.compressedSize,F.uncompressedSize=h.uncompressedSize);var E=0;v&&(E|=8),L||!O&&!u||(E|=2048);var z=0,H=0;nt&&(z|=16),g==="UNIX"?(H=798,z|=function(q,ut){var ht=q;return q||(ht=ut?16893:33204),(65535&ht)<<16}(C.unixPermissions,nt)):(H=20,z|=function(q){return 63&(q||0)}(C.dosPermissions)),S=B.getUTCHours(),S<<=6,S|=B.getUTCMinutes(),S<<=5,S|=B.getUTCSeconds()/2,I=B.getUTCFullYear()-1980,I<<=4,I|=B.getUTCMonth()+1,I<<=5,I|=B.getUTCDate(),O&&(Q=n(1,1)+n(m(j),4)+D,P+="up"+n(Q.length,2)+Q),u&&(W=n(1,1)+n(m(G),4)+k,P+="uc"+n(W.length,2)+W);var Y="";return Y+=`
\0`,Y+=n(E,2),Y+=N.magic,Y+=n(S,2),Y+=n(I,2),Y+=n(F.crc32,4),Y+=n(F.compressedSize,4),Y+=n(F.uncompressedSize,4),Y+=n(j.length,2),Y+=n(P.length,2),{fileRecord:p.LOCAL_FILE_HEADER+Y+j+P,dirRecord:p.CENTRAL_FILE_HEADER+n(H,2)+Y+n(G.length,2)+"\0\0\0\0"+n(z,4)+n(_,4)+j+P+G}}var l=t("../utils"),c=t("../stream/GenericWorker"),f=t("../utf8"),m=t("../crc32"),p=t("../signature");function y(h,v,d,_){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=d,this.encodeFileName=_,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(y,c),y.prototype.push=function(h){var v=h.meta.percent||0,d=this.entriesCount,_=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,c.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:d?(v+100*(d-_-1))/d:100}}))},y.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var v=this.streamFiles&&!h.file.dir;if(v){var d=s(h,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:d.fileRecord,meta:{percent:0}})}else this.accumulate=!0},y.prototype.closedSource=function(h){this.accumulate=!1;var v=this.streamFiles&&!h.file.dir,d=s(h,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(d.dirRecord),v)this.push({data:function(_){return p.DATA_DESCRIPTOR+n(_.crc32,4)+n(_.compressedSize,4)+n(_.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:d.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},y.prototype.flush=function(){for(var h=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var d=this.bytesWritten-h,_=function(g,b,S,I,C){var N=l.transformTo("string",C(I));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(g,2)+n(g,2)+n(b,4)+n(S,4)+n(N.length,2)+N}(this.dirRecords.length,d,h,this.zipComment,this.encodeFileName);this.push({data:_,meta:{percent:100}})},y.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},y.prototype.registerPrevious=function(h){this._sources.push(h);var v=this;return h.on("data",function(d){v.processChunk(d)}),h.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),h.on("error",function(d){v.error(d)}),this},y.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},y.prototype.error=function(h){var v=this._sources;if(!c.prototype.error.call(this,h))return!1;for(var d=0;d<v.length;d++)try{v[d].error(h)}catch{}return!0},y.prototype.lock=function(){c.prototype.lock.call(this);for(var h=this._sources,v=0;v<h.length;v++)h[v].lock()},o.exports=y},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,o,r){var n=t("../compressions"),s=t("./ZipFileWorker");r.generateWorker=function(l,c,f){var m=new s(c.streamFiles,f,c.platform,c.encodeFileName),p=0;try{l.forEach(function(y,h){p++;var v=function(b,S){var I=b||S,C=n[I];if(!C)throw new Error(I+" is not a valid compression method !");return C}(h.options.compression,c.compression),d=h.options.compressionOptions||c.compressionOptions||{},_=h.dir,g=h.date;h._compressWorker(v,d).withStreamInfo("file",{name:y,dir:_,date:g,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(m)}),m.entriesCount=p}catch(y){m.error(y)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,o,r){function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new n;for(var l in this)typeof this[l]!="function"&&(s[l]=this[l]);return s}}(n.prototype=t("./object")).loadAsync=t("./load"),n.support=t("./support"),n.defaults=t("./defaults"),n.version="3.10.1",n.loadAsync=function(s,l){return new n().loadAsync(s,l)},n.external=t("./external"),o.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,o,r){var n=t("./utils"),s=t("./external"),l=t("./utf8"),c=t("./zipEntries"),f=t("./stream/Crc32Probe"),m=t("./nodejsUtils");function p(y){return new s.Promise(function(h,v){var d=y.decompressed.getContentWorker().pipe(new f);d.on("error",function(_){v(_)}).on("end",function(){d.streamInfo.crc32!==y.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}o.exports=function(y,h){var v=this;return h=n.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),m.isNode&&m.isStream(y)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",y,!0,h.optimizedBinaryString,h.base64).then(function(d){var _=new c(h);return _.load(d),_}).then(function(d){var _=[s.Promise.resolve(d)],g=d.files;if(h.checkCRC32)for(var b=0;b<g.length;b++)_.push(p(g[b]));return s.Promise.all(_)}).then(function(d){for(var _=d.shift(),g=_.files,b=0;b<g.length;b++){var S=g[b],I=S.fileNameStr,C=n.resolve(S.fileNameStr);v.file(C,S.decompressed,{binary:!0,optimizedBinaryString:!0,date:S.date,dir:S.dir,comment:S.fileCommentStr.length?S.fileCommentStr:null,unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions,createFolders:h.createFolders}),S.dir||(v.file(C).unsafeOriginalName=I)}return _.zipComment.length&&(v.comment=_.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,o,r){var n=t("../utils"),s=t("../stream/GenericWorker");function l(c,f){s.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(f)}n.inherits(l,s),l.prototype._bindStream=function(c){var f=this;(this._stream=c).pause(),c.on("data",function(m){f.push({data:m,meta:{percent:0}})}).on("error",function(m){f.isPaused?this.generatedError=m:f.error(m)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},l.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,o,r){var n=t("readable-stream").Readable;function s(l,c,f){n.call(this,c),this._helper=l;var m=this;l.on("data",function(p,y){m.push(p)||m._helper.pause(),f&&f(y)}).on("error",function(p){m.emit("error",p)}).on("end",function(){m.push(null)})}t("../utils").inherits(s,n),s.prototype._read=function(){this._helper.resume()},o.exports=s},{"../utils":32,"readable-stream":16}],14:[function(t,o,r){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(n,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(n,s);if(typeof n=="number")throw new Error('The "data" argument must not be a number');return new Buffer(n,s)},allocBuffer:function(n){if(Buffer.alloc)return Buffer.alloc(n);var s=new Buffer(n);return s.fill(0),s},isBuffer:function(n){return Buffer.isBuffer(n)},isStream:function(n){return n&&typeof n.on=="function"&&typeof n.pause=="function"&&typeof n.resume=="function"}}},{}],15:[function(t,o,r){function n(C,N,L){var j,D=l.getTypeOf(N),M=l.extend(L||{},m);M.date=M.date||new Date,M.compression!==null&&(M.compression=M.compression.toUpperCase()),typeof M.unixPermissions=="string"&&(M.unixPermissions=parseInt(M.unixPermissions,8)),M.unixPermissions&&16384&M.unixPermissions&&(M.dir=!0),M.dosPermissions&&16&M.dosPermissions&&(M.dir=!0),M.dir&&(C=g(C)),M.createFolders&&(j=_(C))&&b.call(this,j,!0);var G=D==="string"&&M.binary===!1&&M.base64===!1;L&&L.binary!==void 0||(M.binary=!G),(N instanceof p&&N.uncompressedSize===0||M.dir||!N||N.length===0)&&(M.base64=!1,M.binary=!0,N="",M.compression="STORE",D="string");var k=null;k=N instanceof p||N instanceof c?N:v.isNode&&v.isStream(N)?new d(C,N):l.prepareContent(C,N,M.binary,M.optimizedBinaryString,M.base64);var O=new y(C,k,M);this.files[C]=O}var s=t("./utf8"),l=t("./utils"),c=t("./stream/GenericWorker"),f=t("./stream/StreamHelper"),m=t("./defaults"),p=t("./compressedObject"),y=t("./zipObject"),h=t("./generate"),v=t("./nodejsUtils"),d=t("./nodejs/NodejsStreamInputAdapter"),_=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var N=C.lastIndexOf("/");return 0<N?C.substring(0,N):""},g=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},b=function(C,N){return N=N!==void 0?N:m.createFolders,C=g(C),this.files[C]||n.call(this,C,null,{dir:!0,createFolders:N}),this.files[C]};function S(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var I={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var N,L,j;for(N in this.files)j=this.files[N],(L=N.slice(this.root.length,N.length))&&N.slice(0,this.root.length)===this.root&&C(L,j)},filter:function(C){var N=[];return this.forEach(function(L,j){C(L,j)&&N.push(j)}),N},file:function(C,N,L){if(arguments.length!==1)return C=this.root+C,n.call(this,C,N,L),this;if(S(C)){var j=C;return this.filter(function(M,G){return!G.dir&&j.test(M)})}var D=this.files[this.root+C];return D&&!D.dir?D:null},folder:function(C){if(!C)return this;if(S(C))return this.filter(function(D,M){return M.dir&&C.test(D)});var N=this.root+C,L=b.call(this,N),j=this.clone();return j.root=L.name,j},remove:function(C){C=this.root+C;var N=this.files[C];if(N||(C.slice(-1)!=="/"&&(C+="/"),N=this.files[C]),N&&!N.dir)delete this.files[C];else for(var L=this.filter(function(D,M){return M.name.slice(0,C.length)===C}),j=0;j<L.length;j++)delete this.files[L[j].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var N,L={};try{if((L=l.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=L.type.toLowerCase(),L.compression=L.compression.toUpperCase(),L.type==="binarystring"&&(L.type="string"),!L.type)throw new Error("No output type specified.");l.checkSupport(L.type),L.platform!=="darwin"&&L.platform!=="freebsd"&&L.platform!=="linux"&&L.platform!=="sunos"||(L.platform="UNIX"),L.platform==="win32"&&(L.platform="DOS");var j=L.comment||this.comment||"";N=h.generateWorker(this,L,j)}catch(D){(N=new c("error")).error(D)}return new f(N,L.type||"string",L.mimeType)},generateAsync:function(C,N){return this.generateInternalStream(C).accumulate(N)},generateNodeStream:function(C,N){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(N)}};o.exports=I},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,o,r){o.exports=t("stream")},{stream:void 0}],17:[function(t,o,r){var n=t("./DataReader");function s(l){n.call(this,l);for(var c=0;c<this.data.length;c++)l[c]=255&l[c]}t("../utils").inherits(s,n),s.prototype.byteAt=function(l){return this.data[this.zero+l]},s.prototype.lastIndexOfSignature=function(l){for(var c=l.charCodeAt(0),f=l.charCodeAt(1),m=l.charCodeAt(2),p=l.charCodeAt(3),y=this.length-4;0<=y;--y)if(this.data[y]===c&&this.data[y+1]===f&&this.data[y+2]===m&&this.data[y+3]===p)return y-this.zero;return-1},s.prototype.readAndCheckSignature=function(l){var c=l.charCodeAt(0),f=l.charCodeAt(1),m=l.charCodeAt(2),p=l.charCodeAt(3),y=this.readData(4);return c===y[0]&&f===y[1]&&m===y[2]&&p===y[3]},s.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},o.exports=s},{"../utils":32,"./DataReader":18}],18:[function(t,o,r){var n=t("../utils");function s(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var c,f=0;for(this.checkOffset(l),c=this.index+l-1;c>=this.index;c--)f=(f<<8)+this.byteAt(c);return this.index+=l,f},readString:function(l){return n.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},o.exports=s},{"../utils":32}],19:[function(t,o,r){var n=t("./Uint8ArrayReader");function s(l){n.call(this,l)}t("../utils").inherits(s,n),s.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},o.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,o,r){var n=t("./DataReader");function s(l){n.call(this,l)}t("../utils").inherits(s,n),s.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},s.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},s.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},s.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},o.exports=s},{"../utils":32,"./DataReader":18}],21:[function(t,o,r){var n=t("./ArrayReader");function s(l){n.call(this,l)}t("../utils").inherits(s,n),s.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},o.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(t,o,r){var n=t("../utils"),s=t("../support"),l=t("./ArrayReader"),c=t("./StringReader"),f=t("./NodeBufferReader"),m=t("./Uint8ArrayReader");o.exports=function(p){var y=n.getTypeOf(p);return n.checkSupport(y),y!=="string"||s.uint8array?y==="nodebuffer"?new f(p):s.uint8array?new m(n.transformTo("uint8array",p)):new l(n.transformTo("array",p)):new c(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,o,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,o,r){var n=t("./GenericWorker"),s=t("../utils");function l(c){n.call(this,"ConvertWorker to "+c),this.destType=c}s.inherits(l,n),l.prototype.processChunk=function(c){this.push({data:s.transformTo(this.destType,c.data),meta:c.meta})},o.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(t,o,r){var n=t("./GenericWorker"),s=t("../crc32");function l(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(l,n),l.prototype.processChunk=function(c){this.streamInfo.crc32=s(c.data,this.streamInfo.crc32||0),this.push(c)},o.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,o,r){var n=t("../utils"),s=t("./GenericWorker");function l(c){s.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}n.inherits(l,s),l.prototype.processChunk=function(c){if(c){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+c.data.length}s.prototype.processChunk.call(this,c)},o.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(t,o,r){var n=t("../utils"),s=t("./GenericWorker");function l(c){s.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(m){f.dataIsReady=!0,f.data=m,f.max=m&&m.length||0,f.type=n.getTypeOf(m),f.isPaused||f._tickAndRepeat()},function(m){f.error(m)})}n.inherits(l,s),l.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,f);break;case"uint8array":c=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":c=this.data.slice(this.index,f)}return this.index=f,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(t,o,r){function n(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,l){return this._listeners[s].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,l){if(this._listeners[s])for(var c=0;c<this._listeners[s].length;c++)this._listeners[s][c].call(this,l)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var l=this;return s.on("data",function(c){l.processChunk(c)}),s.on("end",function(){l.end()}),s.on("error",function(c){l.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,l){return this.extraStreamInfo[s]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},o.exports=n},{}],29:[function(t,o,r){var n=t("../utils"),s=t("./ConvertWorker"),l=t("./GenericWorker"),c=t("../base64"),f=t("../support"),m=t("../external"),p=null;if(f.nodestream)try{p=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function y(v,d){return new m.Promise(function(_,g){var b=[],S=v._internalType,I=v._outputType,C=v._mimeType;v.on("data",function(N,L){b.push(N),d&&d(L)}).on("error",function(N){b=[],g(N)}).on("end",function(){try{var N=function(L,j,D){switch(L){case"blob":return n.newBlob(n.transformTo("arraybuffer",j),D);case"base64":return c.encode(j);default:return n.transformTo(L,j)}}(I,function(L,j){var D,M=0,G=null,k=0;for(D=0;D<j.length;D++)k+=j[D].length;switch(L){case"string":return j.join("");case"array":return Array.prototype.concat.apply([],j);case"uint8array":for(G=new Uint8Array(k),D=0;D<j.length;D++)G.set(j[D],M),M+=j[D].length;return G;case"nodebuffer":return Buffer.concat(j);default:throw new Error("concat : unsupported type '"+L+"'")}}(S,b),C);_(N)}catch(L){g(L)}b=[]}).resume()})}function h(v,d,_){var g=d;switch(d){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=d,this._mimeType=_,n.checkSupport(g),this._worker=v.pipe(new s(g)),v.lock()}catch(b){this._worker=new l("error"),this._worker.error(b)}}h.prototype={accumulate:function(v){return y(this,v)},on:function(v,d){var _=this;return v==="data"?this._worker.on(v,function(g){d.call(_,g.data,g.meta)}):this._worker.on(v,function(){n.delay(d,arguments,_)}),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(n.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},v)}},o.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,o,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof Buffer<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var n=new ArrayBuffer(0);try{r.blob=new Blob([n],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(n),r.blob=s.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!t("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(t,o,r){for(var n=t("./utils"),s=t("./support"),l=t("./nodejsUtils"),c=t("./stream/GenericWorker"),f=new Array(256),m=0;m<256;m++)f[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;f[254]=f[254]=1;function p(){c.call(this,"utf-8 decode"),this.leftOver=null}function y(){c.call(this,"utf-8 encode")}r.utf8encode=function(h){return s.nodebuffer?l.newBufferFrom(h,"utf-8"):function(v){var d,_,g,b,S,I=v.length,C=0;for(b=0;b<I;b++)(64512&(_=v.charCodeAt(b)))==55296&&b+1<I&&(64512&(g=v.charCodeAt(b+1)))==56320&&(_=65536+(_-55296<<10)+(g-56320),b++),C+=_<128?1:_<2048?2:_<65536?3:4;for(d=s.uint8array?new Uint8Array(C):new Array(C),b=S=0;S<C;b++)(64512&(_=v.charCodeAt(b)))==55296&&b+1<I&&(64512&(g=v.charCodeAt(b+1)))==56320&&(_=65536+(_-55296<<10)+(g-56320),b++),_<128?d[S++]=_:(_<2048?d[S++]=192|_>>>6:(_<65536?d[S++]=224|_>>>12:(d[S++]=240|_>>>18,d[S++]=128|_>>>12&63),d[S++]=128|_>>>6&63),d[S++]=128|63&_);return d}(h)},r.utf8decode=function(h){return s.nodebuffer?n.transformTo("nodebuffer",h).toString("utf-8"):function(v){var d,_,g,b,S=v.length,I=new Array(2*S);for(d=_=0;d<S;)if((g=v[d++])<128)I[_++]=g;else if(4<(b=f[g]))I[_++]=65533,d+=b-1;else{for(g&=b===2?31:b===3?15:7;1<b&&d<S;)g=g<<6|63&v[d++],b--;1<b?I[_++]=65533:g<65536?I[_++]=g:(g-=65536,I[_++]=55296|g>>10&1023,I[_++]=56320|1023&g)}return I.length!==_&&(I.subarray?I=I.subarray(0,_):I.length=_),n.applyFromCharCode(I)}(h=n.transformTo(s.uint8array?"uint8array":"array",h))},n.inherits(p,c),p.prototype.processChunk=function(h){var v=n.transformTo(s.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var d=v;(v=new Uint8Array(d.length+this.leftOver.length)).set(this.leftOver,0),v.set(d,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var _=function(b,S){var I;for((S=S||b.length)>b.length&&(S=b.length),I=S-1;0<=I&&(192&b[I])==128;)I--;return I<0||I===0?S:I+f[b[I]]>S?I:S}(v),g=v;_!==v.length&&(s.uint8array?(g=v.subarray(0,_),this.leftOver=v.subarray(_,v.length)):(g=v.slice(0,_),this.leftOver=v.slice(_,v.length))),this.push({data:r.utf8decode(g),meta:h.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=p,n.inherits(y,c),y.prototype.processChunk=function(h){this.push({data:r.utf8encode(h.data),meta:h.meta})},r.Utf8EncodeWorker=y},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,o,r){var n=t("./support"),s=t("./base64"),l=t("./nodejsUtils"),c=t("./external");function f(d){return d}function m(d,_){for(var g=0;g<d.length;++g)_[g]=255&d.charCodeAt(g);return _}t("setimmediate"),r.newBlob=function(d,_){r.checkSupport("blob");try{return new Blob([d],{type:_})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(d),g.getBlob(_)}catch{throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(d,_,g){var b=[],S=0,I=d.length;if(I<=g)return String.fromCharCode.apply(null,d);for(;S<I;)_==="array"||_==="nodebuffer"?b.push(String.fromCharCode.apply(null,d.slice(S,Math.min(S+g,I)))):b.push(String.fromCharCode.apply(null,d.subarray(S,Math.min(S+g,I)))),S+=g;return b.join("")},stringifyByChar:function(d){for(var _="",g=0;g<d.length;g++)_+=String.fromCharCode(d[g]);return _},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function y(d){var _=65536,g=r.getTypeOf(d),b=!0;if(g==="uint8array"?b=p.applyCanBeUsed.uint8array:g==="nodebuffer"&&(b=p.applyCanBeUsed.nodebuffer),b)for(;1<_;)try{return p.stringifyByChunk(d,g,_)}catch{_=Math.floor(_/2)}return p.stringifyByChar(d)}function h(d,_){for(var g=0;g<d.length;g++)_[g]=d[g];return _}r.applyFromCharCode=y;var v={};v.string={string:f,array:function(d){return m(d,new Array(d.length))},arraybuffer:function(d){return v.string.uint8array(d).buffer},uint8array:function(d){return m(d,new Uint8Array(d.length))},nodebuffer:function(d){return m(d,l.allocBuffer(d.length))}},v.array={string:y,array:f,arraybuffer:function(d){return new Uint8Array(d).buffer},uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return l.newBufferFrom(d)}},v.arraybuffer={string:function(d){return y(new Uint8Array(d))},array:function(d){return h(new Uint8Array(d),new Array(d.byteLength))},arraybuffer:f,uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return l.newBufferFrom(new Uint8Array(d))}},v.uint8array={string:y,array:function(d){return h(d,new Array(d.length))},arraybuffer:function(d){return d.buffer},uint8array:f,nodebuffer:function(d){return l.newBufferFrom(d)}},v.nodebuffer={string:y,array:function(d){return h(d,new Array(d.length))},arraybuffer:function(d){return v.nodebuffer.uint8array(d).buffer},uint8array:function(d){return h(d,new Uint8Array(d.length))},nodebuffer:f},r.transformTo=function(d,_){if(_=_||"",!d)return _;r.checkSupport(d);var g=r.getTypeOf(_);return v[g][d](_)},r.resolve=function(d){for(var _=d.split("/"),g=[],b=0;b<_.length;b++){var S=_[b];S==="."||S===""&&b!==0&&b!==_.length-1||(S===".."?g.pop():g.push(S))}return g.join("/")},r.getTypeOf=function(d){return typeof d=="string"?"string":Object.prototype.toString.call(d)==="[object Array]"?"array":n.nodebuffer&&l.isBuffer(d)?"nodebuffer":n.uint8array&&d instanceof Uint8Array?"uint8array":n.arraybuffer&&d instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(d){if(!n[d.toLowerCase()])throw new Error(d+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(d){var _,g,b="";for(g=0;g<(d||"").length;g++)b+="\\x"+((_=d.charCodeAt(g))<16?"0":"")+_.toString(16).toUpperCase();return b},r.delay=function(d,_,g){setImmediate(function(){d.apply(g||null,_||[])})},r.inherits=function(d,_){function g(){}g.prototype=_.prototype,d.prototype=new g},r.extend=function(){var d,_,g={};for(d=0;d<arguments.length;d++)for(_ in arguments[d])Object.prototype.hasOwnProperty.call(arguments[d],_)&&g[_]===void 0&&(g[_]=arguments[d][_]);return g},r.prepareContent=function(d,_,g,b,S){return c.Promise.resolve(_).then(function(I){return n.blob&&(I instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(I))!==-1)&&typeof FileReader<"u"?new c.Promise(function(C,N){var L=new FileReader;L.onload=function(j){C(j.target.result)},L.onerror=function(j){N(j.target.error)},L.readAsArrayBuffer(I)}):I}).then(function(I){var C=r.getTypeOf(I);return C?(C==="arraybuffer"?I=r.transformTo("uint8array",I):C==="string"&&(S?I=s.decode(I):g&&b!==!0&&(I=function(N){return m(N,n.uint8array?new Uint8Array(N.length):new Array(N.length))}(I))),I):c.Promise.reject(new Error("Can't read the data of '"+d+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,o,r){var n=t("./reader/readerFor"),s=t("./utils"),l=t("./signature"),c=t("./zipEntry"),f=t("./support");function m(p){this.files=[],this.loadOptions=p}m.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(y)+", expected "+s.pretty(p)+")")}},isSignature:function(p,y){var h=this.reader.index;this.reader.setIndex(p);var v=this.reader.readString(4)===y;return this.reader.setIndex(h),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),y=f.uint8array?"uint8array":"array",h=s.transformTo(y,p);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,y,h,v=this.zip64EndOfCentralSize-44;0<v;)p=this.reader.readInt(2),y=this.reader.readInt(4),h=this.reader.readData(y),this.zip64ExtensibleData[p]={id:p,length:y,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,y;for(p=0;p<this.files.length;p++)y=this.files[p],this.reader.setIndex(y.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),y.readLocalPart(this.reader),y.handleUTF8(),y.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(p=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var y=p;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var v=y-h;if(0<v)this.isSignature(y,l.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(p){this.reader=n(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,o,r){var n=t("./reader/readerFor"),s=t("./utils"),l=t("./compressedObject"),c=t("./crc32"),f=t("./utf8"),m=t("./compressions"),p=t("./support");function y(h,v){this.options=h,this.loadOptions=v}y.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var v,d;if(h.skip(22),this.fileNameLength=h.readInt(2),d=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(d),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=function(_){for(var g in m)if(Object.prototype.hasOwnProperty.call(m,g)&&m[g].magic===_)return m[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,v,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var v=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(v),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=n(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var v,d,_,g=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<g;)v=h.readInt(2),d=h.readInt(2),_=h.readData(d),this.extraFields[v]={id:v,length:d,value:_};h.setIndex(g)},handleUTF8:function(){var h=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var d=s.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(d)}var _=this.findExtraFieldUnicodeComment();if(_!==null)this.fileCommentStr=_;else{var g=s.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var v=n(h.value);return v.readInt(1)!==1||c(this.fileName)!==v.readInt(4)?null:f.utf8decode(v.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var v=n(h.value);return v.readInt(1)!==1||c(this.fileComment)!==v.readInt(4)?null:f.utf8decode(v.readData(h.length-5))}return null}},o.exports=y},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,o,r){function n(v,d,_){this.name=v,this.dir=_.dir,this.date=_.date,this.comment=_.comment,this.unixPermissions=_.unixPermissions,this.dosPermissions=_.dosPermissions,this._data=d,this._dataBinary=_.binary,this.options={compression:_.compression,compressionOptions:_.compressionOptions}}var s=t("./stream/StreamHelper"),l=t("./stream/DataWorker"),c=t("./utf8"),f=t("./compressedObject"),m=t("./stream/GenericWorker");n.prototype={internalStream:function(v){var d=null,_="string";try{if(!v)throw new Error("No output type specified.");var g=(_=v.toLowerCase())==="string"||_==="text";_!=="binarystring"&&_!=="text"||(_="string"),d=this._decompressWorker();var b=!this._dataBinary;b&&!g&&(d=d.pipe(new c.Utf8EncodeWorker)),!b&&g&&(d=d.pipe(new c.Utf8DecodeWorker))}catch(S){(d=new m("error")).error(S)}return new s(d,_,"")},async:function(v,d){return this.internalStream(v).accumulate(d)},nodeStream:function(v,d){return this.internalStream(v||"nodebuffer").toNodejsStream(d)},_compressWorker:function(v,d){if(this._data instanceof f&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var _=this._decompressWorker();return this._dataBinary||(_=_.pipe(new c.Utf8EncodeWorker)),f.createWorkerFrom(_,v,d)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof m?this._data:new l(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<p.length;h++)n.prototype[p[h]]=y;o.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,o,r){(function(n){var s,l,c=n.MutationObserver||n.WebKitMutationObserver;if(c){var f=0,m=new c(v),p=n.document.createTextNode("");m.observe(p,{characterData:!0}),s=function(){p.data=f=++f%2}}else if(n.setImmediate||n.MessageChannel===void 0)s="document"in n&&"onreadystatechange"in n.document.createElement("script")?function(){var d=n.document.createElement("script");d.onreadystatechange=function(){v(),d.onreadystatechange=null,d.parentNode.removeChild(d),d=null},n.document.documentElement.appendChild(d)}:function(){setTimeout(v,0)};else{var y=new n.MessageChannel;y.port1.onmessage=v,s=function(){y.port2.postMessage(0)}}var h=[];function v(){var d,_;l=!0;for(var g=h.length;g;){for(_=h,h=[],d=-1;++d<g;)_[d]();g=h.length}l=!1}o.exports=function(d){h.push(d)!==1||l||s()}}).call(this,typeof ce<"u"?ce:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,o,r){var n=t("immediate");function s(){}var l={},c=["REJECTED"],f=["FULFILLED"],m=["PENDING"];function p(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,g!==s&&d(this,g)}function y(g,b,S){this.promise=g,typeof b=="function"&&(this.onFulfilled=b,this.callFulfilled=this.otherCallFulfilled),typeof S=="function"&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}function h(g,b,S){n(function(){var I;try{I=b(S)}catch(C){return l.reject(g,C)}I===g?l.reject(g,new TypeError("Cannot resolve promise with itself")):l.resolve(g,I)})}function v(g){var b=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof b=="function")return function(){b.apply(g,arguments)}}function d(g,b){var S=!1;function I(L){S||(S=!0,l.reject(g,L))}function C(L){S||(S=!0,l.resolve(g,L))}var N=_(function(){b(C,I)});N.status==="error"&&I(N.value)}function _(g,b){var S={};try{S.value=g(b),S.status="success"}catch(I){S.status="error",S.value=I}return S}(o.exports=p).prototype.finally=function(g){if(typeof g!="function")return this;var b=this.constructor;return this.then(function(S){return b.resolve(g()).then(function(){return S})},function(S){return b.resolve(g()).then(function(){throw S})})},p.prototype.catch=function(g){return this.then(null,g)},p.prototype.then=function(g,b){if(typeof g!="function"&&this.state===f||typeof b!="function"&&this.state===c)return this;var S=new this.constructor(s);return this.state!==m?h(S,this.state===f?g:b,this.outcome):this.queue.push(new y(S,g,b)),S},y.prototype.callFulfilled=function(g){l.resolve(this.promise,g)},y.prototype.otherCallFulfilled=function(g){h(this.promise,this.onFulfilled,g)},y.prototype.callRejected=function(g){l.reject(this.promise,g)},y.prototype.otherCallRejected=function(g){h(this.promise,this.onRejected,g)},l.resolve=function(g,b){var S=_(v,b);if(S.status==="error")return l.reject(g,S.value);var I=S.value;if(I)d(g,I);else{g.state=f,g.outcome=b;for(var C=-1,N=g.queue.length;++C<N;)g.queue[C].callFulfilled(b)}return g},l.reject=function(g,b){g.state=c,g.outcome=b;for(var S=-1,I=g.queue.length;++S<I;)g.queue[S].callRejected(b);return g},p.resolve=function(g){return g instanceof this?g:l.resolve(new this(s),g)},p.reject=function(g){var b=new this(s);return l.reject(b,g)},p.all=function(g){var b=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=g.length,I=!1;if(!S)return this.resolve([]);for(var C=new Array(S),N=0,L=-1,j=new this(s);++L<S;)D(g[L],L);return j;function D(M,G){b.resolve(M).then(function(k){C[G]=k,++N!==S||I||(I=!0,l.resolve(j,C))},function(k){I||(I=!0,l.reject(j,k))})}},p.race=function(g){var b=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=g.length,I=!1;if(!S)return this.resolve([]);for(var C=-1,N=new this(s);++C<S;)L=g[C],b.resolve(L).then(function(j){I||(I=!0,l.resolve(N,j))},function(j){I||(I=!0,l.reject(N,j))});var L;return N}},{immediate:36}],38:[function(t,o,r){var n={};(0,t("./lib/utils/common").assign)(n,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),o.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,o,r){var n=t("./zlib/deflate"),s=t("./utils/common"),l=t("./utils/strings"),c=t("./zlib/messages"),f=t("./zlib/zstream"),m=Object.prototype.toString,p=0,y=-1,h=0,v=8;function d(g){if(!(this instanceof d))return new d(g);this.options=s.assign({level:y,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},g||{});var b=this.options;b.raw&&0<b.windowBits?b.windowBits=-b.windowBits:b.gzip&&0<b.windowBits&&b.windowBits<16&&(b.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var S=n.deflateInit2(this.strm,b.level,b.method,b.windowBits,b.memLevel,b.strategy);if(S!==p)throw new Error(c[S]);if(b.header&&n.deflateSetHeader(this.strm,b.header),b.dictionary){var I;if(I=typeof b.dictionary=="string"?l.string2buf(b.dictionary):m.call(b.dictionary)==="[object ArrayBuffer]"?new Uint8Array(b.dictionary):b.dictionary,(S=n.deflateSetDictionary(this.strm,I))!==p)throw new Error(c[S]);this._dict_set=!0}}function _(g,b){var S=new d(b);if(S.push(g,!0),S.err)throw S.msg||c[S.err];return S.result}d.prototype.push=function(g,b){var S,I,C=this.strm,N=this.options.chunkSize;if(this.ended)return!1;I=b===~~b?b:b===!0?4:0,typeof g=="string"?C.input=l.string2buf(g):m.call(g)==="[object ArrayBuffer]"?C.input=new Uint8Array(g):C.input=g,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new s.Buf8(N),C.next_out=0,C.avail_out=N),(S=n.deflate(C,I))!==1&&S!==p)return this.onEnd(S),!(this.ended=!0);C.avail_out!==0&&(C.avail_in!==0||I!==4&&I!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(s.shrinkBuf(C.output,C.next_out))):this.onData(s.shrinkBuf(C.output,C.next_out)))}while((0<C.avail_in||C.avail_out===0)&&S!==1);return I===4?(S=n.deflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===p):I!==2||(this.onEnd(p),!(C.avail_out=0))},d.prototype.onData=function(g){this.chunks.push(g)},d.prototype.onEnd=function(g){g===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},r.Deflate=d,r.deflate=_,r.deflateRaw=function(g,b){return(b=b||{}).raw=!0,_(g,b)},r.gzip=function(g,b){return(b=b||{}).gzip=!0,_(g,b)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,o,r){var n=t("./zlib/inflate"),s=t("./utils/common"),l=t("./utils/strings"),c=t("./zlib/constants"),f=t("./zlib/messages"),m=t("./zlib/zstream"),p=t("./zlib/gzheader"),y=Object.prototype.toString;function h(d){if(!(this instanceof h))return new h(d);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},d||{});var _=this.options;_.raw&&0<=_.windowBits&&_.windowBits<16&&(_.windowBits=-_.windowBits,_.windowBits===0&&(_.windowBits=-15)),!(0<=_.windowBits&&_.windowBits<16)||d&&d.windowBits||(_.windowBits+=32),15<_.windowBits&&_.windowBits<48&&(15&_.windowBits)==0&&(_.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var g=n.inflateInit2(this.strm,_.windowBits);if(g!==c.Z_OK)throw new Error(f[g]);this.header=new p,n.inflateGetHeader(this.strm,this.header)}function v(d,_){var g=new h(_);if(g.push(d,!0),g.err)throw g.msg||f[g.err];return g.result}h.prototype.push=function(d,_){var g,b,S,I,C,N,L=this.strm,j=this.options.chunkSize,D=this.options.dictionary,M=!1;if(this.ended)return!1;b=_===~~_?_:_===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof d=="string"?L.input=l.binstring2buf(d):y.call(d)==="[object ArrayBuffer]"?L.input=new Uint8Array(d):L.input=d,L.next_in=0,L.avail_in=L.input.length;do{if(L.avail_out===0&&(L.output=new s.Buf8(j),L.next_out=0,L.avail_out=j),(g=n.inflate(L,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&D&&(N=typeof D=="string"?l.string2buf(D):y.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,g=n.inflateSetDictionary(this.strm,N)),g===c.Z_BUF_ERROR&&M===!0&&(g=c.Z_OK,M=!1),g!==c.Z_STREAM_END&&g!==c.Z_OK)return this.onEnd(g),!(this.ended=!0);L.next_out&&(L.avail_out!==0&&g!==c.Z_STREAM_END&&(L.avail_in!==0||b!==c.Z_FINISH&&b!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(S=l.utf8border(L.output,L.next_out),I=L.next_out-S,C=l.buf2string(L.output,S),L.next_out=I,L.avail_out=j-I,I&&s.arraySet(L.output,L.output,S,I,0),this.onData(C)):this.onData(s.shrinkBuf(L.output,L.next_out)))),L.avail_in===0&&L.avail_out===0&&(M=!0)}while((0<L.avail_in||L.avail_out===0)&&g!==c.Z_STREAM_END);return g===c.Z_STREAM_END&&(b=c.Z_FINISH),b===c.Z_FINISH?(g=n.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===c.Z_OK):b!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(L.avail_out=0))},h.prototype.onData=function(d){this.chunks.push(d)},h.prototype.onEnd=function(d){d===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},r.Inflate=h,r.inflate=v,r.inflateRaw=function(d,_){return(_=_||{}).raw=!0,v(d,_)},r.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,o,r){var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(c){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var m=f.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var p in m)m.hasOwnProperty(p)&&(c[p]=m[p])}}return c},r.shrinkBuf=function(c,f){return c.length===f?c:c.subarray?c.subarray(0,f):(c.length=f,c)};var s={arraySet:function(c,f,m,p,y){if(f.subarray&&c.subarray)c.set(f.subarray(m,m+p),y);else for(var h=0;h<p;h++)c[y+h]=f[m+h]},flattenChunks:function(c){var f,m,p,y,h,v;for(f=p=0,m=c.length;f<m;f++)p+=c[f].length;for(v=new Uint8Array(p),f=y=0,m=c.length;f<m;f++)h=c[f],v.set(h,y),y+=h.length;return v}},l={arraySet:function(c,f,m,p,y){for(var h=0;h<p;h++)c[y+h]=f[m+h]},flattenChunks:function(c){return[].concat.apply([],c)}};r.setTyped=function(c){c?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,s)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,l))},r.setTyped(n)},{}],42:[function(t,o,r){var n=t("./common"),s=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var c=new n.Buf8(256),f=0;f<256;f++)c[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function m(p,y){if(y<65537&&(p.subarray&&l||!p.subarray&&s))return String.fromCharCode.apply(null,n.shrinkBuf(p,y));for(var h="",v=0;v<y;v++)h+=String.fromCharCode(p[v]);return h}c[254]=c[254]=1,r.string2buf=function(p){var y,h,v,d,_,g=p.length,b=0;for(d=0;d<g;d++)(64512&(h=p.charCodeAt(d)))==55296&&d+1<g&&(64512&(v=p.charCodeAt(d+1)))==56320&&(h=65536+(h-55296<<10)+(v-56320),d++),b+=h<128?1:h<2048?2:h<65536?3:4;for(y=new n.Buf8(b),d=_=0;_<b;d++)(64512&(h=p.charCodeAt(d)))==55296&&d+1<g&&(64512&(v=p.charCodeAt(d+1)))==56320&&(h=65536+(h-55296<<10)+(v-56320),d++),h<128?y[_++]=h:(h<2048?y[_++]=192|h>>>6:(h<65536?y[_++]=224|h>>>12:(y[_++]=240|h>>>18,y[_++]=128|h>>>12&63),y[_++]=128|h>>>6&63),y[_++]=128|63&h);return y},r.buf2binstring=function(p){return m(p,p.length)},r.binstring2buf=function(p){for(var y=new n.Buf8(p.length),h=0,v=y.length;h<v;h++)y[h]=p.charCodeAt(h);return y},r.buf2string=function(p,y){var h,v,d,_,g=y||p.length,b=new Array(2*g);for(h=v=0;h<g;)if((d=p[h++])<128)b[v++]=d;else if(4<(_=c[d]))b[v++]=65533,h+=_-1;else{for(d&=_===2?31:_===3?15:7;1<_&&h<g;)d=d<<6|63&p[h++],_--;1<_?b[v++]=65533:d<65536?b[v++]=d:(d-=65536,b[v++]=55296|d>>10&1023,b[v++]=56320|1023&d)}return m(b,v)},r.utf8border=function(p,y){var h;for((y=y||p.length)>p.length&&(y=p.length),h=y-1;0<=h&&(192&p[h])==128;)h--;return h<0||h===0?y:h+c[p[h]]>y?h:y}},{"./common":41}],43:[function(t,o,r){o.exports=function(n,s,l,c){for(var f=65535&n|0,m=n>>>16&65535|0,p=0;l!==0;){for(l-=p=2e3<l?2e3:l;m=m+(f=f+s[c++]|0)|0,--p;);f%=65521,m%=65521}return f|m<<16|0}},{}],44:[function(t,o,r){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,o,r){var n=function(){for(var s,l=[],c=0;c<256;c++){s=c;for(var f=0;f<8;f++)s=1&s?3988292384^s>>>1:s>>>1;l[c]=s}return l}();o.exports=function(s,l,c,f){var m=n,p=f+c;s^=-1;for(var y=f;y<p;y++)s=s>>>8^m[255&(s^l[y])];return-1^s}},{}],46:[function(t,o,r){var n,s=t("../utils/common"),l=t("./trees"),c=t("./adler32"),f=t("./crc32"),m=t("./messages"),p=0,y=4,h=0,v=-2,d=-1,_=4,g=2,b=8,S=9,I=286,C=30,N=19,L=2*I+1,j=15,D=3,M=258,G=M+D+1,k=42,O=113,u=1,P=2,Q=3,W=4;function nt(a,Z){return a.msg=m[Z],Z}function B(a){return(a<<1)-(4<a?9:0)}function F(a){for(var Z=a.length;0<=--Z;)a[Z]=0}function E(a){var Z=a.state,U=Z.pending;U>a.avail_out&&(U=a.avail_out),U!==0&&(s.arraySet(a.output,Z.pending_buf,Z.pending_out,U,a.next_out),a.next_out+=U,Z.pending_out+=U,a.total_out+=U,a.avail_out-=U,Z.pending-=U,Z.pending===0&&(Z.pending_out=0))}function z(a,Z){l._tr_flush_block(a,0<=a.block_start?a.block_start:-1,a.strstart-a.block_start,Z),a.block_start=a.strstart,E(a.strm)}function H(a,Z){a.pending_buf[a.pending++]=Z}function Y(a,Z){a.pending_buf[a.pending++]=Z>>>8&255,a.pending_buf[a.pending++]=255&Z}function q(a,Z){var U,A,w=a.max_chain_length,x=a.strstart,V=a.prev_length,K=a.nice_match,R=a.strstart>a.w_size-G?a.strstart-(a.w_size-G):0,J=a.window,$=a.w_mask,X=a.prev,rt=a.strstart+M,gt=J[x+V-1],dt=J[x+V];a.prev_length>=a.good_match&&(w>>=2),K>a.lookahead&&(K=a.lookahead);do if(J[(U=Z)+V]===dt&&J[U+V-1]===gt&&J[U]===J[x]&&J[++U]===J[x+1]){x+=2,U++;do;while(J[++x]===J[++U]&&J[++x]===J[++U]&&J[++x]===J[++U]&&J[++x]===J[++U]&&J[++x]===J[++U]&&J[++x]===J[++U]&&J[++x]===J[++U]&&J[++x]===J[++U]&&x<rt);if(A=M-(rt-x),x=rt-M,V<A){if(a.match_start=Z,K<=(V=A))break;gt=J[x+V-1],dt=J[x+V]}}while((Z=X[Z&$])>R&&--w!=0);return V<=a.lookahead?V:a.lookahead}function ut(a){var Z,U,A,w,x,V,K,R,J,$,X=a.w_size;do{if(w=a.window_size-a.lookahead-a.strstart,a.strstart>=X+(X-G)){for(s.arraySet(a.window,a.window,X,X,0),a.match_start-=X,a.strstart-=X,a.block_start-=X,Z=U=a.hash_size;A=a.head[--Z],a.head[Z]=X<=A?A-X:0,--U;);for(Z=U=X;A=a.prev[--Z],a.prev[Z]=X<=A?A-X:0,--U;);w+=X}if(a.strm.avail_in===0)break;if(V=a.strm,K=a.window,R=a.strstart+a.lookahead,J=w,$=void 0,$=V.avail_in,J<$&&($=J),U=$===0?0:(V.avail_in-=$,s.arraySet(K,V.input,V.next_in,$,R),V.state.wrap===1?V.adler=c(V.adler,K,$,R):V.state.wrap===2&&(V.adler=f(V.adler,K,$,R)),V.next_in+=$,V.total_in+=$,$),a.lookahead+=U,a.lookahead+a.insert>=D)for(x=a.strstart-a.insert,a.ins_h=a.window[x],a.ins_h=(a.ins_h<<a.hash_shift^a.window[x+1])&a.hash_mask;a.insert&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[x+D-1])&a.hash_mask,a.prev[x&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=x,x++,a.insert--,!(a.lookahead+a.insert<D)););}while(a.lookahead<G&&a.strm.avail_in!==0)}function ht(a,Z){for(var U,A;;){if(a.lookahead<G){if(ut(a),a.lookahead<G&&Z===p)return u;if(a.lookahead===0)break}if(U=0,a.lookahead>=D&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+D-1])&a.hash_mask,U=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),U!==0&&a.strstart-U<=a.w_size-G&&(a.match_length=q(a,U)),a.match_length>=D)if(A=l._tr_tally(a,a.strstart-a.match_start,a.match_length-D),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&a.lookahead>=D){for(a.match_length--;a.strstart++,a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+D-1])&a.hash_mask,U=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart,--a.match_length!=0;);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+1])&a.hash_mask;else A=l._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(A&&(z(a,!1),a.strm.avail_out===0))return u}return a.insert=a.strstart<D-1?a.strstart:D-1,Z===y?(z(a,!0),a.strm.avail_out===0?Q:W):a.last_lit&&(z(a,!1),a.strm.avail_out===0)?u:P}function it(a,Z){for(var U,A,w;;){if(a.lookahead<G){if(ut(a),a.lookahead<G&&Z===p)return u;if(a.lookahead===0)break}if(U=0,a.lookahead>=D&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+D-1])&a.hash_mask,U=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=D-1,U!==0&&a.prev_length<a.max_lazy_match&&a.strstart-U<=a.w_size-G&&(a.match_length=q(a,U),a.match_length<=5&&(a.strategy===1||a.match_length===D&&4096<a.strstart-a.match_start)&&(a.match_length=D-1)),a.prev_length>=D&&a.match_length<=a.prev_length){for(w=a.strstart+a.lookahead-D,A=l._tr_tally(a,a.strstart-1-a.prev_match,a.prev_length-D),a.lookahead-=a.prev_length-1,a.prev_length-=2;++a.strstart<=w&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+D-1])&a.hash_mask,U=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),--a.prev_length!=0;);if(a.match_available=0,a.match_length=D-1,a.strstart++,A&&(z(a,!1),a.strm.avail_out===0))return u}else if(a.match_available){if((A=l._tr_tally(a,0,a.window[a.strstart-1]))&&z(a,!1),a.strstart++,a.lookahead--,a.strm.avail_out===0)return u}else a.match_available=1,a.strstart++,a.lookahead--}return a.match_available&&(A=l._tr_tally(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=a.strstart<D-1?a.strstart:D-1,Z===y?(z(a,!0),a.strm.avail_out===0?Q:W):a.last_lit&&(z(a,!1),a.strm.avail_out===0)?u:P}function ft(a,Z,U,A,w){this.good_length=a,this.max_lazy=Z,this.nice_length=U,this.max_chain=A,this.func=w}function vt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=b,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*L),this.dyn_dtree=new s.Buf16(2*(2*C+1)),this.bl_tree=new s.Buf16(2*(2*N+1)),F(this.dyn_ltree),F(this.dyn_dtree),F(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(j+1),this.heap=new s.Buf16(2*I+1),F(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*I+1),F(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function pt(a){var Z;return a&&a.state?(a.total_in=a.total_out=0,a.data_type=g,(Z=a.state).pending=0,Z.pending_out=0,Z.wrap<0&&(Z.wrap=-Z.wrap),Z.status=Z.wrap?k:O,a.adler=Z.wrap===2?0:1,Z.last_flush=p,l._tr_init(Z),h):nt(a,v)}function Ot(a){var Z=pt(a);return Z===h&&function(U){U.window_size=2*U.w_size,F(U.head),U.max_lazy_match=n[U.level].max_lazy,U.good_match=n[U.level].good_length,U.nice_match=n[U.level].nice_length,U.max_chain_length=n[U.level].max_chain,U.strstart=0,U.block_start=0,U.lookahead=0,U.insert=0,U.match_length=U.prev_length=D-1,U.match_available=0,U.ins_h=0}(a.state),Z}function xt(a,Z,U,A,w,x){if(!a)return v;var V=1;if(Z===d&&(Z=6),A<0?(V=0,A=-A):15<A&&(V=2,A-=16),w<1||S<w||U!==b||A<8||15<A||Z<0||9<Z||x<0||_<x)return nt(a,v);A===8&&(A=9);var K=new vt;return(a.state=K).strm=a,K.wrap=V,K.gzhead=null,K.w_bits=A,K.w_size=1<<K.w_bits,K.w_mask=K.w_size-1,K.hash_bits=w+7,K.hash_size=1<<K.hash_bits,K.hash_mask=K.hash_size-1,K.hash_shift=~~((K.hash_bits+D-1)/D),K.window=new s.Buf8(2*K.w_size),K.head=new s.Buf16(K.hash_size),K.prev=new s.Buf16(K.w_size),K.lit_bufsize=1<<w+6,K.pending_buf_size=4*K.lit_bufsize,K.pending_buf=new s.Buf8(K.pending_buf_size),K.d_buf=1*K.lit_bufsize,K.l_buf=3*K.lit_bufsize,K.level=Z,K.strategy=x,K.method=U,Ot(a)}n=[new ft(0,0,0,0,function(a,Z){var U=65535;for(U>a.pending_buf_size-5&&(U=a.pending_buf_size-5);;){if(a.lookahead<=1){if(ut(a),a.lookahead===0&&Z===p)return u;if(a.lookahead===0)break}a.strstart+=a.lookahead,a.lookahead=0;var A=a.block_start+U;if((a.strstart===0||a.strstart>=A)&&(a.lookahead=a.strstart-A,a.strstart=A,z(a,!1),a.strm.avail_out===0)||a.strstart-a.block_start>=a.w_size-G&&(z(a,!1),a.strm.avail_out===0))return u}return a.insert=0,Z===y?(z(a,!0),a.strm.avail_out===0?Q:W):(a.strstart>a.block_start&&(z(a,!1),a.strm.avail_out),u)}),new ft(4,4,8,4,ht),new ft(4,5,16,8,ht),new ft(4,6,32,32,ht),new ft(4,4,16,16,it),new ft(8,16,32,32,it),new ft(8,16,128,128,it),new ft(8,32,128,256,it),new ft(32,128,258,1024,it),new ft(32,258,258,4096,it)],r.deflateInit=function(a,Z){return xt(a,Z,b,15,8,0)},r.deflateInit2=xt,r.deflateReset=Ot,r.deflateResetKeep=pt,r.deflateSetHeader=function(a,Z){return a&&a.state?a.state.wrap!==2?v:(a.state.gzhead=Z,h):v},r.deflate=function(a,Z){var U,A,w,x;if(!a||!a.state||5<Z||Z<0)return a?nt(a,v):v;if(A=a.state,!a.output||!a.input&&a.avail_in!==0||A.status===666&&Z!==y)return nt(a,a.avail_out===0?-5:v);if(A.strm=a,U=A.last_flush,A.last_flush=Z,A.status===k)if(A.wrap===2)a.adler=0,H(A,31),H(A,139),H(A,8),A.gzhead?(H(A,(A.gzhead.text?1:0)+(A.gzhead.hcrc?2:0)+(A.gzhead.extra?4:0)+(A.gzhead.name?8:0)+(A.gzhead.comment?16:0)),H(A,255&A.gzhead.time),H(A,A.gzhead.time>>8&255),H(A,A.gzhead.time>>16&255),H(A,A.gzhead.time>>24&255),H(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),H(A,255&A.gzhead.os),A.gzhead.extra&&A.gzhead.extra.length&&(H(A,255&A.gzhead.extra.length),H(A,A.gzhead.extra.length>>8&255)),A.gzhead.hcrc&&(a.adler=f(a.adler,A.pending_buf,A.pending,0)),A.gzindex=0,A.status=69):(H(A,0),H(A,0),H(A,0),H(A,0),H(A,0),H(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),H(A,3),A.status=O);else{var V=b+(A.w_bits-8<<4)<<8;V|=(2<=A.strategy||A.level<2?0:A.level<6?1:A.level===6?2:3)<<6,A.strstart!==0&&(V|=32),V+=31-V%31,A.status=O,Y(A,V),A.strstart!==0&&(Y(A,a.adler>>>16),Y(A,65535&a.adler)),a.adler=1}if(A.status===69)if(A.gzhead.extra){for(w=A.pending;A.gzindex<(65535&A.gzhead.extra.length)&&(A.pending!==A.pending_buf_size||(A.gzhead.hcrc&&A.pending>w&&(a.adler=f(a.adler,A.pending_buf,A.pending-w,w)),E(a),w=A.pending,A.pending!==A.pending_buf_size));)H(A,255&A.gzhead.extra[A.gzindex]),A.gzindex++;A.gzhead.hcrc&&A.pending>w&&(a.adler=f(a.adler,A.pending_buf,A.pending-w,w)),A.gzindex===A.gzhead.extra.length&&(A.gzindex=0,A.status=73)}else A.status=73;if(A.status===73)if(A.gzhead.name){w=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>w&&(a.adler=f(a.adler,A.pending_buf,A.pending-w,w)),E(a),w=A.pending,A.pending===A.pending_buf_size)){x=1;break}x=A.gzindex<A.gzhead.name.length?255&A.gzhead.name.charCodeAt(A.gzindex++):0,H(A,x)}while(x!==0);A.gzhead.hcrc&&A.pending>w&&(a.adler=f(a.adler,A.pending_buf,A.pending-w,w)),x===0&&(A.gzindex=0,A.status=91)}else A.status=91;if(A.status===91)if(A.gzhead.comment){w=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>w&&(a.adler=f(a.adler,A.pending_buf,A.pending-w,w)),E(a),w=A.pending,A.pending===A.pending_buf_size)){x=1;break}x=A.gzindex<A.gzhead.comment.length?255&A.gzhead.comment.charCodeAt(A.gzindex++):0,H(A,x)}while(x!==0);A.gzhead.hcrc&&A.pending>w&&(a.adler=f(a.adler,A.pending_buf,A.pending-w,w)),x===0&&(A.status=103)}else A.status=103;if(A.status===103&&(A.gzhead.hcrc?(A.pending+2>A.pending_buf_size&&E(a),A.pending+2<=A.pending_buf_size&&(H(A,255&a.adler),H(A,a.adler>>8&255),a.adler=0,A.status=O)):A.status=O),A.pending!==0){if(E(a),a.avail_out===0)return A.last_flush=-1,h}else if(a.avail_in===0&&B(Z)<=B(U)&&Z!==y)return nt(a,-5);if(A.status===666&&a.avail_in!==0)return nt(a,-5);if(a.avail_in!==0||A.lookahead!==0||Z!==p&&A.status!==666){var K=A.strategy===2?function(R,J){for(var $;;){if(R.lookahead===0&&(ut(R),R.lookahead===0)){if(J===p)return u;break}if(R.match_length=0,$=l._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++,$&&(z(R,!1),R.strm.avail_out===0))return u}return R.insert=0,J===y?(z(R,!0),R.strm.avail_out===0?Q:W):R.last_lit&&(z(R,!1),R.strm.avail_out===0)?u:P}(A,Z):A.strategy===3?function(R,J){for(var $,X,rt,gt,dt=R.window;;){if(R.lookahead<=M){if(ut(R),R.lookahead<=M&&J===p)return u;if(R.lookahead===0)break}if(R.match_length=0,R.lookahead>=D&&0<R.strstart&&(X=dt[rt=R.strstart-1])===dt[++rt]&&X===dt[++rt]&&X===dt[++rt]){gt=R.strstart+M;do;while(X===dt[++rt]&&X===dt[++rt]&&X===dt[++rt]&&X===dt[++rt]&&X===dt[++rt]&&X===dt[++rt]&&X===dt[++rt]&&X===dt[++rt]&&rt<gt);R.match_length=M-(gt-rt),R.match_length>R.lookahead&&(R.match_length=R.lookahead)}if(R.match_length>=D?($=l._tr_tally(R,1,R.match_length-D),R.lookahead-=R.match_length,R.strstart+=R.match_length,R.match_length=0):($=l._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++),$&&(z(R,!1),R.strm.avail_out===0))return u}return R.insert=0,J===y?(z(R,!0),R.strm.avail_out===0?Q:W):R.last_lit&&(z(R,!1),R.strm.avail_out===0)?u:P}(A,Z):n[A.level].func(A,Z);if(K!==Q&&K!==W||(A.status=666),K===u||K===Q)return a.avail_out===0&&(A.last_flush=-1),h;if(K===P&&(Z===1?l._tr_align(A):Z!==5&&(l._tr_stored_block(A,0,0,!1),Z===3&&(F(A.head),A.lookahead===0&&(A.strstart=0,A.block_start=0,A.insert=0))),E(a),a.avail_out===0))return A.last_flush=-1,h}return Z!==y?h:A.wrap<=0?1:(A.wrap===2?(H(A,255&a.adler),H(A,a.adler>>8&255),H(A,a.adler>>16&255),H(A,a.adler>>24&255),H(A,255&a.total_in),H(A,a.total_in>>8&255),H(A,a.total_in>>16&255),H(A,a.total_in>>24&255)):(Y(A,a.adler>>>16),Y(A,65535&a.adler)),E(a),0<A.wrap&&(A.wrap=-A.wrap),A.pending!==0?h:1)},r.deflateEnd=function(a){var Z;return a&&a.state?(Z=a.state.status)!==k&&Z!==69&&Z!==73&&Z!==91&&Z!==103&&Z!==O&&Z!==666?nt(a,v):(a.state=null,Z===O?nt(a,-3):h):v},r.deflateSetDictionary=function(a,Z){var U,A,w,x,V,K,R,J,$=Z.length;if(!a||!a.state||(x=(U=a.state).wrap)===2||x===1&&U.status!==k||U.lookahead)return v;for(x===1&&(a.adler=c(a.adler,Z,$,0)),U.wrap=0,$>=U.w_size&&(x===0&&(F(U.head),U.strstart=0,U.block_start=0,U.insert=0),J=new s.Buf8(U.w_size),s.arraySet(J,Z,$-U.w_size,U.w_size,0),Z=J,$=U.w_size),V=a.avail_in,K=a.next_in,R=a.input,a.avail_in=$,a.next_in=0,a.input=Z,ut(U);U.lookahead>=D;){for(A=U.strstart,w=U.lookahead-(D-1);U.ins_h=(U.ins_h<<U.hash_shift^U.window[A+D-1])&U.hash_mask,U.prev[A&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=A,A++,--w;);U.strstart=A,U.lookahead=D-1,ut(U)}return U.strstart+=U.lookahead,U.block_start=U.strstart,U.insert=U.lookahead,U.lookahead=0,U.match_length=U.prev_length=D-1,U.match_available=0,a.next_in=K,a.input=R,a.avail_in=V,U.wrap=x,h},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,o,r){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,o,r){o.exports=function(n,s){var l,c,f,m,p,y,h,v,d,_,g,b,S,I,C,N,L,j,D,M,G,k,O,u,P;l=n.state,c=n.next_in,u=n.input,f=c+(n.avail_in-5),m=n.next_out,P=n.output,p=m-(s-n.avail_out),y=m+(n.avail_out-257),h=l.dmax,v=l.wsize,d=l.whave,_=l.wnext,g=l.window,b=l.hold,S=l.bits,I=l.lencode,C=l.distcode,N=(1<<l.lenbits)-1,L=(1<<l.distbits)-1;t:do{S<15&&(b+=u[c++]<<S,S+=8,b+=u[c++]<<S,S+=8),j=I[b&N];e:for(;;){if(b>>>=D=j>>>24,S-=D,(D=j>>>16&255)===0)P[m++]=65535&j;else{if(!(16&D)){if((64&D)==0){j=I[(65535&j)+(b&(1<<D)-1)];continue e}if(32&D){l.mode=12;break t}n.msg="invalid literal/length code",l.mode=30;break t}M=65535&j,(D&=15)&&(S<D&&(b+=u[c++]<<S,S+=8),M+=b&(1<<D)-1,b>>>=D,S-=D),S<15&&(b+=u[c++]<<S,S+=8,b+=u[c++]<<S,S+=8),j=C[b&L];n:for(;;){if(b>>>=D=j>>>24,S-=D,!(16&(D=j>>>16&255))){if((64&D)==0){j=C[(65535&j)+(b&(1<<D)-1)];continue n}n.msg="invalid distance code",l.mode=30;break t}if(G=65535&j,S<(D&=15)&&(b+=u[c++]<<S,(S+=8)<D&&(b+=u[c++]<<S,S+=8)),h<(G+=b&(1<<D)-1)){n.msg="invalid distance too far back",l.mode=30;break t}if(b>>>=D,S-=D,(D=m-p)<G){if(d<(D=G-D)&&l.sane){n.msg="invalid distance too far back",l.mode=30;break t}if(O=g,(k=0)===_){if(k+=v-D,D<M){for(M-=D;P[m++]=g[k++],--D;);k=m-G,O=P}}else if(_<D){if(k+=v+_-D,(D-=_)<M){for(M-=D;P[m++]=g[k++],--D;);if(k=0,_<M){for(M-=D=_;P[m++]=g[k++],--D;);k=m-G,O=P}}}else if(k+=_-D,D<M){for(M-=D;P[m++]=g[k++],--D;);k=m-G,O=P}for(;2<M;)P[m++]=O[k++],P[m++]=O[k++],P[m++]=O[k++],M-=3;M&&(P[m++]=O[k++],1<M&&(P[m++]=O[k++]))}else{for(k=m-G;P[m++]=P[k++],P[m++]=P[k++],P[m++]=P[k++],2<(M-=3););M&&(P[m++]=P[k++],1<M&&(P[m++]=P[k++]))}break}}break}}while(c<f&&m<y);c-=M=S>>3,b&=(1<<(S-=M<<3))-1,n.next_in=c,n.next_out=m,n.avail_in=c<f?f-c+5:5-(c-f),n.avail_out=m<y?y-m+257:257-(m-y),l.hold=b,l.bits=S}},{}],49:[function(t,o,r){var n=t("../utils/common"),s=t("./adler32"),l=t("./crc32"),c=t("./inffast"),f=t("./inftrees"),m=1,p=2,y=0,h=-2,v=1,d=852,_=592;function g(k){return(k>>>24&255)+(k>>>8&65280)+((65280&k)<<8)+((255&k)<<24)}function b(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function S(k){var O;return k&&k.state?(O=k.state,k.total_in=k.total_out=O.total=0,k.msg="",O.wrap&&(k.adler=1&O.wrap),O.mode=v,O.last=0,O.havedict=0,O.dmax=32768,O.head=null,O.hold=0,O.bits=0,O.lencode=O.lendyn=new n.Buf32(d),O.distcode=O.distdyn=new n.Buf32(_),O.sane=1,O.back=-1,y):h}function I(k){var O;return k&&k.state?((O=k.state).wsize=0,O.whave=0,O.wnext=0,S(k)):h}function C(k,O){var u,P;return k&&k.state?(P=k.state,O<0?(u=0,O=-O):(u=1+(O>>4),O<48&&(O&=15)),O&&(O<8||15<O)?h:(P.window!==null&&P.wbits!==O&&(P.window=null),P.wrap=u,P.wbits=O,I(k))):h}function N(k,O){var u,P;return k?(P=new b,(k.state=P).window=null,(u=C(k,O))!==y&&(k.state=null),u):h}var L,j,D=!0;function M(k){if(D){var O;for(L=new n.Buf32(512),j=new n.Buf32(32),O=0;O<144;)k.lens[O++]=8;for(;O<256;)k.lens[O++]=9;for(;O<280;)k.lens[O++]=7;for(;O<288;)k.lens[O++]=8;for(f(m,k.lens,0,288,L,0,k.work,{bits:9}),O=0;O<32;)k.lens[O++]=5;f(p,k.lens,0,32,j,0,k.work,{bits:5}),D=!1}k.lencode=L,k.lenbits=9,k.distcode=j,k.distbits=5}function G(k,O,u,P){var Q,W=k.state;return W.window===null&&(W.wsize=1<<W.wbits,W.wnext=0,W.whave=0,W.window=new n.Buf8(W.wsize)),P>=W.wsize?(n.arraySet(W.window,O,u-W.wsize,W.wsize,0),W.wnext=0,W.whave=W.wsize):(P<(Q=W.wsize-W.wnext)&&(Q=P),n.arraySet(W.window,O,u-P,Q,W.wnext),(P-=Q)?(n.arraySet(W.window,O,u-P,P,0),W.wnext=P,W.whave=W.wsize):(W.wnext+=Q,W.wnext===W.wsize&&(W.wnext=0),W.whave<W.wsize&&(W.whave+=Q))),0}r.inflateReset=I,r.inflateReset2=C,r.inflateResetKeep=S,r.inflateInit=function(k){return N(k,15)},r.inflateInit2=N,r.inflate=function(k,O){var u,P,Q,W,nt,B,F,E,z,H,Y,q,ut,ht,it,ft,vt,pt,Ot,xt,a,Z,U,A,w=0,x=new n.Buf8(4),V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return h;(u=k.state).mode===12&&(u.mode=13),nt=k.next_out,Q=k.output,F=k.avail_out,W=k.next_in,P=k.input,B=k.avail_in,E=u.hold,z=u.bits,H=B,Y=F,Z=y;t:for(;;)switch(u.mode){case v:if(u.wrap===0){u.mode=13;break}for(;z<16;){if(B===0)break t;B--,E+=P[W++]<<z,z+=8}if(2&u.wrap&&E===35615){x[u.check=0]=255&E,x[1]=E>>>8&255,u.check=l(u.check,x,2,0),z=E=0,u.mode=2;break}if(u.flags=0,u.head&&(u.head.done=!1),!(1&u.wrap)||(((255&E)<<8)+(E>>8))%31){k.msg="incorrect header check",u.mode=30;break}if((15&E)!=8){k.msg="unknown compression method",u.mode=30;break}if(z-=4,a=8+(15&(E>>>=4)),u.wbits===0)u.wbits=a;else if(a>u.wbits){k.msg="invalid window size",u.mode=30;break}u.dmax=1<<a,k.adler=u.check=1,u.mode=512&E?10:12,z=E=0;break;case 2:for(;z<16;){if(B===0)break t;B--,E+=P[W++]<<z,z+=8}if(u.flags=E,(255&u.flags)!=8){k.msg="unknown compression method",u.mode=30;break}if(57344&u.flags){k.msg="unknown header flags set",u.mode=30;break}u.head&&(u.head.text=E>>8&1),512&u.flags&&(x[0]=255&E,x[1]=E>>>8&255,u.check=l(u.check,x,2,0)),z=E=0,u.mode=3;case 3:for(;z<32;){if(B===0)break t;B--,E+=P[W++]<<z,z+=8}u.head&&(u.head.time=E),512&u.flags&&(x[0]=255&E,x[1]=E>>>8&255,x[2]=E>>>16&255,x[3]=E>>>24&255,u.check=l(u.check,x,4,0)),z=E=0,u.mode=4;case 4:for(;z<16;){if(B===0)break t;B--,E+=P[W++]<<z,z+=8}u.head&&(u.head.xflags=255&E,u.head.os=E>>8),512&u.flags&&(x[0]=255&E,x[1]=E>>>8&255,u.check=l(u.check,x,2,0)),z=E=0,u.mode=5;case 5:if(1024&u.flags){for(;z<16;){if(B===0)break t;B--,E+=P[W++]<<z,z+=8}u.length=E,u.head&&(u.head.extra_len=E),512&u.flags&&(x[0]=255&E,x[1]=E>>>8&255,u.check=l(u.check,x,2,0)),z=E=0}else u.head&&(u.head.extra=null);u.mode=6;case 6:if(1024&u.flags&&(B<(q=u.length)&&(q=B),q&&(u.head&&(a=u.head.extra_len-u.length,u.head.extra||(u.head.extra=new Array(u.head.extra_len)),n.arraySet(u.head.extra,P,W,q,a)),512&u.flags&&(u.check=l(u.check,P,q,W)),B-=q,W+=q,u.length-=q),u.length))break t;u.length=0,u.mode=7;case 7:if(2048&u.flags){if(B===0)break t;for(q=0;a=P[W+q++],u.head&&a&&u.length<65536&&(u.head.name+=String.fromCharCode(a)),a&&q<B;);if(512&u.flags&&(u.check=l(u.check,P,q,W)),B-=q,W+=q,a)break t}else u.head&&(u.head.name=null);u.length=0,u.mode=8;case 8:if(4096&u.flags){if(B===0)break t;for(q=0;a=P[W+q++],u.head&&a&&u.length<65536&&(u.head.comment+=String.fromCharCode(a)),a&&q<B;);if(512&u.flags&&(u.check=l(u.check,P,q,W)),B-=q,W+=q,a)break t}else u.head&&(u.head.comment=null);u.mode=9;case 9:if(512&u.flags){for(;z<16;){if(B===0)break t;B--,E+=P[W++]<<z,z+=8}if(E!==(65535&u.check)){k.msg="header crc mismatch",u.mode=30;break}z=E=0}u.head&&(u.head.hcrc=u.flags>>9&1,u.head.done=!0),k.adler=u.check=0,u.mode=12;break;case 10:for(;z<32;){if(B===0)break t;B--,E+=P[W++]<<z,z+=8}k.adler=u.check=g(E),z=E=0,u.mode=11;case 11:if(u.havedict===0)return k.next_out=nt,k.avail_out=F,k.next_in=W,k.avail_in=B,u.hold=E,u.bits=z,2;k.adler=u.check=1,u.mode=12;case 12:if(O===5||O===6)break t;case 13:if(u.last){E>>>=7&z,z-=7&z,u.mode=27;break}for(;z<3;){if(B===0)break t;B--,E+=P[W++]<<z,z+=8}switch(u.last=1&E,z-=1,3&(E>>>=1)){case 0:u.mode=14;break;case 1:if(M(u),u.mode=20,O!==6)break;E>>>=2,z-=2;break t;case 2:u.mode=17;break;case 3:k.msg="invalid block type",u.mode=30}E>>>=2,z-=2;break;case 14:for(E>>>=7&z,z-=7&z;z<32;){if(B===0)break t;B--,E+=P[W++]<<z,z+=8}if((65535&E)!=(E>>>16^65535)){k.msg="invalid stored block lengths",u.mode=30;break}if(u.length=65535&E,z=E=0,u.mode=15,O===6)break t;case 15:u.mode=16;case 16:if(q=u.length){if(B<q&&(q=B),F<q&&(q=F),q===0)break t;n.arraySet(Q,P,W,q,nt),B-=q,W+=q,F-=q,nt+=q,u.length-=q;break}u.mode=12;break;case 17:for(;z<14;){if(B===0)break t;B--,E+=P[W++]<<z,z+=8}if(u.nlen=257+(31&E),E>>>=5,z-=5,u.ndist=1+(31&E),E>>>=5,z-=5,u.ncode=4+(15&E),E>>>=4,z-=4,286<u.nlen||30<u.ndist){k.msg="too many length or distance symbols",u.mode=30;break}u.have=0,u.mode=18;case 18:for(;u.have<u.ncode;){for(;z<3;){if(B===0)break t;B--,E+=P[W++]<<z,z+=8}u.lens[V[u.have++]]=7&E,E>>>=3,z-=3}for(;u.have<19;)u.lens[V[u.have++]]=0;if(u.lencode=u.lendyn,u.lenbits=7,U={bits:u.lenbits},Z=f(0,u.lens,0,19,u.lencode,0,u.work,U),u.lenbits=U.bits,Z){k.msg="invalid code lengths set",u.mode=30;break}u.have=0,u.mode=19;case 19:for(;u.have<u.nlen+u.ndist;){for(;ft=(w=u.lencode[E&(1<<u.lenbits)-1])>>>16&255,vt=65535&w,!((it=w>>>24)<=z);){if(B===0)break t;B--,E+=P[W++]<<z,z+=8}if(vt<16)E>>>=it,z-=it,u.lens[u.have++]=vt;else{if(vt===16){for(A=it+2;z<A;){if(B===0)break t;B--,E+=P[W++]<<z,z+=8}if(E>>>=it,z-=it,u.have===0){k.msg="invalid bit length repeat",u.mode=30;break}a=u.lens[u.have-1],q=3+(3&E),E>>>=2,z-=2}else if(vt===17){for(A=it+3;z<A;){if(B===0)break t;B--,E+=P[W++]<<z,z+=8}z-=it,a=0,q=3+(7&(E>>>=it)),E>>>=3,z-=3}else{for(A=it+7;z<A;){if(B===0)break t;B--,E+=P[W++]<<z,z+=8}z-=it,a=0,q=11+(127&(E>>>=it)),E>>>=7,z-=7}if(u.have+q>u.nlen+u.ndist){k.msg="invalid bit length repeat",u.mode=30;break}for(;q--;)u.lens[u.have++]=a}}if(u.mode===30)break;if(u.lens[256]===0){k.msg="invalid code -- missing end-of-block",u.mode=30;break}if(u.lenbits=9,U={bits:u.lenbits},Z=f(m,u.lens,0,u.nlen,u.lencode,0,u.work,U),u.lenbits=U.bits,Z){k.msg="invalid literal/lengths set",u.mode=30;break}if(u.distbits=6,u.distcode=u.distdyn,U={bits:u.distbits},Z=f(p,u.lens,u.nlen,u.ndist,u.distcode,0,u.work,U),u.distbits=U.bits,Z){k.msg="invalid distances set",u.mode=30;break}if(u.mode=20,O===6)break t;case 20:u.mode=21;case 21:if(6<=B&&258<=F){k.next_out=nt,k.avail_out=F,k.next_in=W,k.avail_in=B,u.hold=E,u.bits=z,c(k,Y),nt=k.next_out,Q=k.output,F=k.avail_out,W=k.next_in,P=k.input,B=k.avail_in,E=u.hold,z=u.bits,u.mode===12&&(u.back=-1);break}for(u.back=0;ft=(w=u.lencode[E&(1<<u.lenbits)-1])>>>16&255,vt=65535&w,!((it=w>>>24)<=z);){if(B===0)break t;B--,E+=P[W++]<<z,z+=8}if(ft&&(240&ft)==0){for(pt=it,Ot=ft,xt=vt;ft=(w=u.lencode[xt+((E&(1<<pt+Ot)-1)>>pt)])>>>16&255,vt=65535&w,!(pt+(it=w>>>24)<=z);){if(B===0)break t;B--,E+=P[W++]<<z,z+=8}E>>>=pt,z-=pt,u.back+=pt}if(E>>>=it,z-=it,u.back+=it,u.length=vt,ft===0){u.mode=26;break}if(32&ft){u.back=-1,u.mode=12;break}if(64&ft){k.msg="invalid literal/length code",u.mode=30;break}u.extra=15&ft,u.mode=22;case 22:if(u.extra){for(A=u.extra;z<A;){if(B===0)break t;B--,E+=P[W++]<<z,z+=8}u.length+=E&(1<<u.extra)-1,E>>>=u.extra,z-=u.extra,u.back+=u.extra}u.was=u.length,u.mode=23;case 23:for(;ft=(w=u.distcode[E&(1<<u.distbits)-1])>>>16&255,vt=65535&w,!((it=w>>>24)<=z);){if(B===0)break t;B--,E+=P[W++]<<z,z+=8}if((240&ft)==0){for(pt=it,Ot=ft,xt=vt;ft=(w=u.distcode[xt+((E&(1<<pt+Ot)-1)>>pt)])>>>16&255,vt=65535&w,!(pt+(it=w>>>24)<=z);){if(B===0)break t;B--,E+=P[W++]<<z,z+=8}E>>>=pt,z-=pt,u.back+=pt}if(E>>>=it,z-=it,u.back+=it,64&ft){k.msg="invalid distance code",u.mode=30;break}u.offset=vt,u.extra=15&ft,u.mode=24;case 24:if(u.extra){for(A=u.extra;z<A;){if(B===0)break t;B--,E+=P[W++]<<z,z+=8}u.offset+=E&(1<<u.extra)-1,E>>>=u.extra,z-=u.extra,u.back+=u.extra}if(u.offset>u.dmax){k.msg="invalid distance too far back",u.mode=30;break}u.mode=25;case 25:if(F===0)break t;if(q=Y-F,u.offset>q){if((q=u.offset-q)>u.whave&&u.sane){k.msg="invalid distance too far back",u.mode=30;break}ut=q>u.wnext?(q-=u.wnext,u.wsize-q):u.wnext-q,q>u.length&&(q=u.length),ht=u.window}else ht=Q,ut=nt-u.offset,q=u.length;for(F<q&&(q=F),F-=q,u.length-=q;Q[nt++]=ht[ut++],--q;);u.length===0&&(u.mode=21);break;case 26:if(F===0)break t;Q[nt++]=u.length,F--,u.mode=21;break;case 27:if(u.wrap){for(;z<32;){if(B===0)break t;B--,E|=P[W++]<<z,z+=8}if(Y-=F,k.total_out+=Y,u.total+=Y,Y&&(k.adler=u.check=u.flags?l(u.check,Q,Y,nt-Y):s(u.check,Q,Y,nt-Y)),Y=F,(u.flags?E:g(E))!==u.check){k.msg="incorrect data check",u.mode=30;break}z=E=0}u.mode=28;case 28:if(u.wrap&&u.flags){for(;z<32;){if(B===0)break t;B--,E+=P[W++]<<z,z+=8}if(E!==(4294967295&u.total)){k.msg="incorrect length check",u.mode=30;break}z=E=0}u.mode=29;case 29:Z=1;break t;case 30:Z=-3;break t;case 31:return-4;case 32:default:return h}return k.next_out=nt,k.avail_out=F,k.next_in=W,k.avail_in=B,u.hold=E,u.bits=z,(u.wsize||Y!==k.avail_out&&u.mode<30&&(u.mode<27||O!==4))&&G(k,k.output,k.next_out,Y-k.avail_out)?(u.mode=31,-4):(H-=k.avail_in,Y-=k.avail_out,k.total_in+=H,k.total_out+=Y,u.total+=Y,u.wrap&&Y&&(k.adler=u.check=u.flags?l(u.check,Q,Y,k.next_out-Y):s(u.check,Q,Y,k.next_out-Y)),k.data_type=u.bits+(u.last?64:0)+(u.mode===12?128:0)+(u.mode===20||u.mode===15?256:0),(H==0&&Y===0||O===4)&&Z===y&&(Z=-5),Z)},r.inflateEnd=function(k){if(!k||!k.state)return h;var O=k.state;return O.window&&(O.window=null),k.state=null,y},r.inflateGetHeader=function(k,O){var u;return k&&k.state?(2&(u=k.state).wrap)==0?h:((u.head=O).done=!1,y):h},r.inflateSetDictionary=function(k,O){var u,P=O.length;return k&&k.state?(u=k.state).wrap!==0&&u.mode!==11?h:u.mode===11&&s(1,O,P,0)!==u.check?-3:G(k,O,P,P)?(u.mode=31,-4):(u.havedict=1,y):h},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,o,r){var n=t("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(m,p,y,h,v,d,_,g){var b,S,I,C,N,L,j,D,M,G=g.bits,k=0,O=0,u=0,P=0,Q=0,W=0,nt=0,B=0,F=0,E=0,z=null,H=0,Y=new n.Buf16(16),q=new n.Buf16(16),ut=null,ht=0;for(k=0;k<=15;k++)Y[k]=0;for(O=0;O<h;O++)Y[p[y+O]]++;for(Q=G,P=15;1<=P&&Y[P]===0;P--);if(P<Q&&(Q=P),P===0)return v[d++]=20971520,v[d++]=20971520,g.bits=1,0;for(u=1;u<P&&Y[u]===0;u++);for(Q<u&&(Q=u),k=B=1;k<=15;k++)if(B<<=1,(B-=Y[k])<0)return-1;if(0<B&&(m===0||P!==1))return-1;for(q[1]=0,k=1;k<15;k++)q[k+1]=q[k]+Y[k];for(O=0;O<h;O++)p[y+O]!==0&&(_[q[p[y+O]]++]=O);if(L=m===0?(z=ut=_,19):m===1?(z=s,H-=257,ut=l,ht-=257,256):(z=c,ut=f,-1),k=u,N=d,nt=O=E=0,I=-1,C=(F=1<<(W=Q))-1,m===1&&852<F||m===2&&592<F)return 1;for(;;){for(j=k-nt,M=_[O]<L?(D=0,_[O]):_[O]>L?(D=ut[ht+_[O]],z[H+_[O]]):(D=96,0),b=1<<k-nt,u=S=1<<W;v[N+(E>>nt)+(S-=b)]=j<<24|D<<16|M|0,S!==0;);for(b=1<<k-1;E&b;)b>>=1;if(b!==0?(E&=b-1,E+=b):E=0,O++,--Y[k]==0){if(k===P)break;k=p[y+_[O]]}if(Q<k&&(E&C)!==I){for(nt===0&&(nt=Q),N+=u,B=1<<(W=k-nt);W+nt<P&&!((B-=Y[W+nt])<=0);)W++,B<<=1;if(F+=1<<W,m===1&&852<F||m===2&&592<F)return 1;v[I=E&C]=Q<<24|W<<16|N-d|0}}return E!==0&&(v[N+E]=k-nt<<24|64<<16|0),g.bits=Q,0}},{"../utils/common":41}],51:[function(t,o,r){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,o,r){var n=t("../utils/common"),s=0,l=1;function c(w){for(var x=w.length;0<=--x;)w[x]=0}var f=0,m=29,p=256,y=p+1+m,h=30,v=19,d=2*y+1,_=15,g=16,b=7,S=256,I=16,C=17,N=18,L=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],j=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],G=new Array(2*(y+2));c(G);var k=new Array(2*h);c(k);var O=new Array(512);c(O);var u=new Array(256);c(u);var P=new Array(m);c(P);var Q,W,nt,B=new Array(h);function F(w,x,V,K,R){this.static_tree=w,this.extra_bits=x,this.extra_base=V,this.elems=K,this.max_length=R,this.has_stree=w&&w.length}function E(w,x){this.dyn_tree=w,this.max_code=0,this.stat_desc=x}function z(w){return w<256?O[w]:O[256+(w>>>7)]}function H(w,x){w.pending_buf[w.pending++]=255&x,w.pending_buf[w.pending++]=x>>>8&255}function Y(w,x,V){w.bi_valid>g-V?(w.bi_buf|=x<<w.bi_valid&65535,H(w,w.bi_buf),w.bi_buf=x>>g-w.bi_valid,w.bi_valid+=V-g):(w.bi_buf|=x<<w.bi_valid&65535,w.bi_valid+=V)}function q(w,x,V){Y(w,V[2*x],V[2*x+1])}function ut(w,x){for(var V=0;V|=1&w,w>>>=1,V<<=1,0<--x;);return V>>>1}function ht(w,x,V){var K,R,J=new Array(_+1),$=0;for(K=1;K<=_;K++)J[K]=$=$+V[K-1]<<1;for(R=0;R<=x;R++){var X=w[2*R+1];X!==0&&(w[2*R]=ut(J[X]++,X))}}function it(w){var x;for(x=0;x<y;x++)w.dyn_ltree[2*x]=0;for(x=0;x<h;x++)w.dyn_dtree[2*x]=0;for(x=0;x<v;x++)w.bl_tree[2*x]=0;w.dyn_ltree[2*S]=1,w.opt_len=w.static_len=0,w.last_lit=w.matches=0}function ft(w){8<w.bi_valid?H(w,w.bi_buf):0<w.bi_valid&&(w.pending_buf[w.pending++]=w.bi_buf),w.bi_buf=0,w.bi_valid=0}function vt(w,x,V,K){var R=2*x,J=2*V;return w[R]<w[J]||w[R]===w[J]&&K[x]<=K[V]}function pt(w,x,V){for(var K=w.heap[V],R=V<<1;R<=w.heap_len&&(R<w.heap_len&&vt(x,w.heap[R+1],w.heap[R],w.depth)&&R++,!vt(x,K,w.heap[R],w.depth));)w.heap[V]=w.heap[R],V=R,R<<=1;w.heap[V]=K}function Ot(w,x,V){var K,R,J,$,X=0;if(w.last_lit!==0)for(;K=w.pending_buf[w.d_buf+2*X]<<8|w.pending_buf[w.d_buf+2*X+1],R=w.pending_buf[w.l_buf+X],X++,K===0?q(w,R,x):(q(w,(J=u[R])+p+1,x),($=L[J])!==0&&Y(w,R-=P[J],$),q(w,J=z(--K),V),($=j[J])!==0&&Y(w,K-=B[J],$)),X<w.last_lit;);q(w,S,x)}function xt(w,x){var V,K,R,J=x.dyn_tree,$=x.stat_desc.static_tree,X=x.stat_desc.has_stree,rt=x.stat_desc.elems,gt=-1;for(w.heap_len=0,w.heap_max=d,V=0;V<rt;V++)J[2*V]!==0?(w.heap[++w.heap_len]=gt=V,w.depth[V]=0):J[2*V+1]=0;for(;w.heap_len<2;)J[2*(R=w.heap[++w.heap_len]=gt<2?++gt:0)]=1,w.depth[R]=0,w.opt_len--,X&&(w.static_len-=$[2*R+1]);for(x.max_code=gt,V=w.heap_len>>1;1<=V;V--)pt(w,J,V);for(R=rt;V=w.heap[1],w.heap[1]=w.heap[w.heap_len--],pt(w,J,1),K=w.heap[1],w.heap[--w.heap_max]=V,w.heap[--w.heap_max]=K,J[2*R]=J[2*V]+J[2*K],w.depth[R]=(w.depth[V]>=w.depth[K]?w.depth[V]:w.depth[K])+1,J[2*V+1]=J[2*K+1]=R,w.heap[1]=R++,pt(w,J,1),2<=w.heap_len;);w.heap[--w.heap_max]=w.heap[1],function(dt,At){var Xt,Ft,Qt,yt,se,be,Pt=At.dyn_tree,Oe=At.max_code,gn=At.stat_desc.static_tree,_n=At.stat_desc.has_stree,bn=At.stat_desc.extra_bits,Fe=At.stat_desc.extra_base,$t=At.stat_desc.max_length,oe=0;for(yt=0;yt<=_;yt++)dt.bl_count[yt]=0;for(Pt[2*dt.heap[dt.heap_max]+1]=0,Xt=dt.heap_max+1;Xt<d;Xt++)$t<(yt=Pt[2*Pt[2*(Ft=dt.heap[Xt])+1]+1]+1)&&(yt=$t,oe++),Pt[2*Ft+1]=yt,Oe<Ft||(dt.bl_count[yt]++,se=0,Fe<=Ft&&(se=bn[Ft-Fe]),be=Pt[2*Ft],dt.opt_len+=be*(yt+se),_n&&(dt.static_len+=be*(gn[2*Ft+1]+se)));if(oe!==0){do{for(yt=$t-1;dt.bl_count[yt]===0;)yt--;dt.bl_count[yt]--,dt.bl_count[yt+1]+=2,dt.bl_count[$t]--,oe-=2}while(0<oe);for(yt=$t;yt!==0;yt--)for(Ft=dt.bl_count[yt];Ft!==0;)Oe<(Qt=dt.heap[--Xt])||(Pt[2*Qt+1]!==yt&&(dt.opt_len+=(yt-Pt[2*Qt+1])*Pt[2*Qt],Pt[2*Qt+1]=yt),Ft--)}}(w,x),ht(J,gt,w.bl_count)}function a(w,x,V){var K,R,J=-1,$=x[1],X=0,rt=7,gt=4;for($===0&&(rt=138,gt=3),x[2*(V+1)+1]=65535,K=0;K<=V;K++)R=$,$=x[2*(K+1)+1],++X<rt&&R===$||(X<gt?w.bl_tree[2*R]+=X:R!==0?(R!==J&&w.bl_tree[2*R]++,w.bl_tree[2*I]++):X<=10?w.bl_tree[2*C]++:w.bl_tree[2*N]++,J=R,gt=(X=0)===$?(rt=138,3):R===$?(rt=6,3):(rt=7,4))}function Z(w,x,V){var K,R,J=-1,$=x[1],X=0,rt=7,gt=4;for($===0&&(rt=138,gt=3),K=0;K<=V;K++)if(R=$,$=x[2*(K+1)+1],!(++X<rt&&R===$)){if(X<gt)for(;q(w,R,w.bl_tree),--X!=0;);else R!==0?(R!==J&&(q(w,R,w.bl_tree),X--),q(w,I,w.bl_tree),Y(w,X-3,2)):X<=10?(q(w,C,w.bl_tree),Y(w,X-3,3)):(q(w,N,w.bl_tree),Y(w,X-11,7));J=R,gt=(X=0)===$?(rt=138,3):R===$?(rt=6,3):(rt=7,4)}}c(B);var U=!1;function A(w,x,V,K){Y(w,(f<<1)+(K?1:0),3),function(R,J,$,X){ft(R),X&&(H(R,$),H(R,~$)),n.arraySet(R.pending_buf,R.window,J,$,R.pending),R.pending+=$}(w,x,V,!0)}r._tr_init=function(w){U||(function(){var x,V,K,R,J,$=new Array(_+1);for(R=K=0;R<m-1;R++)for(P[R]=K,x=0;x<1<<L[R];x++)u[K++]=R;for(u[K-1]=R,R=J=0;R<16;R++)for(B[R]=J,x=0;x<1<<j[R];x++)O[J++]=R;for(J>>=7;R<h;R++)for(B[R]=J<<7,x=0;x<1<<j[R]-7;x++)O[256+J++]=R;for(V=0;V<=_;V++)$[V]=0;for(x=0;x<=143;)G[2*x+1]=8,x++,$[8]++;for(;x<=255;)G[2*x+1]=9,x++,$[9]++;for(;x<=279;)G[2*x+1]=7,x++,$[7]++;for(;x<=287;)G[2*x+1]=8,x++,$[8]++;for(ht(G,y+1,$),x=0;x<h;x++)k[2*x+1]=5,k[2*x]=ut(x,5);Q=new F(G,L,p+1,y,_),W=new F(k,j,0,h,_),nt=new F(new Array(0),D,0,v,b)}(),U=!0),w.l_desc=new E(w.dyn_ltree,Q),w.d_desc=new E(w.dyn_dtree,W),w.bl_desc=new E(w.bl_tree,nt),w.bi_buf=0,w.bi_valid=0,it(w)},r._tr_stored_block=A,r._tr_flush_block=function(w,x,V,K){var R,J,$=0;0<w.level?(w.strm.data_type===2&&(w.strm.data_type=function(X){var rt,gt=4093624447;for(rt=0;rt<=31;rt++,gt>>>=1)if(1&gt&&X.dyn_ltree[2*rt]!==0)return s;if(X.dyn_ltree[18]!==0||X.dyn_ltree[20]!==0||X.dyn_ltree[26]!==0)return l;for(rt=32;rt<p;rt++)if(X.dyn_ltree[2*rt]!==0)return l;return s}(w)),xt(w,w.l_desc),xt(w,w.d_desc),$=function(X){var rt;for(a(X,X.dyn_ltree,X.l_desc.max_code),a(X,X.dyn_dtree,X.d_desc.max_code),xt(X,X.bl_desc),rt=v-1;3<=rt&&X.bl_tree[2*M[rt]+1]===0;rt--);return X.opt_len+=3*(rt+1)+5+5+4,rt}(w),R=w.opt_len+3+7>>>3,(J=w.static_len+3+7>>>3)<=R&&(R=J)):R=J=V+5,V+4<=R&&x!==-1?A(w,x,V,K):w.strategy===4||J===R?(Y(w,2+(K?1:0),3),Ot(w,G,k)):(Y(w,4+(K?1:0),3),function(X,rt,gt,dt){var At;for(Y(X,rt-257,5),Y(X,gt-1,5),Y(X,dt-4,4),At=0;At<dt;At++)Y(X,X.bl_tree[2*M[At]+1],3);Z(X,X.dyn_ltree,rt-1),Z(X,X.dyn_dtree,gt-1)}(w,w.l_desc.max_code+1,w.d_desc.max_code+1,$+1),Ot(w,w.dyn_ltree,w.dyn_dtree)),it(w),K&&ft(w)},r._tr_tally=function(w,x,V){return w.pending_buf[w.d_buf+2*w.last_lit]=x>>>8&255,w.pending_buf[w.d_buf+2*w.last_lit+1]=255&x,w.pending_buf[w.l_buf+w.last_lit]=255&V,w.last_lit++,x===0?w.dyn_ltree[2*V]++:(w.matches++,x--,w.dyn_ltree[2*(u[V]+p+1)]++,w.dyn_dtree[2*z(x)]++),w.last_lit===w.lit_bufsize-1},r._tr_align=function(w){Y(w,2,3),q(w,S,G),function(x){x.bi_valid===16?(H(x,x.bi_buf),x.bi_buf=0,x.bi_valid=0):8<=x.bi_valid&&(x.pending_buf[x.pending++]=255&x.bi_buf,x.bi_buf>>=8,x.bi_valid-=8)}(w)}},{"../utils/common":41}],53:[function(t,o,r){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,o,r){(function(n){(function(s,l){if(!s.setImmediate){var c,f,m,p,y=1,h={},v=!1,d=s.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(s);_=_&&_.setTimeout?_:s,c={}.toString.call(s.process)==="[object process]"?function(I){process.nextTick(function(){b(I)})}:function(){if(s.postMessage&&!s.importScripts){var I=!0,C=s.onmessage;return s.onmessage=function(){I=!1},s.postMessage("","*"),s.onmessage=C,I}}()?(p="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",S,!1):s.attachEvent("onmessage",S),function(I){s.postMessage(p+I,"*")}):s.MessageChannel?((m=new MessageChannel).port1.onmessage=function(I){b(I.data)},function(I){m.port2.postMessage(I)}):d&&"onreadystatechange"in d.createElement("script")?(f=d.documentElement,function(I){var C=d.createElement("script");C.onreadystatechange=function(){b(I),C.onreadystatechange=null,f.removeChild(C),C=null},f.appendChild(C)}):function(I){setTimeout(b,0,I)},_.setImmediate=function(I){typeof I!="function"&&(I=new Function(""+I));for(var C=new Array(arguments.length-1),N=0;N<C.length;N++)C[N]=arguments[N+1];var L={callback:I,args:C};return h[y]=L,c(y),y++},_.clearImmediate=g}function g(I){delete h[I]}function b(I){if(v)setTimeout(b,0,I);else{var C=h[I];if(C){v=!0;try{(function(N){var L=N.callback,j=N.args;switch(j.length){case 0:L();break;case 1:L(j[0]);break;case 2:L(j[0],j[1]);break;case 3:L(j[0],j[1],j[2]);break;default:L.apply(l,j)}})(C)}finally{g(I),v=!1}}}}function S(I){I.source===s&&typeof I.data=="string"&&I.data.indexOf(p)===0&&b(+I.data.slice(p.length))}})(typeof self>"u"?n===void 0?this:n:self)}).call(this,typeof ce<"u"?ce:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(mn);const Ye=mn.exports,Ci="data:text/plain;base64,IyBIb3cgdG8gc2V0dXAgdGhlIHBsdWdpbgoKIyMgT25jZSB5b3UgaGF2ZSBkb3dubG9hZGVkIHRoaXMgZmlsZSBwdXQgdGhlIGRpc2NzLmpzb24gZmlsZSBpbiB0aGUgcm9vdCBvZiBwbHVnaW4gZGlyZWN0b3J5CgpgYGAKU2VydmVyCuKUlOKUgOKUgOKUgC4uLgrilJTilIDilIDilIBwbHVnaW5zCiAgICDilJTilIDilIDilIBKdWtlYm94RXh0ZW5kZWRSZWJvcm4KICAgIOKUgiAgIOKUlOKUgOKUgOKUgGRpc2NzLmpzb24KCeKUggnilJTilIDilIDilIBjb25maWcuanNvbgoJ4pSCCeKUlOKUgOKUgOKUgC4uLgoJ4pSU4pSA4pSA4pSASmV4dC5qYXIKCeKUlOKUgOKUgOKUgC4uLgpgYGAKCiMjIEFzIGZvciB0aGUgcmVzb3VyY2UgcGFjayBmaWxlIHlvdSBjYW4gc2V0IGl0IHVwIGJ5IGVkaXRpbmcgdGhlIHNlcnZlciBjb25maWcgZmlsZQoKRXhhbXBsZSB1cGxvYWQgeW91ciBmaWxlIHRvIGRyb3Bib3guCkdlbmVyYXRlIGEgZG93bmxvYWQgdXJsIGFuZCByZXBsYWNlIHRoZSBkbD0wIGF0IHRoZSBlbmQgb2YgdGhlIHVybCB3aXRoIGEgZGw9MQoKRXhhbXBsZToKb3JpZ2luYWwgdXJsOiBodHRwczovL3d3dy5kcm9wYm94LmNvbS9zL21zaWU3aHVjbnBia2Z5L3Rlc3QuUE5HP2RsPTAKZWRpdGVkICAgdXJsOiBodHRwczovL3d3dy5kcm9wYm94LmNvbS9zL21zaWU3aHVjbnBia2Z5L3Rlc3QuUE5HP2RsPTEKCnRoZW4gaW4gdGhlIHNlcnZlci5wcm9wZXJ0aWVzIGZpbGUgc2V0IHRoZSBzZXJ2ZXItcmVzb3VyY2UtcGFjayB0byB0aGUgZWRpdGVkIHVybAoKIyBZb3VyIHBsdWdpbiBpcyBub3cgcmVhZHkgdG8gZ28sIHJlc3RhcnQgdGhlIHNlcnZlciB0byBzdGFydCB1c2luZyBqZXh0",zi=async(i,e,t,o,r)=>{const n=new Ye,s=`
        {"pack": {"pack_format": ${e},"description": "Adds custom musics discs"}}
    `;n.file("pack.mcmeta",s);const c=await(await(await fetch(t)).blob()).arrayBuffer();n.file("pack.png",c);const f=n.folder("assets").folder("minecraft"),m={};i.forEach(d=>{m[`music_disc.${d.namespace}`]={sounds:[{name:`records/${d.namespace}`,stream:!0}]}}),f.file("sounds.json",JSON.stringify(m,null,2));const p=f.folder("models").folder("item"),y=f.folder("sounds").folder("records"),h=f.folder("textures").folder("item"),v={parent:"item/generated",textures:{layer0:"item/music_disc_11"},overrides:i.map((d,_)=>({predicate:{custom_model_data:_},model:`item/music_disc_${d.namespace}`}))};p.file("music_disc_11.json",JSON.stringify(v,null,2));for(let d=0;d<i.length;d++){const _=i[d],g=await(await Ir(_.texture,16,16)).arrayBuffer();h.file(`music_disc_${_.namespace}.png`,g);const b=r?await _.monoFile.arrayBuffer():await _.oggFile.arrayBuffer();y.file(`${_.namespace}.ogg`,b),console.log(_),p.file(`music_disc_${_.namespace}.json`,JSON.stringify({parent:"item/generated",textures:{layer0:`item/music_disc_${_.namespace}`}},null,2))}n.generateAsync({type:"blob"}).then(async d=>{const _=new Ye,g=i.map((b,S)=>({title:b.name,author:b.author,"disc-namespace":`music_disc.${b.namespace}`,"model-data":S,"creeper-drop":b.creeperDrop,lores:b.lores.split(`
`),"loot-tables":b.lootTables.join(",").split(",")}));_.file("README.md",await(await fetch(Ci)).arrayBuffer()),_.file(`${o}.zip`,await d.arrayBuffer()),_.file("discs.json",JSON.stringify(g,null,2)),_.generateAsync({type:"blob"}).then(async b=>{Rr(b,"open me.zip")})})};function Je(i){let e,t,o;function r(s){i[8](s)}let n={text:"Add at least a disc"};return i[5]!==void 0&&(n.closePopup=i[5]),e=new Ei({props:n}),kt.push(()=>Et(e,"closePopup",r)),{c(){Rt(e.$$.fragment)},m(s,l){Ct(e,s,l),o=!0},p(s,l){const c={};!t&&l&32&&(t=!0,c.closePopup=s[5],St(()=>t=!1)),e.$set(c)},i(s){o||(ct(e.$$.fragment,s),o=!0)},o(s){_t(e.$$.fragment,s),o=!1},d(s){zt(e,s)}}}function Ii(i){let e,t,o,r;return{c(){e=et("div"),t=et("p"),t.textContent="GENERATE",T(t,"id","generate_text"),T(t,"class","noselect svelte-10qhf59"),T(e,"id","generate_button"),ge(e,"background-image","url("+pn+")"),T(e,"class","grayscale svelte-10qhf59")},m(n,s){at(n,e,s),tt(e,t),o||(r=[ot(e,"click",i[6]),ot(e,"keydown",null)],o=!0)},p:lt,d(n){n&&st(e),o=!1,bt(r)}}}function Bi(i){let e,t,o,r;return{c(){e=et("div"),t=et("p"),t.textContent="GENERATE",T(t,"id","generate_text"),T(t,"class","noselect svelte-10qhf59"),T(e,"id","generate_button"),ge(e,"background-image","url("+pn+")"),T(e,"class","svelte-10qhf59")},m(n,s){at(n,e,s),tt(e,t),o||(r=[ot(e,"click",i[7]),ot(e,"keydown",null)],o=!0)},p:lt,d(n){n&&st(e),o=!1,bt(r)}}}function xi(i){let e,t,o,r,n,s,l,c,f,m,p,y,h,v,d=i[5]&&Je(i);function _(G){i[9](G)}function g(G){i[10](G)}function b(G){i[11](G)}function S(G){i[12](G)}let I={};i[1]!==void 0&&(I.packname=i[1]),i[2]!==void 0&&(I.version=i[2]),i[0]!==void 0&&(I.imagesrc=i[0]),i[3]!==void 0&&(I.useMono=i[3]),o=new ki({props:I}),kt.push(()=>Et(o,"packname",_)),kt.push(()=>Et(o,"version",g)),kt.push(()=>Et(o,"imagesrc",b)),kt.push(()=>Et(o,"useMono",S));function C(G){i[13](G)}function N(G){i[14](G)}let L={};i[4]!==void 0&&(L.discData=i[4]),i[2]!==void 0&&(L.version=i[2]),f=new bi({props:L}),kt.push(()=>Et(f,"discData",C)),kt.push(()=>Et(f,"version",N));function j(G,k){return G[4].length>0?Bi:Ii}let D=j(i),M=D(i);return{c(){e=et("main"),d&&d.c(),t=mt(),Rt(o.$$.fragment),c=mt(),Rt(f.$$.fragment),y=mt(),h=et("div"),M.c(),T(h,"id","footer"),T(h,"class","svelte-10qhf59"),T(e,"class","svelte-10qhf59")},m(G,k){at(G,e,k),d&&d.m(e,null),tt(e,t),Ct(o,e,null),tt(e,c),Ct(f,e,null),tt(e,y),tt(e,h),M.m(h,null),v=!0},p(G,[k]){G[5]?d?(d.p(G,k),k&32&&ct(d,1)):(d=Je(G),d.c(),ct(d,1),d.m(e,t)):d&&(Kt(),_t(d,1,1,()=>{d=null}),qt());const O={};!r&&k&2&&(r=!0,O.packname=G[1],St(()=>r=!1)),!n&&k&4&&(n=!0,O.version=G[2],St(()=>n=!1)),!s&&k&1&&(s=!0,O.imagesrc=G[0],St(()=>s=!1)),!l&&k&8&&(l=!0,O.useMono=G[3],St(()=>l=!1)),o.$set(O);const u={};!m&&k&16&&(m=!0,u.discData=G[4],St(()=>m=!1)),!p&&k&4&&(p=!0,u.version=G[2],St(()=>p=!1)),f.$set(u),D===(D=j(G))&&M?M.p(G,k):(M.d(1),M=D(G),M&&(M.c(),M.m(h,null)))},i(G){v||(ct(d),ct(o.$$.fragment,G),ct(f.$$.fragment,G),v=!0)},o(G){_t(d),_t(o.$$.fragment,G),_t(f.$$.fragment,G),v=!1},d(G){G&&st(e),d&&d.d(),zt(o),zt(f),M.d()}}}function Ri(i,e,t){let o,r,n,s,l=[],c=!1;const f=()=>{t(5,c=!0)},m=()=>{zi(l,n,o,r,s)};function p(b){c=b,t(5,c)}function y(b){r=b,t(1,r)}function h(b){n=b,t(2,n)}function v(b){o=b,t(0,o)}function d(b){s=b,t(3,s)}function _(b){l=b,t(4,l)}function g(b){n=b,t(2,n)}return[o,r,n,s,l,c,f,m,p,y,h,v,d,_,g]}class Oi extends Vt{constructor(e){super(),Gt(this,e,Ri,xi,Zt,{})}}new Oi({target:document.getElementById("app")});
