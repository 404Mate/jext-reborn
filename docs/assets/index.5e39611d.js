(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function t(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(n){if(n.ep)return;n.ep=!0;const r=t(n);fetch(n.href,r)}})();function lt(){}const ze=i=>i;function Sn(i,e){for(const t in e)i[t]=e[t];return i}function An(i){return i&&typeof i=="object"&&typeof i.then=="function"}function Qe(i){return i()}function Pe(){return Object.create(null)}function bt(i){i.forEach(Qe)}function Ft(i){return typeof i=="function"}function Nt(i,e){return i!=i?e==e:i!==e||i&&typeof i=="object"||typeof i=="function"}let ce;function wt(i,e){return ce||(ce=document.createElement("a")),ce.href=e,i===ce.href}function En(i){return Object.keys(i).length===0}function Cn(i,...e){if(i==null)return lt;const t=i.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function tn(i,e,t){i.$$.on_destroy.push(Cn(e,t))}function zn(i,e,t,o){if(i){const n=en(i,e,t,o);return i[0](n)}}function en(i,e,t,o){return i[1]&&o?Sn(t.ctx.slice(),i[1](o(e))):t.ctx}function In(i,e,t,o){if(i[2]&&o){const n=i[2](o(t));if(e.dirty===void 0)return n;if(typeof n=="object"){const r=[],s=Math.max(e.dirty.length,n.length);for(let a=0;a<s;a+=1)r[a]=e.dirty[a]|n[a];return r}return e.dirty|n}return e.dirty}function xn(i,e,t,o,n,r){if(n){const s=en(e,t,o,r);i.p(s,n)}}function Bn(i){if(i.ctx.length>32){const e=[],t=i.ctx.length/32;for(let o=0;o<t;o++)e[o]=-1;return e}return-1}const nn=typeof window<"u";let rn=nn?()=>window.performance.now():()=>Date.now(),Ie=nn?i=>requestAnimationFrame(i):lt;const Xt=new Set;function sn(i){Xt.forEach(e=>{e.c(i)||(Xt.delete(e),e.f())}),Xt.size!==0&&Ie(sn)}function on(i){let e;return Xt.size===0&&Ie(sn),{promise:new Promise(t=>{Xt.add(e={c:i,f:t})}),abort(){Xt.delete(e)}}}function et(i,e){i.appendChild(e)}function an(i){if(!i)return document;const e=i.getRootNode?i.getRootNode():i.ownerDocument;return e&&e.host?e:i.ownerDocument}function Rn(i){const e=tt("style");return On(an(i),e),e.sheet}function On(i,e){return et(i.head||i,e),e.sheet}function ot(i,e,t){i.insertBefore(e,t||null)}function it(i){i.parentNode.removeChild(i)}function xe(i,e){for(let t=0;t<i.length;t+=1)i[t]&&i[t].d(e)}function tt(i){return document.createElement(i)}function It(i){return document.createTextNode(i)}function _t(){return It(" ")}function Dt(){return It("")}function at(i,e,t,o){return i.addEventListener(e,t,o),()=>i.removeEventListener(e,t,o)}function N(i,e,t){t==null?i.removeAttribute(e):i.getAttribute(e)!==t&&i.setAttribute(e,t)}function Fn(i){return Array.from(i.childNodes)}function Vt(i,e){e=""+e,i.wholeText!==e&&(i.data=e)}function Ut(i,e){i.value=e==null?"":e}function Qt(i,e,t,o){t===null?i.style.removeProperty(e):i.style.setProperty(e,t,o?"important":"")}function Le(i,e){for(let t=0;t<i.options.length;t+=1){const o=i.options[t];if(o.__value===e){o.selected=!0;return}}i.selectedIndex=-1}function Dn(i){const e=i.querySelector(":checked")||i.options[0];return e&&e.__value}function Tn(i,e,{bubbles:t=!1,cancelable:o=!1}={}){const n=document.createEvent("CustomEvent");return n.initCustomEvent(i,t,o,e),n}const me=new Map;let ge=0;function Pn(i){let e=5381,t=i.length;for(;t--;)e=(e<<5)-e^i.charCodeAt(t);return e>>>0}function Ln(i,e){const t={stylesheet:Rn(e),rules:{}};return me.set(i,t),t}function Se(i,e,t,o,n,r,s,a=0){const l=16.666/o;let d=`{
`;for(let g=0;g<=1;g+=l){const m=e+(t-e)*r(g);d+=g*100+`%{${s(m,1-m)}}
`}const b=d+`100% {${s(t,1-t)}}
}`,p=`__svelte_${Pn(b)}_${a}`,v=an(i),{stylesheet:h,rules:_}=me.get(v)||Ln(v,i);_[p]||(_[p]=!0,h.insertRule(`@keyframes ${p} ${b}`,h.cssRules.length));const f=i.style.animation||"";return i.style.animation=`${f?`${f}, `:""}${p} ${o}ms linear ${n}ms 1 both`,ge+=1,p}function Ae(i,e){const t=(i.style.animation||"").split(", "),o=t.filter(e?r=>r.indexOf(e)<0:r=>r.indexOf("__svelte")===-1),n=t.length-o.length;n&&(i.style.animation=o.join(", "),ge-=n,ge||Nn())}function Nn(){Ie(()=>{ge||(me.forEach(i=>{const{ownerNode:e}=i.stylesheet;e&&it(e)}),me.clear())})}let oe;function Pt(i){oe=i}function Un(){if(!oe)throw new Error("Function called outside component initialization");return oe}const ie=[],Ot=[],he=[],Ee=[],jn=Promise.resolve();let Ce=!1;function Zn(){Ce||(Ce=!0,jn.then(Be))}function Ct(i){he.push(i)}function jt(i){Ee.push(i)}const we=new Set;let ue=0;function Be(){const i=oe;do{for(;ue<ie.length;){const e=ie[ue];ue++,Pt(e),Wn(e.$$)}for(Pt(null),ie.length=0,ue=0;Ot.length;)Ot.pop()();for(let e=0;e<he.length;e+=1){const t=he[e];we.has(t)||(we.add(t),t())}he.length=0}while(ie.length);for(;Ee.length;)Ee.pop()();Ce=!1,we.clear(),Pt(i)}function Wn(i){if(i.fragment!==null){i.update(),bt(i.before_update);const e=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(Ct)}}let re;function ln(){return re||(re=Promise.resolve(),re.then(()=>{re=null})),re}function se(i,e,t){i.dispatchEvent(Tn(`${e?"intro":"outro"}${t}`))}const pe=new Set;let Lt;function Kt(){Lt={r:0,c:[],p:Lt}}function qt(){Lt.r||bt(Lt.c),Lt=Lt.p}function ct(i,e){i&&i.i&&(pe.delete(i),i.i(e))}function mt(i,e,t,o){if(i&&i.o){if(pe.has(i))return;pe.add(i),Lt.c.push(()=>{pe.delete(i),o&&(t&&i.d(1),o())}),i.o(e)}else o&&o()}const cn={duration:0};function ve(i,e,t){let o=e(i,t),n=!1,r,s,a=0;function l(){r&&Ae(i,r)}function d(){const{delay:p=0,duration:v=300,easing:h=ze,tick:_=lt,css:f}=o||cn;f&&(r=Se(i,0,1,v,p,h,f,a++)),_(0,1);const g=rn()+p,m=g+v;s&&s.abort(),n=!0,Ct(()=>se(i,!0,"start")),s=on(y=>{if(n){if(y>=m)return _(1,0),se(i,!0,"end"),l(),n=!1;if(y>=g){const A=h((y-g)/v);_(A,1-A)}}return n})}let b=!1;return{start(){b||(b=!0,Ae(i),Ft(o)?(o=o(),ln().then(d)):d())},invalidate(){b=!1},end(){n&&(l(),n=!1)}}}function _e(i,e,t,o){let n=e(i,t),r=o?0:1,s=null,a=null,l=null;function d(){l&&Ae(i,l)}function b(v,h){const _=v.b-r;return h*=Math.abs(_),{a:r,b:v.b,d:_,duration:h,start:v.start,end:v.start+h,group:v.group}}function p(v){const{delay:h=0,duration:_=300,easing:f=ze,tick:g=lt,css:m}=n||cn,y={start:rn()+h,b:v};v||(y.group=Lt,Lt.r+=1),s||a?a=y:(m&&(d(),l=Se(i,r,v,_,h,f,m)),v&&g(0,1),s=b(y,_),Ct(()=>se(i,v,"start")),on(A=>{if(a&&A>a.start&&(s=b(a,_),a=null,se(i,s.b,"start"),m&&(d(),l=Se(i,r,s.b,s.duration,0,f,n.css))),s){if(A>=s.end)g(r=s.b,1-r),se(i,s.b,"end"),a||(s.b?d():--s.group.r||bt(s.group.c)),s=null;else if(A>=s.start){const z=A-s.start;r=s.a+s.d*f(z/s.duration),g(r,1-r)}}return!!(s||a)}))}return{run(v){Ft(n)?ln().then(()=>{n=n(),p(v)}):p(v)},end(){d(),s=a=null}}}function Re(i,e){const t=e.token={};function o(n,r,s,a){if(e.token!==t)return;e.resolved=a;let l=e.ctx;s!==void 0&&(l=l.slice(),l[s]=a);const d=n&&(e.current=n)(l);let b=!1;e.block&&(e.blocks?e.blocks.forEach((p,v)=>{v!==r&&p&&(Kt(),mt(p,1,1,()=>{e.blocks[v]===p&&(e.blocks[v]=null)}),qt())}):e.block.d(1),d.c(),ct(d,1),d.m(e.mount(),e.anchor),b=!0),e.block=d,e.blocks&&(e.blocks[r]=d),b&&Be()}if(An(i)){const n=Un();if(i.then(r=>{Pt(n),o(e.then,1,e.value,r),Pt(null)},r=>{if(Pt(n),o(e.catch,2,e.error,r),Pt(null),!e.hasCatch)throw r}),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,i),!0;e.resolved=i}}function Oe(i,e,t){const o=e.slice(),{resolved:n}=i;i.current===i.then&&(o[i.value]=n),i.current===i.catch&&(o[i.error]=n),i.block.p(o,t)}function Zt(i,e,t){const o=i.$$.props[e];o!==void 0&&(i.$$.bound[o]=t,t(i.$$.ctx[o]))}function Et(i){i&&i.c()}function kt(i,e,t,o){const{fragment:n,after_update:r}=i.$$;n&&n.m(e,t),o||Ct(()=>{const s=i.$$.on_mount.map(Qe).filter(Ft);i.$$.on_destroy?i.$$.on_destroy.push(...s):bt(s),i.$$.on_mount=[]}),r.forEach(Ct)}function St(i,e){const t=i.$$;t.fragment!==null&&(bt(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Mn(i,e){i.$$.dirty[0]===-1&&(ie.push(i),Zn(),i.$$.dirty.fill(0)),i.$$.dirty[e/31|0]|=1<<e%31}function Mt(i,e,t,o,n,r,s,a=[-1]){const l=oe;Pt(i);const d=i.$$={fragment:null,ctx:[],props:r,update:lt,not_equal:n,bound:Pe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Pe(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};s&&s(d.root);let b=!1;if(d.ctx=t?t(i,e.props||{},(p,v,...h)=>{const _=h.length?h[0]:v;return d.ctx&&n(d.ctx[p],d.ctx[p]=_)&&(!d.skip_bound&&d.bound[p]&&d.bound[p](_),b&&Mn(i,p)),v}):[],d.update(),b=!0,bt(d.before_update),d.fragment=o?o(d.ctx):!1,e.target){if(e.hydrate){const p=Fn(e.target);d.fragment&&d.fragment.l(p),p.forEach(it)}else d.fragment&&d.fragment.c();e.intro&&ct(i.$$.fragment),kt(i,e.target,e.anchor,e.customElement),Be()}Pt(l)}class Gt{$destroy(){St(this,1),this.$destroy=lt}$on(e,t){if(!Ft(t))return lt;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(t),()=>{const n=o.indexOf(t);n!==-1&&o.splice(n,1)}}$set(e){this.$$set&&!En(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var fe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gn(i){var e=i.default;if(typeof e=="function"){var t=function(){return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(o){var n=Object.getOwnPropertyDescriptor(i,o);Object.defineProperty(t,o,n.get?n:{enumerable:!0,get:function(){return i[o]}})}),t}var Hn={exports:{}};(function(i){var e=function(t){var o=Object.prototype,n=o.hasOwnProperty,r=Object.defineProperty||function(x,D,E){x[D]=E.value},s,a=typeof Symbol=="function"?Symbol:{},l=a.iterator||"@@iterator",d=a.asyncIterator||"@@asyncIterator",b=a.toStringTag||"@@toStringTag";function p(x,D,E){return Object.defineProperty(x,D,{value:E,enumerable:!0,configurable:!0,writable:!0}),x[D]}try{p({},"")}catch{p=function(D,E,I){return D[E]=I}}function v(x,D,E,I){var G=D&&D.prototype instanceof A?D:A,q=Object.create(G.prototype),K=new J(I||[]);return r(q,"_invoke",{value:k(x,E,K)}),q}t.wrap=v;function h(x,D,E){try{return{type:"normal",arg:x.call(D,E)}}catch(I){return{type:"throw",arg:I}}}var _="suspendedStart",f="suspendedYield",g="executing",m="completed",y={};function A(){}function z(){}function C(){}var O={};p(O,l,function(){return this});var R=Object.getPrototypeOf,W=R&&R(R(j([])));W&&W!==o&&n.call(W,l)&&(O=W);var P=C.prototype=A.prototype=Object.create(O);z.prototype=C,r(P,"constructor",{value:C,configurable:!0}),r(C,"constructor",{value:z,configurable:!0}),z.displayName=p(C,b,"GeneratorFunction");function V(x){["next","throw","return"].forEach(function(D){p(x,D,function(E){return this._invoke(D,E)})})}t.isGeneratorFunction=function(x){var D=typeof x=="function"&&x.constructor;return D?D===z||(D.displayName||D.name)==="GeneratorFunction":!1},t.mark=function(x){return Object.setPrototypeOf?Object.setPrototypeOf(x,C):(x.__proto__=C,p(x,b,"GeneratorFunction")),x.prototype=Object.create(P),x},t.awrap=function(x){return{__await:x}};function X(x,D){function E(q,K,ut,ht){var st=h(x[q],x,K);if(st.type==="throw")ht(st.arg);else{var ft=st.arg,vt=ft.value;return vt&&typeof vt=="object"&&n.call(vt,"__await")?D.resolve(vt.__await).then(function(pt){E("next",pt,ut,ht)},function(pt){E("throw",pt,ut,ht)}):D.resolve(vt).then(function(pt){ft.value=pt,ut(ft)},function(pt){return E("throw",pt,ut,ht)})}}var I;function G(q,K){function ut(){return new D(function(ht,st){E(q,K,ht,st)})}return I=I?I.then(ut,ut):ut()}r(this,"_invoke",{value:G})}V(X.prototype),p(X.prototype,d,function(){return this}),t.AsyncIterator=X,t.async=function(x,D,E,I,G){G===void 0&&(G=Promise);var q=new X(v(x,D,E,I),G);return t.isGeneratorFunction(D)?q:q.next().then(function(K){return K.done?K.value:q.next()})};function k(x,D,E){var I=_;return function(q,K){if(I===g)throw new Error("Generator is already running");if(I===m){if(q==="throw")throw K;return nt()}for(E.method=q,E.arg=K;;){var ut=E.delegate;if(ut){var ht=T(ut,E);if(ht){if(ht===y)continue;return ht}}if(E.method==="next")E.sent=E._sent=E.arg;else if(E.method==="throw"){if(I===_)throw I=m,E.arg;E.dispatchException(E.arg)}else E.method==="return"&&E.abrupt("return",E.arg);I=g;var st=h(x,D,E);if(st.type==="normal"){if(I=E.done?m:f,st.arg===y)continue;return{value:st.arg,done:E.done}}else st.type==="throw"&&(I=m,E.method="throw",E.arg=st.arg)}}}function T(x,D){var E=x.iterator[D.method];if(E===s){if(D.delegate=null,D.method==="throw"){if(x.iterator.return&&(D.method="return",D.arg=s,T(x,D),D.method==="throw"))return y;D.method="throw",D.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var I=h(E,x.iterator,D.arg);if(I.type==="throw")return D.method="throw",D.arg=I.arg,D.delegate=null,y;var G=I.arg;if(!G)return D.method="throw",D.arg=new TypeError("iterator result is not an object"),D.delegate=null,y;if(G.done)D[x.resultName]=G.value,D.next=x.nextLoc,D.method!=="return"&&(D.method="next",D.arg=s);else return G;return D.delegate=null,y}V(P),p(P,b,"Generator"),p(P,l,function(){return this}),p(P,"toString",function(){return"[object Generator]"});function u(x){var D={tryLoc:x[0]};1 in x&&(D.catchLoc=x[1]),2 in x&&(D.finallyLoc=x[2],D.afterLoc=x[3]),this.tryEntries.push(D)}function L(x){var D=x.completion||{};D.type="normal",delete D.arg,x.completion=D}function J(x){this.tryEntries=[{tryLoc:"root"}],x.forEach(u,this),this.reset(!0)}t.keys=function(x){var D=Object(x),E=[];for(var I in D)E.push(I);return E.reverse(),function G(){for(;E.length;){var q=E.pop();if(q in D)return G.value=q,G.done=!1,G}return G.done=!0,G}};function j(x){if(x){var D=x[l];if(D)return D.call(x);if(typeof x.next=="function")return x;if(!isNaN(x.length)){var E=-1,I=function G(){for(;++E<x.length;)if(n.call(x,E))return G.value=x[E],G.done=!1,G;return G.value=s,G.done=!0,G};return I.next=I}}return{next:nt}}t.values=j;function nt(){return{value:s,done:!0}}return J.prototype={constructor:J,reset:function(x){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(L),!x)for(var D in this)D.charAt(0)==="t"&&n.call(this,D)&&!isNaN(+D.slice(1))&&(this[D]=s)},stop:function(){this.done=!0;var x=this.tryEntries[0],D=x.completion;if(D.type==="throw")throw D.arg;return this.rval},dispatchException:function(x){if(this.done)throw x;var D=this;function E(ht,st){return q.type="throw",q.arg=x,D.next=ht,st&&(D.method="next",D.arg=s),!!st}for(var I=this.tryEntries.length-1;I>=0;--I){var G=this.tryEntries[I],q=G.completion;if(G.tryLoc==="root")return E("end");if(G.tryLoc<=this.prev){var K=n.call(G,"catchLoc"),ut=n.call(G,"finallyLoc");if(K&&ut){if(this.prev<G.catchLoc)return E(G.catchLoc,!0);if(this.prev<G.finallyLoc)return E(G.finallyLoc)}else if(K){if(this.prev<G.catchLoc)return E(G.catchLoc,!0)}else if(ut){if(this.prev<G.finallyLoc)return E(G.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(x,D){for(var E=this.tryEntries.length-1;E>=0;--E){var I=this.tryEntries[E];if(I.tryLoc<=this.prev&&n.call(I,"finallyLoc")&&this.prev<I.finallyLoc){var G=I;break}}G&&(x==="break"||x==="continue")&&G.tryLoc<=D&&D<=G.finallyLoc&&(G=null);var q=G?G.completion:{};return q.type=x,q.arg=D,G?(this.method="next",this.next=G.finallyLoc,y):this.complete(q)},complete:function(x,D){if(x.type==="throw")throw x.arg;return x.type==="break"||x.type==="continue"?this.next=x.arg:x.type==="return"?(this.rval=this.arg=x.arg,this.method="return",this.next="end"):x.type==="normal"&&D&&(this.next=D),y},finish:function(x){for(var D=this.tryEntries.length-1;D>=0;--D){var E=this.tryEntries[D];if(E.finallyLoc===x)return this.complete(E.completion,E.afterLoc),L(E),y}},catch:function(x){for(var D=this.tryEntries.length-1;D>=0;--D){var E=this.tryEntries[D];if(E.tryLoc===x){var I=E.completion;if(I.type==="throw"){var G=I.arg;L(E)}return G}}throw new Error("illegal catch attempt")},delegateYield:function(x,D,E){return this.delegate={iterator:j(x),resultName:D,nextLoc:E},this.method==="next"&&(this.arg=s),y}},t}(i.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(Hn);var Vn={defaultArgs:["./ffmpeg","-nostdin","-y"],baseOptions:{log:!1,logger:()=>{},progress:()=>{},corePath:""}},Kn=(i,e)=>{const t=i._malloc(e.length*Uint32Array.BYTES_PER_ELEMENT);return e.forEach((o,n)=>{const r=i.lengthBytesUTF8(o)+1,s=i._malloc(r);i.stringToUTF8(o,s,r),i.setValue(t+Uint32Array.BYTES_PER_ELEMENT*n,s,"i32")}),[e.length,t]};const qn="@ffmpeg/ffmpeg",$n="0.11.6",Yn="FFmpeg WebAssembly version",Jn="src/index.js",Xn="src/index.d.ts",Qn={example:"examples"},tr={start:"node scripts/server.js","start:worker":"node scripts/worker-server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js","build:worker":"rimraf dist && webpack --config scripts/webpack.config.worker.prod.js",prepublishOnly:"npm run build",lint:"eslint src",wait:"rimraf dist && wait-on http://localhost:3000/dist/ffmpeg.dev.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:ffmpeg test:node:all","test:node":"node node_modules/mocha/bin/_mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser":"mocha-headless-chrome -a allow-file-access-from-files -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:ffmpeg":"npm run test:browser -- -f ./tests/ffmpeg.test.html"},er={"./src/node/index.js":"./src/browser/index.js"},nr={type:"git",url:"git+https://github.com/ffmpegwasm/ffmpeg.wasm.git"},rr=["ffmpeg","WebAssembly","video"],ir="Jerome Wu <jeromewus@gmail.com>",sr="MIT",or={url:"https://github.com/ffmpegwasm/ffmpeg.wasm/issues"},ar={node:">=12.16.1"},lr="https://github.com/ffmpegwasm/ffmpeg.wasm#readme",cr={"is-url":"^1.2.4","node-fetch":"^2.6.1","regenerator-runtime":"^0.13.7","resolve-url":"^0.2.1"},ur={"@babel/core":"^7.12.3","@babel/preset-env":"^7.12.1","@ffmpeg/core":"^0.11.0","@types/emscripten":"^1.39.4","babel-eslint":"^10.1.0","babel-loader":"^8.1.0",chai:"^4.2.0",cors:"^2.8.5",eslint:"^7.12.1","eslint-config-airbnb-base":"^14.1.0","eslint-plugin-import":"^2.22.1",express:"^4.17.1",mocha:"^8.2.1","mocha-headless-chrome":"^2.0.3","npm-run-all":"^4.1.5","wait-on":"^5.3.0",webpack:"^5.3.2","webpack-cli":"^4.1.0","webpack-dev-middleware":"^4.0.0"},un={name:qn,version:$n,description:Yn,main:Jn,types:Xn,directories:Qn,scripts:tr,browser:er,repository:nr,keywords:rr,author:ir,license:sr,bugs:or,engines:ar,homepage:lr,dependencies:cr,devDependencies:ur},fr=(typeof process<"u",`https://unpkg.com/@ffmpeg/core@${un.devDependencies["@ffmpeg/core"].substring(1)}/dist/ffmpeg-core.js`),dr={corePath:fr};let Fe=!1,fn=()=>{};const hr=i=>{Fe=i},pr=i=>{fn=i},mr=(i,e)=>{fn({type:i,message:e}),Fe&&console.log(`[${i}] ${e}`)};var Ht={logging:Fe,setLogging:hr,setCustomLogger:pr,log:mr};const gr=i=>`
createFFmpegCore is not defined. ffmpeg.wasm is unable to find createFFmpegCore after loading ffmpeg-core.js from ${i}. Use another URL when calling createFFmpeg():

const ffmpeg = createFFmpeg({
  corePath: 'http://localhost:3000/ffmpeg-core.js',
});
`;var Ne={CREATE_FFMPEG_CORE_IS_NOT_DEFINED:gr};const $t=async(i,e)=>{Ht.log("info",`fetch ${i}`);const t=await(await fetch(i)).arrayBuffer();Ht.log("info",`${i} file size = ${t.byteLength} bytes`);const o=new Blob([t],{type:e}),n=URL.createObjectURL(o);return Ht.log("info",`${i} blob URL = ${n}`),n},_r=async({corePath:i,workerPath:e,wasmPath:t})=>{if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope){if(typeof i!="string")throw Error("corePath should be a string!");const a=new URL(i,import.meta.url).href,l=await $t(a,"application/javascript"),d=await $t(t!==void 0?t:a.replace("ffmpeg-core.js","ffmpeg-core.wasm"),"application/wasm"),b=await $t(e!==void 0?e:a.replace("ffmpeg-core.js","ffmpeg-core.worker.js"),"application/javascript");return typeof createFFmpegCore>"u"?new Promise(p=>{if(globalThis.importScripts(l),typeof createFFmpegCore>"u")throw Error(Ne.CREATE_FFMPEG_CORE_IS_NOT_DEFINED(a));Ht.log("info","ffmpeg-core.js script loaded"),p({createFFmpegCore,corePath:l,wasmPath:d,workerPath:b})}):(Ht.log("info","ffmpeg-core.js script is loaded already"),Promise.resolve({createFFmpegCore,corePath:l,wasmPath:d,workerPath:b}))}if(typeof i!="string")throw Error("corePath should be a string!");const o=new URL(i,import.meta.url).href,n=await $t(o,"application/javascript"),r=await $t(t!==void 0?t:o.replace("ffmpeg-core.js","ffmpeg-core.wasm"),"application/wasm"),s=await $t(e!==void 0?e:o.replace("ffmpeg-core.js","ffmpeg-core.worker.js"),"application/javascript");return typeof createFFmpegCore>"u"?new Promise(a=>{const l=document.createElement("script"),d=()=>{if(l.removeEventListener("load",d),typeof createFFmpegCore>"u")throw Error(Ne.CREATE_FFMPEG_CORE_IS_NOT_DEFINED(o));Ht.log("info","ffmpeg-core.js script loaded"),a({createFFmpegCore,corePath:n,wasmPath:r,workerPath:s})};l.src=n,l.type="text/javascript",l.addEventListener("load",d),document.getElementsByTagName("head")[0].appendChild(l)}):(Ht.log("info","ffmpeg-core.js script is loaded already"),Promise.resolve({createFFmpegCore,corePath:n,wasmPath:r,workerPath:s}))},br=i=>new Promise((e,t)=>{const o=new FileReader;o.onload=()=>{e(o.result)},o.onerror=({target:{error:{code:n}}})=>{t(Error(`File could not be read! Code=${n}`))},o.readAsArrayBuffer(i)}),vr=async i=>{let e=i;return typeof i>"u"?new Uint8Array:(typeof i=="string"?/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(i)?e=atob(i.split(",")[1]).split("").map(t=>t.charCodeAt(0)):e=await(await fetch(new URL(i,import.meta.url).href)).arrayBuffer():(i instanceof File||i instanceof Blob)&&(e=await br(i)),new Uint8Array(e))},yr=Object.freeze(Object.defineProperty({__proto__:null,defaultOptions:dr,getCreateFFmpegCore:_r,fetchFile:vr},Symbol.toStringTag,{value:"Module"})),dn=Gn(yr),{defaultArgs:wr,baseOptions:kr}=Vn,Sr=Kn,{defaultOptions:Ar,getCreateFFmpegCore:Er}=dn,{version:Cr}=un,ke=Error("ffmpeg.wasm is not ready, make sure you have completed load().");var zr=(i={})=>{const{log:e,logger:t,progress:o,...n}={...kr,...Ar,...i};let r=null,s=null,a=null,l=null,d=!1,b=()=>{},p=e,v=o,h=0,_=0,f=!1,g=0;const m=u=>{u==="FFMPEG_END"&&a!==null&&(a(),a=null,l=null,d=!1)},y=(u,L)=>{b({type:u,message:L}),p&&console.log(`[${u}] ${L}`)},A=u=>{const[L,J,j]=u.split(":");return parseFloat(L)*60*60+parseFloat(J)*60+parseFloat(j)},z=(u,L)=>{if(typeof u=="string")if(u.startsWith("  Duration")){const J=u.split(", ")[0].split(": ")[1],j=A(J);L({duration:j,ratio:g}),(h===0||h>j)&&(h=j,f=!0)}else if(f&&u.startsWith("    Stream")){const J=u.match(/([\d.]+) fps/);if(J){const j=parseFloat(J[1]);_=h*j}else _=0;f=!1}else if(u.startsWith("frame")||u.startsWith("size")){const J=u.split("time=")[1].split(" ")[0],j=A(J),nt=u.match(/frame=\s*(\d+)/);if(_&&nt){const x=parseFloat(nt[1]);g=Math.min(x/_,1)}else g=j/h;L({ratio:g,time:j})}else u.startsWith("video:")&&(L({ratio:1}),h=0)},C=({type:u,message:L})=>{y(u,L),z(L,v),m(L)},O=async()=>{if(y("info","load ffmpeg-core"),r===null){y("info","loading ffmpeg-core");const{createFFmpegCore:u,corePath:L,workerPath:J,wasmPath:j}=await Er(n);r=await u({mainScriptUrlOrBlob:L,printErr:nt=>C({type:"fferr",message:nt}),print:nt=>C({type:"ffout",message:nt}),locateFile:(nt,x)=>{if(typeof window<"u"||typeof WorkerGlobalScope<"u"){if(typeof j<"u"&&nt.endsWith("ffmpeg-core.wasm"))return j;if(typeof J<"u"&&nt.endsWith("ffmpeg-core.worker.js"))return J}return x+nt}}),s=r.cwrap(n.mainName||"proxy_main","number",["number","number"]),y("info","ffmpeg-core loaded")}else throw Error("ffmpeg.wasm was loaded, you should not load it again, use ffmpeg.isLoaded() to check next time.")},R=()=>r!==null,W=(...u)=>{if(y("info",`run ffmpeg command: ${u.join(" ")}`),r===null)throw ke;if(d)throw Error("ffmpeg.wasm can only run one command at a time");return d=!0,new Promise((L,J)=>{const j=[...wr,...u].filter(nt=>nt.length!==0);a=L,l=J,s(...Sr(r,j))})},P=(u,...L)=>{if(y("info",`run FS.${u} ${L.map(J=>typeof J=="string"?J:`<${J.length} bytes binary file>`).join(" ")}`),r===null)throw ke;{let J=null;try{J=r.FS[u](...L)}catch{throw Error(u==="readdir"?`ffmpeg.FS('readdir', '${L[0]}') error. Check if the path exists, ex: ffmpeg.FS('readdir', '/')`:u==="readFile"?`ffmpeg.FS('readFile', '${L[0]}') error. Check if the path exists`:"Oops, something went wrong in FS operation.")}return J}},V=()=>{if(r===null)throw ke;l&&l("ffmpeg has exited"),d=!1;try{r.exit(1)}catch(u){y(u.message),l&&l(u)}finally{r=null,s=null,a=null,l=null}},X=u=>{v=u},k=u=>{b=u},T=u=>{p=u};return y("info",`use ffmpeg.wasm v${Cr}`),{setProgress:X,setLogger:k,setLogging:T,load:O,isLoaded:R,run:W,exit:V,FS:P}};const Ir=zr,{fetchFile:xr}=dn;var Br={createFFmpeg:Ir,fetchFile:xr};const Rt=Br.createFFmpeg({corePath:"../ffmpeg-core/ffmpeg-core.js",mainName:"main"}),Rr=async i=>i.type=="audio/ogg"?new Blob([i],{type:"audio/ogg"}):await new Promise(e=>{const t=new FileReader,o=new Blob([i]);t.readAsArrayBuffer(o),t.onload=async()=>{const n=t.result;await Rt.load(),Rt.FS("writeFile","audio",new Uint8Array(n)),await Rt.run("-i","audio","-acodec","libvorbis","/output.ogg");const r=Rt.FS("readFile","/output.ogg");Rt.exit(),e(new Blob([r],{type:"audio/ogg"}))}}),Or=async i=>await new Promise(e=>{const t=new FileReader;t.readAsArrayBuffer(i),t.onload=async()=>{const o=t.result;await Rt.load(),Rt.FS("writeFile","audio",new Uint8Array(o)),await Rt.run("-i","audio","-ac","1","/output.ogg");const n=Rt.FS("readFile","/output.ogg");Rt.exit(),e(new Blob([n],{type:"audio/ogg"}))}}),Fr=async(i,e,t)=>await new Promise(o=>{const n=new Image;n.src=URL.createObjectURL(i),n.onload=()=>{const r=document.createElement("canvas");r.width=e,r.height=t,r.getContext("2d").drawImage(n,0,0,e,t);const a=r.toDataURL("image/png");o(Dr(a))}}),Dr=i=>new Promise(e=>{const t=Tr(i);e(new Blob([t],{type:"image/png"}))}),Tr=i=>{const e=i.split(",")[1],t=window.atob(e),o=new ArrayBuffer(t.length),n=new Uint8Array(o);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return o},Pr=(i,e)=>{const t=document.createElement("a");t.href=URL.createObjectURL(i),t.download=e,t.click()};function Lr(i){let e,t,o,n;const r=i[3].default,s=zn(r,i,i[2],null);return{c(){e=tt("div"),t=tt("span"),o=_t(),s&&s.c(),N(t,"id","tooltiptext"),Qt(t,"width",i[1]),N(t,"class","svelte-1fq2bta"),N(e,"id","container"),N(e,"class","svelte-1fq2bta")},m(a,l){ot(a,e,l),et(e,t),t.innerHTML=i[0],et(e,o),s&&s.m(e,null),n=!0},p(a,[l]){(!n||l&1)&&(t.innerHTML=a[0]),(!n||l&2)&&Qt(t,"width",a[1]),s&&s.p&&(!n||l&4)&&xn(s,r,a,a[2],n?In(r,a[2],l,null):Bn(a[2]),null)},i(a){n||(ct(s,a),n=!0)},o(a){mt(s,a),n=!1},d(a){a&&it(e),s&&s.d(a)}}}function Nr(i,e,t){let{$$slots:o={},$$scope:n}=e,{text:r}=e,{width:s="120px"}=e;return i.$$set=a=>{"text"in a&&t(0,r=a.text),"width"in a&&t(1,s=a.width),"$$scope"in a&&t(2,n=a.$$scope)},[r,s,n,o]}class Jt extends Gt{constructor(e){super(),Mt(this,e,Nr,Lr,Nt,{text:0,width:1})}}const Ur="/jext-reborn/assets/default_disk.59365372.png",hn="/jext-reborn/assets/loading.9ab4977f.webp",pn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAFxnpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjarVdZkuQoDP3nFHMEkBDLcVgj5gZz/Hkshsyq6umqjrHDNinL4klPSKRq//zd1V84iLxWVnxw0TmNw0YbKWEQ9DrivBtt530dzzvzLlfnBUHEePL66dPWT5DL/eDYye9yFfYbCtuQOYbnwWPmMa6vICGnJTd2G4ptDVwM/hVq3oaKfXFpX/a6N4/xW70JPKJUBRMxUWPDet7DQsDjIk5DjrvmAD0zJcxR4SFstjEE5M2956nfAv0e/D1SH6N/Rh+CT2nL+UMs3cOa+/qFkQ9yPtPQ68R8ENH7i+S1/+TOvnqvofe2vEvWIaJuZ9QM9hOhoZgRcp6fOZwel2Ds5xlxBp10AeVVF51xFhMNIfpdGWuqSaabNp/FFEC01MjjSVSIpyywp0iFB092nKaT58iVA3gr1BSos0wHi5nzxjlfMQEzVwNVMjBmJv2/ONV/vfzJqXovI0RGhxMr4KKR14AxmBt3aIEQ0zdvMgP8nJt+/ZI/SFUwKDPMAQ4mnZeJLObmFk+eGXqC51pCRvm6DSBEmFsAxjAY0M6wGGe0R7UxBnEMICgBObGlDAaMCFWAJMvsSHnCksHc+MabqUtCjoYYtQlECDv24CZyAlnWCvLH24AcSsJiRcSJl6AkSnLsrBPnnHejyCXP3nrxznsffPQpcLBBggs+hBBDihQZNVCiiz6GGGNKpBImSrCVoJ8gyZQ52yzZZZ9DjjkVpE+xRYorvoQSS6pUuaJMVFd9DTXW1IxqqBTNNmmu+RZabKkj1zp326W77nvosafD2mb10/kD1sxmjSZTQ88f1iBV3j8mzCgnMjgDY2QNGPeDASQ0Dc50MNbSYG5wpiNhUQgBpAxuVDWDMVBomyHp5nB3mfsWb0rCt3ij3zGnBnX/B3MK1H3m7QvW6uhzZTK2VuGIqWasvtYpII8CcgCoxzhAt1MbA8rNlx6dnj+CRjWaCi1xpSNMfenWwFXJJ93C6IWPULcp7LFxOVKK1VgBWwjwGFhtirJLVukKW5wDgasvQqlTOIB2KksDraLJ+l5Zn+wj9dKXckbrT590A/YDR2gWgM7FhyFVUyw8QaeSj08hLv+TzdejZbE45P2DtC437Sj+zySy9AJK9aOW84JoY3UHNwrSFuZrT5UFsblYrkm7TOZYjy/ex/V51bH1GzraYlWw2PmqO79GckBFWZEfLflE7WHosqFMCY/UtTv9Rh+TN9fkIdMeWd1MdGXJ52sgPnJyvkR9uc+HzkyPttTNB5JNq4elWnY+Wg7hyfOm0xxlc4Pil/MS85kHpX3S75I7CeaRmWtyZEq4SOPvkKpfQf0pUvUrqN9EWh6kClDDDYD1G6pDITrqei+zRK/rCcK9+krsrG4W6pXrCMHjVvN515RoO3Zgp3xscSiNH6Hi2pe/KE/IzCcKZetGxOMYKGEXFVe6P6rNpFXYurXdnjgOs7sERW7uyIuZ5mI83KCg7EBUikjIm42y5SaWu0JzX+FEpjZ36HBrshbYbrxKP+6UcIODLrAToR4PUM/c4pxPBTbrJa7h2vbItqfS5vsx2WWxoIDlT7W6JC79IpL1GULV2q3VP4WpvsT5BzDVlzjRUh6idXe3V/FOCvyJOUI0xenaaFX5YmBZqlm38lj9+OS8e18pFxJiVJPbGWnRZ85ET/IlwpRn/rRThEy56zDWatTIkYhefqRmtyQx9UU11aclnWR6f6pRLp+ccygwdwHXp9ySjzdBn2VdDWa8FSitCpmxk7orqm7qbXMv69ftPk9c5YvoqS/D+Sm8WP7P3sJ2NKlHblZ4W2aVbn5I2hlXXjLzu/jUN/B8C596B3jxtbyTYmwuT/fvi7xsbrPunGRuIqRlbNKu3MpSLhYbplM29lKpnG7yYqO+F2S5q7+Vrepem0XbHYT5brKWV0mHd5jqS5x/AFN9ifOnMLl3VSP+R/wLwQRCBdriyuEAAAGFaUNDUElDQyBwcm9maWxlAAB4nH2RPUjDUBSFT1ulpVQc2kHEIUPVxYKoiKNWoQgVQq3QqoPJS/+gSUOS4uIouBYc/FmsOrg46+rgKgiCPyCOTk6KLlLifUmhRYwPLu/jvHcO990H+JtVppo944CqWUYmlRRy+VUh+IowQlSjiErM1OdEMQ3P9XUPH9/vEjzL+96fq08pmAzwCcSzTDcs4g3i6U1L57xPHGNlSSE+Jx4zqEHiR67LLr9xLjns55kxI5uZJ44RC6UulruYlQ2VeIo4rqga5ftzLiuctzir1Tpr98lfGCloK8tcpxpCCotYgggBMuqooAoLCdo1Ukxk6Dzp4R90/CK5ZHJVwMixgBpUSI4f/A9+z9YsTk64SZEk0Pti2x/DQHAXaDVs+/vYtlsnQOAZuNI6/loTmPkkvdHR4kdA/zZwcd3R5D3gcgcYeNIlQ3KkAJW/WATez+ib8kD0FgivuXNrn+P0AcjSrNI3wMEhMFKi7HWPd4e65/bvnfb8fgBGIXKVL4xNQwAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+YKCAonM+tPNNQAAAELSURBVBjTNcE9SAJhAIDh9w5L+gSRMDUlIeiHhhAuTAocg6CWNgfnoKGIppaWyCgaAt1CCCvhIBCqrSCEIi4olKvxKjuzHBpEkA6PsKnnkfKPh50VY5UpobDgTRJ1RbkQR1iNNuVbA2ksM9KZVCYwmy+M90Z41aoMzfXRqlgs+zaQw4qH4v41PzmbYfcoLqebwtoVT1kDIQRyV7eTTltCU0s8W/c0glXM8zpvZpVscw9H3DlD/1KQyG6MnfVtpF+ZG71I6jLFp1zDESKAVnngJHfMx9k3AMmeBLObcRL2InLYM4hPBNDUEv/eT+tYNZv0XRo53zogFBf4p71k9C0KZZWBeR+G/oU/JvgD3DRc8fJrLSwAAAAASUVORK5CYII=",jr="/jext-reborn/assets/chest.dc4b25ff.png",Zr="/jext-reborn/assets/delete_btn.871175bc.png",Wr="/jext-reborn/assets/delete_btn_hover.386c7405.png";function Wt(i,{delay:e=0,duration:t=400,easing:o=ze}={}){const n=+getComputedStyle(i).opacity;return{delay:e,duration:t,easing:o,css:r=>`opacity: ${r*n}`}}function Mr(i){return{c:lt,m:lt,p:lt,i:lt,o:lt,d:lt}}function Gr(i){let e;function t(r,s){return r[0]?Vr:Hr}let o=t(i),n=o(i);return{c(){n.c(),e=Dt()},m(r,s){n.m(r,s),ot(r,e,s)},p(r,s){o===(o=t(r))&&n?n.p(r,s):(n.d(1),n=o(r),n&&(n.c(),ct(n,1),n.m(e.parentNode,e)))},i(r){ct(n)},o:lt,d(r){n.d(r),r&&it(e)}}}function Hr(i){let e,t,o,n,r,s,a,l,d;return{c(){e=tt("div"),t=tt("img"),n=_t(),r=tt("p"),s=It(i[2]),wt(t.src,o=i[1])||N(t,"src",o),N(t,"alt",i[2]),N(t,"class","svelte-72nmcc"),N(e,"class","svelte-72nmcc")},m(b,p){ot(b,e,p),et(e,t),et(e,n),et(e,r),et(r,s),l||(d=[at(e,"click",function(){Ft(i[3])&&i[3].apply(this,arguments)}),at(e,"keydown",null)],l=!0)},p(b,p){i=b,p&2&&!wt(t.src,o=i[1])&&N(t,"src",o),p&4&&N(t,"alt",i[2]),p&4&&Vt(s,i[2])},i(b){a||Ct(()=>{a=ve(e,Wt,{}),a.start()})},o:lt,d(b){b&&it(e),l=!1,bt(d)}}}function Vr(i){let e,t,o,n,r,s,a,l,d;return{c(){e=tt("div"),t=tt("img"),n=_t(),r=tt("p"),s=It(i[2]),wt(t.src,o=i[6])||N(t,"src",o),N(t,"alt",i[2]),N(t,"class","svelte-72nmcc"),N(e,"class","selected svelte-72nmcc")},m(b,p){ot(b,e,p),et(e,t),et(e,n),et(e,r),et(r,s),l||(d=[at(e,"click",function(){Ft(i[3])&&i[3].apply(this,arguments)}),at(e,"keydown",null)],l=!0)},p(b,p){i=b,p&4&&N(t,"alt",i[2]),p&4&&Vt(s,i[2])},i(b){a||Ct(()=>{a=ve(e,Wt,{}),a.start()})},o:lt,d(b){b&&it(e),l=!1,bt(d)}}}function Kr(i){let e;function t(r,s){return r[0]?$r:qr}let o=t(i),n=o(i);return{c(){n.c(),e=Dt()},m(r,s){n.m(r,s),ot(r,e,s)},p(r,s){o===(o=t(r))&&n?n.p(r,s):(n.d(1),n=o(r),n&&(n.c(),ct(n,1),n.m(e.parentNode,e)))},i(r){ct(n)},o:lt,d(r){n.d(r),r&&it(e)}}}function qr(i){let e,t,o,n,r,s,a,l,d;return{c(){e=tt("div"),t=tt("img"),n=_t(),r=tt("p"),s=It(i[2]),wt(t.src,o=i[1])||N(t,"src",o),N(t,"alt",i[2]),N(t,"class","svelte-72nmcc"),N(e,"class","svelte-72nmcc")},m(b,p){ot(b,e,p),et(e,t),et(e,n),et(e,r),et(r,s),l||(d=[at(e,"click",function(){Ft(i[3])&&i[3].apply(this,arguments)}),at(e,"keydown",null)],l=!0)},p(b,p){i=b,p&2&&!wt(t.src,o=i[1])&&N(t,"src",o),p&4&&N(t,"alt",i[2]),p&4&&Vt(s,i[2])},i(b){a||Ct(()=>{a=ve(e,Wt,{}),a.start()})},o:lt,d(b){b&&it(e),l=!1,bt(d)}}}function $r(i){let e,t,o,n,r,s,a,l,d;return{c(){e=tt("div"),t=tt("img"),n=_t(),r=tt("p"),s=It(i[2]),wt(t.src,o=hn)||N(t,"src",o),N(t,"alt",i[2]),N(t,"class","svelte-72nmcc"),N(e,"class","selected svelte-72nmcc")},m(b,p){ot(b,e,p),et(e,t),et(e,n),et(e,r),et(r,s),l||(d=[at(e,"click",function(){Ft(i[3])&&i[3].apply(this,arguments)}),at(e,"keydown",null)],l=!0)},p(b,p){i=b,p&4&&N(t,"alt",i[2]),p&4&&Vt(s,i[2])},i(b){a||Ct(()=>{a=ve(e,Wt,{}),a.start()})},o:lt,d(b){b&&it(e),l=!1,bt(d)}}}function Yr(i){let e,t={ctx:i,current:null,token:null,hasCatch:!1,pending:Kr,then:Gr,catch:Mr,value:6};return Re(i[4],t),{c(){e=Dt(),t.block.c()},m(o,n){ot(o,e,n),t.block.m(o,t.anchor=n),t.mount=()=>e.parentNode,t.anchor=e},p(o,[n]){i=o,Oe(t,i,n)},i(o){ct(t.block)},o:lt,d(o){o&&it(e),t.block.d(o),t.token=null,t=null}}}function Jr(i,e,t){let{value:o=!1}=e,{image:n}=e,{name:r}=e,{onClick:s=()=>{}}=e;const l=(async d=>{const p=await(await fetch(d)).blob();return URL.createObjectURL(p)})(n);return i.$$set=d=>{"value"in d&&t(0,o=d.value),"image"in d&&t(1,n=d.image),"name"in d&&t(2,r=d.name),"onClick"in d&&t(3,s=d.onClick)},[o,n,r,s,l]}class Xr extends Gt{constructor(e){super(),Mt(this,e,Jr,Yr,Nt,{value:0,image:1,name:2,onClick:3})}}const mn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA0UlEQVR42nWSsQ1CMQxEvQ4rINFR0SOBxAgpaRgA/Q3YhelAF+mi9+/nF1YS2zn7zq7v+/H7tEu31/XYbea7nw6ruM/SRYlM0HtZluEzIO+KycporsI3qzGHeSW01tpwsJukkl0MAAcV0GdyJ6AKpa/cVlZyq9SG9yFicpR4TKDipOmzMjnH525m/g6QTp5uOT8zNt2D5J68SaVyPORsYPtJxVrVjBcraHSkwDH3TUxnguyZu1pRkD1v541wpjHb0MokKkz+WWgDkDtgkfbm7wJ/9oUoq3qXqFkAAAAASUVORK5CYII=",Ue=new Map([[4,"1.14 - 1.14.4"],[5,"1.15 - 1.16.1"],[6,"1.16.2-1.16.5"],[7,"1.17 - 1.17.1"],[8,"1.18 - 1.18.2"],[9,"1.19 - 1.19.2"]]),je=[{source:"chests/ancient_city,chests/ancient_city_ice_box",img:"loottable_icons/Ancient_City.webp",name:"Ancient City",minVersion:9},{source:"chests/bastion_bridge,chests/bastion_hoglin_treasure,chests/bastion_other,chests/bastion_treasure",img:"loottable_icons/Bastion_Remnant.webp",name:"Bastion Remnant",minVersion:5},{source:"chests/desert_pyramid",img:"loottable_icons/Desert_pyramid.webp",name:"Desert Pyramid",minVersion:4},{source:"chests/simple_dungeon",img:"loottable_icons/Dungeon.webp",name:"Dungeon",minVersion:4},{source:"chests/end_city_treasure",img:"loottable_icons/End_City.webp",name:"End City",minVersion:4},{source:"chests/igloo_chest",img:"loottable_icons/Igloo.webp",name:"Igloo",minVersion:4},{source:"chests/jungle_temple",img:"loottable_icons/Jungle_pyramid.webp",name:"Jungle Temple",minVersion:4},{source:"chests/nether_bridge",img:"loottable_icons/Nether_Fortress.webp",name:"Nether Fortress",minVersion:4},{source:"chests/ruined_portal",img:"loottable_icons/Nether_portal.webp",name:"Ruined Portal",minVersion:5},{source:"chests/pillager_outpost",img:"loottable_icons/Pillager_outpost.webp",name:"Pillager Outpost",minVersion:4},{source:"chests/shipwreck_map,chests/shipwreck_supply,chests/shipwreck_treasure",img:"loottable_icons/Shipwreck.webp",name:"Shipwreck",minVersion:4},{source:"chests/stronghold_corridor,chests/stronghold_crossing",img:"loottable_icons/Stronghold.webp",name:"Stronghold",minVersion:4},{source:"chests/underwater_ruin_big,chests/underwater_ruin_small",img:"loottable_icons/Underwater_ruin.webp",name:"Underwater Ruins",minVersion:4},{source:"chests/village/village_plains_house,chests/village/village_savanna_house,chests/village/village_desert_house,chests/village/village_snowy_house,chests/village/village_taiga_house",img:"loottable_icons/Village.webp",name:"Village",minVersion:4},{source:"chests/woodland_mansion",img:"loottable_icons/Woodland_Mansion.webp",name:"Woodland Mansion",minVersion:4},{source:"chests/abandoned_mineshaft",img:"loottable_icons/Mineshaft.webp",name:"Mineshaft",minVersion:4}],Yt=[];function Qr(i,e=lt){let t;const o=new Set;function n(a){if(Nt(i,a)&&(i=a,t)){const l=!Yt.length;for(const d of o)d[1](),Yt.push(d,i);if(l){for(let d=0;d<Yt.length;d+=2)Yt[d][0](Yt[d+1]);Yt.length=0}}}function r(a){n(a(i))}function s(a,l=lt){const d=[a,l];return o.add(d),o.size===1&&(t=e(n)||lt),a(i),()=>{o.delete(d),o.size===0&&(t(),t=null)}}return{set:n,update:r,subscribe:s}}const be=Qr(9);function Ze(i,e,t){const o=i.slice();return o[6]=e[t],o}function We(i){let e,t,o,n,r,s,a,l=je,d=[];for(let p=0;p<l.length;p+=1)d[p]=Ge(Ze(i,l,p));const b=p=>mt(d[p],1,1,()=>{d[p]=null});return{c(){e=tt("div"),t=tt("div");for(let p=0;p<d.length;p+=1)d[p].c();o=_t(),n=tt("div"),n.innerHTML='<div id="content" class="svelte-1m5gm3z"><p id="generate_text" class="noselect svelte-1m5gm3z">OK</p></div>',N(t,"class","popupcontainer svelte-1m5gm3z"),N(n,"id","messagepopupconfirm"),N(n,"class","popupconfirm svelte-1m5gm3z"),N(e,"class","popup svelte-1m5gm3z")},m(p,v){ot(p,e,v),et(e,t);for(let h=0;h<d.length;h+=1)d[h].m(t,null);et(e,o),et(e,n),r=!0,s||(a=[at(n,"click",i[4]),at(n,"keydown",null)],s=!0)},p(p,v){if(v&13){l=je;let h;for(h=0;h<l.length;h+=1){const _=Ze(p,l,h);d[h]?(d[h].p(_,v),ct(d[h],1)):(d[h]=Ge(_),d[h].c(),ct(d[h],1),d[h].m(t,null))}for(Kt(),h=l.length;h<d.length;h+=1)b(h);qt()}},i(p){if(!r){for(let v=0;v<l.length;v+=1)ct(d[v]);r=!0}},o(p){d=d.filter(Boolean);for(let v=0;v<d.length;v+=1)mt(d[v]);r=!1},d(p){p&&it(e),xe(d,p),s=!1,bt(a)}}}function Me(i){let e,t;function o(){return i[5](i[6])}return e=new Xr({props:{image:i[6].img,name:i[6].name,value:i[0].includes(i[6].source),onClick:o}}),{c(){Et(e.$$.fragment)},m(n,r){kt(e,n,r),t=!0},p(n,r){i=n;const s={};r&1&&(s.value=i[0].includes(i[6].source)),e.$set(s)},i(n){t||(ct(e.$$.fragment,n),t=!0)},o(n){mt(e.$$.fragment,n),t=!1},d(n){St(e,n)}}}function Ge(i){let e,t,o=i[6].minVersion&&i[6].minVersion<=i[2]&&Me(i);return{c(){o&&o.c(),e=Dt()},m(n,r){o&&o.m(n,r),ot(n,e,r),t=!0},p(n,r){n[6].minVersion&&n[6].minVersion<=n[2]?o?(o.p(n,r),r&4&&ct(o,1)):(o=Me(n),o.c(),ct(o,1),o.m(e.parentNode,e)):o&&(Kt(),mt(o,1,1,()=>{o=null}),qt())},i(n){t||(ct(o),t=!0)},o(n){mt(o),t=!1},d(n){o&&o.d(n),n&&it(e)}}}function ti(i){let e,t,o,n,r,s,a,l=i[1]&&We(i);return{c(){e=tt("div"),o=_t(),l&&l.c(),n=Dt(),N(e,"class","popupbackground svelte-1m5gm3z"),Qt(e,"background-image","url("+mn+")")},m(d,b){ot(d,e,b),ot(d,o,b),l&&l.m(d,b),ot(d,n,b),r=!0,s||(a=[at(e,"click",i[4]),at(e,"keydown",null)],s=!0)},p(d,[b]){d[1]?l?(l.p(d,b),b&2&&ct(l,1)):(l=We(d),l.c(),ct(l,1),l.m(n.parentNode,n)):l&&(Kt(),mt(l,1,1,()=>{l=null}),qt())},i(d){r||(Ct(()=>{t||(t=_e(e,Wt,{},!0)),t.run(1)}),ct(l),r=!0)},o(d){t||(t=_e(e,Wt,{},!1)),t.run(0),mt(l),r=!1},d(d){d&&it(e),d&&t&&t.end(),d&&it(o),l&&l.d(d),d&&it(n),s=!1,bt(a)}}}function ei(i,e,t){let o;tn(i,be,d=>t(2,o=d));let{selectedDungeons:n=[]}=e,{closePopup:r}=e;const s=d=>{n.includes(d)?t(0,n=n.filter(b=>b!=d)):t(0,n=[...n,d])},a=()=>{t(1,r=!1),document.querySelector(".popup").style.display="none"},l=d=>s(d.source);return i.$$set=d=>{"selectedDungeons"in d&&t(0,n=d.selectedDungeons),"closePopup"in d&&t(1,r=d.closePopup)},[n,r,o,s,a,l]}class ni extends Gt{constructor(e){super(),Mt(this,e,ei,ti,Nt,{selectedDungeons:0,closePopup:1})}}function He(i){let e,t,o,n;function r(l){i[12](l)}function s(l){i[13](l)}let a={};return i[0].lootTables!==void 0&&(a.selectedDungeons=i[0].lootTables),i[3]!==void 0&&(a.closePopup=i[3]),e=new ni({props:a}),Ot.push(()=>Zt(e,"selectedDungeons",r)),Ot.push(()=>Zt(e,"closePopup",s)),{c(){Et(e.$$.fragment)},m(l,d){kt(e,l,d),n=!0},p(l,d){const b={};!t&&d&1&&(t=!0,b.selectedDungeons=l[0].lootTables,jt(()=>t=!1)),!o&&d&8&&(o=!0,b.closePopup=l[3],jt(()=>o=!1)),e.$set(b)},i(l){n||(ct(e.$$.fragment,l),n=!0)},o(l){mt(e.$$.fragment,l),n=!1},d(l){St(e,l)}}}function ri(i){return{c:lt,m:lt,p:lt,i:lt,o:lt,d:lt}}function ii(i){let e,t,o,n,r,s,a,l,d,b,p,v,h,_,f,g,m,y,A,z,C,O,R,W;t=new Jt({props:{text:"Changes the disc icon",$$slots:{default:[si]},$$scope:{ctx:i}}}),s=new Jt({props:{text:"Toggles Creeper drops",$$slots:{default:[li]},$$scope:{ctx:i}}}),d=new Jt({props:{text:"Selects structures in which the disc can be found",$$slots:{default:[ci]},$$scope:{ctx:i}}}),v=new Jt({props:{text:"Removes the disc",$$slots:{default:[di]},$$scope:{ctx:i}}});function P(k,T){return k[0].namespace.length>90?pi:hi}let V=P(i),X=V(i);return{c(){e=tt("div"),Et(t.$$.fragment),o=_t(),n=tt("div"),r=tt("div"),Et(s.$$.fragment),a=_t(),l=tt("div"),Et(d.$$.fragment),b=_t(),p=tt("div"),Et(v.$$.fragment),h=_t(),_=tt("div"),f=tt("input"),g=_t(),m=tt("input"),y=_t(),A=tt("p"),X.c(),z=_t(),C=tt("textarea"),N(r,"id","wrapper"),N(r,"class","svelte-12gqr3a"),N(l,"id","wrapper"),N(l,"class","svelte-12gqr3a"),N(p,"id","wrapper"),N(p,"class","svelte-12gqr3a"),N(n,"id","buttons"),N(n,"class","svelte-12gqr3a"),N(e,"id","icons"),N(e,"class","svelte-12gqr3a"),N(f,"type","text"),N(f,"name","song_name"),N(f,"id","song_name_input"),N(f,"class","svelte-12gqr3a"),N(m,"type","text"),N(m,"name","song_author"),N(m,"id","song_author_input"),N(m,"class","svelte-12gqr3a"),N(A,"id","disknamespace"),N(A,"class","svelte-12gqr3a"),N(_,"id","names"),N(_,"class","svelte-12gqr3a"),N(C,"name","song_lore"),N(C,"id","song_lore_input"),N(C,"cols","30"),N(C,"rows","6"),N(C,"class","svelte-12gqr3a")},m(k,T){ot(k,e,T),kt(t,e,null),et(e,o),et(e,n),et(n,r),kt(s,r,null),et(n,a),et(n,l),kt(d,l,null),et(n,b),et(n,p),kt(v,p,null),ot(k,h,T),ot(k,_,T),et(_,f),Ut(f,i[0].name),et(_,g),et(_,m),Ut(m,i[0].author),et(_,y),et(_,A),X.m(A,null),ot(k,z,T),ot(k,C,T),Ut(C,i[0].lores),O=!0,R||(W=[at(f,"input",i[14]),at(f,"input",i[4]),at(m,"input",i[15]),at(m,"input",i[4]),at(C,"input",i[16])],R=!0)},p(k,T){const u={};T&1048577&&(u.$$scope={dirty:T,ctx:k}),t.$set(u);const L={};T&1048577&&(L.$$scope={dirty:T,ctx:k}),s.$set(L);const J={};T&1048576&&(J.$$scope={dirty:T,ctx:k}),d.$set(J);const j={};T&1048582&&(j.$$scope={dirty:T,ctx:k}),v.$set(j),T&1&&f.value!==k[0].name&&Ut(f,k[0].name),T&1&&m.value!==k[0].author&&Ut(m,k[0].author),V===(V=P(k))&&X?X.p(k,T):(X.d(1),X=V(k),X&&(X.c(),X.m(A,null))),T&1&&Ut(C,k[0].lores)},i(k){O||(ct(t.$$.fragment,k),ct(s.$$.fragment,k),ct(d.$$.fragment,k),ct(v.$$.fragment,k),O=!0)},o(k){mt(t.$$.fragment,k),mt(s.$$.fragment,k),mt(d.$$.fragment,k),mt(v.$$.fragment,k),O=!1},d(k){k&&it(e),St(t),St(s),St(d),St(v),k&&it(h),k&&it(_),X.d(),k&&it(z),k&&it(C),R=!1,bt(W)}}}function si(i){let e,t,o,n;return{c(){e=tt("img"),N(e,"id","disc_texture"),wt(e.src,t=URL.createObjectURL(i[0].texture))||N(e,"src",t),N(e,"height","64"),N(e,"width","64"),N(e,"alt","disc icon"),N(e,"class","svelte-12gqr3a")},m(r,s){ot(r,e,s),o||(n=[at(e,"click",i[9]),at(e,"keydown",null)],o=!0)},p(r,s){s&1&&!wt(e.src,t=URL.createObjectURL(r[0].texture))&&N(e,"src",t)},d(r){r&&it(e),o=!1,bt(n)}}}function oi(i){let e,t,o,n;return{c(){e=tt("img"),N(e,"id","toggle_creeper"),wt(e.src,t=pn)||N(e,"src",t),N(e,"alt","creeper icon"),N(e,"class","svelte-12gqr3a")},m(r,s){ot(r,e,s),o||(n=[at(e,"click",i[7]),at(e,"keydown",null)],o=!0)},p:lt,d(r){r&&it(e),o=!1,bt(n)}}}function ai(i){let e,t,o,n;return{c(){e=tt("img"),N(e,"id","toggle_creeper"),wt(e.src,t=pn)||N(e,"src",t),N(e,"alt","creeper icon"),N(e,"class","grayscale svelte-12gqr3a")},m(r,s){ot(r,e,s),o||(n=[at(e,"click",i[7]),at(e,"keydown",null)],o=!0)},p:lt,d(r){r&&it(e),o=!1,bt(n)}}}function li(i){let e;function t(r,s){return r[0].creeperDrop?oi:ai}let o=t(i),n=o(i);return{c(){n.c(),e=Dt()},m(r,s){n.m(r,s),ot(r,e,s)},p(r,s){o===(o=t(r))&&n?n.p(r,s):(n.d(1),n=o(r),n&&(n.c(),n.m(e.parentNode,e)))},d(r){n.d(r),r&&it(e)}}}function ci(i){let e,t,o,n;return{c(){e=tt("img"),N(e,"id","loot_selector"),wt(e.src,t=jr)||N(e,"src",t),N(e,"alt","chest icon"),N(e,"class","svelte-12gqr3a")},m(r,s){ot(r,e,s),o||(n=[at(e,"click",i[10]),at(e,"keydown",null)],o=!0)},p:lt,d(r){r&&it(e),o=!1,bt(n)}}}function ui(i){let e,t,o,n;return{c(){e=tt("img"),N(e,"id","song_delete"),wt(e.src,t=Wr)||N(e,"src",t),N(e,"alt","delete icon"),N(e,"class","svelte-12gqr3a")},m(r,s){ot(r,e,s),o||(n=[at(e,"mouseleave",i[8]),at(e,"click",function(){Ft(i[1])&&i[1].apply(this,arguments)}),at(e,"keydown",null)],o=!0)},p(r,s){i=r},d(r){r&&it(e),o=!1,bt(n)}}}function fi(i){let e,t,o,n;return{c(){e=tt("img"),N(e,"id","song_delete"),wt(e.src,t=Zr)||N(e,"src",t),N(e,"alt","delete icon"),N(e,"class","svelte-12gqr3a")},m(r,s){ot(r,e,s),o||(n=[at(e,"mouseenter",i[8]),at(e,"click",function(){Ft(i[1])&&i[1].apply(this,arguments)}),at(e,"keydown",null)],o=!0)},p(r,s){i=r},d(r){r&&it(e),o=!1,bt(n)}}}function di(i){let e;function t(r,s){return r[2]?ui:fi}let o=t(i),n=o(i);return{c(){n.c(),e=Dt()},m(r,s){n.m(r,s),ot(r,e,s)},p(r,s){o===(o=t(r))&&n?n.p(r,s):(n.d(1),n=o(r),n&&(n.c(),n.m(e.parentNode,e)))},d(r){n.d(r),r&&it(e)}}}function hi(i){let e=i[0].namespace+"",t;return{c(){t=It(e)},m(o,n){ot(o,t,n)},p(o,n){n&1&&e!==(e=o[0].namespace+"")&&Vt(t,e)},d(o){o&&it(t)}}}function pi(i){let e=i[0].namespace.substring(0,90)+"",t,o;return{c(){t=It(e),o=It("...")},m(n,r){ot(n,t,r),ot(n,o,r)},p(n,r){r&1&&e!==(e=n[0].namespace.substring(0,90)+"")&&Vt(t,e)},d(n){n&&it(t),n&&it(o)}}}function mi(i){let e,t={ctx:i,current:null,token:null,hasCatch:!1,pending:bi,then:_i,catch:gi,value:19};return Re(i[6],t),{c(){e=Dt(),t.block.c()},m(o,n){ot(o,e,n),t.block.m(o,t.anchor=n),t.mount=()=>e.parentNode,t.anchor=e},p(o,n){i=o,Oe(t,i,n)},i:lt,o:lt,d(o){o&&it(e),t.block.d(o),t.token=null,t=null}}}function gi(i){return{c:lt,m:lt,p:lt,d:lt}}function _i(i){let e,t,o;return{c(){e=tt("div"),t=tt("img"),wt(t.src,o=hn)||N(t,"src",o),N(t,"alt","loading"),N(t,"class","svelte-12gqr3a"),N(e,"id","loading"),N(e,"class","svelte-12gqr3a")},m(n,r){ot(n,e,r),et(e,t)},p:lt,d(n){n&&it(e)}}}function bi(i){let e;return{c(){e=tt("div"),e.innerHTML='<img src="" alt="loading" class="svelte-12gqr3a"/>',N(e,"id","loading"),N(e,"class","svelte-12gqr3a")},m(t,o){ot(t,e,o)},p:lt,d(t){t&&it(e)}}}function vi(i){let e,t,o,n=i[3]&&He(i),r={ctx:i,current:null,token:null,hasCatch:!1,pending:mi,then:ii,catch:ri,value:19,blocks:[,,,]};return Re(i[5],r),{c(){n&&n.c(),e=_t(),t=tt("div"),r.block.c(),N(t,"id","song"),N(t,"class","svelte-12gqr3a")},m(s,a){n&&n.m(s,a),ot(s,e,a),ot(s,t,a),r.block.m(t,r.anchor=null),r.mount=()=>t,r.anchor=null,o=!0},p(s,[a]){i=s,i[3]?n?(n.p(i,a),a&8&&ct(n,1)):(n=He(i),n.c(),ct(n,1),n.m(e.parentNode,e)):n&&(Kt(),mt(n,1,1,()=>{n=null}),qt()),Oe(r,i,a)},i(s){o||(ct(n),ct(r.block),o=!0)},o(s){mt(n);for(let a=0;a<3;a+=1){const l=r.blocks[a];mt(l)}o=!1},d(s){n&&n.d(s),s&&it(e),s&&it(t),r.block.d(),r.token=null,r=null}}}function yi(i,e,t){let{song:o}=e,{id:n}=e,{onRemove:r=()=>{}}=e;const s=()=>{t(0,o.namespace=`${o.name}${o.author}${n}`.replace(/[^a-zA-Z0-9]/g,"").replaceAll("1","one").replaceAll("2","two").replaceAll("3","three").replaceAll("4","four").replaceAll("5","five").replaceAll("6","six").replaceAll("7","seven").replaceAll("8","eight").replaceAll("9","nine").replaceAll("0","zero").toLowerCase(),o)},a=async()=>{const O=o.uploadedFile.name.replace(/(\.mp3)|(\.ogg)|(\.wav)/g,"").split(/ ?- ?/g);O.length>=1&&t(0,o.name=O.shift(),o),O.length>=1&&t(0,o.author=O.join(),o),s(),t(0,o.oggFile=await Rr(o.uploadedFile),o),t(0,o.monoFile=await Or(o.oggFile),o),t(0,o.texture=await(await fetch(Ur)).blob(),o)},l=async()=>await new Promise(O=>{setTimeout(()=>{O()},1)}),d=a(),b=l(),p=()=>{t(0,o.creeperDrop=!o.creeperDrop,o)};let v=!1;const h=()=>{t(2,v=!v)},_=()=>{const O=document.createElement("input");O.type="file",O.accept="image/*",O.addEventListener("change",()=>{const R=O.files[0];R&&t(0,o.texture=R,o)}),O.click()};let f=!1;const g=()=>{t(3,f=!0)};function m(O){i.$$.not_equal(o.lootTables,O)&&(o.lootTables=O,t(0,o))}function y(O){f=O,t(3,f)}function A(){o.name=this.value,t(0,o)}function z(){o.author=this.value,t(0,o)}function C(){o.lores=this.value,t(0,o)}return i.$$set=O=>{"song"in O&&t(0,o=O.song),"id"in O&&t(11,n=O.id),"onRemove"in O&&t(1,r=O.onRemove)},[o,r,v,f,s,d,b,p,h,_,g,n,m,y,A,z,C]}class wi extends Gt{constructor(e){super(),Mt(this,e,yi,vi,Nt,{song:0,id:11,onRemove:1})}}function Ve(i,e,t){const o=i.slice();return o[5]=e[t],o[6]=e,o[7]=t,o}function Ke(i){let e,t,o;function n(){return i[3](i[5])}function r(a){i[4](a,i[5],i[6],i[7])}let s={id:i[7],onRemove:n};return i[5]!==void 0&&(s.song=i[5]),e=new wi({props:s}),Ot.push(()=>Zt(e,"song",r)),{c(){Et(e.$$.fragment)},m(a,l){kt(e,a,l),o=!0},p(a,l){i=a;const d={};l&1&&(d.onRemove=n),!t&&l&1&&(t=!0,d.song=i[5],jt(()=>t=!1)),e.$set(d)},i(a){o||(ct(e.$$.fragment,a),o=!0)},o(a){mt(e.$$.fragment,a),o=!1},d(a){St(e,a)}}}function ki(i){let e,t,o,n,r,s,a,l,d,b=i[0],p=[];for(let h=0;h<b.length;h+=1)p[h]=Ke(Ve(i,b,h));const v=h=>mt(p[h],1,1,()=>{p[h]=null});return{c(){e=tt("div"),t=tt("div");for(let h=0;h<p.length;h+=1)p[h].c();o=_t(),n=tt("hr"),r=_t(),s=tt("div"),s.innerHTML='<h1 class="noselect svelte-15f98v0">+</h1>',N(t,"id","songscontainer"),N(n,"class","hidden"),N(s,"id","addsongsbtn"),N(s,"class","svelte-15f98v0"),N(e,"id","content"),N(e,"class","svelte-15f98v0")},m(h,_){ot(h,e,_),et(e,t);for(let f=0;f<p.length;f+=1)p[f].m(t,null);et(e,o),et(e,n),et(e,r),et(e,s),a=!0,l||(d=[at(s,"click",i[1]),at(s,"keydown",null)],l=!0)},p(h,[_]){if(_&5){b=h[0];let f;for(f=0;f<b.length;f+=1){const g=Ve(h,b,f);p[f]?(p[f].p(g,_),ct(p[f],1)):(p[f]=Ke(g),p[f].c(),ct(p[f],1),p[f].m(t,null))}for(Kt(),f=b.length;f<p.length;f+=1)v(f);qt()}},i(h){if(!a){for(let _=0;_<b.length;_+=1)ct(p[_]);a=!0}},o(h){p=p.filter(Boolean);for(let _=0;_<p.length;_+=1)mt(p[_]);a=!1},d(h){h&&it(e),xe(p,h),l=!1,bt(d)}}}function Si(i,e,t){let{discData:o=[]}=e;const n=()=>{const l=document.createElement("input");l.type="file",l.multiple=!0,l.accept="audio/*",l.click(),l.addEventListener("change",async()=>{if(!l.files||l.files.length===0)return;const d=[];for(let b=0;b<l.files.length;b++)d.push({uploadedFile:l.files[b],name:"Disc Name",author:"Disc Author",lores:`This is the lore of the disc

You can have multiple lines

If you don't want any lores you can leave this empty`,texture:null,creeperDrop:!0,lootTables:[],monoFile:null,namespace:"",oggFile:null});t(0,o=[...o,...d])})},r=l=>{t(0,o=o.filter(d=>d!=l))},s=l=>r(l);function a(l,d,b,p){b[p]=l,t(0,o)}return i.$$set=l=>{"discData"in l&&t(0,o=l.discData)},[o,n,r,s,a]}class Ai extends Gt{constructor(e){super(),Mt(this,e,Si,ki,Nt,{discData:0})}}const gn="/jext-reborn/assets/pack_icon.57c0be34.png";function qe(i,e,t){const o=i.slice();return o[9]=e[t][0],o[10]=e[t][1],o}function Ei(i){let e,t,o,n;return{c(){e=tt("img"),wt(e.src,t=gn)||N(e,"src",t),N(e,"alt","pack icon"),N(e,"id","pack_icon"),N(e,"class","noselect svelte-11vhtmc")},m(r,s){ot(r,e,s),o||(n=[at(e,"click",i[3]),at(e,"keypress",null)],o=!0)},p:lt,d(r){r&&it(e),o=!1,bt(n)}}}function $e(i){let e,t=i[10]+"",o;return{c(){e=tt("option"),o=It(t),e.__value=i[9],e.value=e.__value},m(n,r){ot(n,e,r),et(e,o)},p:lt,d(n){n&&it(e)}}}function Ci(i){let e,t,o;return{c(){e=tt("button"),e.textContent="Stereo",N(e,"class","svelte-11vhtmc")},m(n,r){ot(n,e,r),t||(o=at(e,"click",i[5]),t=!0)},p:lt,d(n){n&&it(e),t=!1,o()}}}function zi(i){let e,t,o;return{c(){e=tt("button"),e.textContent="Mono",N(e,"class","svelte-11vhtmc")},m(n,r){ot(n,e,r),t||(o=at(e,"click",i[5]),t=!0)},p:lt,d(n){n&&it(e),t=!1,o()}}}function Ii(i){let e;function t(r,s){return r[1]?zi:Ci}let o=t(i),n=o(i);return{c(){n.c(),e=Dt()},m(r,s){n.m(r,s),ot(r,e,s)},p(r,s){o===(o=t(r))&&n?n.p(r,s):(n.d(1),n=o(r),n&&(n.c(),n.m(e.parentNode,e)))},d(r){n.d(r),r&&it(e)}}}function xi(i){let e,t,o,n,r,s,a,l,d,b,p,v,h;t=new Jt({props:{text:"Sets the resourcepack icon",$$slots:{default:[Ei]},$$scope:{ctx:i}}});let _=[...Ue],f=[];for(let g=0;g<_.length;g+=1)f[g]=$e(qe(i,_,g));return b=new Jt({props:{text:"Mono: single audio channel but music fading<br>Stereo: multiple audio channels but no music fading",width:"22em",$$slots:{default:[Ii]},$$scope:{ctx:i}}}),{c(){e=tt("div"),Et(t.$$.fragment),o=_t(),n=tt("input"),r=_t(),s=tt("input"),a=_t(),l=tt("select");for(let g=0;g<f.length;g+=1)f[g].c();d=_t(),Et(b.$$.fragment),N(n,"type","file"),N(n,"name","pack_icon"),N(n,"id","pack_icon_input"),N(n,"class","hidden"),N(n,"accept","image/png"),N(s,"type","text"),N(s,"name","pack_name"),N(s,"id","pack_name_input"),N(s,"class","svelte-11vhtmc"),N(l,"name","version"),N(l,"id","version_input"),N(l,"class","svelte-11vhtmc"),i[2]===void 0&&Ct(()=>i[8].call(l)),N(e,"id","header"),N(e,"class","svelte-11vhtmc")},m(g,m){ot(g,e,m),kt(t,e,null),et(e,o),et(e,n),et(e,r),et(e,s),Ut(s,i[0]),et(e,a),et(e,l);for(let y=0;y<f.length;y+=1)f[y].m(l,null);Le(l,i[2]),et(e,d),kt(b,e,null),p=!0,v||(h=[at(s,"input",i[7]),at(s,"input",i[4]),at(l,"change",i[8])],v=!0)},p(g,[m]){const y={};if(m&8192&&(y.$$scope={dirty:m,ctx:g}),t.$set(y),m&1&&s.value!==g[0]&&Ut(s,g[0]),m&0){_=[...Ue];let z;for(z=0;z<_.length;z+=1){const C=qe(g,_,z);f[z]?f[z].p(C,m):(f[z]=$e(C),f[z].c(),f[z].m(l,null))}for(;z<f.length;z+=1)f[z].d(1);f.length=_.length}m&4&&Le(l,g[2]);const A={};m&8194&&(A.$$scope={dirty:m,ctx:g}),b.$set(A)},i(g){p||(ct(t.$$.fragment,g),ct(b.$$.fragment,g),p=!0)},o(g){mt(t.$$.fragment,g),mt(b.$$.fragment,g),p=!1},d(g){g&&it(e),St(t),xe(f,g),St(b),v=!1,bt(h)}}}function Bi(i,e,t){let o;tn(i,be,v=>t(2,o=v));let{packname:n="your_pack_name"}=e,{imagesrc:r=gn}=e,{useMono:s=!0}=e;const a=()=>{var v;(v=document.querySelector("#pack_icon_input"))==null||v.addEventListener("change",()=>{const h=document.querySelector("#pack_icon_input").files;if(!h||h.length===0)return;const _=h[0],f=new FileReader;f.onload=()=>{const g=new Image;g.onload=()=>{const m=document.createElement("canvas");m.width=64,m.height=64,m.getContext("2d").drawImage(g,0,0,64,64);const A=m.toDataURL("image/png");document.querySelector("#pack_icon").src=A},t(6,r=g.src=f.result)},f.readAsDataURL(_)}),document.querySelector("#pack_icon_input").click()},l=()=>{t(0,n=n.replace(" ","_").replace(/[^a-zA-Z0-9_]/g,"").toLowerCase())},d=()=>t(1,s=!s);function b(){n=this.value,t(0,n)}function p(){o=Dn(this),be.set(o)}return i.$$set=v=>{"packname"in v&&t(0,n=v.packname),"imagesrc"in v&&t(6,r=v.imagesrc),"useMono"in v&&t(1,s=v.useMono)},[n,s,o,a,l,d,r,b,p]}class Ri extends Gt{constructor(e){super(),Mt(this,e,Bi,xi,Nt,{packname:0,imagesrc:6,useMono:1})}}function Ye(i){let e,t,o,n,r,s,a;return{c(){e=tt("div"),t=tt("div"),o=It(i[1]),n=_t(),r=tt("div"),r.innerHTML='<div id="content" class="svelte-16n0rxp"><p id="generate_text" class="noselect svelte-16n0rxp">OK</p></div>',N(t,"class","popupcontainer svelte-16n0rxp"),N(t,"id","messagepopupcontainer"),N(r,"id","messagepopupconfirm"),N(r,"class","popupconfirm svelte-16n0rxp"),N(e,"class","popup svelte-16n0rxp")},m(l,d){ot(l,e,d),et(e,t),et(t,o),et(e,n),et(e,r),s||(a=[at(r,"click",i[2]),at(r,"keydown",null)],s=!0)},p(l,d){d&2&&Vt(o,l[1])},d(l){l&&it(e),s=!1,bt(a)}}}function Oi(i){let e,t,o,n,r,s,a,l=i[0]&&Ye(i);return{c(){e=tt("div"),o=_t(),l&&l.c(),n=Dt(),N(e,"class","popupbackground svelte-16n0rxp"),Qt(e,"background-image","url("+mn+")")},m(d,b){ot(d,e,b),ot(d,o,b),l&&l.m(d,b),ot(d,n,b),r=!0,s||(a=[at(e,"click",i[2]),at(e,"keydown",null)],s=!0)},p(d,[b]){d[0]?l?l.p(d,b):(l=Ye(d),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},i(d){r||(Ct(()=>{t||(t=_e(e,Wt,{},!0)),t.run(1)}),r=!0)},o(d){t||(t=_e(e,Wt,{},!1)),t.run(0),r=!1},d(d){d&&it(e),d&&t&&t.end(),d&&it(o),l&&l.d(d),d&&it(n),s=!1,bt(a)}}}function Fi(i,e,t){let{text:o}=e,{closePopup:n}=e;const r=()=>{t(0,n=!1)};return i.$$set=s=>{"text"in s&&t(1,o=s.text),"closePopup"in s&&t(0,n=s.closePopup)},[n,o,r]}class Di extends Gt{constructor(e){super(),Mt(this,e,Fi,Oi,Nt,{text:1,closePopup:0})}}const _n="/jext-reborn/assets/generate_btn.516338f5.png";function de(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var bn={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(i,e){(function(t){i.exports=t()})(function(){return function t(o,n,r){function s(d,b){if(!n[d]){if(!o[d]){var p=typeof de=="function"&&de;if(!b&&p)return p(d,!0);if(a)return a(d,!0);var v=new Error("Cannot find module '"+d+"'");throw v.code="MODULE_NOT_FOUND",v}var h=n[d]={exports:{}};o[d][0].call(h.exports,function(_){var f=o[d][1][_];return s(f||_)},h,h.exports,t,o,n,r)}return n[d].exports}for(var a=typeof de=="function"&&de,l=0;l<r.length;l++)s(r[l]);return s}({1:[function(t,o,n){var r=t("./utils"),s=t("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(l){for(var d,b,p,v,h,_,f,g=[],m=0,y=l.length,A=y,z=r.getTypeOf(l)!=="string";m<l.length;)A=y-m,p=z?(d=l[m++],b=m<y?l[m++]:0,m<y?l[m++]:0):(d=l.charCodeAt(m++),b=m<y?l.charCodeAt(m++):0,m<y?l.charCodeAt(m++):0),v=d>>2,h=(3&d)<<4|b>>4,_=1<A?(15&b)<<2|p>>6:64,f=2<A?63&p:64,g.push(a.charAt(v)+a.charAt(h)+a.charAt(_)+a.charAt(f));return g.join("")},n.decode=function(l){var d,b,p,v,h,_,f=0,g=0,m="data:";if(l.substr(0,m.length)===m)throw new Error("Invalid base64 input, it looks like a data url.");var y,A=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===a.charAt(64)&&A--,l.charAt(l.length-2)===a.charAt(64)&&A--,A%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=s.uint8array?new Uint8Array(0|A):new Array(0|A);f<l.length;)d=a.indexOf(l.charAt(f++))<<2|(v=a.indexOf(l.charAt(f++)))>>4,b=(15&v)<<4|(h=a.indexOf(l.charAt(f++)))>>2,p=(3&h)<<6|(_=a.indexOf(l.charAt(f++))),y[g++]=d,h!==64&&(y[g++]=b),_!==64&&(y[g++]=p);return y}},{"./support":30,"./utils":32}],2:[function(t,o,n){var r=t("./external"),s=t("./stream/DataWorker"),a=t("./stream/Crc32Probe"),l=t("./stream/DataLengthProbe");function d(b,p,v,h,_){this.compressedSize=b,this.uncompressedSize=p,this.crc32=v,this.compression=h,this.compressedContent=_}d.prototype={getContentWorker:function(){var b=new s(r.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),p=this;return b.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),b},getCompressedWorker:function(){return new s(r.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(b,p,v){return b.pipe(new a).pipe(new l("uncompressedSize")).pipe(p.compressWorker(v)).pipe(new l("compressedSize")).withStreamInfo("compression",p)},o.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,o,n){var r=t("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new r("STORE compression")},uncompressWorker:function(){return new r("STORE decompression")}},n.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,o,n){var r=t("./utils"),s=function(){for(var a,l=[],d=0;d<256;d++){a=d;for(var b=0;b<8;b++)a=1&a?3988292384^a>>>1:a>>>1;l[d]=a}return l}();o.exports=function(a,l){return a!==void 0&&a.length?r.getTypeOf(a)!=="string"?function(d,b,p,v){var h=s,_=v+p;d^=-1;for(var f=v;f<_;f++)d=d>>>8^h[255&(d^b[f])];return-1^d}(0|l,a,a.length,0):function(d,b,p,v){var h=s,_=v+p;d^=-1;for(var f=v;f<_;f++)d=d>>>8^h[255&(d^b.charCodeAt(f))];return-1^d}(0|l,a,a.length,0):0}},{"./utils":32}],5:[function(t,o,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(t,o,n){var r=null;r=typeof Promise<"u"?Promise:t("lie"),o.exports={Promise:r}},{lie:37}],7:[function(t,o,n){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=t("pako"),a=t("./utils"),l=t("./stream/GenericWorker"),d=r?"uint8array":"array";function b(p,v){l.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=v,this.meta={}}n.magic="\b\0",a.inherits(b,l),b.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(d,p.data),!1)},b.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},b.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},b.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(v){p.push({data:v,meta:p.meta})}},n.compressWorker=function(p){return new b("Deflate",p)},n.uncompressWorker=function(){return new b("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,o,n){function r(h,_){var f,g="";for(f=0;f<_;f++)g+=String.fromCharCode(255&h),h>>>=8;return g}function s(h,_,f,g,m,y){var A,z,C=h.file,O=h.compression,R=y!==d.utf8encode,W=a.transformTo("string",y(C.name)),P=a.transformTo("string",d.utf8encode(C.name)),V=C.comment,X=a.transformTo("string",y(V)),k=a.transformTo("string",d.utf8encode(V)),T=P.length!==C.name.length,u=k.length!==V.length,L="",J="",j="",nt=C.dir,x=C.date,D={crc32:0,compressedSize:0,uncompressedSize:0};_&&!f||(D.crc32=h.crc32,D.compressedSize=h.compressedSize,D.uncompressedSize=h.uncompressedSize);var E=0;_&&(E|=8),R||!T&&!u||(E|=2048);var I=0,G=0;nt&&(I|=16),m==="UNIX"?(G=798,I|=function(K,ut){var ht=K;return K||(ht=ut?16893:33204),(65535&ht)<<16}(C.unixPermissions,nt)):(G=20,I|=function(K){return 63&(K||0)}(C.dosPermissions)),A=x.getUTCHours(),A<<=6,A|=x.getUTCMinutes(),A<<=5,A|=x.getUTCSeconds()/2,z=x.getUTCFullYear()-1980,z<<=4,z|=x.getUTCMonth()+1,z<<=5,z|=x.getUTCDate(),T&&(J=r(1,1)+r(b(W),4)+P,L+="up"+r(J.length,2)+J),u&&(j=r(1,1)+r(b(X),4)+k,L+="uc"+r(j.length,2)+j);var q="";return q+=`
\0`,q+=r(E,2),q+=O.magic,q+=r(A,2),q+=r(z,2),q+=r(D.crc32,4),q+=r(D.compressedSize,4),q+=r(D.uncompressedSize,4),q+=r(W.length,2),q+=r(L.length,2),{fileRecord:p.LOCAL_FILE_HEADER+q+W+L,dirRecord:p.CENTRAL_FILE_HEADER+r(G,2)+q+r(X.length,2)+"\0\0\0\0"+r(I,4)+r(g,4)+W+L+X}}var a=t("../utils"),l=t("../stream/GenericWorker"),d=t("../utf8"),b=t("../crc32"),p=t("../signature");function v(h,_,f,g){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=_,this.zipPlatform=f,this.encodeFileName=g,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(v,l),v.prototype.push=function(h){var _=h.meta.percent||0,f=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,l.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:f?(_+100*(f-g-1))/f:100}}))},v.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var _=this.streamFiles&&!h.file.dir;if(_){var f=s(h,_,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:f.fileRecord,meta:{percent:0}})}else this.accumulate=!0},v.prototype.closedSource=function(h){this.accumulate=!1;var _=this.streamFiles&&!h.file.dir,f=s(h,_,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(f.dirRecord),_)this.push({data:function(g){return p.DATA_DESCRIPTOR+r(g.crc32,4)+r(g.compressedSize,4)+r(g.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:f.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},v.prototype.flush=function(){for(var h=this.bytesWritten,_=0;_<this.dirRecords.length;_++)this.push({data:this.dirRecords[_],meta:{percent:100}});var f=this.bytesWritten-h,g=function(m,y,A,z,C){var O=a.transformTo("string",C(z));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+r(m,2)+r(m,2)+r(y,4)+r(A,4)+r(O.length,2)+O}(this.dirRecords.length,f,h,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},v.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},v.prototype.registerPrevious=function(h){this._sources.push(h);var _=this;return h.on("data",function(f){_.processChunk(f)}),h.on("end",function(){_.closedSource(_.previous.streamInfo),_._sources.length?_.prepareNextSource():_.end()}),h.on("error",function(f){_.error(f)}),this},v.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},v.prototype.error=function(h){var _=this._sources;if(!l.prototype.error.call(this,h))return!1;for(var f=0;f<_.length;f++)try{_[f].error(h)}catch{}return!0},v.prototype.lock=function(){l.prototype.lock.call(this);for(var h=this._sources,_=0;_<h.length;_++)h[_].lock()},o.exports=v},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,o,n){var r=t("../compressions"),s=t("./ZipFileWorker");n.generateWorker=function(a,l,d){var b=new s(l.streamFiles,d,l.platform,l.encodeFileName),p=0;try{a.forEach(function(v,h){p++;var _=function(y,A){var z=y||A,C=r[z];if(!C)throw new Error(z+" is not a valid compression method !");return C}(h.options.compression,l.compression),f=h.options.compressionOptions||l.compressionOptions||{},g=h.dir,m=h.date;h._compressWorker(_,f).withStreamInfo("file",{name:v,dir:g,date:m,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(b)}),b.entriesCount=p}catch(v){b.error(v)}return b}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,o,n){function r(){if(!(this instanceof r))return new r;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new r;for(var a in this)typeof this[a]!="function"&&(s[a]=this[a]);return s}}(r.prototype=t("./object")).loadAsync=t("./load"),r.support=t("./support"),r.defaults=t("./defaults"),r.version="3.10.1",r.loadAsync=function(s,a){return new r().loadAsync(s,a)},r.external=t("./external"),o.exports=r},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,o,n){var r=t("./utils"),s=t("./external"),a=t("./utf8"),l=t("./zipEntries"),d=t("./stream/Crc32Probe"),b=t("./nodejsUtils");function p(v){return new s.Promise(function(h,_){var f=v.decompressed.getContentWorker().pipe(new d);f.on("error",function(g){_(g)}).on("end",function(){f.streamInfo.crc32!==v.decompressed.crc32?_(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}o.exports=function(v,h){var _=this;return h=r.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),b.isNode&&b.isStream(v)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):r.prepareContent("the loaded zip file",v,!0,h.optimizedBinaryString,h.base64).then(function(f){var g=new l(h);return g.load(f),g}).then(function(f){var g=[s.Promise.resolve(f)],m=f.files;if(h.checkCRC32)for(var y=0;y<m.length;y++)g.push(p(m[y]));return s.Promise.all(g)}).then(function(f){for(var g=f.shift(),m=g.files,y=0;y<m.length;y++){var A=m[y],z=A.fileNameStr,C=r.resolve(A.fileNameStr);_.file(C,A.decompressed,{binary:!0,optimizedBinaryString:!0,date:A.date,dir:A.dir,comment:A.fileCommentStr.length?A.fileCommentStr:null,unixPermissions:A.unixPermissions,dosPermissions:A.dosPermissions,createFolders:h.createFolders}),A.dir||(_.file(C).unsafeOriginalName=z)}return g.zipComment.length&&(_.comment=g.zipComment),_})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,o,n){var r=t("../utils"),s=t("../stream/GenericWorker");function a(l,d){s.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(d)}r.inherits(a,s),a.prototype._bindStream=function(l){var d=this;(this._stream=l).pause(),l.on("data",function(b){d.push({data:b,meta:{percent:0}})}).on("error",function(b){d.isPaused?this.generatedError=b:d.error(b)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},a.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,o,n){var r=t("readable-stream").Readable;function s(a,l,d){r.call(this,l),this._helper=a;var b=this;a.on("data",function(p,v){b.push(p)||b._helper.pause(),d&&d(v)}).on("error",function(p){b.emit("error",p)}).on("end",function(){b.push(null)})}t("../utils").inherits(s,r),s.prototype._read=function(){this._helper.resume()},o.exports=s},{"../utils":32,"readable-stream":16}],14:[function(t,o,n){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(r,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(r,s);if(typeof r=="number")throw new Error('The "data" argument must not be a number');return new Buffer(r,s)},allocBuffer:function(r){if(Buffer.alloc)return Buffer.alloc(r);var s=new Buffer(r);return s.fill(0),s},isBuffer:function(r){return Buffer.isBuffer(r)},isStream:function(r){return r&&typeof r.on=="function"&&typeof r.pause=="function"&&typeof r.resume=="function"}}},{}],15:[function(t,o,n){function r(C,O,R){var W,P=a.getTypeOf(O),V=a.extend(R||{},b);V.date=V.date||new Date,V.compression!==null&&(V.compression=V.compression.toUpperCase()),typeof V.unixPermissions=="string"&&(V.unixPermissions=parseInt(V.unixPermissions,8)),V.unixPermissions&&16384&V.unixPermissions&&(V.dir=!0),V.dosPermissions&&16&V.dosPermissions&&(V.dir=!0),V.dir&&(C=m(C)),V.createFolders&&(W=g(C))&&y.call(this,W,!0);var X=P==="string"&&V.binary===!1&&V.base64===!1;R&&R.binary!==void 0||(V.binary=!X),(O instanceof p&&O.uncompressedSize===0||V.dir||!O||O.length===0)&&(V.base64=!1,V.binary=!0,O="",V.compression="STORE",P="string");var k=null;k=O instanceof p||O instanceof l?O:_.isNode&&_.isStream(O)?new f(C,O):a.prepareContent(C,O,V.binary,V.optimizedBinaryString,V.base64);var T=new v(C,k,V);this.files[C]=T}var s=t("./utf8"),a=t("./utils"),l=t("./stream/GenericWorker"),d=t("./stream/StreamHelper"),b=t("./defaults"),p=t("./compressedObject"),v=t("./zipObject"),h=t("./generate"),_=t("./nodejsUtils"),f=t("./nodejs/NodejsStreamInputAdapter"),g=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var O=C.lastIndexOf("/");return 0<O?C.substring(0,O):""},m=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},y=function(C,O){return O=O!==void 0?O:b.createFolders,C=m(C),this.files[C]||r.call(this,C,null,{dir:!0,createFolders:O}),this.files[C]};function A(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var z={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var O,R,W;for(O in this.files)W=this.files[O],(R=O.slice(this.root.length,O.length))&&O.slice(0,this.root.length)===this.root&&C(R,W)},filter:function(C){var O=[];return this.forEach(function(R,W){C(R,W)&&O.push(W)}),O},file:function(C,O,R){if(arguments.length!==1)return C=this.root+C,r.call(this,C,O,R),this;if(A(C)){var W=C;return this.filter(function(V,X){return!X.dir&&W.test(V)})}var P=this.files[this.root+C];return P&&!P.dir?P:null},folder:function(C){if(!C)return this;if(A(C))return this.filter(function(P,V){return V.dir&&C.test(P)});var O=this.root+C,R=y.call(this,O),W=this.clone();return W.root=R.name,W},remove:function(C){C=this.root+C;var O=this.files[C];if(O||(C.slice(-1)!=="/"&&(C+="/"),O=this.files[C]),O&&!O.dir)delete this.files[C];else for(var R=this.filter(function(P,V){return V.name.slice(0,C.length)===C}),W=0;W<R.length;W++)delete this.files[R[W].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var O,R={};try{if((R=a.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=R.type.toLowerCase(),R.compression=R.compression.toUpperCase(),R.type==="binarystring"&&(R.type="string"),!R.type)throw new Error("No output type specified.");a.checkSupport(R.type),R.platform!=="darwin"&&R.platform!=="freebsd"&&R.platform!=="linux"&&R.platform!=="sunos"||(R.platform="UNIX"),R.platform==="win32"&&(R.platform="DOS");var W=R.comment||this.comment||"";O=h.generateWorker(this,R,W)}catch(P){(O=new l("error")).error(P)}return new d(O,R.type||"string",R.mimeType)},generateAsync:function(C,O){return this.generateInternalStream(C).accumulate(O)},generateNodeStream:function(C,O){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(O)}};o.exports=z},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,o,n){o.exports=t("stream")},{stream:void 0}],17:[function(t,o,n){var r=t("./DataReader");function s(a){r.call(this,a);for(var l=0;l<this.data.length;l++)a[l]=255&a[l]}t("../utils").inherits(s,r),s.prototype.byteAt=function(a){return this.data[this.zero+a]},s.prototype.lastIndexOfSignature=function(a){for(var l=a.charCodeAt(0),d=a.charCodeAt(1),b=a.charCodeAt(2),p=a.charCodeAt(3),v=this.length-4;0<=v;--v)if(this.data[v]===l&&this.data[v+1]===d&&this.data[v+2]===b&&this.data[v+3]===p)return v-this.zero;return-1},s.prototype.readAndCheckSignature=function(a){var l=a.charCodeAt(0),d=a.charCodeAt(1),b=a.charCodeAt(2),p=a.charCodeAt(3),v=this.readData(4);return l===v[0]&&d===v[1]&&b===v[2]&&p===v[3]},s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},o.exports=s},{"../utils":32,"./DataReader":18}],18:[function(t,o,n){var r=t("../utils");function s(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var l,d=0;for(this.checkOffset(a),l=this.index+a-1;l>=this.index;l--)d=(d<<8)+this.byteAt(l);return this.index+=a,d},readString:function(a){return r.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},o.exports=s},{"../utils":32}],19:[function(t,o,n){var r=t("./Uint8ArrayReader");function s(a){r.call(this,a)}t("../utils").inherits(s,r),s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},o.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,o,n){var r=t("./DataReader");function s(a){r.call(this,a)}t("../utils").inherits(s,r),s.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},s.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},s.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},s.prototype.readData=function(a){this.checkOffset(a);var l=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},o.exports=s},{"../utils":32,"./DataReader":18}],21:[function(t,o,n){var r=t("./ArrayReader");function s(a){r.call(this,a)}t("../utils").inherits(s,r),s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,l},o.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(t,o,n){var r=t("../utils"),s=t("../support"),a=t("./ArrayReader"),l=t("./StringReader"),d=t("./NodeBufferReader"),b=t("./Uint8ArrayReader");o.exports=function(p){var v=r.getTypeOf(p);return r.checkSupport(v),v!=="string"||s.uint8array?v==="nodebuffer"?new d(p):s.uint8array?new b(r.transformTo("uint8array",p)):new a(r.transformTo("array",p)):new l(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,o,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,o,n){var r=t("./GenericWorker"),s=t("../utils");function a(l){r.call(this,"ConvertWorker to "+l),this.destType=l}s.inherits(a,r),a.prototype.processChunk=function(l){this.push({data:s.transformTo(this.destType,l.data),meta:l.meta})},o.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(t,o,n){var r=t("./GenericWorker"),s=t("../crc32");function a(){r.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(a,r),a.prototype.processChunk=function(l){this.streamInfo.crc32=s(l.data,this.streamInfo.crc32||0),this.push(l)},o.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,o,n){var r=t("../utils"),s=t("./GenericWorker");function a(l){s.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}r.inherits(a,s),a.prototype.processChunk=function(l){if(l){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+l.data.length}s.prototype.processChunk.call(this,l)},o.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(t,o,n){var r=t("../utils"),s=t("./GenericWorker");function a(l){s.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(b){d.dataIsReady=!0,d.data=b,d.max=b&&b.length||0,d.type=r.getTypeOf(b),d.isPaused||d._tickAndRepeat()},function(b){d.error(b)})}r.inherits(a,s),a.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,r.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(r.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,d);break;case"uint8array":l=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":l=this.data.slice(this.index,d)}return this.index=d,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(t,o,n){function r(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}r.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,a){return this._listeners[s].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,a){if(this._listeners[s])for(var l=0;l<this._listeners[s].length;l++)this._listeners[s][l].call(this,a)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var a=this;return s.on("data",function(l){a.processChunk(l)}),s.on("end",function(){a.end()}),s.on("error",function(l){a.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,a){return this.extraStreamInfo[s]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},o.exports=r},{}],29:[function(t,o,n){var r=t("../utils"),s=t("./ConvertWorker"),a=t("./GenericWorker"),l=t("../base64"),d=t("../support"),b=t("../external"),p=null;if(d.nodestream)try{p=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function v(_,f){return new b.Promise(function(g,m){var y=[],A=_._internalType,z=_._outputType,C=_._mimeType;_.on("data",function(O,R){y.push(O),f&&f(R)}).on("error",function(O){y=[],m(O)}).on("end",function(){try{var O=function(R,W,P){switch(R){case"blob":return r.newBlob(r.transformTo("arraybuffer",W),P);case"base64":return l.encode(W);default:return r.transformTo(R,W)}}(z,function(R,W){var P,V=0,X=null,k=0;for(P=0;P<W.length;P++)k+=W[P].length;switch(R){case"string":return W.join("");case"array":return Array.prototype.concat.apply([],W);case"uint8array":for(X=new Uint8Array(k),P=0;P<W.length;P++)X.set(W[P],V),V+=W[P].length;return X;case"nodebuffer":return Buffer.concat(W);default:throw new Error("concat : unsupported type '"+R+"'")}}(A,y),C);g(O)}catch(R){m(R)}y=[]}).resume()})}function h(_,f,g){var m=f;switch(f){case"blob":case"arraybuffer":m="uint8array";break;case"base64":m="string"}try{this._internalType=m,this._outputType=f,this._mimeType=g,r.checkSupport(m),this._worker=_.pipe(new s(m)),_.lock()}catch(y){this._worker=new a("error"),this._worker.error(y)}}h.prototype={accumulate:function(_){return v(this,_)},on:function(_,f){var g=this;return _==="data"?this._worker.on(_,function(m){f.call(g,m.data,m.meta)}):this._worker.on(_,function(){r.delay(f,arguments,g)}),this},resume:function(){return r.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(_){if(r.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},_)}},o.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,o,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",n.nodebuffer=typeof Buffer<"u",n.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")n.blob=!1;else{var r=new ArrayBuffer(0);try{n.blob=new Blob([r],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(r),n.blob=s.getBlob("application/zip").size===0}catch{n.blob=!1}}}try{n.nodestream=!!t("readable-stream").Readable}catch{n.nodestream=!1}},{"readable-stream":16}],31:[function(t,o,n){for(var r=t("./utils"),s=t("./support"),a=t("./nodejsUtils"),l=t("./stream/GenericWorker"),d=new Array(256),b=0;b<256;b++)d[b]=252<=b?6:248<=b?5:240<=b?4:224<=b?3:192<=b?2:1;d[254]=d[254]=1;function p(){l.call(this,"utf-8 decode"),this.leftOver=null}function v(){l.call(this,"utf-8 encode")}n.utf8encode=function(h){return s.nodebuffer?a.newBufferFrom(h,"utf-8"):function(_){var f,g,m,y,A,z=_.length,C=0;for(y=0;y<z;y++)(64512&(g=_.charCodeAt(y)))==55296&&y+1<z&&(64512&(m=_.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(m-56320),y++),C+=g<128?1:g<2048?2:g<65536?3:4;for(f=s.uint8array?new Uint8Array(C):new Array(C),y=A=0;A<C;y++)(64512&(g=_.charCodeAt(y)))==55296&&y+1<z&&(64512&(m=_.charCodeAt(y+1)))==56320&&(g=65536+(g-55296<<10)+(m-56320),y++),g<128?f[A++]=g:(g<2048?f[A++]=192|g>>>6:(g<65536?f[A++]=224|g>>>12:(f[A++]=240|g>>>18,f[A++]=128|g>>>12&63),f[A++]=128|g>>>6&63),f[A++]=128|63&g);return f}(h)},n.utf8decode=function(h){return s.nodebuffer?r.transformTo("nodebuffer",h).toString("utf-8"):function(_){var f,g,m,y,A=_.length,z=new Array(2*A);for(f=g=0;f<A;)if((m=_[f++])<128)z[g++]=m;else if(4<(y=d[m]))z[g++]=65533,f+=y-1;else{for(m&=y===2?31:y===3?15:7;1<y&&f<A;)m=m<<6|63&_[f++],y--;1<y?z[g++]=65533:m<65536?z[g++]=m:(m-=65536,z[g++]=55296|m>>10&1023,z[g++]=56320|1023&m)}return z.length!==g&&(z.subarray?z=z.subarray(0,g):z.length=g),r.applyFromCharCode(z)}(h=r.transformTo(s.uint8array?"uint8array":"array",h))},r.inherits(p,l),p.prototype.processChunk=function(h){var _=r.transformTo(s.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var f=_;(_=new Uint8Array(f.length+this.leftOver.length)).set(this.leftOver,0),_.set(f,this.leftOver.length)}else _=this.leftOver.concat(_);this.leftOver=null}var g=function(y,A){var z;for((A=A||y.length)>y.length&&(A=y.length),z=A-1;0<=z&&(192&y[z])==128;)z--;return z<0||z===0?A:z+d[y[z]]>A?z:A}(_),m=_;g!==_.length&&(s.uint8array?(m=_.subarray(0,g),this.leftOver=_.subarray(g,_.length)):(m=_.slice(0,g),this.leftOver=_.slice(g,_.length))),this.push({data:n.utf8decode(m),meta:h.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=p,r.inherits(v,l),v.prototype.processChunk=function(h){this.push({data:n.utf8encode(h.data),meta:h.meta})},n.Utf8EncodeWorker=v},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,o,n){var r=t("./support"),s=t("./base64"),a=t("./nodejsUtils"),l=t("./external");function d(f){return f}function b(f,g){for(var m=0;m<f.length;++m)g[m]=255&f.charCodeAt(m);return g}t("setimmediate"),n.newBlob=function(f,g){n.checkSupport("blob");try{return new Blob([f],{type:g})}catch{try{var m=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return m.append(f),m.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(f,g,m){var y=[],A=0,z=f.length;if(z<=m)return String.fromCharCode.apply(null,f);for(;A<z;)g==="array"||g==="nodebuffer"?y.push(String.fromCharCode.apply(null,f.slice(A,Math.min(A+m,z)))):y.push(String.fromCharCode.apply(null,f.subarray(A,Math.min(A+m,z)))),A+=m;return y.join("")},stringifyByChar:function(f){for(var g="",m=0;m<f.length;m++)g+=String.fromCharCode(f[m]);return g},applyCanBeUsed:{uint8array:function(){try{return r.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return r.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function v(f){var g=65536,m=n.getTypeOf(f),y=!0;if(m==="uint8array"?y=p.applyCanBeUsed.uint8array:m==="nodebuffer"&&(y=p.applyCanBeUsed.nodebuffer),y)for(;1<g;)try{return p.stringifyByChunk(f,m,g)}catch{g=Math.floor(g/2)}return p.stringifyByChar(f)}function h(f,g){for(var m=0;m<f.length;m++)g[m]=f[m];return g}n.applyFromCharCode=v;var _={};_.string={string:d,array:function(f){return b(f,new Array(f.length))},arraybuffer:function(f){return _.string.uint8array(f).buffer},uint8array:function(f){return b(f,new Uint8Array(f.length))},nodebuffer:function(f){return b(f,a.allocBuffer(f.length))}},_.array={string:v,array:d,arraybuffer:function(f){return new Uint8Array(f).buffer},uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return a.newBufferFrom(f)}},_.arraybuffer={string:function(f){return v(new Uint8Array(f))},array:function(f){return h(new Uint8Array(f),new Array(f.byteLength))},arraybuffer:d,uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return a.newBufferFrom(new Uint8Array(f))}},_.uint8array={string:v,array:function(f){return h(f,new Array(f.length))},arraybuffer:function(f){return f.buffer},uint8array:d,nodebuffer:function(f){return a.newBufferFrom(f)}},_.nodebuffer={string:v,array:function(f){return h(f,new Array(f.length))},arraybuffer:function(f){return _.nodebuffer.uint8array(f).buffer},uint8array:function(f){return h(f,new Uint8Array(f.length))},nodebuffer:d},n.transformTo=function(f,g){if(g=g||"",!f)return g;n.checkSupport(f);var m=n.getTypeOf(g);return _[m][f](g)},n.resolve=function(f){for(var g=f.split("/"),m=[],y=0;y<g.length;y++){var A=g[y];A==="."||A===""&&y!==0&&y!==g.length-1||(A===".."?m.pop():m.push(A))}return m.join("/")},n.getTypeOf=function(f){return typeof f=="string"?"string":Object.prototype.toString.call(f)==="[object Array]"?"array":r.nodebuffer&&a.isBuffer(f)?"nodebuffer":r.uint8array&&f instanceof Uint8Array?"uint8array":r.arraybuffer&&f instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(f){if(!r[f.toLowerCase()])throw new Error(f+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(f){var g,m,y="";for(m=0;m<(f||"").length;m++)y+="\\x"+((g=f.charCodeAt(m))<16?"0":"")+g.toString(16).toUpperCase();return y},n.delay=function(f,g,m){setImmediate(function(){f.apply(m||null,g||[])})},n.inherits=function(f,g){function m(){}m.prototype=g.prototype,f.prototype=new m},n.extend=function(){var f,g,m={};for(f=0;f<arguments.length;f++)for(g in arguments[f])Object.prototype.hasOwnProperty.call(arguments[f],g)&&m[g]===void 0&&(m[g]=arguments[f][g]);return m},n.prepareContent=function(f,g,m,y,A){return l.Promise.resolve(g).then(function(z){return r.blob&&(z instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(z))!==-1)&&typeof FileReader<"u"?new l.Promise(function(C,O){var R=new FileReader;R.onload=function(W){C(W.target.result)},R.onerror=function(W){O(W.target.error)},R.readAsArrayBuffer(z)}):z}).then(function(z){var C=n.getTypeOf(z);return C?(C==="arraybuffer"?z=n.transformTo("uint8array",z):C==="string"&&(A?z=s.decode(z):m&&y!==!0&&(z=function(O){return b(O,r.uint8array?new Uint8Array(O.length):new Array(O.length))}(z))),z):l.Promise.reject(new Error("Can't read the data of '"+f+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,o,n){var r=t("./reader/readerFor"),s=t("./utils"),a=t("./signature"),l=t("./zipEntry"),d=t("./support");function b(p){this.files=[],this.loadOptions=p}b.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var v=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(v)+", expected "+s.pretty(p)+")")}},isSignature:function(p,v){var h=this.reader.index;this.reader.setIndex(p);var _=this.reader.readString(4)===v;return this.reader.setIndex(h),_},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),v=d.uint8array?"uint8array":"array",h=s.transformTo(v,p);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,v,h,_=this.zip64EndOfCentralSize-44;0<_;)p=this.reader.readInt(2),v=this.reader.readInt(4),h=this.reader.readData(v),this.zip64ExtensibleData[p]={id:p,length:v,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,v;for(p=0;p<this.files.length;p++)v=this.files[p],this.reader.setIndex(v.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),v.readLocalPart(this.reader),v.handleUTF8(),v.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(p=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var v=p;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var _=v-h;if(0<_)this.isSignature(v,a.CENTRAL_FILE_HEADER)||(this.reader.zero=_);else if(_<0)throw new Error("Corrupted zip: missing "+Math.abs(_)+" bytes.")},prepareReader:function(p){this.reader=r(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=b},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,o,n){var r=t("./reader/readerFor"),s=t("./utils"),a=t("./compressedObject"),l=t("./crc32"),d=t("./utf8"),b=t("./compressions"),p=t("./support");function v(h,_){this.options=h,this.loadOptions=_}v.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var _,f;if(h.skip(22),this.fileNameLength=h.readInt(2),f=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(f),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((_=function(g){for(var m in b)if(Object.prototype.hasOwnProperty.call(b,m)&&b[m].magic===g)return b[m];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,_,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var _=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(_),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=r(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var _,f,g,m=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<m;)_=h.readInt(2),f=h.readInt(2),g=h.readData(f),this.extraFields[_]={id:_,length:f,value:g};h.setIndex(m)},handleUTF8:function(){var h=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var _=this.findExtraFieldUnicodePath();if(_!==null)this.fileNameStr=_;else{var f=s.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(f)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var m=s.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(m)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var _=r(h.value);return _.readInt(1)!==1||l(this.fileName)!==_.readInt(4)?null:d.utf8decode(_.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var _=r(h.value);return _.readInt(1)!==1||l(this.fileComment)!==_.readInt(4)?null:d.utf8decode(_.readData(h.length-5))}return null}},o.exports=v},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,o,n){function r(_,f,g){this.name=_,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=f,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var s=t("./stream/StreamHelper"),a=t("./stream/DataWorker"),l=t("./utf8"),d=t("./compressedObject"),b=t("./stream/GenericWorker");r.prototype={internalStream:function(_){var f=null,g="string";try{if(!_)throw new Error("No output type specified.");var m=(g=_.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),f=this._decompressWorker();var y=!this._dataBinary;y&&!m&&(f=f.pipe(new l.Utf8EncodeWorker)),!y&&m&&(f=f.pipe(new l.Utf8DecodeWorker))}catch(A){(f=new b("error")).error(A)}return new s(f,g,"")},async:function(_,f){return this.internalStream(_).accumulate(f)},nodeStream:function(_,f){return this.internalStream(_||"nodebuffer").toNodejsStream(f)},_compressWorker:function(_,f){if(this._data instanceof d&&this._data.compression.magic===_.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new l.Utf8EncodeWorker)),d.createWorkerFrom(g,_,f)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof b?this._data:new a(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],v=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<p.length;h++)r.prototype[p[h]]=v;o.exports=r},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,o,n){(function(r){var s,a,l=r.MutationObserver||r.WebKitMutationObserver;if(l){var d=0,b=new l(_),p=r.document.createTextNode("");b.observe(p,{characterData:!0}),s=function(){p.data=d=++d%2}}else if(r.setImmediate||r.MessageChannel===void 0)s="document"in r&&"onreadystatechange"in r.document.createElement("script")?function(){var f=r.document.createElement("script");f.onreadystatechange=function(){_(),f.onreadystatechange=null,f.parentNode.removeChild(f),f=null},r.document.documentElement.appendChild(f)}:function(){setTimeout(_,0)};else{var v=new r.MessageChannel;v.port1.onmessage=_,s=function(){v.port2.postMessage(0)}}var h=[];function _(){var f,g;a=!0;for(var m=h.length;m;){for(g=h,h=[],f=-1;++f<m;)g[f]();m=h.length}a=!1}o.exports=function(f){h.push(f)!==1||a||s()}}).call(this,typeof fe<"u"?fe:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,o,n){var r=t("immediate");function s(){}var a={},l=["REJECTED"],d=["FULFILLED"],b=["PENDING"];function p(m){if(typeof m!="function")throw new TypeError("resolver must be a function");this.state=b,this.queue=[],this.outcome=void 0,m!==s&&f(this,m)}function v(m,y,A){this.promise=m,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof A=="function"&&(this.onRejected=A,this.callRejected=this.otherCallRejected)}function h(m,y,A){r(function(){var z;try{z=y(A)}catch(C){return a.reject(m,C)}z===m?a.reject(m,new TypeError("Cannot resolve promise with itself")):a.resolve(m,z)})}function _(m){var y=m&&m.then;if(m&&(typeof m=="object"||typeof m=="function")&&typeof y=="function")return function(){y.apply(m,arguments)}}function f(m,y){var A=!1;function z(R){A||(A=!0,a.reject(m,R))}function C(R){A||(A=!0,a.resolve(m,R))}var O=g(function(){y(C,z)});O.status==="error"&&z(O.value)}function g(m,y){var A={};try{A.value=m(y),A.status="success"}catch(z){A.status="error",A.value=z}return A}(o.exports=p).prototype.finally=function(m){if(typeof m!="function")return this;var y=this.constructor;return this.then(function(A){return y.resolve(m()).then(function(){return A})},function(A){return y.resolve(m()).then(function(){throw A})})},p.prototype.catch=function(m){return this.then(null,m)},p.prototype.then=function(m,y){if(typeof m!="function"&&this.state===d||typeof y!="function"&&this.state===l)return this;var A=new this.constructor(s);return this.state!==b?h(A,this.state===d?m:y,this.outcome):this.queue.push(new v(A,m,y)),A},v.prototype.callFulfilled=function(m){a.resolve(this.promise,m)},v.prototype.otherCallFulfilled=function(m){h(this.promise,this.onFulfilled,m)},v.prototype.callRejected=function(m){a.reject(this.promise,m)},v.prototype.otherCallRejected=function(m){h(this.promise,this.onRejected,m)},a.resolve=function(m,y){var A=g(_,y);if(A.status==="error")return a.reject(m,A.value);var z=A.value;if(z)f(m,z);else{m.state=d,m.outcome=y;for(var C=-1,O=m.queue.length;++C<O;)m.queue[C].callFulfilled(y)}return m},a.reject=function(m,y){m.state=l,m.outcome=y;for(var A=-1,z=m.queue.length;++A<z;)m.queue[A].callRejected(y);return m},p.resolve=function(m){return m instanceof this?m:a.resolve(new this(s),m)},p.reject=function(m){var y=new this(s);return a.reject(y,m)},p.all=function(m){var y=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=m.length,z=!1;if(!A)return this.resolve([]);for(var C=new Array(A),O=0,R=-1,W=new this(s);++R<A;)P(m[R],R);return W;function P(V,X){y.resolve(V).then(function(k){C[X]=k,++O!==A||z||(z=!0,a.resolve(W,C))},function(k){z||(z=!0,a.reject(W,k))})}},p.race=function(m){var y=this;if(Object.prototype.toString.call(m)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=m.length,z=!1;if(!A)return this.resolve([]);for(var C=-1,O=new this(s);++C<A;)R=m[C],y.resolve(R).then(function(W){z||(z=!0,a.resolve(O,W))},function(W){z||(z=!0,a.reject(O,W))});var R;return O}},{immediate:36}],38:[function(t,o,n){var r={};(0,t("./lib/utils/common").assign)(r,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),o.exports=r},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,o,n){var r=t("./zlib/deflate"),s=t("./utils/common"),a=t("./utils/strings"),l=t("./zlib/messages"),d=t("./zlib/zstream"),b=Object.prototype.toString,p=0,v=-1,h=0,_=8;function f(m){if(!(this instanceof f))return new f(m);this.options=s.assign({level:v,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},m||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var A=r.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(A!==p)throw new Error(l[A]);if(y.header&&r.deflateSetHeader(this.strm,y.header),y.dictionary){var z;if(z=typeof y.dictionary=="string"?a.string2buf(y.dictionary):b.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(A=r.deflateSetDictionary(this.strm,z))!==p)throw new Error(l[A]);this._dict_set=!0}}function g(m,y){var A=new f(y);if(A.push(m,!0),A.err)throw A.msg||l[A.err];return A.result}f.prototype.push=function(m,y){var A,z,C=this.strm,O=this.options.chunkSize;if(this.ended)return!1;z=y===~~y?y:y===!0?4:0,typeof m=="string"?C.input=a.string2buf(m):b.call(m)==="[object ArrayBuffer]"?C.input=new Uint8Array(m):C.input=m,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new s.Buf8(O),C.next_out=0,C.avail_out=O),(A=r.deflate(C,z))!==1&&A!==p)return this.onEnd(A),!(this.ended=!0);C.avail_out!==0&&(C.avail_in!==0||z!==4&&z!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(s.shrinkBuf(C.output,C.next_out))):this.onData(s.shrinkBuf(C.output,C.next_out)))}while((0<C.avail_in||C.avail_out===0)&&A!==1);return z===4?(A=r.deflateEnd(this.strm),this.onEnd(A),this.ended=!0,A===p):z!==2||(this.onEnd(p),!(C.avail_out=0))},f.prototype.onData=function(m){this.chunks.push(m)},f.prototype.onEnd=function(m){m===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},n.Deflate=f,n.deflate=g,n.deflateRaw=function(m,y){return(y=y||{}).raw=!0,g(m,y)},n.gzip=function(m,y){return(y=y||{}).gzip=!0,g(m,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,o,n){var r=t("./zlib/inflate"),s=t("./utils/common"),a=t("./utils/strings"),l=t("./zlib/constants"),d=t("./zlib/messages"),b=t("./zlib/zstream"),p=t("./zlib/gzheader"),v=Object.prototype.toString;function h(f){if(!(this instanceof h))return new h(f);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},f||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||f&&f.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&(15&g.windowBits)==0&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new b,this.strm.avail_out=0;var m=r.inflateInit2(this.strm,g.windowBits);if(m!==l.Z_OK)throw new Error(d[m]);this.header=new p,r.inflateGetHeader(this.strm,this.header)}function _(f,g){var m=new h(g);if(m.push(f,!0),m.err)throw m.msg||d[m.err];return m.result}h.prototype.push=function(f,g){var m,y,A,z,C,O,R=this.strm,W=this.options.chunkSize,P=this.options.dictionary,V=!1;if(this.ended)return!1;y=g===~~g?g:g===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof f=="string"?R.input=a.binstring2buf(f):v.call(f)==="[object ArrayBuffer]"?R.input=new Uint8Array(f):R.input=f,R.next_in=0,R.avail_in=R.input.length;do{if(R.avail_out===0&&(R.output=new s.Buf8(W),R.next_out=0,R.avail_out=W),(m=r.inflate(R,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&P&&(O=typeof P=="string"?a.string2buf(P):v.call(P)==="[object ArrayBuffer]"?new Uint8Array(P):P,m=r.inflateSetDictionary(this.strm,O)),m===l.Z_BUF_ERROR&&V===!0&&(m=l.Z_OK,V=!1),m!==l.Z_STREAM_END&&m!==l.Z_OK)return this.onEnd(m),!(this.ended=!0);R.next_out&&(R.avail_out!==0&&m!==l.Z_STREAM_END&&(R.avail_in!==0||y!==l.Z_FINISH&&y!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(A=a.utf8border(R.output,R.next_out),z=R.next_out-A,C=a.buf2string(R.output,A),R.next_out=z,R.avail_out=W-z,z&&s.arraySet(R.output,R.output,A,z,0),this.onData(C)):this.onData(s.shrinkBuf(R.output,R.next_out)))),R.avail_in===0&&R.avail_out===0&&(V=!0)}while((0<R.avail_in||R.avail_out===0)&&m!==l.Z_STREAM_END);return m===l.Z_STREAM_END&&(y=l.Z_FINISH),y===l.Z_FINISH?(m=r.inflateEnd(this.strm),this.onEnd(m),this.ended=!0,m===l.Z_OK):y!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(R.avail_out=0))},h.prototype.onData=function(f){this.chunks.push(f)},h.prototype.onEnd=function(f){f===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},n.Inflate=h,n.inflate=_,n.inflateRaw=function(f,g){return(g=g||{}).raw=!0,_(f,g)},n.ungzip=_},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,o,n){var r=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";n.assign=function(l){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var b=d.shift();if(b){if(typeof b!="object")throw new TypeError(b+"must be non-object");for(var p in b)b.hasOwnProperty(p)&&(l[p]=b[p])}}return l},n.shrinkBuf=function(l,d){return l.length===d?l:l.subarray?l.subarray(0,d):(l.length=d,l)};var s={arraySet:function(l,d,b,p,v){if(d.subarray&&l.subarray)l.set(d.subarray(b,b+p),v);else for(var h=0;h<p;h++)l[v+h]=d[b+h]},flattenChunks:function(l){var d,b,p,v,h,_;for(d=p=0,b=l.length;d<b;d++)p+=l[d].length;for(_=new Uint8Array(p),d=v=0,b=l.length;d<b;d++)h=l[d],_.set(h,v),v+=h.length;return _}},a={arraySet:function(l,d,b,p,v){for(var h=0;h<p;h++)l[v+h]=d[b+h]},flattenChunks:function(l){return[].concat.apply([],l)}};n.setTyped=function(l){l?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,s)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(r)},{}],42:[function(t,o,n){var r=t("./common"),s=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var l=new r.Buf8(256),d=0;d<256;d++)l[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function b(p,v){if(v<65537&&(p.subarray&&a||!p.subarray&&s))return String.fromCharCode.apply(null,r.shrinkBuf(p,v));for(var h="",_=0;_<v;_++)h+=String.fromCharCode(p[_]);return h}l[254]=l[254]=1,n.string2buf=function(p){var v,h,_,f,g,m=p.length,y=0;for(f=0;f<m;f++)(64512&(h=p.charCodeAt(f)))==55296&&f+1<m&&(64512&(_=p.charCodeAt(f+1)))==56320&&(h=65536+(h-55296<<10)+(_-56320),f++),y+=h<128?1:h<2048?2:h<65536?3:4;for(v=new r.Buf8(y),f=g=0;g<y;f++)(64512&(h=p.charCodeAt(f)))==55296&&f+1<m&&(64512&(_=p.charCodeAt(f+1)))==56320&&(h=65536+(h-55296<<10)+(_-56320),f++),h<128?v[g++]=h:(h<2048?v[g++]=192|h>>>6:(h<65536?v[g++]=224|h>>>12:(v[g++]=240|h>>>18,v[g++]=128|h>>>12&63),v[g++]=128|h>>>6&63),v[g++]=128|63&h);return v},n.buf2binstring=function(p){return b(p,p.length)},n.binstring2buf=function(p){for(var v=new r.Buf8(p.length),h=0,_=v.length;h<_;h++)v[h]=p.charCodeAt(h);return v},n.buf2string=function(p,v){var h,_,f,g,m=v||p.length,y=new Array(2*m);for(h=_=0;h<m;)if((f=p[h++])<128)y[_++]=f;else if(4<(g=l[f]))y[_++]=65533,h+=g-1;else{for(f&=g===2?31:g===3?15:7;1<g&&h<m;)f=f<<6|63&p[h++],g--;1<g?y[_++]=65533:f<65536?y[_++]=f:(f-=65536,y[_++]=55296|f>>10&1023,y[_++]=56320|1023&f)}return b(y,_)},n.utf8border=function(p,v){var h;for((v=v||p.length)>p.length&&(v=p.length),h=v-1;0<=h&&(192&p[h])==128;)h--;return h<0||h===0?v:h+l[p[h]]>v?h:v}},{"./common":41}],43:[function(t,o,n){o.exports=function(r,s,a,l){for(var d=65535&r|0,b=r>>>16&65535|0,p=0;a!==0;){for(a-=p=2e3<a?2e3:a;b=b+(d=d+s[l++]|0)|0,--p;);d%=65521,b%=65521}return d|b<<16|0}},{}],44:[function(t,o,n){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,o,n){var r=function(){for(var s,a=[],l=0;l<256;l++){s=l;for(var d=0;d<8;d++)s=1&s?3988292384^s>>>1:s>>>1;a[l]=s}return a}();o.exports=function(s,a,l,d){var b=r,p=d+l;s^=-1;for(var v=d;v<p;v++)s=s>>>8^b[255&(s^a[v])];return-1^s}},{}],46:[function(t,o,n){var r,s=t("../utils/common"),a=t("./trees"),l=t("./adler32"),d=t("./crc32"),b=t("./messages"),p=0,v=4,h=0,_=-2,f=-1,g=4,m=2,y=8,A=9,z=286,C=30,O=19,R=2*z+1,W=15,P=3,V=258,X=V+P+1,k=42,T=113,u=1,L=2,J=3,j=4;function nt(c,Z){return c.msg=b[Z],Z}function x(c){return(c<<1)-(4<c?9:0)}function D(c){for(var Z=c.length;0<=--Z;)c[Z]=0}function E(c){var Z=c.state,U=Z.pending;U>c.avail_out&&(U=c.avail_out),U!==0&&(s.arraySet(c.output,Z.pending_buf,Z.pending_out,U,c.next_out),c.next_out+=U,Z.pending_out+=U,c.total_out+=U,c.avail_out-=U,Z.pending-=U,Z.pending===0&&(Z.pending_out=0))}function I(c,Z){a._tr_flush_block(c,0<=c.block_start?c.block_start:-1,c.strstart-c.block_start,Z),c.block_start=c.strstart,E(c.strm)}function G(c,Z){c.pending_buf[c.pending++]=Z}function q(c,Z){c.pending_buf[c.pending++]=Z>>>8&255,c.pending_buf[c.pending++]=255&Z}function K(c,Z){var U,S,w=c.max_chain_length,B=c.strstart,M=c.prev_length,H=c.nice_match,F=c.strstart>c.w_size-X?c.strstart-(c.w_size-X):0,$=c.window,Q=c.w_mask,Y=c.prev,rt=c.strstart+V,gt=$[B+M-1],dt=$[B+M];c.prev_length>=c.good_match&&(w>>=2),H>c.lookahead&&(H=c.lookahead);do if($[(U=Z)+M]===dt&&$[U+M-1]===gt&&$[U]===$[B]&&$[++U]===$[B+1]){B+=2,U++;do;while($[++B]===$[++U]&&$[++B]===$[++U]&&$[++B]===$[++U]&&$[++B]===$[++U]&&$[++B]===$[++U]&&$[++B]===$[++U]&&$[++B]===$[++U]&&$[++B]===$[++U]&&B<rt);if(S=V-(rt-B),B=rt-V,M<S){if(c.match_start=Z,H<=(M=S))break;gt=$[B+M-1],dt=$[B+M]}}while((Z=Y[Z&Q])>F&&--w!=0);return M<=c.lookahead?M:c.lookahead}function ut(c){var Z,U,S,w,B,M,H,F,$,Q,Y=c.w_size;do{if(w=c.window_size-c.lookahead-c.strstart,c.strstart>=Y+(Y-X)){for(s.arraySet(c.window,c.window,Y,Y,0),c.match_start-=Y,c.strstart-=Y,c.block_start-=Y,Z=U=c.hash_size;S=c.head[--Z],c.head[Z]=Y<=S?S-Y:0,--U;);for(Z=U=Y;S=c.prev[--Z],c.prev[Z]=Y<=S?S-Y:0,--U;);w+=Y}if(c.strm.avail_in===0)break;if(M=c.strm,H=c.window,F=c.strstart+c.lookahead,$=w,Q=void 0,Q=M.avail_in,$<Q&&(Q=$),U=Q===0?0:(M.avail_in-=Q,s.arraySet(H,M.input,M.next_in,Q,F),M.state.wrap===1?M.adler=l(M.adler,H,Q,F):M.state.wrap===2&&(M.adler=d(M.adler,H,Q,F)),M.next_in+=Q,M.total_in+=Q,Q),c.lookahead+=U,c.lookahead+c.insert>=P)for(B=c.strstart-c.insert,c.ins_h=c.window[B],c.ins_h=(c.ins_h<<c.hash_shift^c.window[B+1])&c.hash_mask;c.insert&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[B+P-1])&c.hash_mask,c.prev[B&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=B,B++,c.insert--,!(c.lookahead+c.insert<P)););}while(c.lookahead<X&&c.strm.avail_in!==0)}function ht(c,Z){for(var U,S;;){if(c.lookahead<X){if(ut(c),c.lookahead<X&&Z===p)return u;if(c.lookahead===0)break}if(U=0,c.lookahead>=P&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+P-1])&c.hash_mask,U=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart),U!==0&&c.strstart-U<=c.w_size-X&&(c.match_length=K(c,U)),c.match_length>=P)if(S=a._tr_tally(c,c.strstart-c.match_start,c.match_length-P),c.lookahead-=c.match_length,c.match_length<=c.max_lazy_match&&c.lookahead>=P){for(c.match_length--;c.strstart++,c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+P-1])&c.hash_mask,U=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart,--c.match_length!=0;);c.strstart++}else c.strstart+=c.match_length,c.match_length=0,c.ins_h=c.window[c.strstart],c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+1])&c.hash_mask;else S=a._tr_tally(c,0,c.window[c.strstart]),c.lookahead--,c.strstart++;if(S&&(I(c,!1),c.strm.avail_out===0))return u}return c.insert=c.strstart<P-1?c.strstart:P-1,Z===v?(I(c,!0),c.strm.avail_out===0?J:j):c.last_lit&&(I(c,!1),c.strm.avail_out===0)?u:L}function st(c,Z){for(var U,S,w;;){if(c.lookahead<X){if(ut(c),c.lookahead<X&&Z===p)return u;if(c.lookahead===0)break}if(U=0,c.lookahead>=P&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+P-1])&c.hash_mask,U=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart),c.prev_length=c.match_length,c.prev_match=c.match_start,c.match_length=P-1,U!==0&&c.prev_length<c.max_lazy_match&&c.strstart-U<=c.w_size-X&&(c.match_length=K(c,U),c.match_length<=5&&(c.strategy===1||c.match_length===P&&4096<c.strstart-c.match_start)&&(c.match_length=P-1)),c.prev_length>=P&&c.match_length<=c.prev_length){for(w=c.strstart+c.lookahead-P,S=a._tr_tally(c,c.strstart-1-c.prev_match,c.prev_length-P),c.lookahead-=c.prev_length-1,c.prev_length-=2;++c.strstart<=w&&(c.ins_h=(c.ins_h<<c.hash_shift^c.window[c.strstart+P-1])&c.hash_mask,U=c.prev[c.strstart&c.w_mask]=c.head[c.ins_h],c.head[c.ins_h]=c.strstart),--c.prev_length!=0;);if(c.match_available=0,c.match_length=P-1,c.strstart++,S&&(I(c,!1),c.strm.avail_out===0))return u}else if(c.match_available){if((S=a._tr_tally(c,0,c.window[c.strstart-1]))&&I(c,!1),c.strstart++,c.lookahead--,c.strm.avail_out===0)return u}else c.match_available=1,c.strstart++,c.lookahead--}return c.match_available&&(S=a._tr_tally(c,0,c.window[c.strstart-1]),c.match_available=0),c.insert=c.strstart<P-1?c.strstart:P-1,Z===v?(I(c,!0),c.strm.avail_out===0?J:j):c.last_lit&&(I(c,!1),c.strm.avail_out===0)?u:L}function ft(c,Z,U,S,w){this.good_length=c,this.max_lazy=Z,this.nice_length=U,this.max_chain=S,this.func=w}function vt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*R),this.dyn_dtree=new s.Buf16(2*(2*C+1)),this.bl_tree=new s.Buf16(2*(2*O+1)),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(W+1),this.heap=new s.Buf16(2*z+1),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*z+1),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function pt(c){var Z;return c&&c.state?(c.total_in=c.total_out=0,c.data_type=m,(Z=c.state).pending=0,Z.pending_out=0,Z.wrap<0&&(Z.wrap=-Z.wrap),Z.status=Z.wrap?k:T,c.adler=Z.wrap===2?0:1,Z.last_flush=p,a._tr_init(Z),h):nt(c,_)}function xt(c){var Z=pt(c);return Z===h&&function(U){U.window_size=2*U.w_size,D(U.head),U.max_lazy_match=r[U.level].max_lazy,U.good_match=r[U.level].good_length,U.nice_match=r[U.level].nice_length,U.max_chain_length=r[U.level].max_chain,U.strstart=0,U.block_start=0,U.lookahead=0,U.insert=0,U.match_length=U.prev_length=P-1,U.match_available=0,U.ins_h=0}(c.state),Z}function zt(c,Z,U,S,w,B){if(!c)return _;var M=1;if(Z===f&&(Z=6),S<0?(M=0,S=-S):15<S&&(M=2,S-=16),w<1||A<w||U!==y||S<8||15<S||Z<0||9<Z||B<0||g<B)return nt(c,_);S===8&&(S=9);var H=new vt;return(c.state=H).strm=c,H.wrap=M,H.gzhead=null,H.w_bits=S,H.w_size=1<<H.w_bits,H.w_mask=H.w_size-1,H.hash_bits=w+7,H.hash_size=1<<H.hash_bits,H.hash_mask=H.hash_size-1,H.hash_shift=~~((H.hash_bits+P-1)/P),H.window=new s.Buf8(2*H.w_size),H.head=new s.Buf16(H.hash_size),H.prev=new s.Buf16(H.w_size),H.lit_bufsize=1<<w+6,H.pending_buf_size=4*H.lit_bufsize,H.pending_buf=new s.Buf8(H.pending_buf_size),H.d_buf=1*H.lit_bufsize,H.l_buf=3*H.lit_bufsize,H.level=Z,H.strategy=B,H.method=U,xt(c)}r=[new ft(0,0,0,0,function(c,Z){var U=65535;for(U>c.pending_buf_size-5&&(U=c.pending_buf_size-5);;){if(c.lookahead<=1){if(ut(c),c.lookahead===0&&Z===p)return u;if(c.lookahead===0)break}c.strstart+=c.lookahead,c.lookahead=0;var S=c.block_start+U;if((c.strstart===0||c.strstart>=S)&&(c.lookahead=c.strstart-S,c.strstart=S,I(c,!1),c.strm.avail_out===0)||c.strstart-c.block_start>=c.w_size-X&&(I(c,!1),c.strm.avail_out===0))return u}return c.insert=0,Z===v?(I(c,!0),c.strm.avail_out===0?J:j):(c.strstart>c.block_start&&(I(c,!1),c.strm.avail_out),u)}),new ft(4,4,8,4,ht),new ft(4,5,16,8,ht),new ft(4,6,32,32,ht),new ft(4,4,16,16,st),new ft(8,16,32,32,st),new ft(8,16,128,128,st),new ft(8,32,128,256,st),new ft(32,128,258,1024,st),new ft(32,258,258,4096,st)],n.deflateInit=function(c,Z){return zt(c,Z,y,15,8,0)},n.deflateInit2=zt,n.deflateReset=xt,n.deflateResetKeep=pt,n.deflateSetHeader=function(c,Z){return c&&c.state?c.state.wrap!==2?_:(c.state.gzhead=Z,h):_},n.deflate=function(c,Z){var U,S,w,B;if(!c||!c.state||5<Z||Z<0)return c?nt(c,_):_;if(S=c.state,!c.output||!c.input&&c.avail_in!==0||S.status===666&&Z!==v)return nt(c,c.avail_out===0?-5:_);if(S.strm=c,U=S.last_flush,S.last_flush=Z,S.status===k)if(S.wrap===2)c.adler=0,G(S,31),G(S,139),G(S,8),S.gzhead?(G(S,(S.gzhead.text?1:0)+(S.gzhead.hcrc?2:0)+(S.gzhead.extra?4:0)+(S.gzhead.name?8:0)+(S.gzhead.comment?16:0)),G(S,255&S.gzhead.time),G(S,S.gzhead.time>>8&255),G(S,S.gzhead.time>>16&255),G(S,S.gzhead.time>>24&255),G(S,S.level===9?2:2<=S.strategy||S.level<2?4:0),G(S,255&S.gzhead.os),S.gzhead.extra&&S.gzhead.extra.length&&(G(S,255&S.gzhead.extra.length),G(S,S.gzhead.extra.length>>8&255)),S.gzhead.hcrc&&(c.adler=d(c.adler,S.pending_buf,S.pending,0)),S.gzindex=0,S.status=69):(G(S,0),G(S,0),G(S,0),G(S,0),G(S,0),G(S,S.level===9?2:2<=S.strategy||S.level<2?4:0),G(S,3),S.status=T);else{var M=y+(S.w_bits-8<<4)<<8;M|=(2<=S.strategy||S.level<2?0:S.level<6?1:S.level===6?2:3)<<6,S.strstart!==0&&(M|=32),M+=31-M%31,S.status=T,q(S,M),S.strstart!==0&&(q(S,c.adler>>>16),q(S,65535&c.adler)),c.adler=1}if(S.status===69)if(S.gzhead.extra){for(w=S.pending;S.gzindex<(65535&S.gzhead.extra.length)&&(S.pending!==S.pending_buf_size||(S.gzhead.hcrc&&S.pending>w&&(c.adler=d(c.adler,S.pending_buf,S.pending-w,w)),E(c),w=S.pending,S.pending!==S.pending_buf_size));)G(S,255&S.gzhead.extra[S.gzindex]),S.gzindex++;S.gzhead.hcrc&&S.pending>w&&(c.adler=d(c.adler,S.pending_buf,S.pending-w,w)),S.gzindex===S.gzhead.extra.length&&(S.gzindex=0,S.status=73)}else S.status=73;if(S.status===73)if(S.gzhead.name){w=S.pending;do{if(S.pending===S.pending_buf_size&&(S.gzhead.hcrc&&S.pending>w&&(c.adler=d(c.adler,S.pending_buf,S.pending-w,w)),E(c),w=S.pending,S.pending===S.pending_buf_size)){B=1;break}B=S.gzindex<S.gzhead.name.length?255&S.gzhead.name.charCodeAt(S.gzindex++):0,G(S,B)}while(B!==0);S.gzhead.hcrc&&S.pending>w&&(c.adler=d(c.adler,S.pending_buf,S.pending-w,w)),B===0&&(S.gzindex=0,S.status=91)}else S.status=91;if(S.status===91)if(S.gzhead.comment){w=S.pending;do{if(S.pending===S.pending_buf_size&&(S.gzhead.hcrc&&S.pending>w&&(c.adler=d(c.adler,S.pending_buf,S.pending-w,w)),E(c),w=S.pending,S.pending===S.pending_buf_size)){B=1;break}B=S.gzindex<S.gzhead.comment.length?255&S.gzhead.comment.charCodeAt(S.gzindex++):0,G(S,B)}while(B!==0);S.gzhead.hcrc&&S.pending>w&&(c.adler=d(c.adler,S.pending_buf,S.pending-w,w)),B===0&&(S.status=103)}else S.status=103;if(S.status===103&&(S.gzhead.hcrc?(S.pending+2>S.pending_buf_size&&E(c),S.pending+2<=S.pending_buf_size&&(G(S,255&c.adler),G(S,c.adler>>8&255),c.adler=0,S.status=T)):S.status=T),S.pending!==0){if(E(c),c.avail_out===0)return S.last_flush=-1,h}else if(c.avail_in===0&&x(Z)<=x(U)&&Z!==v)return nt(c,-5);if(S.status===666&&c.avail_in!==0)return nt(c,-5);if(c.avail_in!==0||S.lookahead!==0||Z!==p&&S.status!==666){var H=S.strategy===2?function(F,$){for(var Q;;){if(F.lookahead===0&&(ut(F),F.lookahead===0)){if($===p)return u;break}if(F.match_length=0,Q=a._tr_tally(F,0,F.window[F.strstart]),F.lookahead--,F.strstart++,Q&&(I(F,!1),F.strm.avail_out===0))return u}return F.insert=0,$===v?(I(F,!0),F.strm.avail_out===0?J:j):F.last_lit&&(I(F,!1),F.strm.avail_out===0)?u:L}(S,Z):S.strategy===3?function(F,$){for(var Q,Y,rt,gt,dt=F.window;;){if(F.lookahead<=V){if(ut(F),F.lookahead<=V&&$===p)return u;if(F.lookahead===0)break}if(F.match_length=0,F.lookahead>=P&&0<F.strstart&&(Y=dt[rt=F.strstart-1])===dt[++rt]&&Y===dt[++rt]&&Y===dt[++rt]){gt=F.strstart+V;do;while(Y===dt[++rt]&&Y===dt[++rt]&&Y===dt[++rt]&&Y===dt[++rt]&&Y===dt[++rt]&&Y===dt[++rt]&&Y===dt[++rt]&&Y===dt[++rt]&&rt<gt);F.match_length=V-(gt-rt),F.match_length>F.lookahead&&(F.match_length=F.lookahead)}if(F.match_length>=P?(Q=a._tr_tally(F,1,F.match_length-P),F.lookahead-=F.match_length,F.strstart+=F.match_length,F.match_length=0):(Q=a._tr_tally(F,0,F.window[F.strstart]),F.lookahead--,F.strstart++),Q&&(I(F,!1),F.strm.avail_out===0))return u}return F.insert=0,$===v?(I(F,!0),F.strm.avail_out===0?J:j):F.last_lit&&(I(F,!1),F.strm.avail_out===0)?u:L}(S,Z):r[S.level].func(S,Z);if(H!==J&&H!==j||(S.status=666),H===u||H===J)return c.avail_out===0&&(S.last_flush=-1),h;if(H===L&&(Z===1?a._tr_align(S):Z!==5&&(a._tr_stored_block(S,0,0,!1),Z===3&&(D(S.head),S.lookahead===0&&(S.strstart=0,S.block_start=0,S.insert=0))),E(c),c.avail_out===0))return S.last_flush=-1,h}return Z!==v?h:S.wrap<=0?1:(S.wrap===2?(G(S,255&c.adler),G(S,c.adler>>8&255),G(S,c.adler>>16&255),G(S,c.adler>>24&255),G(S,255&c.total_in),G(S,c.total_in>>8&255),G(S,c.total_in>>16&255),G(S,c.total_in>>24&255)):(q(S,c.adler>>>16),q(S,65535&c.adler)),E(c),0<S.wrap&&(S.wrap=-S.wrap),S.pending!==0?h:1)},n.deflateEnd=function(c){var Z;return c&&c.state?(Z=c.state.status)!==k&&Z!==69&&Z!==73&&Z!==91&&Z!==103&&Z!==T&&Z!==666?nt(c,_):(c.state=null,Z===T?nt(c,-3):h):_},n.deflateSetDictionary=function(c,Z){var U,S,w,B,M,H,F,$,Q=Z.length;if(!c||!c.state||(B=(U=c.state).wrap)===2||B===1&&U.status!==k||U.lookahead)return _;for(B===1&&(c.adler=l(c.adler,Z,Q,0)),U.wrap=0,Q>=U.w_size&&(B===0&&(D(U.head),U.strstart=0,U.block_start=0,U.insert=0),$=new s.Buf8(U.w_size),s.arraySet($,Z,Q-U.w_size,U.w_size,0),Z=$,Q=U.w_size),M=c.avail_in,H=c.next_in,F=c.input,c.avail_in=Q,c.next_in=0,c.input=Z,ut(U);U.lookahead>=P;){for(S=U.strstart,w=U.lookahead-(P-1);U.ins_h=(U.ins_h<<U.hash_shift^U.window[S+P-1])&U.hash_mask,U.prev[S&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=S,S++,--w;);U.strstart=S,U.lookahead=P-1,ut(U)}return U.strstart+=U.lookahead,U.block_start=U.strstart,U.insert=U.lookahead,U.lookahead=0,U.match_length=U.prev_length=P-1,U.match_available=0,c.next_in=H,c.input=F,c.avail_in=M,U.wrap=B,h},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,o,n){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,o,n){o.exports=function(r,s){var a,l,d,b,p,v,h,_,f,g,m,y,A,z,C,O,R,W,P,V,X,k,T,u,L;a=r.state,l=r.next_in,u=r.input,d=l+(r.avail_in-5),b=r.next_out,L=r.output,p=b-(s-r.avail_out),v=b+(r.avail_out-257),h=a.dmax,_=a.wsize,f=a.whave,g=a.wnext,m=a.window,y=a.hold,A=a.bits,z=a.lencode,C=a.distcode,O=(1<<a.lenbits)-1,R=(1<<a.distbits)-1;t:do{A<15&&(y+=u[l++]<<A,A+=8,y+=u[l++]<<A,A+=8),W=z[y&O];e:for(;;){if(y>>>=P=W>>>24,A-=P,(P=W>>>16&255)===0)L[b++]=65535&W;else{if(!(16&P)){if((64&P)==0){W=z[(65535&W)+(y&(1<<P)-1)];continue e}if(32&P){a.mode=12;break t}r.msg="invalid literal/length code",a.mode=30;break t}V=65535&W,(P&=15)&&(A<P&&(y+=u[l++]<<A,A+=8),V+=y&(1<<P)-1,y>>>=P,A-=P),A<15&&(y+=u[l++]<<A,A+=8,y+=u[l++]<<A,A+=8),W=C[y&R];n:for(;;){if(y>>>=P=W>>>24,A-=P,!(16&(P=W>>>16&255))){if((64&P)==0){W=C[(65535&W)+(y&(1<<P)-1)];continue n}r.msg="invalid distance code",a.mode=30;break t}if(X=65535&W,A<(P&=15)&&(y+=u[l++]<<A,(A+=8)<P&&(y+=u[l++]<<A,A+=8)),h<(X+=y&(1<<P)-1)){r.msg="invalid distance too far back",a.mode=30;break t}if(y>>>=P,A-=P,(P=b-p)<X){if(f<(P=X-P)&&a.sane){r.msg="invalid distance too far back",a.mode=30;break t}if(T=m,(k=0)===g){if(k+=_-P,P<V){for(V-=P;L[b++]=m[k++],--P;);k=b-X,T=L}}else if(g<P){if(k+=_+g-P,(P-=g)<V){for(V-=P;L[b++]=m[k++],--P;);if(k=0,g<V){for(V-=P=g;L[b++]=m[k++],--P;);k=b-X,T=L}}}else if(k+=g-P,P<V){for(V-=P;L[b++]=m[k++],--P;);k=b-X,T=L}for(;2<V;)L[b++]=T[k++],L[b++]=T[k++],L[b++]=T[k++],V-=3;V&&(L[b++]=T[k++],1<V&&(L[b++]=T[k++]))}else{for(k=b-X;L[b++]=L[k++],L[b++]=L[k++],L[b++]=L[k++],2<(V-=3););V&&(L[b++]=L[k++],1<V&&(L[b++]=L[k++]))}break}}break}}while(l<d&&b<v);l-=V=A>>3,y&=(1<<(A-=V<<3))-1,r.next_in=l,r.next_out=b,r.avail_in=l<d?d-l+5:5-(l-d),r.avail_out=b<v?v-b+257:257-(b-v),a.hold=y,a.bits=A}},{}],49:[function(t,o,n){var r=t("../utils/common"),s=t("./adler32"),a=t("./crc32"),l=t("./inffast"),d=t("./inftrees"),b=1,p=2,v=0,h=-2,_=1,f=852,g=592;function m(k){return(k>>>24&255)+(k>>>8&65280)+((65280&k)<<8)+((255&k)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function A(k){var T;return k&&k.state?(T=k.state,k.total_in=k.total_out=T.total=0,k.msg="",T.wrap&&(k.adler=1&T.wrap),T.mode=_,T.last=0,T.havedict=0,T.dmax=32768,T.head=null,T.hold=0,T.bits=0,T.lencode=T.lendyn=new r.Buf32(f),T.distcode=T.distdyn=new r.Buf32(g),T.sane=1,T.back=-1,v):h}function z(k){var T;return k&&k.state?((T=k.state).wsize=0,T.whave=0,T.wnext=0,A(k)):h}function C(k,T){var u,L;return k&&k.state?(L=k.state,T<0?(u=0,T=-T):(u=1+(T>>4),T<48&&(T&=15)),T&&(T<8||15<T)?h:(L.window!==null&&L.wbits!==T&&(L.window=null),L.wrap=u,L.wbits=T,z(k))):h}function O(k,T){var u,L;return k?(L=new y,(k.state=L).window=null,(u=C(k,T))!==v&&(k.state=null),u):h}var R,W,P=!0;function V(k){if(P){var T;for(R=new r.Buf32(512),W=new r.Buf32(32),T=0;T<144;)k.lens[T++]=8;for(;T<256;)k.lens[T++]=9;for(;T<280;)k.lens[T++]=7;for(;T<288;)k.lens[T++]=8;for(d(b,k.lens,0,288,R,0,k.work,{bits:9}),T=0;T<32;)k.lens[T++]=5;d(p,k.lens,0,32,W,0,k.work,{bits:5}),P=!1}k.lencode=R,k.lenbits=9,k.distcode=W,k.distbits=5}function X(k,T,u,L){var J,j=k.state;return j.window===null&&(j.wsize=1<<j.wbits,j.wnext=0,j.whave=0,j.window=new r.Buf8(j.wsize)),L>=j.wsize?(r.arraySet(j.window,T,u-j.wsize,j.wsize,0),j.wnext=0,j.whave=j.wsize):(L<(J=j.wsize-j.wnext)&&(J=L),r.arraySet(j.window,T,u-L,J,j.wnext),(L-=J)?(r.arraySet(j.window,T,u-L,L,0),j.wnext=L,j.whave=j.wsize):(j.wnext+=J,j.wnext===j.wsize&&(j.wnext=0),j.whave<j.wsize&&(j.whave+=J))),0}n.inflateReset=z,n.inflateReset2=C,n.inflateResetKeep=A,n.inflateInit=function(k){return O(k,15)},n.inflateInit2=O,n.inflate=function(k,T){var u,L,J,j,nt,x,D,E,I,G,q,K,ut,ht,st,ft,vt,pt,xt,zt,c,Z,U,S,w=0,B=new r.Buf8(4),M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return h;(u=k.state).mode===12&&(u.mode=13),nt=k.next_out,J=k.output,D=k.avail_out,j=k.next_in,L=k.input,x=k.avail_in,E=u.hold,I=u.bits,G=x,q=D,Z=v;t:for(;;)switch(u.mode){case _:if(u.wrap===0){u.mode=13;break}for(;I<16;){if(x===0)break t;x--,E+=L[j++]<<I,I+=8}if(2&u.wrap&&E===35615){B[u.check=0]=255&E,B[1]=E>>>8&255,u.check=a(u.check,B,2,0),I=E=0,u.mode=2;break}if(u.flags=0,u.head&&(u.head.done=!1),!(1&u.wrap)||(((255&E)<<8)+(E>>8))%31){k.msg="incorrect header check",u.mode=30;break}if((15&E)!=8){k.msg="unknown compression method",u.mode=30;break}if(I-=4,c=8+(15&(E>>>=4)),u.wbits===0)u.wbits=c;else if(c>u.wbits){k.msg="invalid window size",u.mode=30;break}u.dmax=1<<c,k.adler=u.check=1,u.mode=512&E?10:12,I=E=0;break;case 2:for(;I<16;){if(x===0)break t;x--,E+=L[j++]<<I,I+=8}if(u.flags=E,(255&u.flags)!=8){k.msg="unknown compression method",u.mode=30;break}if(57344&u.flags){k.msg="unknown header flags set",u.mode=30;break}u.head&&(u.head.text=E>>8&1),512&u.flags&&(B[0]=255&E,B[1]=E>>>8&255,u.check=a(u.check,B,2,0)),I=E=0,u.mode=3;case 3:for(;I<32;){if(x===0)break t;x--,E+=L[j++]<<I,I+=8}u.head&&(u.head.time=E),512&u.flags&&(B[0]=255&E,B[1]=E>>>8&255,B[2]=E>>>16&255,B[3]=E>>>24&255,u.check=a(u.check,B,4,0)),I=E=0,u.mode=4;case 4:for(;I<16;){if(x===0)break t;x--,E+=L[j++]<<I,I+=8}u.head&&(u.head.xflags=255&E,u.head.os=E>>8),512&u.flags&&(B[0]=255&E,B[1]=E>>>8&255,u.check=a(u.check,B,2,0)),I=E=0,u.mode=5;case 5:if(1024&u.flags){for(;I<16;){if(x===0)break t;x--,E+=L[j++]<<I,I+=8}u.length=E,u.head&&(u.head.extra_len=E),512&u.flags&&(B[0]=255&E,B[1]=E>>>8&255,u.check=a(u.check,B,2,0)),I=E=0}else u.head&&(u.head.extra=null);u.mode=6;case 6:if(1024&u.flags&&(x<(K=u.length)&&(K=x),K&&(u.head&&(c=u.head.extra_len-u.length,u.head.extra||(u.head.extra=new Array(u.head.extra_len)),r.arraySet(u.head.extra,L,j,K,c)),512&u.flags&&(u.check=a(u.check,L,K,j)),x-=K,j+=K,u.length-=K),u.length))break t;u.length=0,u.mode=7;case 7:if(2048&u.flags){if(x===0)break t;for(K=0;c=L[j+K++],u.head&&c&&u.length<65536&&(u.head.name+=String.fromCharCode(c)),c&&K<x;);if(512&u.flags&&(u.check=a(u.check,L,K,j)),x-=K,j+=K,c)break t}else u.head&&(u.head.name=null);u.length=0,u.mode=8;case 8:if(4096&u.flags){if(x===0)break t;for(K=0;c=L[j+K++],u.head&&c&&u.length<65536&&(u.head.comment+=String.fromCharCode(c)),c&&K<x;);if(512&u.flags&&(u.check=a(u.check,L,K,j)),x-=K,j+=K,c)break t}else u.head&&(u.head.comment=null);u.mode=9;case 9:if(512&u.flags){for(;I<16;){if(x===0)break t;x--,E+=L[j++]<<I,I+=8}if(E!==(65535&u.check)){k.msg="header crc mismatch",u.mode=30;break}I=E=0}u.head&&(u.head.hcrc=u.flags>>9&1,u.head.done=!0),k.adler=u.check=0,u.mode=12;break;case 10:for(;I<32;){if(x===0)break t;x--,E+=L[j++]<<I,I+=8}k.adler=u.check=m(E),I=E=0,u.mode=11;case 11:if(u.havedict===0)return k.next_out=nt,k.avail_out=D,k.next_in=j,k.avail_in=x,u.hold=E,u.bits=I,2;k.adler=u.check=1,u.mode=12;case 12:if(T===5||T===6)break t;case 13:if(u.last){E>>>=7&I,I-=7&I,u.mode=27;break}for(;I<3;){if(x===0)break t;x--,E+=L[j++]<<I,I+=8}switch(u.last=1&E,I-=1,3&(E>>>=1)){case 0:u.mode=14;break;case 1:if(V(u),u.mode=20,T!==6)break;E>>>=2,I-=2;break t;case 2:u.mode=17;break;case 3:k.msg="invalid block type",u.mode=30}E>>>=2,I-=2;break;case 14:for(E>>>=7&I,I-=7&I;I<32;){if(x===0)break t;x--,E+=L[j++]<<I,I+=8}if((65535&E)!=(E>>>16^65535)){k.msg="invalid stored block lengths",u.mode=30;break}if(u.length=65535&E,I=E=0,u.mode=15,T===6)break t;case 15:u.mode=16;case 16:if(K=u.length){if(x<K&&(K=x),D<K&&(K=D),K===0)break t;r.arraySet(J,L,j,K,nt),x-=K,j+=K,D-=K,nt+=K,u.length-=K;break}u.mode=12;break;case 17:for(;I<14;){if(x===0)break t;x--,E+=L[j++]<<I,I+=8}if(u.nlen=257+(31&E),E>>>=5,I-=5,u.ndist=1+(31&E),E>>>=5,I-=5,u.ncode=4+(15&E),E>>>=4,I-=4,286<u.nlen||30<u.ndist){k.msg="too many length or distance symbols",u.mode=30;break}u.have=0,u.mode=18;case 18:for(;u.have<u.ncode;){for(;I<3;){if(x===0)break t;x--,E+=L[j++]<<I,I+=8}u.lens[M[u.have++]]=7&E,E>>>=3,I-=3}for(;u.have<19;)u.lens[M[u.have++]]=0;if(u.lencode=u.lendyn,u.lenbits=7,U={bits:u.lenbits},Z=d(0,u.lens,0,19,u.lencode,0,u.work,U),u.lenbits=U.bits,Z){k.msg="invalid code lengths set",u.mode=30;break}u.have=0,u.mode=19;case 19:for(;u.have<u.nlen+u.ndist;){for(;ft=(w=u.lencode[E&(1<<u.lenbits)-1])>>>16&255,vt=65535&w,!((st=w>>>24)<=I);){if(x===0)break t;x--,E+=L[j++]<<I,I+=8}if(vt<16)E>>>=st,I-=st,u.lens[u.have++]=vt;else{if(vt===16){for(S=st+2;I<S;){if(x===0)break t;x--,E+=L[j++]<<I,I+=8}if(E>>>=st,I-=st,u.have===0){k.msg="invalid bit length repeat",u.mode=30;break}c=u.lens[u.have-1],K=3+(3&E),E>>>=2,I-=2}else if(vt===17){for(S=st+3;I<S;){if(x===0)break t;x--,E+=L[j++]<<I,I+=8}I-=st,c=0,K=3+(7&(E>>>=st)),E>>>=3,I-=3}else{for(S=st+7;I<S;){if(x===0)break t;x--,E+=L[j++]<<I,I+=8}I-=st,c=0,K=11+(127&(E>>>=st)),E>>>=7,I-=7}if(u.have+K>u.nlen+u.ndist){k.msg="invalid bit length repeat",u.mode=30;break}for(;K--;)u.lens[u.have++]=c}}if(u.mode===30)break;if(u.lens[256]===0){k.msg="invalid code -- missing end-of-block",u.mode=30;break}if(u.lenbits=9,U={bits:u.lenbits},Z=d(b,u.lens,0,u.nlen,u.lencode,0,u.work,U),u.lenbits=U.bits,Z){k.msg="invalid literal/lengths set",u.mode=30;break}if(u.distbits=6,u.distcode=u.distdyn,U={bits:u.distbits},Z=d(p,u.lens,u.nlen,u.ndist,u.distcode,0,u.work,U),u.distbits=U.bits,Z){k.msg="invalid distances set",u.mode=30;break}if(u.mode=20,T===6)break t;case 20:u.mode=21;case 21:if(6<=x&&258<=D){k.next_out=nt,k.avail_out=D,k.next_in=j,k.avail_in=x,u.hold=E,u.bits=I,l(k,q),nt=k.next_out,J=k.output,D=k.avail_out,j=k.next_in,L=k.input,x=k.avail_in,E=u.hold,I=u.bits,u.mode===12&&(u.back=-1);break}for(u.back=0;ft=(w=u.lencode[E&(1<<u.lenbits)-1])>>>16&255,vt=65535&w,!((st=w>>>24)<=I);){if(x===0)break t;x--,E+=L[j++]<<I,I+=8}if(ft&&(240&ft)==0){for(pt=st,xt=ft,zt=vt;ft=(w=u.lencode[zt+((E&(1<<pt+xt)-1)>>pt)])>>>16&255,vt=65535&w,!(pt+(st=w>>>24)<=I);){if(x===0)break t;x--,E+=L[j++]<<I,I+=8}E>>>=pt,I-=pt,u.back+=pt}if(E>>>=st,I-=st,u.back+=st,u.length=vt,ft===0){u.mode=26;break}if(32&ft){u.back=-1,u.mode=12;break}if(64&ft){k.msg="invalid literal/length code",u.mode=30;break}u.extra=15&ft,u.mode=22;case 22:if(u.extra){for(S=u.extra;I<S;){if(x===0)break t;x--,E+=L[j++]<<I,I+=8}u.length+=E&(1<<u.extra)-1,E>>>=u.extra,I-=u.extra,u.back+=u.extra}u.was=u.length,u.mode=23;case 23:for(;ft=(w=u.distcode[E&(1<<u.distbits)-1])>>>16&255,vt=65535&w,!((st=w>>>24)<=I);){if(x===0)break t;x--,E+=L[j++]<<I,I+=8}if((240&ft)==0){for(pt=st,xt=ft,zt=vt;ft=(w=u.distcode[zt+((E&(1<<pt+xt)-1)>>pt)])>>>16&255,vt=65535&w,!(pt+(st=w>>>24)<=I);){if(x===0)break t;x--,E+=L[j++]<<I,I+=8}E>>>=pt,I-=pt,u.back+=pt}if(E>>>=st,I-=st,u.back+=st,64&ft){k.msg="invalid distance code",u.mode=30;break}u.offset=vt,u.extra=15&ft,u.mode=24;case 24:if(u.extra){for(S=u.extra;I<S;){if(x===0)break t;x--,E+=L[j++]<<I,I+=8}u.offset+=E&(1<<u.extra)-1,E>>>=u.extra,I-=u.extra,u.back+=u.extra}if(u.offset>u.dmax){k.msg="invalid distance too far back",u.mode=30;break}u.mode=25;case 25:if(D===0)break t;if(K=q-D,u.offset>K){if((K=u.offset-K)>u.whave&&u.sane){k.msg="invalid distance too far back",u.mode=30;break}ut=K>u.wnext?(K-=u.wnext,u.wsize-K):u.wnext-K,K>u.length&&(K=u.length),ht=u.window}else ht=J,ut=nt-u.offset,K=u.length;for(D<K&&(K=D),D-=K,u.length-=K;J[nt++]=ht[ut++],--K;);u.length===0&&(u.mode=21);break;case 26:if(D===0)break t;J[nt++]=u.length,D--,u.mode=21;break;case 27:if(u.wrap){for(;I<32;){if(x===0)break t;x--,E|=L[j++]<<I,I+=8}if(q-=D,k.total_out+=q,u.total+=q,q&&(k.adler=u.check=u.flags?a(u.check,J,q,nt-q):s(u.check,J,q,nt-q)),q=D,(u.flags?E:m(E))!==u.check){k.msg="incorrect data check",u.mode=30;break}I=E=0}u.mode=28;case 28:if(u.wrap&&u.flags){for(;I<32;){if(x===0)break t;x--,E+=L[j++]<<I,I+=8}if(E!==(4294967295&u.total)){k.msg="incorrect length check",u.mode=30;break}I=E=0}u.mode=29;case 29:Z=1;break t;case 30:Z=-3;break t;case 31:return-4;case 32:default:return h}return k.next_out=nt,k.avail_out=D,k.next_in=j,k.avail_in=x,u.hold=E,u.bits=I,(u.wsize||q!==k.avail_out&&u.mode<30&&(u.mode<27||T!==4))&&X(k,k.output,k.next_out,q-k.avail_out)?(u.mode=31,-4):(G-=k.avail_in,q-=k.avail_out,k.total_in+=G,k.total_out+=q,u.total+=q,u.wrap&&q&&(k.adler=u.check=u.flags?a(u.check,J,q,k.next_out-q):s(u.check,J,q,k.next_out-q)),k.data_type=u.bits+(u.last?64:0)+(u.mode===12?128:0)+(u.mode===20||u.mode===15?256:0),(G==0&&q===0||T===4)&&Z===v&&(Z=-5),Z)},n.inflateEnd=function(k){if(!k||!k.state)return h;var T=k.state;return T.window&&(T.window=null),k.state=null,v},n.inflateGetHeader=function(k,T){var u;return k&&k.state?(2&(u=k.state).wrap)==0?h:((u.head=T).done=!1,v):h},n.inflateSetDictionary=function(k,T){var u,L=T.length;return k&&k.state?(u=k.state).wrap!==0&&u.mode!==11?h:u.mode===11&&s(1,T,L,0)!==u.check?-3:X(k,T,L,L)?(u.mode=31,-4):(u.havedict=1,v):h},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,o,n){var r=t("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(b,p,v,h,_,f,g,m){var y,A,z,C,O,R,W,P,V,X=m.bits,k=0,T=0,u=0,L=0,J=0,j=0,nt=0,x=0,D=0,E=0,I=null,G=0,q=new r.Buf16(16),K=new r.Buf16(16),ut=null,ht=0;for(k=0;k<=15;k++)q[k]=0;for(T=0;T<h;T++)q[p[v+T]]++;for(J=X,L=15;1<=L&&q[L]===0;L--);if(L<J&&(J=L),L===0)return _[f++]=20971520,_[f++]=20971520,m.bits=1,0;for(u=1;u<L&&q[u]===0;u++);for(J<u&&(J=u),k=x=1;k<=15;k++)if(x<<=1,(x-=q[k])<0)return-1;if(0<x&&(b===0||L!==1))return-1;for(K[1]=0,k=1;k<15;k++)K[k+1]=K[k]+q[k];for(T=0;T<h;T++)p[v+T]!==0&&(g[K[p[v+T]]++]=T);if(R=b===0?(I=ut=g,19):b===1?(I=s,G-=257,ut=a,ht-=257,256):(I=l,ut=d,-1),k=u,O=f,nt=T=E=0,z=-1,C=(D=1<<(j=J))-1,b===1&&852<D||b===2&&592<D)return 1;for(;;){for(W=k-nt,V=g[T]<R?(P=0,g[T]):g[T]>R?(P=ut[ht+g[T]],I[G+g[T]]):(P=96,0),y=1<<k-nt,u=A=1<<j;_[O+(E>>nt)+(A-=y)]=W<<24|P<<16|V|0,A!==0;);for(y=1<<k-1;E&y;)y>>=1;if(y!==0?(E&=y-1,E+=y):E=0,T++,--q[k]==0){if(k===L)break;k=p[v+g[T]]}if(J<k&&(E&C)!==z){for(nt===0&&(nt=J),O+=u,x=1<<(j=k-nt);j+nt<L&&!((x-=q[j+nt])<=0);)j++,x<<=1;if(D+=1<<j,b===1&&852<D||b===2&&592<D)return 1;_[z=E&C]=J<<24|j<<16|O-f|0}}return E!==0&&(_[O+E]=k-nt<<24|64<<16|0),m.bits=J,0}},{"../utils/common":41}],51:[function(t,o,n){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,o,n){var r=t("../utils/common"),s=0,a=1;function l(w){for(var B=w.length;0<=--B;)w[B]=0}var d=0,b=29,p=256,v=p+1+b,h=30,_=19,f=2*v+1,g=15,m=16,y=7,A=256,z=16,C=17,O=18,R=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],W=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],X=new Array(2*(v+2));l(X);var k=new Array(2*h);l(k);var T=new Array(512);l(T);var u=new Array(256);l(u);var L=new Array(b);l(L);var J,j,nt,x=new Array(h);function D(w,B,M,H,F){this.static_tree=w,this.extra_bits=B,this.extra_base=M,this.elems=H,this.max_length=F,this.has_stree=w&&w.length}function E(w,B){this.dyn_tree=w,this.max_code=0,this.stat_desc=B}function I(w){return w<256?T[w]:T[256+(w>>>7)]}function G(w,B){w.pending_buf[w.pending++]=255&B,w.pending_buf[w.pending++]=B>>>8&255}function q(w,B,M){w.bi_valid>m-M?(w.bi_buf|=B<<w.bi_valid&65535,G(w,w.bi_buf),w.bi_buf=B>>m-w.bi_valid,w.bi_valid+=M-m):(w.bi_buf|=B<<w.bi_valid&65535,w.bi_valid+=M)}function K(w,B,M){q(w,M[2*B],M[2*B+1])}function ut(w,B){for(var M=0;M|=1&w,w>>>=1,M<<=1,0<--B;);return M>>>1}function ht(w,B,M){var H,F,$=new Array(g+1),Q=0;for(H=1;H<=g;H++)$[H]=Q=Q+M[H-1]<<1;for(F=0;F<=B;F++){var Y=w[2*F+1];Y!==0&&(w[2*F]=ut($[Y]++,Y))}}function st(w){var B;for(B=0;B<v;B++)w.dyn_ltree[2*B]=0;for(B=0;B<h;B++)w.dyn_dtree[2*B]=0;for(B=0;B<_;B++)w.bl_tree[2*B]=0;w.dyn_ltree[2*A]=1,w.opt_len=w.static_len=0,w.last_lit=w.matches=0}function ft(w){8<w.bi_valid?G(w,w.bi_buf):0<w.bi_valid&&(w.pending_buf[w.pending++]=w.bi_buf),w.bi_buf=0,w.bi_valid=0}function vt(w,B,M,H){var F=2*B,$=2*M;return w[F]<w[$]||w[F]===w[$]&&H[B]<=H[M]}function pt(w,B,M){for(var H=w.heap[M],F=M<<1;F<=w.heap_len&&(F<w.heap_len&&vt(B,w.heap[F+1],w.heap[F],w.depth)&&F++,!vt(B,H,w.heap[F],w.depth));)w.heap[M]=w.heap[F],M=F,F<<=1;w.heap[M]=H}function xt(w,B,M){var H,F,$,Q,Y=0;if(w.last_lit!==0)for(;H=w.pending_buf[w.d_buf+2*Y]<<8|w.pending_buf[w.d_buf+2*Y+1],F=w.pending_buf[w.l_buf+Y],Y++,H===0?K(w,F,B):(K(w,($=u[F])+p+1,B),(Q=R[$])!==0&&q(w,F-=L[$],Q),K(w,$=I(--H),M),(Q=W[$])!==0&&q(w,H-=x[$],Q)),Y<w.last_lit;);K(w,A,B)}function zt(w,B){var M,H,F,$=B.dyn_tree,Q=B.stat_desc.static_tree,Y=B.stat_desc.has_stree,rt=B.stat_desc.elems,gt=-1;for(w.heap_len=0,w.heap_max=f,M=0;M<rt;M++)$[2*M]!==0?(w.heap[++w.heap_len]=gt=M,w.depth[M]=0):$[2*M+1]=0;for(;w.heap_len<2;)$[2*(F=w.heap[++w.heap_len]=gt<2?++gt:0)]=1,w.depth[F]=0,w.opt_len--,Y&&(w.static_len-=Q[2*F+1]);for(B.max_code=gt,M=w.heap_len>>1;1<=M;M--)pt(w,$,M);for(F=rt;M=w.heap[1],w.heap[1]=w.heap[w.heap_len--],pt(w,$,1),H=w.heap[1],w.heap[--w.heap_max]=M,w.heap[--w.heap_max]=H,$[2*F]=$[2*M]+$[2*H],w.depth[F]=(w.depth[M]>=w.depth[H]?w.depth[M]:w.depth[H])+1,$[2*M+1]=$[2*H+1]=F,w.heap[1]=F++,pt(w,$,1),2<=w.heap_len;);w.heap[--w.heap_max]=w.heap[1],function(dt,At){var te,Bt,ee,yt,ae,ye,Tt=At.dyn_tree,De=At.max_code,yn=At.stat_desc.static_tree,wn=At.stat_desc.has_stree,kn=At.stat_desc.extra_bits,Te=At.stat_desc.extra_base,ne=At.stat_desc.max_length,le=0;for(yt=0;yt<=g;yt++)dt.bl_count[yt]=0;for(Tt[2*dt.heap[dt.heap_max]+1]=0,te=dt.heap_max+1;te<f;te++)ne<(yt=Tt[2*Tt[2*(Bt=dt.heap[te])+1]+1]+1)&&(yt=ne,le++),Tt[2*Bt+1]=yt,De<Bt||(dt.bl_count[yt]++,ae=0,Te<=Bt&&(ae=kn[Bt-Te]),ye=Tt[2*Bt],dt.opt_len+=ye*(yt+ae),wn&&(dt.static_len+=ye*(yn[2*Bt+1]+ae)));if(le!==0){do{for(yt=ne-1;dt.bl_count[yt]===0;)yt--;dt.bl_count[yt]--,dt.bl_count[yt+1]+=2,dt.bl_count[ne]--,le-=2}while(0<le);for(yt=ne;yt!==0;yt--)for(Bt=dt.bl_count[yt];Bt!==0;)De<(ee=dt.heap[--te])||(Tt[2*ee+1]!==yt&&(dt.opt_len+=(yt-Tt[2*ee+1])*Tt[2*ee],Tt[2*ee+1]=yt),Bt--)}}(w,B),ht($,gt,w.bl_count)}function c(w,B,M){var H,F,$=-1,Q=B[1],Y=0,rt=7,gt=4;for(Q===0&&(rt=138,gt=3),B[2*(M+1)+1]=65535,H=0;H<=M;H++)F=Q,Q=B[2*(H+1)+1],++Y<rt&&F===Q||(Y<gt?w.bl_tree[2*F]+=Y:F!==0?(F!==$&&w.bl_tree[2*F]++,w.bl_tree[2*z]++):Y<=10?w.bl_tree[2*C]++:w.bl_tree[2*O]++,$=F,gt=(Y=0)===Q?(rt=138,3):F===Q?(rt=6,3):(rt=7,4))}function Z(w,B,M){var H,F,$=-1,Q=B[1],Y=0,rt=7,gt=4;for(Q===0&&(rt=138,gt=3),H=0;H<=M;H++)if(F=Q,Q=B[2*(H+1)+1],!(++Y<rt&&F===Q)){if(Y<gt)for(;K(w,F,w.bl_tree),--Y!=0;);else F!==0?(F!==$&&(K(w,F,w.bl_tree),Y--),K(w,z,w.bl_tree),q(w,Y-3,2)):Y<=10?(K(w,C,w.bl_tree),q(w,Y-3,3)):(K(w,O,w.bl_tree),q(w,Y-11,7));$=F,gt=(Y=0)===Q?(rt=138,3):F===Q?(rt=6,3):(rt=7,4)}}l(x);var U=!1;function S(w,B,M,H){q(w,(d<<1)+(H?1:0),3),function(F,$,Q,Y){ft(F),Y&&(G(F,Q),G(F,~Q)),r.arraySet(F.pending_buf,F.window,$,Q,F.pending),F.pending+=Q}(w,B,M,!0)}n._tr_init=function(w){U||(function(){var B,M,H,F,$,Q=new Array(g+1);for(F=H=0;F<b-1;F++)for(L[F]=H,B=0;B<1<<R[F];B++)u[H++]=F;for(u[H-1]=F,F=$=0;F<16;F++)for(x[F]=$,B=0;B<1<<W[F];B++)T[$++]=F;for($>>=7;F<h;F++)for(x[F]=$<<7,B=0;B<1<<W[F]-7;B++)T[256+$++]=F;for(M=0;M<=g;M++)Q[M]=0;for(B=0;B<=143;)X[2*B+1]=8,B++,Q[8]++;for(;B<=255;)X[2*B+1]=9,B++,Q[9]++;for(;B<=279;)X[2*B+1]=7,B++,Q[7]++;for(;B<=287;)X[2*B+1]=8,B++,Q[8]++;for(ht(X,v+1,Q),B=0;B<h;B++)k[2*B+1]=5,k[2*B]=ut(B,5);J=new D(X,R,p+1,v,g),j=new D(k,W,0,h,g),nt=new D(new Array(0),P,0,_,y)}(),U=!0),w.l_desc=new E(w.dyn_ltree,J),w.d_desc=new E(w.dyn_dtree,j),w.bl_desc=new E(w.bl_tree,nt),w.bi_buf=0,w.bi_valid=0,st(w)},n._tr_stored_block=S,n._tr_flush_block=function(w,B,M,H){var F,$,Q=0;0<w.level?(w.strm.data_type===2&&(w.strm.data_type=function(Y){var rt,gt=4093624447;for(rt=0;rt<=31;rt++,gt>>>=1)if(1&gt&&Y.dyn_ltree[2*rt]!==0)return s;if(Y.dyn_ltree[18]!==0||Y.dyn_ltree[20]!==0||Y.dyn_ltree[26]!==0)return a;for(rt=32;rt<p;rt++)if(Y.dyn_ltree[2*rt]!==0)return a;return s}(w)),zt(w,w.l_desc),zt(w,w.d_desc),Q=function(Y){var rt;for(c(Y,Y.dyn_ltree,Y.l_desc.max_code),c(Y,Y.dyn_dtree,Y.d_desc.max_code),zt(Y,Y.bl_desc),rt=_-1;3<=rt&&Y.bl_tree[2*V[rt]+1]===0;rt--);return Y.opt_len+=3*(rt+1)+5+5+4,rt}(w),F=w.opt_len+3+7>>>3,($=w.static_len+3+7>>>3)<=F&&(F=$)):F=$=M+5,M+4<=F&&B!==-1?S(w,B,M,H):w.strategy===4||$===F?(q(w,2+(H?1:0),3),xt(w,X,k)):(q(w,4+(H?1:0),3),function(Y,rt,gt,dt){var At;for(q(Y,rt-257,5),q(Y,gt-1,5),q(Y,dt-4,4),At=0;At<dt;At++)q(Y,Y.bl_tree[2*V[At]+1],3);Z(Y,Y.dyn_ltree,rt-1),Z(Y,Y.dyn_dtree,gt-1)}(w,w.l_desc.max_code+1,w.d_desc.max_code+1,Q+1),xt(w,w.dyn_ltree,w.dyn_dtree)),st(w),H&&ft(w)},n._tr_tally=function(w,B,M){return w.pending_buf[w.d_buf+2*w.last_lit]=B>>>8&255,w.pending_buf[w.d_buf+2*w.last_lit+1]=255&B,w.pending_buf[w.l_buf+w.last_lit]=255&M,w.last_lit++,B===0?w.dyn_ltree[2*M]++:(w.matches++,B--,w.dyn_ltree[2*(u[M]+p+1)]++,w.dyn_dtree[2*I(B)]++),w.last_lit===w.lit_bufsize-1},n._tr_align=function(w){q(w,2,3),K(w,A,X),function(B){B.bi_valid===16?(G(B,B.bi_buf),B.bi_buf=0,B.bi_valid=0):8<=B.bi_valid&&(B.pending_buf[B.pending++]=255&B.bi_buf,B.bi_buf>>=8,B.bi_valid-=8)}(w)}},{"../utils/common":41}],53:[function(t,o,n){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,o,n){(function(r){(function(s,a){if(!s.setImmediate){var l,d,b,p,v=1,h={},_=!1,f=s.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(s);g=g&&g.setTimeout?g:s,l={}.toString.call(s.process)==="[object process]"?function(z){process.nextTick(function(){y(z)})}:function(){if(s.postMessage&&!s.importScripts){var z=!0,C=s.onmessage;return s.onmessage=function(){z=!1},s.postMessage("","*"),s.onmessage=C,z}}()?(p="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",A,!1):s.attachEvent("onmessage",A),function(z){s.postMessage(p+z,"*")}):s.MessageChannel?((b=new MessageChannel).port1.onmessage=function(z){y(z.data)},function(z){b.port2.postMessage(z)}):f&&"onreadystatechange"in f.createElement("script")?(d=f.documentElement,function(z){var C=f.createElement("script");C.onreadystatechange=function(){y(z),C.onreadystatechange=null,d.removeChild(C),C=null},d.appendChild(C)}):function(z){setTimeout(y,0,z)},g.setImmediate=function(z){typeof z!="function"&&(z=new Function(""+z));for(var C=new Array(arguments.length-1),O=0;O<C.length;O++)C[O]=arguments[O+1];var R={callback:z,args:C};return h[v]=R,l(v),v++},g.clearImmediate=m}function m(z){delete h[z]}function y(z){if(_)setTimeout(y,0,z);else{var C=h[z];if(C){_=!0;try{(function(O){var R=O.callback,W=O.args;switch(W.length){case 0:R();break;case 1:R(W[0]);break;case 2:R(W[0],W[1]);break;case 3:R(W[0],W[1],W[2]);break;default:R.apply(a,W)}})(C)}finally{m(z),_=!1}}}}function A(z){z.source===s&&typeof z.data=="string"&&z.data.indexOf(p)===0&&y(+z.data.slice(p.length))}})(typeof self>"u"?r===void 0?this:r:self)}).call(this,typeof fe<"u"?fe:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(bn);const Je=bn.exports,Ti="data:text/plain;base64,IyBIb3cgdG8gc2V0dXAgdGhlIHBsdWdpbg0KDQojIyBPbmNlIHlvdSBoYXZlIGRvd25sb2FkZWQgdGhpcyBmaWxlIHB1dCB0aGUgZGlzY3MuanNvbiBmaWxlIGluIHRoZSByb290IG9mIHBsdWdpbiBkaXJlY3RvcnkNCg0KYGBgDQpTZXJ2ZXINCuKUlOKUgOKUgOKUgC4uLg0K4pSU4pSA4pSA4pSAcGx1Z2lucw0KICAgIOKUlOKUgOKUgOKUgEp1a2Vib3hFeHRlbmRlZFJlYm9ybg0KICAgIOKUgiAgIOKUlOKUgOKUgOKUgGRpc2NzLmpzb24NCgnilIIJ4pSU4pSA4pSA4pSAY29uZmlnLmpzb24NCgnilIIJ4pSU4pSA4pSA4pSALi4uDQoJ4pSU4pSA4pSA4pSASmV4dC5qYXINCgnilJTilIDilIDilIAuLi4NCmBgYA0KDQojIyBBcyBmb3IgdGhlIHJlc291cmNlIHBhY2sgZmlsZSB5b3UgY2FuIHNldCBpdCB1cCBieSBlZGl0aW5nIHRoZSBzZXJ2ZXIgY29uZmlnIGZpbGUNCg0KRXhhbXBsZSB1cGxvYWQgeW91ciBmaWxlIHRvIGRyb3Bib3guDQpHZW5lcmF0ZSBhIGRvd25sb2FkIHVybCBhbmQgcmVwbGFjZSB0aGUgZGw9MCBhdCB0aGUgZW5kIG9mIHRoZSB1cmwgd2l0aCBhIGRsPTENCg0KRXhhbXBsZToNCm9yaWdpbmFsIHVybDogaHR0cHM6Ly93d3cuZHJvcGJveC5jb20vcy9tc2llN2h1Y25wYmtmeS90ZXN0LlBORz9kbD0wDQplZGl0ZWQgICB1cmw6IGh0dHBzOi8vd3d3LmRyb3Bib3guY29tL3MvbXNpZTdodWNucGJrZnkvdGVzdC5QTkc/ZGw9MQ0KDQp0aGVuIGluIHRoZSBzZXJ2ZXIucHJvcGVydGllcyBmaWxlIHNldCB0aGUgc2VydmVyLXJlc291cmNlLXBhY2sgdG8gdGhlIGVkaXRlZCB1cmwNCg0KIyBZb3VyIHBsdWdpbiBpcyBub3cgcmVhZHkgdG8gZ28sIHJlc3RhcnQgdGhlIHNlcnZlciB0byBzdGFydCB1c2luZyBqZXh0";let vn;be.subscribe(i=>vn=i);const Pi=async(i,e,t,o)=>{const n=new Je,r=`
        {"pack": {"pack_format": ${vn},"description": "Adds custom musics discs"}}
    `;n.file("pack.mcmeta",r);const a=await(await(await fetch(e)).blob()).arrayBuffer();n.file("pack.png",a);const l=n.folder("assets").folder("minecraft"),d={};i.forEach(_=>{d[`music_disc.${_.namespace}`]={sounds:[{name:`records/${_.namespace}`,stream:!0}]}}),l.file("sounds.json",JSON.stringify(d,null,2));const b=l.folder("models").folder("item"),p=l.folder("sounds").folder("records"),v=l.folder("textures").folder("item"),h={parent:"item/generated",textures:{layer0:"item/music_disc_11"},overrides:i.map((_,f)=>({predicate:{custom_model_data:f},model:`item/music_disc_${_.namespace}`}))};b.file("music_disc_11.json",JSON.stringify(h,null,2));for(let _=0;_<i.length;_++){const f=i[_],g=await(await Fr(f.texture,16,16)).arrayBuffer();v.file(`music_disc_${f.namespace}.png`,g);const m=o?await f.monoFile.arrayBuffer():await f.oggFile.arrayBuffer();p.file(`${f.namespace}.ogg`,m),console.log(f),b.file(`music_disc_${f.namespace}.json`,JSON.stringify({parent:"item/generated",textures:{layer0:`item/music_disc_${f.namespace}`}},null,2))}n.generateAsync({type:"blob"}).then(async _=>{const f=new Je,g=i.map((m,y)=>({title:m.name,author:m.author,"disc-namespace":`music_disc.${m.namespace}`,"model-data":y,"creeper-drop":m.creeperDrop,lores:m.lores.split(`
`),"loot-tables":m.lootTables.join(",").split(",")}));f.file("README.md",await(await fetch(Ti)).arrayBuffer()),f.file(`${t}.zip`,await _.arrayBuffer()),f.file("discs.json",JSON.stringify(g,null,2)),f.generateAsync({type:"blob"}).then(async m=>{Pr(m,"open me.zip")})})};function Xe(i){let e,t,o;function n(s){i[7](s)}let r={text:"Add at least a disc"};return i[4]!==void 0&&(r.closePopup=i[4]),e=new Di({props:r}),Ot.push(()=>Zt(e,"closePopup",n)),{c(){Et(e.$$.fragment)},m(s,a){kt(e,s,a),o=!0},p(s,a){const l={};!t&&a&16&&(t=!0,l.closePopup=s[4],jt(()=>t=!1)),e.$set(l)},i(s){o||(ct(e.$$.fragment,s),o=!0)},o(s){mt(e.$$.fragment,s),o=!1},d(s){St(e,s)}}}function Li(i){let e,t,o,n;return{c(){e=tt("div"),t=tt("p"),t.textContent="GENERATE",N(t,"id","generate_text"),N(t,"class","noselect svelte-g5uugw"),N(e,"id","generate_button"),Qt(e,"background-image","url("+_n+")"),N(e,"class","grayscale svelte-g5uugw")},m(r,s){ot(r,e,s),et(e,t),o||(n=[at(e,"click",i[5]),at(e,"keydown",null)],o=!0)},p:lt,d(r){r&&it(e),o=!1,bt(n)}}}function Ni(i){let e,t,o,n;return{c(){e=tt("div"),t=tt("p"),t.textContent="GENERATE",N(t,"id","generate_text"),N(t,"class","noselect svelte-g5uugw"),N(e,"id","generate_button"),Qt(e,"background-image","url("+_n+")"),N(e,"class","svelte-g5uugw")},m(r,s){ot(r,e,s),et(e,t),o||(n=[at(e,"click",i[6]),at(e,"keydown",null)],o=!0)},p:lt,d(r){r&&it(e),o=!1,bt(n)}}}function Ui(i){let e,t,o,n,r,s,a,l,d,b,p,v,h=i[4]&&Xe(i);function _(R){i[8](R)}function f(R){i[9](R)}function g(R){i[10](R)}let m={};i[1]!==void 0&&(m.packname=i[1]),i[0]!==void 0&&(m.imagesrc=i[0]),i[2]!==void 0&&(m.useMono=i[2]),o=new Ri({props:m}),Ot.push(()=>Zt(o,"packname",_)),Ot.push(()=>Zt(o,"imagesrc",f)),Ot.push(()=>Zt(o,"useMono",g));function y(R){i[11](R)}let A={};i[3]!==void 0&&(A.discData=i[3]),l=new Ai({props:A}),Ot.push(()=>Zt(l,"discData",y));function z(R,W){return R[3].length>0?Ni:Li}let C=z(i),O=C(i);return{c(){e=tt("main"),h&&h.c(),t=_t(),Et(o.$$.fragment),a=_t(),Et(l.$$.fragment),b=_t(),p=tt("div"),O.c(),N(p,"id","footer"),N(p,"class","svelte-g5uugw"),N(e,"class","svelte-g5uugw")},m(R,W){ot(R,e,W),h&&h.m(e,null),et(e,t),kt(o,e,null),et(e,a),kt(l,e,null),et(e,b),et(e,p),O.m(p,null),v=!0},p(R,[W]){R[4]?h?(h.p(R,W),W&16&&ct(h,1)):(h=Xe(R),h.c(),ct(h,1),h.m(e,t)):h&&(Kt(),mt(h,1,1,()=>{h=null}),qt());const P={};!n&&W&2&&(n=!0,P.packname=R[1],jt(()=>n=!1)),!r&&W&1&&(r=!0,P.imagesrc=R[0],jt(()=>r=!1)),!s&&W&4&&(s=!0,P.useMono=R[2],jt(()=>s=!1)),o.$set(P);const V={};!d&&W&8&&(d=!0,V.discData=R[3],jt(()=>d=!1)),l.$set(V),C===(C=z(R))&&O?O.p(R,W):(O.d(1),O=C(R),O&&(O.c(),O.m(p,null)))},i(R){v||(ct(h),ct(o.$$.fragment,R),ct(l.$$.fragment,R),v=!0)},o(R){mt(h),mt(o.$$.fragment,R),mt(l.$$.fragment,R),v=!1},d(R){R&&it(e),h&&h.d(),St(o),St(l),O.d()}}}function ji(i,e,t){let o,n,r,s=[],a=!1;const l=()=>{t(4,a=!0)},d=()=>{Pi(s,o,n,r)};function b(f){a=f,t(4,a)}function p(f){n=f,t(1,n)}function v(f){o=f,t(0,o)}function h(f){r=f,t(2,r)}function _(f){s=f,t(3,s)}return[o,n,r,s,a,l,d,b,p,v,h,_]}class Zi extends Gt{constructor(e){super(),Mt(this,e,ji,Ui,Nt,{})}}new Zi({target:document.getElementById("app")});
