(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();function Se(){}const Qn=t=>t;function Ga(t,e){for(const r in e)t[r]=e[r];return t}function Ja(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function Li(t){return t()}function qs(){return Object.create(null)}function De(t){t.forEach(Li)}function Jt(t){return typeof t=="function"}function vt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let tn;function tt(t,e){return tn||(tn=document.createElement("a")),tn.href=e,t===tn.href}function Qa(t){return Object.keys(t).length===0}function Ya(t,...e){if(t==null)return Se;const r=t.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}function kr(t,e,r){t.$$.on_destroy.push(Ya(e,r))}function Vi(t,e,r,i){if(t){const n=xi(t,e,r,i);return t[0](n)}}function xi(t,e,r,i){return t[1]&&i?Ga(r.ctx.slice(),t[1](i(e))):r.ctx}function Ki(t,e,r,i){if(t[2]&&i){const n=t[2](i(r));if(e.dirty===void 0)return n;if(typeof n=="object"){const s=[],a=Math.max(e.dirty.length,n.length);for(let o=0;o<a;o+=1)s[o]=e.dirty[o]|n[o];return s}return e.dirty|n}return e.dirty}function Hi(t,e,r,i,n,s){if(n){const a=xi(e,r,i,s);t.p(a,n)}}function Wi(t){if(t.ctx.length>32){const e=[],r=t.ctx.length/32;for(let i=0;i<r;i++)e[i]=-1;return e}return-1}function _t(t){return t??""}function Qe(t){return t&&Jt(t.destroy)?t.destroy:Se}const Zi=typeof window<"u";let qi=Zi?()=>window.performance.now():()=>Date.now(),Yn=Zi?t=>requestAnimationFrame(t):Se;const gr=new Set;function Gi(t){gr.forEach(e=>{e.c(t)||(gr.delete(e),e.f())}),gr.size!==0&&Yn(Gi)}function Ji(t){let e;return gr.size===0&&Yn(Gi),{promise:new Promise(r=>{gr.add(e={c:t,f:r})}),abort(){gr.delete(e)}}}function ae(t,e){t.appendChild(e)}function Qi(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Xa(t){const e=oe("style");return eo(Qi(t),e),e.sheet}function eo(t,e){return ae(t.head||t,e),e.sheet}function he(t,e,r){t.insertBefore(e,r||null)}function de(t){t.parentNode&&t.parentNode.removeChild(t)}function Hr(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function oe(t){return document.createElement(t)}function ft(t){return document.createTextNode(t)}function Ee(){return ft(" ")}function Ar(){return ft("")}function we(t,e,r,i){return t.addEventListener(e,r,i),()=>t.removeEventListener(e,r,i)}function B(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function to(t){return Array.from(t.childNodes)}function Lt(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Wt(t,e){t.value=e??""}function gt(t,e,r,i){r===null?t.style.removeProperty(e):t.style.setProperty(e,r,i?"important":"")}function Gs(t,e){for(let r=0;r<t.options.length;r+=1){const i=t.options[r];if(i.__value===e){i.selected=!0;return}}t.selectedIndex=-1}function ro(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function no(t,e,{bubbles:r=!1,cancelable:i=!1}={}){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,r,i,e),n}const mn=new Map;let _n=0;function so(t){let e=5381,r=t.length;for(;r--;)e=(e<<5)-e^t.charCodeAt(r);return e>>>0}function io(t,e){const r={stylesheet:Xa(e),rules:{}};return mn.set(t,r),r}function Bn(t,e,r,i,n,s,a,o=0){const c=16.666/i;let l=`{
`;for(let p=0;p<=1;p+=c){const f=e+(r-e)*s(p);l+=p*100+`%{${a(f,1-f)}}
`}const m=l+`100% {${a(r,1-r)}}
}`,h=`__svelte_${so(m)}_${o}`,y=Qi(t),{stylesheet:u,rules:_}=mn.get(y)||io(y,t);_[h]||(_[h]=!0,u.insertRule(`@keyframes ${h} ${m}`,u.cssRules.length));const d=t.style.animation||"";return t.style.animation=`${d?`${d}, `:""}${h} ${i}ms linear ${n}ms 1 both`,_n+=1,h}function Mn(t,e){const r=(t.style.animation||"").split(", "),i=r.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),n=r.length-i.length;n&&(t.style.animation=i.join(", "),_n-=n,_n||ao())}function ao(){Yn(()=>{_n||(mn.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&de(e)}),mn.clear())})}let Vr;function Ut(t){Vr=t}function oo(){if(!Vr)throw new Error("Function called outside component initialization");return Vr}const mr=[],ut=[],cn=[],Ln=[],lo=Promise.resolve();let Vn=!1;function co(){Vn||(Vn=!0,lo.then(Xn))}function dt(t){cn.push(t)}function $t(t){Ln.push(t)}const Tn=new Set;let fr=0;function Xn(){if(fr!==0)return;const t=Vr;do{try{for(;fr<mr.length;){const e=mr[fr];fr++,Ut(e),uo(e.$$)}}catch(e){throw mr.length=0,fr=0,e}for(Ut(null),mr.length=0,fr=0;ut.length;)ut.pop()();for(let e=0;e<cn.length;e+=1){const r=cn[e];Tn.has(r)||(Tn.add(r),r())}cn.length=0}while(mr.length);for(;Ln.length;)Ln.pop()();Vn=!1,Tn.clear(),Ut(t)}function uo(t){if(t.fragment!==null){t.update(),De(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(dt)}}let Or;function Yi(){return Or||(Or=Promise.resolve(),Or.then(()=>{Or=null})),Or}function jr(t,e,r){t.dispatchEvent(no(`${e?"intro":"outro"}${r}`))}const un=new Set;let Ft;function nt(){Ft={r:0,c:[],p:Ft}}function st(){Ft.r||De(Ft.c),Ft=Ft.p}function ce(t,e){t&&t.i&&(un.delete(t),t.i(e))}function be(t,e,r,i){if(t&&t.o){if(un.has(t))return;un.add(t),Ft.c.push(()=>{un.delete(t),i&&(r&&t.d(1),i())}),t.o(e)}else i&&i()}const Xi={duration:0};function xn(t,e,r){const i={direction:"in"};let n=e(t,r,i),s=!1,a,o,c=0;function l(){a&&Mn(t,a)}function m(){const{delay:y=0,duration:u=300,easing:_=Qn,tick:d=Se,css:p}=n||Xi;p&&(a=Bn(t,0,1,u,y,_,p,c++)),d(0,1);const f=qi()+y,v=f+u;o&&o.abort(),s=!0,dt(()=>jr(t,!0,"start")),o=Ji(w=>{if(s){if(w>=v)return d(1,0),jr(t,!0,"end"),l(),s=!1;if(w>=f){const $=_((w-f)/u);d($,1-$)}}return s})}let h=!1;return{start(){h||(h=!0,Mn(t),Jt(n)?(n=n(i),Yi().then(m)):m())},invalidate(){h=!1},end(){s&&(l(),s=!1)}}}function Gt(t,e,r,i){const n={direction:"both"};let s=e(t,r,n),a=i?0:1,o=null,c=null,l=null;function m(){l&&Mn(t,l)}function h(u,_){const d=u.b-a;return _*=Math.abs(d),{a,b:u.b,d,duration:_,start:u.start,end:u.start+_,group:u.group}}function y(u){const{delay:_=0,duration:d=300,easing:p=Qn,tick:f=Se,css:v}=s||Xi,w={start:qi()+_,b:u};u||(w.group=Ft,Ft.r+=1),o||c?c=w:(v&&(m(),l=Bn(t,a,u,d,_,p,v)),u&&f(0,1),o=h(w,d),dt(()=>jr(t,u,"start")),Ji($=>{if(c&&$>c.start&&(o=h(c,d),c=null,jr(t,o.b,"start"),v&&(m(),l=Bn(t,a,o.b,o.duration,0,p,s.css))),o){if($>=o.end)f(a=o.b,1-a),jr(t,o.b,"end"),c||(o.b?m():--o.group.r||De(o.group.c)),o=null;else if($>=o.start){const A=$-o.start;a=o.a+o.d*p(A/o.duration),f(a,1-a)}}return!!(o||c)}))}return{run(u){Jt(s)?Yi().then(()=>{s=s(n),y(u)}):y(u)},end(){m(),o=c=null}}}function ea(t,e){const r=e.token={};function i(n,s,a,o){if(e.token!==r)return;e.resolved=o;let c=e.ctx;a!==void 0&&(c=c.slice(),c[a]=o);const l=n&&(e.current=n)(c);let m=!1;e.block&&(e.blocks?e.blocks.forEach((h,y)=>{y!==s&&h&&(nt(),be(h,1,1,()=>{e.blocks[y]===h&&(e.blocks[y]=null)}),st())}):e.block.d(1),l.c(),ce(l,1),l.m(e.mount(),e.anchor),m=!0),e.block=l,e.blocks&&(e.blocks[s]=l),m&&Xn()}if(Ja(t)){const n=oo();if(t.then(s=>{Ut(n),i(e.then,1,e.value,s),Ut(null)},s=>{if(Ut(n),i(e.catch,2,e.error,s),Ut(null),!e.hasCatch)throw s}),e.current!==e.pending)return i(e.pending,0),!0}else{if(e.current!==e.then)return i(e.then,1,e.value,t),!0;e.resolved=t}}function ta(t,e,r){const i=e.slice(),{resolved:n}=t;t.current===t.then&&(i[t.value]=n),t.current===t.catch&&(i[t.error]=n),t.block.p(i,r)}function kt(t,e,r){const i=t.$$.props[e];i!==void 0&&(t.$$.bound[i]=r,r(t.$$.ctx[i]))}function qe(t){t&&t.c()}function Ve(t,e,r,i){const{fragment:n,after_update:s}=t.$$;n&&n.m(e,r),i||dt(()=>{const a=t.$$.on_mount.map(Li).filter(Jt);t.$$.on_destroy?t.$$.on_destroy.push(...a):De(a),t.$$.on_mount=[]}),s.forEach(dt)}function xe(t,e){const r=t.$$;r.fragment!==null&&(De(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function fo(t,e){t.$$.dirty[0]===-1&&(mr.push(t),co(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Ct(t,e,r,i,n,s,a,o=[-1]){const c=Vr;Ut(t);const l=t.$$={fragment:null,ctx:[],props:s,update:Se,not_equal:n,bound:qs(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:qs(),dirty:o,skip_bound:!1,root:e.target||c.$$.root};a&&a(l.root);let m=!1;if(l.ctx=r?r(t,e.props||{},(h,y,...u)=>{const _=u.length?u[0]:y;return l.ctx&&n(l.ctx[h],l.ctx[h]=_)&&(!l.skip_bound&&l.bound[h]&&l.bound[h](_),m&&fo(t,h)),y}):[],l.update(),m=!0,De(l.before_update),l.fragment=i?i(l.ctx):!1,e.target){if(e.hydrate){const h=to(e.target);l.fragment&&l.fragment.l(h),h.forEach(de)}else l.fragment&&l.fragment.c();e.intro&&ce(t.$$.fragment),Ve(t,e.target,e.anchor,e.customElement),Xn()}Ut(c)}class It{$destroy(){xe(this,1),this.$destroy=Se}$on(e,r){if(!Jt(r))return Se;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(r),()=>{const n=i.indexOf(r);n!==-1&&i.splice(n,1)}}$set(e){this.$$set&&!Qa(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ho=(t,e)=>{const{src:r,hover:i}=e,n=()=>{t.src=i},s=()=>{t.src=r};s(),t.addEventListener("mouseenter",n),t.addEventListener("mouseleave",s)},Dt=(t,{width:e="1px",color:r="white"}={width:"1px",color:"white"})=>{const i=()=>{t.style.border=`${e} solid ${r}`},n=()=>{t.style.border=`${e} solid transparent`};return t.addEventListener("mouseenter",i),t.addEventListener("mouseleave",n),n(),{destroy(){t.removeEventListener("mouseenter",i),t.removeEventListener("mouseleave",n)}}},po=(t,e)=>{t.src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",setTimeout(()=>{t.src=e},1)},yr=(t,e={accept:"",cb:null,multiple:!1})=>{const{accept:r,cb:i,multiple:n}=e;t.addEventListener("click",()=>{const s=document.createElement("input");s.type="file",s.accept=r,n&&s.setAttribute("multiple",""),s.addEventListener("change",()=>{i(s.files)}),s.click()})},dr=[];function ra(t,e=Se){let r;const i=new Set;function n(o){if(vt(t,o)&&(t=o,r)){const c=!dr.length;for(const l of i)l[1](),dr.push(l,t);if(c){for(let l=0;l<dr.length;l+=2)dr[l][0](dr[l+1]);dr.length=0}}}function s(o){n(o(t))}function a(o,c=Se){const l=[o,c];return i.add(l),i.size===1&&(r=e(n)||Se),o(t),()=>{i.delete(l),i.size===0&&(r(),r=null)}}return{set:n,update:s,subscribe:a}}const br=ra(12),ir=ra([]);function Js(t,e,r){const i=t.slice();return i[5]=e[r],i[6]=e,i[7]=r,i}function Qs(t){let e,r,i;function n(){return t[3](t[5])}function s(o){t[4](o,t[5],t[6],t[7])}let a={id:t[7],onRemove:n};return t[5]!==void 0&&(a.song=t[5]),e=new ud({props:a}),ut.push(()=>kt(e,"song",s)),{c(){qe(e.$$.fragment)},m(o,c){Ve(e,o,c),i=!0},p(o,c){t=o;const l={};c&1&&(l.onRemove=n),!r&&c&1&&(r=!0,l.song=t[5],$t(()=>r=!1)),e.$set(l)},i(o){i||(ce(e.$$.fragment,o),i=!0)},o(o){be(e.$$.fragment,o),i=!1},d(o){xe(e,o)}}}function mo(t){let e,r,i,n,s,a,o,c,l,m=t[0],h=[];for(let u=0;u<m.length;u+=1)h[u]=Qs(Js(t,m,u));const y=u=>be(h[u],1,1,()=>{h[u]=null});return{c(){e=oe("div"),r=oe("div");for(let u=0;u<h.length;u+=1)h[u].c();i=Ee(),n=oe("hr"),s=Ee(),a=oe("div"),a.innerHTML='<h1 class="noselect svelte-15f98v0">+</h1>',B(r,"id","songscontainer"),B(n,"class","hidden"),B(a,"id","addsongsbtn"),B(a,"class","svelte-15f98v0"),B(e,"id","content"),B(e,"class","svelte-15f98v0")},m(u,_){he(u,e,_),ae(e,r);for(let d=0;d<h.length;d+=1)h[d].m(r,null);ae(e,i),ae(e,n),ae(e,s),ae(e,a),o=!0,c||(l=[Qe(yr.call(null,a,{accept:"audio/*",cb:t[1],multiple:!0})),we(a,"keydown",null)],c=!0)},p(u,[_]){if(_&5){m=u[0];let d;for(d=0;d<m.length;d+=1){const p=Js(u,m,d);h[d]?(h[d].p(p,_),ce(h[d],1)):(h[d]=Qs(p),h[d].c(),ce(h[d],1),h[d].m(r,null))}for(nt(),d=m.length;d<h.length;d+=1)y(d);st()}},i(u){if(!o){for(let _=0;_<m.length;_+=1)ce(h[_]);o=!0}},o(u){h=h.filter(Boolean);for(let _=0;_<h.length;_+=1)be(h[_]);o=!1},d(u){u&&de(e),Hr(h,u),c=!1,De(l)}}}function _o(t,e,r){let i;kr(t,ir,c=>r(0,i=c));const n=c=>{if(!c||c.length===0)return;const l=[];for(let m=0;m<c.length;m++)l.push({uploadedFile:c[m],name:"Disc Name",author:"Disc Author",lores:`This is the lore of the disc

You can have multiple lines

If you don't want any lores you can leave this empty`,namespace:"",creeperDrop:!0,lootTables:[],fragmentLootTables:[],normalize:!1,isMono:!0,oggFile:null,monoFile:null,texture:null,fragmentTexture:null});ir.update(m=>m=[...m,...l])},s=c=>ir.update(l=>l=l.filter(m=>m!=c)),a=c=>s(c);function o(c,l,m,h){m[h]=c,ir.set(i)}return[i,n,s,a,o]}class go extends It{constructor(e){super(),Ct(this,e,_o,mo,vt,{})}}const vo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAMCAYAAABm+U3GAAAAAXNSR0IArs4c6QAAAF5JREFUOI2tksECwCAIQmH//890aTvUTKw8GrxIoyQBAEniQr28Z2zcgAIAp8Zm8pHB6OAE+iU+gUeeyVyBr7S/RgeeacJEK6Nzcfmp7qjSBUX/O5t/efMOtFTq5eob3NNX+dvBeeAAAAAASUVORK5CYII=",Ys="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAAXNSR0IArs4c6QAAAIRJREFUSIntlEsOgDAIRMF4/yvjRk1Fygy6MZHZKZ/XgaYira9JK8lmZmehqo7/ju9IyxNANU5Bsgajg1kehCAHDCiFMCOKduLr1krTDKa7yk6QmH28hrBqiIjEL0Cky+3yiext80/MLY4aTAuTA/kYHFc2BgZAQRCI2Qu9eOSIcdz6mTar61wTcDDk9gAAAABJRU5ErkJggg==",Xs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAAXNSR0IArs4c6QAAAIpJREFUSIntlEsOwCAIRKHpQT3a3LSuTCxBGNpNkzorP+hzwCCy9TVpJbi1do0xAJ3XxtzT8QRQ3acg0QWzg1VcCskcMKAQwqTIq4k9d1YujWAAFICWnWRi6vEawmpDRMTvAJ5uv8sGsr/NthirtHetDkYPsntpuqI0MAAKkoGYutCFzxwxjrd+pg6/w1SfCm+xxQAAAABJRU5ErkJggg==",yo="/jext-reborn/assets/chest-dc4b25ff.png",bo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAFxnpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjarVdZkuQoDP3nFHMEkBDLcVgj5gZz/Hkshsyq6umqjrHDNinL4klPSKRq//zd1V84iLxWVnxw0TmNw0YbKWEQ9DrivBtt530dzzvzLlfnBUHEePL66dPWT5DL/eDYye9yFfYbCtuQOYbnwWPmMa6vICGnJTd2G4ptDVwM/hVq3oaKfXFpX/a6N4/xW70JPKJUBRMxUWPDet7DQsDjIk5DjrvmAD0zJcxR4SFstjEE5M2956nfAv0e/D1SH6N/Rh+CT2nL+UMs3cOa+/qFkQ9yPtPQ68R8ENH7i+S1/+TOvnqvofe2vEvWIaJuZ9QM9hOhoZgRcp6fOZwel2Ds5xlxBp10AeVVF51xFhMNIfpdGWuqSaabNp/FFEC01MjjSVSIpyywp0iFB092nKaT58iVA3gr1BSos0wHi5nzxjlfMQEzVwNVMjBmJv2/ONV/vfzJqXovI0RGhxMr4KKR14AxmBt3aIEQ0zdvMgP8nJt+/ZI/SFUwKDPMAQ4mnZeJLObmFk+eGXqC51pCRvm6DSBEmFsAxjAY0M6wGGe0R7UxBnEMICgBObGlDAaMCFWAJMvsSHnCksHc+MabqUtCjoYYtQlECDv24CZyAlnWCvLH24AcSsJiRcSJl6AkSnLsrBPnnHejyCXP3nrxznsffPQpcLBBggs+hBBDihQZNVCiiz6GGGNKpBImSrCVoJ8gyZQ52yzZZZ9DjjkVpE+xRYorvoQSS6pUuaJMVFd9DTXW1IxqqBTNNmmu+RZabKkj1zp326W77nvosafD2mb10/kD1sxmjSZTQ88f1iBV3j8mzCgnMjgDY2QNGPeDASQ0Dc50MNbSYG5wpiNhUQgBpAxuVDWDMVBomyHp5nB3mfsWb0rCt3ij3zGnBnX/B3MK1H3m7QvW6uhzZTK2VuGIqWasvtYpII8CcgCoxzhAt1MbA8rNlx6dnj+CRjWaCi1xpSNMfenWwFXJJ93C6IWPULcp7LFxOVKK1VgBWwjwGFhtirJLVukKW5wDgasvQqlTOIB2KksDraLJ+l5Zn+wj9dKXckbrT590A/YDR2gWgM7FhyFVUyw8QaeSj08hLv+TzdejZbE45P2DtC437Sj+zySy9AJK9aOW84JoY3UHNwrSFuZrT5UFsblYrkm7TOZYjy/ex/V51bH1GzraYlWw2PmqO79GckBFWZEfLflE7WHosqFMCY/UtTv9Rh+TN9fkIdMeWd1MdGXJ52sgPnJyvkR9uc+HzkyPttTNB5JNq4elWnY+Wg7hyfOm0xxlc4Pil/MS85kHpX3S75I7CeaRmWtyZEq4SOPvkKpfQf0pUvUrqN9EWh6kClDDDYD1G6pDITrqei+zRK/rCcK9+krsrG4W6pXrCMHjVvN515RoO3Zgp3xscSiNH6Hi2pe/KE/IzCcKZetGxOMYKGEXFVe6P6rNpFXYurXdnjgOs7sERW7uyIuZ5mI83KCg7EBUikjIm42y5SaWu0JzX+FEpjZ36HBrshbYbrxKP+6UcIODLrAToR4PUM/c4pxPBTbrJa7h2vbItqfS5vsx2WWxoIDlT7W6JC79IpL1GULV2q3VP4WpvsT5BzDVlzjRUh6idXe3V/FOCvyJOUI0xenaaFX5YmBZqlm38lj9+OS8e18pFxJiVJPbGWnRZ85ET/IlwpRn/rRThEy56zDWatTIkYhefqRmtyQx9UU11aclnWR6f6pRLp+ccygwdwHXp9ySjzdBn2VdDWa8FSitCpmxk7orqm7qbXMv69ftPk9c5YvoqS/D+Sm8WP7P3sJ2NKlHblZ4W2aVbn5I2hlXXjLzu/jUN/B8C596B3jxtbyTYmwuT/fvi7xsbrPunGRuIqRlbNKu3MpSLhYbplM29lKpnG7yYqO+F2S5q7+Vrepem0XbHYT5brKWV0mHd5jqS5x/AFN9ifOnMLl3VSP+R/wLwQRCBdriyuEAAAGFaUNDUElDQyBwcm9maWxlAAB4nH2RPUjDUBSFT1ulpVQc2kHEIUPVxYKoiKNWoQgVQq3QqoPJS/+gSUOS4uIouBYc/FmsOrg46+rgKgiCPyCOTk6KLlLifUmhRYwPLu/jvHcO990H+JtVppo944CqWUYmlRRy+VUh+IowQlSjiErM1OdEMQ3P9XUPH9/vEjzL+96fq08pmAzwCcSzTDcs4g3i6U1L57xPHGNlSSE+Jx4zqEHiR67LLr9xLjns55kxI5uZJ44RC6UulruYlQ2VeIo4rqga5ftzLiuctzir1Tpr98lfGCloK8tcpxpCCotYgggBMuqooAoLCdo1Ukxk6Dzp4R90/CK5ZHJVwMixgBpUSI4f/A9+z9YsTk64SZEk0Pti2x/DQHAXaDVs+/vYtlsnQOAZuNI6/loTmPkkvdHR4kdA/zZwcd3R5D3gcgcYeNIlQ3KkAJW/WATez+ib8kD0FgivuXNrn+P0AcjSrNI3wMEhMFKi7HWPd4e65/bvnfb8fgBGIXKVL4xNQwAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+YKCAonM+tPNNQAAAELSURBVBjTNcE9SAJhAIDh9w5L+gSRMDUlIeiHhhAuTAocg6CWNgfnoKGIppaWyCgaAt1CCCvhIBCqrSCEIi4olKvxKjuzHBpEkA6PsKnnkfKPh50VY5UpobDgTRJ1RbkQR1iNNuVbA2ksM9KZVCYwmy+M90Z41aoMzfXRqlgs+zaQw4qH4v41PzmbYfcoLqebwtoVT1kDIQRyV7eTTltCU0s8W/c0glXM8zpvZpVscw9H3DlD/1KQyG6MnfVtpF+ZG71I6jLFp1zDESKAVnngJHfMx9k3AMmeBLObcRL2InLYM4hPBNDUEv/eT+tYNZv0XRo53zogFBf4p71k9C0KZZWBeR+G/oU/JvgD3DRc8fJrLSwAAAAASUVORK5CYII=",na="/jext-reborn/assets/default_disc-59365372.png",sa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAFxJREFUOI3tkMsRgDAIBddyUgDtUBztUADl4EUvMSSOHnVnuPB5D4Cf12x9QlUTwMzKnlJgMDw1uyAiCZRxGjwSUdU8amt6kdlweZeIZGsNgIjA3dc/GIncXvvD7Gl5L5Lexty0AAAAAElFTkSuQmCC",wo="/jext-reborn/assets/delete_btn_hover-386c7405.png",$o="/jext-reborn/assets/delete_btn-871175bc.png",An="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA0UlEQVR42nWSsQ1CMQxEvQ4rINFR0SOBxAgpaRgA/Q3YhelAF+mi9+/nF1YS2zn7zq7v+/H7tEu31/XYbea7nw6ruM/SRYlM0HtZluEzIO+KycporsI3qzGHeSW01tpwsJukkl0MAAcV0GdyJ6AKpa/cVlZyq9SG9yFicpR4TKDipOmzMjnH525m/g6QTp5uOT8zNt2D5J68SaVyPORsYPtJxVrVjBcraHSkwDH3TUxnguyZu1pRkD1v541wpjHb0MokKkz+WWgDkDtgkfbm7wJ/9oUoq3qXqFkAAAAASUVORK5CYII=",ia="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAAXNSR0IArs4c6QAAAFJJREFUGJWNjsENwDAIA6/jZADW8XCswwCMQz9tVZREiiUe4JMNHOgCkFQA7t7u37IAphDMrIDtvCFbUFI9HkvwD7QHzazGGABkJhHR/Aa2ilPdhC8vkoVxguIAAAAASUVORK5CYII=",aa="/jext-reborn/assets/generate_btn-516338f5.png",ko="/jext-reborn/assets/loading-9ab4977f.webp",es="/jext-reborn/assets/pack_icon-57c0be34.png",Ao="data:text/plain;base64,IyBIb3cgdG8gc2V0dXAgdGhlIHBsdWdpbgoKIyMgT25jZSB5b3UgaGF2ZSBkb3dubG9hZGVkIHRoaXMgZmlsZSBwdXQgdGhlIGRpc2NzLmpzb24gZmlsZSBpbiB0aGUgcm9vdCBvZiBwbHVnaW4gZGlyZWN0b3J5CgpgYGAKU2VydmVyCuKUlOKUgOKUgOKUgC4uLgrilJTilIDilIDilIBwbHVnaW5zCiAgICDilJTilIDilIDilIBKdWtlYm94RXh0ZW5kZWRSZWJvcm4KICAgIOKUgiAgIOKUlOKUgOKUgOKUgGRpc2NzLmpzb24KCeKUggnilJTilIDilIDilIBjb25maWcuanNvbgoJ4pSCCeKUlOKUgOKUgOKUgC4uLgoJ4pSU4pSA4pSA4pSASmV4dC5qYXIKCeKUlOKUgOKUgOKUgC4uLgpgYGAKCiMjIEFzIGZvciB0aGUgcmVzb3VyY2UgcGFjayBmaWxlIHlvdSBjYW4gc2V0IGl0IHVwIGJ5IGVkaXRpbmcgdGhlIHNlcnZlciBjb25maWcgZmlsZQoKRXhhbXBsZSB1cGxvYWQgeW91ciBmaWxlIHRvIGRyb3Bib3guCkdlbmVyYXRlIGEgZG93bmxvYWQgdXJsIGFuZCByZXBsYWNlIHRoZSBkbD0wIGF0IHRoZSBlbmQgb2YgdGhlIHVybCB3aXRoIGEgZGw9MQoKRXhhbXBsZToKb3JpZ2luYWwgdXJsOiBodHRwczovL3d3dy5kcm9wYm94LmNvbS9zL21zaWU3aHVjbnBia2Z5L3Rlc3QuUE5HP2RsPTAKZWRpdGVkICAgdXJsOiBodHRwczovL3d3dy5kcm9wYm94LmNvbS9zL21zaWU3aHVjbnBia2Z5L3Rlc3QuUE5HP2RsPTEKCnRoZW4gaW4gdGhlIHNlcnZlci5wcm9wZXJ0aWVzIGZpbGUgc2V0IHRoZSBzZXJ2ZXItcmVzb3VyY2UtcGFjayB0byB0aGUgZWRpdGVkIHVybAoKIyBZb3VyIHBsdWdpbiBpcyBub3cgcmVhZHkgdG8gZ28sIHJlc3RhcnQgdGhlIHNlcnZlciB0byBzdGFydCB1c2luZyBqZXh0",oa="data:image/gif;base64,R0lGODdhEAAQAHcAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCgAAACwAAAAAEAAQAIAAAAD///8CI4QfccuZDB2MarZq18sIc7B9oGc55PSEaKVSXUlK3Tma7XUXACH5BAkKAAAALAAAAAAQABAAgAAAAP///wIjhB8Zx6jfjGKTrgiSw1hz+zVeKF1kZp4jubIpaKWV+MydbRQAIfkECQoAAAAsAAAAABAAEACAAAAA////AiOEHxnHqN+MYpOuCJLDO1+uaZwjjl5peqm1St+KphU8yy9TAAAh+QQJCgAAACwAAAAAEAAQAIAAAAD///8CI4QfGceo34xik64IksM7X65pnCOOXjlCpsemFxqVcIeA630XACH5BAkKAAAALAAAAAAQABAAgAAAAP///wIihB8Zx6jfjGKTrgiSwztfrmmcI46eaaEdWrKf2YJxBLlRAQAh+QQJCgAAACwAAAAAEAAQAIAAAAD///8CIoQfGceo34xik64IEt56t+5ZoThKVwmGqXquzpdW8ONabgEAIfkECQoAAAAsAAAAABAAEACAAAAA////AiOEbxHIrNoieDLC6hY+dyftPWAlhktnaWjTrdw4oRQrzlLJFAAh+QQJCgAAACwAAAIAEAAOAIAAAAD///8CI4RjmajBep6DcAJL43054r59nSNmU9kw6CJxafWRJkmDoQsUADs=";function ei(t,e,r){const i=t.slice();return i[6]=e[r],i}function ti(t){let e,r=t[1],i=[];for(let n=0;n<r.length;n+=1)i[n]=ri(ei(t,r,n));return{c(){e=oe("div");for(let n=0;n<i.length;n+=1)i[n].c();B(e,"id","openmenu"),B(e,"class","svelte-14kdzrj")},m(n,s){he(n,e,s);for(let a=0;a<i.length;a+=1)i[a].m(e,null)},p(n,s){if(s&18){r=n[1];let a;for(a=0;a<r.length;a+=1){const o=ei(n,r,a);i[a]?i[a].p(o,s):(i[a]=ri(o),i[a].c(),i[a].m(e,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=r.length}},d(n){n&&de(e),Hr(i,n)}}}function ri(t){let e,r=t[6]+"",i,n,s;function a(){return t[5](t[6])}return{c(){e=oe("div"),i=ft(r),B(e,"class","selectopt svelte-14kdzrj")},m(o,c){he(o,e,c),ae(e,i),n||(s=[we(e,"click",a),we(e,"keydown",null)],n=!0)},p(o,c){t=o,c&2&&r!==(r=t[6]+"")&&Lt(i,r)},d(o){o&&de(e),n=!1,De(s)}}}function Eo(t){let e,r,i,n,s,a,o,c,l,m,h,y,u=t[2]&&ti(t);return{c(){u&&u.c(),e=Ee(),r=oe("div"),i=oe("div"),n=oe("div"),s=ft(t[0]),a=Ee(),o=oe("div"),c=oe("img"),B(n,"id","selectedoption"),B(n,"class","svelte-14kdzrj"),tt(c.src,l=vo)||B(c,"src",l),B(c,"alt","🢓"),B(c,"id","arrow"),B(c,"class",m=_t(t[2]?"active":"")+" svelte-14kdzrj"),B(o,"id","arrowcontainer"),B(o,"class","svelte-14kdzrj"),B(i,"id","row"),B(i,"class","svelte-14kdzrj"),B(r,"id","container"),B(r,"class","svelte-14kdzrj")},m(_,d){u&&u.m(_,d),he(_,e,d),he(_,r,d),ae(r,i),ae(i,n),ae(n,s),ae(i,a),ae(i,o),ae(o,c),h||(y=[we(o,"click",t[3]),we(o,"keydown",null)],h=!0)},p(_,[d]){_[2]?u?u.p(_,d):(u=ti(_),u.c(),u.m(e.parentNode,e)):u&&(u.d(1),u=null),d&1&&Lt(s,_[0]),d&4&&m!==(m=_t(_[2]?"active":"")+" svelte-14kdzrj")&&B(c,"class",m)},i:Se,o:Se,d(_){u&&u.d(_),_&&de(e),_&&de(r),h=!1,De(y)}}}function So(t,e,r){let{options:i}=e,{selected:n=i[0]}=e,s=!1;const a=()=>r(2,s=!s),o=l=>{r(0,n=l),r(2,s=!1)},c=l=>o(l);return t.$$set=l=>{"options"in l&&r(1,i=l.options),"selected"in l&&r(0,n=l.selected)},[n,i,s,a,o,c]}class Co extends It{constructor(e){super(),Ct(this,e,So,Eo,vt,{options:1,selected:0})}}function St(t,{delay:e=0,duration:r=400,easing:i=Qn}={}){const n=+getComputedStyle(t).opacity;return{delay:e,duration:r,easing:i,css:s=>`opacity: ${s*n}`}}function Io(t){return{c:Se,m:Se,p:Se,d:Se}}function Po(t){let e,r;return{c(){e=oe("img"),tt(e.src,r=t[6])||B(e,"src",r),B(e,"alt",t[1]),B(e,"class","svelte-72nmcc")},m(i,n){he(i,e,n)},p(i,n){n&2&&B(e,"alt",i[1])},d(i){i&&de(e)}}}function Oo(t){let e,r;return{c(){e=oe("img"),tt(e.src,r=oa)||B(e,"src",r),B(e,"alt",t[1]),B(e,"class","svelte-72nmcc")},m(i,n){he(i,e,n)},p(i,n){n&2&&B(e,"alt",i[1])},d(i){i&&de(e)}}}function Ro(t){let e,r,i,n,s,a,o,c,l={ctx:t,current:null,token:null,hasCatch:!1,pending:Oo,then:Po,catch:Io,value:6};return ea(t[3],l),{c(){e=oe("div"),l.block.c(),r=Ee(),i=oe("p"),n=ft(t[1]),B(e,"class",s=_t(t[0]?"selected":"")+" svelte-72nmcc")},m(m,h){he(m,e,h),l.block.m(e,l.anchor=null),l.mount=()=>e,l.anchor=r,ae(e,r),ae(e,i),ae(i,n),o||(c=[we(e,"click",function(){Jt(t[2])&&t[2].apply(this,arguments)}),we(e,"keydown",null)],o=!0)},p(m,[h]){t=m,ta(l,t,h),h&2&&Lt(n,t[1]),h&1&&s!==(s=_t(t[0]?"selected":"")+" svelte-72nmcc")&&B(e,"class",s)},i(m){a||dt(()=>{a=xn(e,St,{}),a.start()})},o:Se,d(m){m&&de(e),l.block.d(),l.token=null,l=null,o=!1,De(c)}}}function No(t,e,r){let{value:i=!1}=e,{image:n}=e,{name:s}=e,{onClick:a=()=>{}}=e;const c=(async l=>{const h=await(await fetch(l)).blob();return URL.createObjectURL(h)})(n);return t.$$set=l=>{"value"in l&&r(0,i=l.value),"image"in l&&r(4,n=l.image),"name"in l&&r(1,s=l.name),"onClick"in l&&r(2,a=l.onClick)},[i,s,a,c,n]}class la extends It{constructor(e){super(),Ct(this,e,No,Ro,vt,{value:0,image:4,name:1,onClick:2})}}const ni=new Map([[4,"1.14 - 1.14.4"],[5,"1.15 - 1.16.1"],[6,"1.16.2-1.16.5"],[7,"1.17 - 1.17.1"],[8,"1.18 - 1.18.2"],[9,"1.19 - 1.19.2"],[12,"1.19.3"]]),xr=[{source:"chests/ancient_city,chests/ancient_city_ice_box",img:"loottable_icons/Ancient_City.webp",name:"Ancient City",minVersion:9},{source:"chests/bastion_bridge,chests/bastion_hoglin_treasure,chests/bastion_other,chests/bastion_treasure",img:"loottable_icons/Bastion_Remnant.webp",name:"Bastion Remnant",minVersion:5},{source:"chests/desert_pyramid",img:"loottable_icons/Desert_pyramid.webp",name:"Desert Pyramid",minVersion:4},{source:"chests/simple_dungeon",img:"loottable_icons/Dungeon.webp",name:"Dungeon",minVersion:4},{source:"chests/end_city_treasure",img:"loottable_icons/End_City.webp",name:"End City",minVersion:4},{source:"chests/igloo_chest",img:"loottable_icons/Igloo.webp",name:"Igloo",minVersion:4},{source:"chests/jungle_temple",img:"loottable_icons/Jungle_pyramid.webp",name:"Jungle Temple",minVersion:4},{source:"chests/nether_bridge",img:"loottable_icons/Nether_Fortress.webp",name:"Nether Fortress",minVersion:4},{source:"chests/ruined_portal",img:"loottable_icons/Nether_portal.webp",name:"Ruined Portal",minVersion:5},{source:"chests/pillager_outpost",img:"loottable_icons/Pillager_outpost.webp",name:"Pillager Outpost",minVersion:4},{source:"chests/shipwreck_map,chests/shipwreck_supply,chests/shipwreck_treasure",img:"loottable_icons/Shipwreck.webp",name:"Shipwreck",minVersion:4},{source:"chests/stronghold_corridor,chests/stronghold_crossing",img:"loottable_icons/Stronghold.webp",name:"Stronghold",minVersion:4},{source:"chests/underwater_ruin_big,chests/underwater_ruin_small",img:"loottable_icons/Underwater_ruin.webp",name:"Underwater Ruins",minVersion:4},{source:"chests/village/village_plains_house,chests/village/village_savanna_house,chests/village/village_desert_house,chests/village/village_snowy_house,chests/village/village_taiga_house",img:"loottable_icons/Village.webp",name:"Village",minVersion:4},{source:"chests/woodland_mansion",img:"loottable_icons/Woodland_Mansion.webp",name:"Woodland Mansion",minVersion:4},{source:"chests/abandoned_mineshaft",img:"loottable_icons/Mineshaft.webp",name:"Mineshaft",minVersion:4}];function si(t,e,r){const i=t.slice();return i[6]=e[r],i}function ii(t){let e,r,i=`url(${An})`,n,s,a;return{c(){e=oe("div"),B(e,"class","popupbackground svelte-1l5tnjn"),gt(e,"background-image",i)},m(o,c){he(o,e,c),n=!0,s||(a=[we(e,"click",t[4]),we(e,"keydown",null)],s=!0)},p:Se,i(o){n||(dt(()=>{r||(r=Gt(e,St,{},!0)),r.run(1)}),n=!0)},o(o){r||(r=Gt(e,St,{},!1)),r.run(0),n=!1},d(o){o&&de(e),o&&r&&r.end(),s=!1,De(a)}}}function ai(t){let e,r,i,n,s,a,o,c=xr,l=[];for(let h=0;h<c.length;h+=1)l[h]=li(si(t,c,h));const m=h=>be(l[h],1,1,()=>{l[h]=null});return{c(){e=oe("div"),r=oe("div");for(let h=0;h<l.length;h+=1)l[h].c();i=Ee(),n=oe("div"),n.innerHTML='<div id="content" class="svelte-1l5tnjn"><p id="generate_text" class="noselect svelte-1l5tnjn">OK</p></div>',B(r,"class","popupcontainer svelte-1l5tnjn"),B(n,"id","messagepopupconfirm"),B(n,"class","popupconfirm svelte-1l5tnjn"),B(e,"class","popup svelte-1l5tnjn")},m(h,y){he(h,e,y),ae(e,r);for(let u=0;u<l.length;u+=1)l[u].m(r,null);ae(e,i),ae(e,n),s=!0,a||(o=[we(n,"click",t[4]),we(n,"keydown",null)],a=!0)},p(h,y){if(y&13){c=xr;let u;for(u=0;u<c.length;u+=1){const _=si(h,c,u);l[u]?(l[u].p(_,y),ce(l[u],1)):(l[u]=li(_),l[u].c(),ce(l[u],1),l[u].m(r,null))}for(nt(),u=c.length;u<l.length;u+=1)m(u);st()}},i(h){if(!s){for(let y=0;y<c.length;y+=1)ce(l[y]);s=!0}},o(h){l=l.filter(Boolean);for(let y=0;y<l.length;y+=1)be(l[y]);s=!1},d(h){h&&de(e),Hr(l,h),a=!1,De(o)}}}function oi(t){let e,r;function i(){return t[5](t[6])}return e=new la({props:{image:t[6].img,name:t[6].name,value:t[0].includes(t[6].source),onClick:i}}),{c(){qe(e.$$.fragment)},m(n,s){Ve(e,n,s),r=!0},p(n,s){t=n;const a={};s&1&&(a.value=t[0].includes(t[6].source)),e.$set(a)},i(n){r||(ce(e.$$.fragment,n),r=!0)},o(n){be(e.$$.fragment,n),r=!1},d(n){xe(e,n)}}}function li(t){let e,r,i=t[6].minVersion&&t[6].minVersion<=t[2]&&oi(t);return{c(){i&&i.c(),e=Ar()},m(n,s){i&&i.m(n,s),he(n,e,s),r=!0},p(n,s){n[6].minVersion&&n[6].minVersion<=n[2]?i?(i.p(n,s),s&4&&ce(i,1)):(i=oi(n),i.c(),ce(i,1),i.m(e.parentNode,e)):i&&(nt(),be(i,1,1,()=>{i=null}),st())},i(n){r||(ce(i),r=!0)},o(n){be(i),r=!1},d(n){i&&i.d(n),n&&de(e)}}}function To(t){let e,r,i,n=t[1]&&ii(t),s=t[1]&&ai(t);return{c(){n&&n.c(),e=Ee(),s&&s.c(),r=Ar()},m(a,o){n&&n.m(a,o),he(a,e,o),s&&s.m(a,o),he(a,r,o),i=!0},p(a,[o]){a[1]?n?(n.p(a,o),o&2&&ce(n,1)):(n=ii(a),n.c(),ce(n,1),n.m(e.parentNode,e)):n&&(nt(),be(n,1,1,()=>{n=null}),st()),a[1]?s?(s.p(a,o),o&2&&ce(s,1)):(s=ai(a),s.c(),ce(s,1),s.m(r.parentNode,r)):s&&(nt(),be(s,1,1,()=>{s=null}),st())},i(a){i||(ce(n),ce(s),i=!0)},o(a){be(n),be(s),i=!1},d(a){n&&n.d(a),a&&de(e),s&&s.d(a),a&&de(r)}}}function Do(t,e,r){let i;kr(t,br,l=>r(2,i=l));let{selectedDungeons:n=[]}=e,{active:s=!0}=e;const a=l=>{n.includes(l)?r(0,n=n.filter(m=>m!=l)):r(0,n=[...n,l])},o=()=>r(1,s=!1),c=l=>a(l.source);return t.$$set=l=>{"selectedDungeons"in l&&r(0,n=l.selectedDungeons),"active"in l&&r(1,s=l.active)},[n,s,i,a,o,c]}class jo extends It{constructor(e){super(),Ct(this,e,Do,To,vt,{selectedDungeons:0,active:1})}}function ci(t,e,r){const i=t.slice();return i[10]=e[r][0],i[11]=e[r][1],i}function zo(t){let e,r,i,n;return{c(){e=oe("img"),tt(e.src,r=es)||B(e,"src",r),B(e,"alt","pack icon"),B(e,"id","pack_icon"),B(e,"class","noselect svelte-iv83eq")},m(s,a){he(s,e,a),i||(n=[Qe(Dt.call(null,e)),Qe(yr.call(null,e,{accept:"image/png",cb:t[3]})),we(e,"keypress",null)],i=!0)},p:Se,d(s){s&&de(e),i=!1,De(n)}}}function ui(t){let e,r=t[11]+"",i;return{c(){e=oe("option"),i=ft(r),e.__value=t[10],e.value=e.__value},m(n,s){he(n,e,s),ae(e,i)},p:Se,d(n){n&&de(e)}}}function Uo(t){let e,r,i;return{c(){e=oe("input"),B(e,"type","button"),B(e,"name","import"),B(e,"id","pack_import"),e.value="import",B(e,"class","svelte-iv83eq")},m(n,s){he(n,e,s),r||(i=we(e,"click",t[9]),r=!0)},p:Se,d(n){n&&de(e),r=!1,i()}}}function Fo(t){let e,r,i,n,s,a,o,c,l,m,h,y,u,_,d;function p($){t[6]($)}let f={};t[1]!==void 0&&(f.active=t[1]),e=new Mf({props:f}),ut.push(()=>kt(e,"active",p)),s=new wt({props:{text:"Sets the resourcepack icon",$$slots:{default:[zo]},$$scope:{ctx:t}}});let v=[...ni],w=[];for(let $=0;$<v.length;$+=1)w[$]=ui(ci(t,v,$));return y=new wt({props:{text:"Import an existing resourcepack",right:!1,$$slots:{default:[Uo]},$$scope:{ctx:t}}}),{c(){qe(e.$$.fragment),i=Ee(),n=oe("div"),qe(s.$$.fragment),a=Ee(),o=oe("input"),c=Ee(),l=oe("select");for(let $=0;$<w.length;$+=1)w[$].c();m=Ee(),h=oe("div"),qe(y.$$.fragment),B(o,"type","text"),B(o,"name","pack_name"),B(o,"id","pack_name_input"),B(o,"class","svelte-iv83eq"),B(l,"name","version"),B(l,"id","version_input"),B(l,"class","svelte-iv83eq"),t[2]===void 0&&dt(()=>t[8].call(l)),B(h,"id","import_container"),B(h,"class","svelte-iv83eq"),B(n,"id","header"),B(n,"class","svelte-iv83eq")},m($,A){Ve(e,$,A),he($,i,A),he($,n,A),Ve(s,n,null),ae(n,a),ae(n,o),Wt(o,t[0]),ae(n,c),ae(n,l);for(let I=0;I<w.length;I+=1)w[I].m(l,null);Gs(l,t[2]),ae(n,m),ae(n,h),Ve(y,h,null),u=!0,_||(d=[we(o,"input",t[7]),we(o,"input",t[4]),we(l,"change",t[8])],_=!0)},p($,[A]){const I={};!r&&A&2&&(r=!0,I.active=$[1],$t(()=>r=!1)),e.$set(I);const S={};if(A&16384&&(S.$$scope={dirty:A,ctx:$}),s.$set(S),A&1&&o.value!==$[0]&&Wt(o,$[0]),A&0){v=[...ni];let z;for(z=0;z<v.length;z+=1){const L=ci($,v,z);w[z]?w[z].p(L,A):(w[z]=ui(L),w[z].c(),w[z].m(l,null))}for(;z<w.length;z+=1)w[z].d(1);w.length=v.length}A&4&&Gs(l,$[2]);const j={};A&16386&&(j.$$scope={dirty:A,ctx:$}),y.$set(j)},i($){u||(ce(e.$$.fragment,$),ce(s.$$.fragment,$),ce(y.$$.fragment,$),u=!0)},o($){be(e.$$.fragment,$),be(s.$$.fragment,$),be(y.$$.fragment,$),u=!1},d($){xe(e,$),$&&de(i),$&&de(n),xe(s),Hr(w,$),xe(y),_=!1,De(d)}}}function Bo(t,e,r){let i;kr(t,br,u=>r(2,i=u));let{packname:n="your_pack_name"}=e,{imagesrc:s=es}=e,a=!1;const o=u=>{if(!u||u.length===0)return;const _=u[0],d=new FileReader;d.onload=()=>{const p=new Image;p.onload=()=>{const f=document.createElement("canvas");f.width=64,f.height=64,f.getContext("2d").drawImage(p,0,0,64,64),r(5,s=f.toDataURL("image/png"))},p.src=d.result},d.readAsDataURL(_)},c=()=>{r(0,n=n.replace(" ","_").replace(/[^a-zA-Z0-9_]/g,"").toLowerCase())};function l(u){a=u,r(1,a)}function m(){n=this.value,r(0,n)}function h(){i=ro(this),br.set(i)}const y=()=>r(1,a=!0);return t.$$set=u=>{"packname"in u&&r(0,n=u.packname),"imagesrc"in u&&r(5,s=u.imagesrc)},[n,a,i,o,c,s,l,m,h,y]}class Mo extends It{constructor(e){super(),Ct(this,e,Bo,Fo,vt,{packname:0,imagesrc:5})}}var Tr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Lo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function rn(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Kn={},Vo={get exports(){return Kn},set exports(t){Kn=t}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(r){t.exports=r()})(function(){return function r(i,n,s){function a(l,m){if(!n[l]){if(!i[l]){var h=typeof rn=="function"&&rn;if(!m&&h)return h(l,!0);if(o)return o(l,!0);var y=new Error("Cannot find module '"+l+"'");throw y.code="MODULE_NOT_FOUND",y}var u=n[l]={exports:{}};i[l][0].call(u.exports,function(_){var d=i[l][1][_];return a(d||_)},u,u.exports,r,i,n,s)}return n[l].exports}for(var o=typeof rn=="function"&&rn,c=0;c<s.length;c++)a(s[c]);return a}({1:[function(r,i,n){var s=r("./utils"),a=r("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(c){for(var l,m,h,y,u,_,d,p=[],f=0,v=c.length,w=v,$=s.getTypeOf(c)!=="string";f<c.length;)w=v-f,h=$?(l=c[f++],m=f<v?c[f++]:0,f<v?c[f++]:0):(l=c.charCodeAt(f++),m=f<v?c.charCodeAt(f++):0,f<v?c.charCodeAt(f++):0),y=l>>2,u=(3&l)<<4|m>>4,_=1<w?(15&m)<<2|h>>6:64,d=2<w?63&h:64,p.push(o.charAt(y)+o.charAt(u)+o.charAt(_)+o.charAt(d));return p.join("")},n.decode=function(c){var l,m,h,y,u,_,d=0,p=0,f="data:";if(c.substr(0,f.length)===f)throw new Error("Invalid base64 input, it looks like a data url.");var v,w=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===o.charAt(64)&&w--,c.charAt(c.length-2)===o.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=a.uint8array?new Uint8Array(0|w):new Array(0|w);d<c.length;)l=o.indexOf(c.charAt(d++))<<2|(y=o.indexOf(c.charAt(d++)))>>4,m=(15&y)<<4|(u=o.indexOf(c.charAt(d++)))>>2,h=(3&u)<<6|(_=o.indexOf(c.charAt(d++))),v[p++]=l,u!==64&&(v[p++]=m),_!==64&&(v[p++]=h);return v}},{"./support":30,"./utils":32}],2:[function(r,i,n){var s=r("./external"),a=r("./stream/DataWorker"),o=r("./stream/Crc32Probe"),c=r("./stream/DataLengthProbe");function l(m,h,y,u,_){this.compressedSize=m,this.uncompressedSize=h,this.crc32=y,this.compression=u,this.compressedContent=_}l.prototype={getContentWorker:function(){var m=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),h=this;return m.on("end",function(){if(this.streamInfo.data_length!==h.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},l.createWorkerFrom=function(m,h,y){return m.pipe(new o).pipe(new c("uncompressedSize")).pipe(h.compressWorker(y)).pipe(new c("compressedSize")).withStreamInfo("compression",h)},i.exports=l},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,i,n){var s=r("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},n.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,i,n){var s=r("./utils"),a=function(){for(var o,c=[],l=0;l<256;l++){o=l;for(var m=0;m<8;m++)o=1&o?3988292384^o>>>1:o>>>1;c[l]=o}return c}();i.exports=function(o,c){return o!==void 0&&o.length?s.getTypeOf(o)!=="string"?function(l,m,h,y){var u=a,_=y+h;l^=-1;for(var d=y;d<_;d++)l=l>>>8^u[255&(l^m[d])];return-1^l}(0|c,o,o.length,0):function(l,m,h,y){var u=a,_=y+h;l^=-1;for(var d=y;d<_;d++)l=l>>>8^u[255&(l^m.charCodeAt(d))];return-1^l}(0|c,o,o.length,0):0}},{"./utils":32}],5:[function(r,i,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(r,i,n){var s=null;s=typeof Promise<"u"?Promise:r("lie"),i.exports={Promise:s}},{lie:37}],7:[function(r,i,n){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=r("pako"),o=r("./utils"),c=r("./stream/GenericWorker"),l=s?"uint8array":"array";function m(h,y){c.call(this,"FlateWorker/"+h),this._pako=null,this._pakoAction=h,this._pakoOptions=y,this.meta={}}n.magic="\b\0",o.inherits(m,c),m.prototype.processChunk=function(h){this.meta=h.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(l,h.data),!1)},m.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var h=this;this._pako.onData=function(y){h.push({data:y,meta:h.meta})}},n.compressWorker=function(h){return new m("Deflate",h)},n.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,i,n){function s(u,_){var d,p="";for(d=0;d<_;d++)p+=String.fromCharCode(255&u),u>>>=8;return p}function a(u,_,d,p,f,v){var w,$,A=u.file,I=u.compression,S=v!==l.utf8encode,j=o.transformTo("string",v(A.name)),z=o.transformTo("string",l.utf8encode(A.name)),L=A.comment,ne=o.transformTo("string",v(L)),T=o.transformTo("string",l.utf8encode(L)),q=z.length!==A.name.length,b=T.length!==L.length,J="",me="",X="",fe=A.dir,H=A.date,x={crc32:0,compressedSize:0,uncompressedSize:0};_&&!d||(x.crc32=u.crc32,x.compressedSize=u.compressedSize,x.uncompressedSize=u.uncompressedSize);var E=0;_&&(E|=8),S||!q&&!b||(E|=2048);var R=0,F=0;fe&&(R|=16),f==="UNIX"?(F=798,R|=function(C,K){var se=C;return C||(se=K?16893:33204),(65535&se)<<16}(A.unixPermissions,fe)):(F=20,R|=function(C){return 63&(C||0)}(A.dosPermissions)),w=H.getUTCHours(),w<<=6,w|=H.getUTCMinutes(),w<<=5,w|=H.getUTCSeconds()/2,$=H.getUTCFullYear()-1980,$<<=4,$|=H.getUTCMonth()+1,$<<=5,$|=H.getUTCDate(),q&&(me=s(1,1)+s(m(j),4)+z,J+="up"+s(me.length,2)+me),b&&(X=s(1,1)+s(m(ne),4)+T,J+="uc"+s(X.length,2)+X);var k="";return k+=`
\0`,k+=s(E,2),k+=I.magic,k+=s(w,2),k+=s($,2),k+=s(x.crc32,4),k+=s(x.compressedSize,4),k+=s(x.uncompressedSize,4),k+=s(j.length,2),k+=s(J.length,2),{fileRecord:h.LOCAL_FILE_HEADER+k+j+J,dirRecord:h.CENTRAL_FILE_HEADER+s(F,2)+k+s(ne.length,2)+"\0\0\0\0"+s(R,4)+s(p,4)+j+J+ne}}var o=r("../utils"),c=r("../stream/GenericWorker"),l=r("../utf8"),m=r("../crc32"),h=r("../signature");function y(u,_,d,p){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=_,this.zipPlatform=d,this.encodeFileName=p,this.streamFiles=u,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(y,c),y.prototype.push=function(u){var _=u.meta.percent||0,d=this.entriesCount,p=this._sources.length;this.accumulate?this.contentBuffer.push(u):(this.bytesWritten+=u.data.length,c.prototype.push.call(this,{data:u.data,meta:{currentFile:this.currentFile,percent:d?(_+100*(d-p-1))/d:100}}))},y.prototype.openedSource=function(u){this.currentSourceOffset=this.bytesWritten,this.currentFile=u.file.name;var _=this.streamFiles&&!u.file.dir;if(_){var d=a(u,_,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:d.fileRecord,meta:{percent:0}})}else this.accumulate=!0},y.prototype.closedSource=function(u){this.accumulate=!1;var _=this.streamFiles&&!u.file.dir,d=a(u,_,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(d.dirRecord),_)this.push({data:function(p){return h.DATA_DESCRIPTOR+s(p.crc32,4)+s(p.compressedSize,4)+s(p.uncompressedSize,4)}(u),meta:{percent:100}});else for(this.push({data:d.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},y.prototype.flush=function(){for(var u=this.bytesWritten,_=0;_<this.dirRecords.length;_++)this.push({data:this.dirRecords[_],meta:{percent:100}});var d=this.bytesWritten-u,p=function(f,v,w,$,A){var I=o.transformTo("string",A($));return h.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(f,2)+s(f,2)+s(v,4)+s(w,4)+s(I.length,2)+I}(this.dirRecords.length,d,u,this.zipComment,this.encodeFileName);this.push({data:p,meta:{percent:100}})},y.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},y.prototype.registerPrevious=function(u){this._sources.push(u);var _=this;return u.on("data",function(d){_.processChunk(d)}),u.on("end",function(){_.closedSource(_.previous.streamInfo),_._sources.length?_.prepareNextSource():_.end()}),u.on("error",function(d){_.error(d)}),this},y.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},y.prototype.error=function(u){var _=this._sources;if(!c.prototype.error.call(this,u))return!1;for(var d=0;d<_.length;d++)try{_[d].error(u)}catch{}return!0},y.prototype.lock=function(){c.prototype.lock.call(this);for(var u=this._sources,_=0;_<u.length;_++)u[_].lock()},i.exports=y},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,i,n){var s=r("../compressions"),a=r("./ZipFileWorker");n.generateWorker=function(o,c,l){var m=new a(c.streamFiles,l,c.platform,c.encodeFileName),h=0;try{o.forEach(function(y,u){h++;var _=function(v,w){var $=v||w,A=s[$];if(!A)throw new Error($+" is not a valid compression method !");return A}(u.options.compression,c.compression),d=u.options.compressionOptions||c.compressionOptions||{},p=u.dir,f=u.date;u._compressWorker(_,d).withStreamInfo("file",{name:y,dir:p,date:f,comment:u.comment||"",unixPermissions:u.unixPermissions,dosPermissions:u.dosPermissions}).pipe(m)}),m.entriesCount=h}catch(y){m.error(y)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,i,n){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(s.prototype=r("./object")).loadAsync=r("./load"),s.support=r("./support"),s.defaults=r("./defaults"),s.version="3.10.1",s.loadAsync=function(a,o){return new s().loadAsync(a,o)},s.external=r("./external"),i.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,i,n){var s=r("./utils"),a=r("./external"),o=r("./utf8"),c=r("./zipEntries"),l=r("./stream/Crc32Probe"),m=r("./nodejsUtils");function h(y){return new a.Promise(function(u,_){var d=y.decompressed.getContentWorker().pipe(new l);d.on("error",function(p){_(p)}).on("end",function(){d.streamInfo.crc32!==y.decompressed.crc32?_(new Error("Corrupted zip : CRC32 mismatch")):u()}).resume()})}i.exports=function(y,u){var _=this;return u=s.extend(u||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),m.isNode&&m.isStream(y)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",y,!0,u.optimizedBinaryString,u.base64).then(function(d){var p=new c(u);return p.load(d),p}).then(function(d){var p=[a.Promise.resolve(d)],f=d.files;if(u.checkCRC32)for(var v=0;v<f.length;v++)p.push(h(f[v]));return a.Promise.all(p)}).then(function(d){for(var p=d.shift(),f=p.files,v=0;v<f.length;v++){var w=f[v],$=w.fileNameStr,A=s.resolve(w.fileNameStr);_.file(A,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:u.createFolders}),w.dir||(_.file(A).unsafeOriginalName=$)}return p.zipComment.length&&(_.comment=p.zipComment),_})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,i,n){var s=r("../utils"),a=r("../stream/GenericWorker");function o(c,l){a.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(l)}s.inherits(o,a),o.prototype._bindStream=function(c){var l=this;(this._stream=c).pause(),c.on("data",function(m){l.push({data:m,meta:{percent:0}})}).on("error",function(m){l.isPaused?this.generatedError=m:l.error(m)}).on("end",function(){l.isPaused?l._upstreamEnded=!0:l.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,i,n){var s=r("readable-stream").Readable;function a(o,c,l){s.call(this,c),this._helper=o;var m=this;o.on("data",function(h,y){m.push(h)||m._helper.pause(),l&&l(y)}).on("error",function(h){m.emit("error",h)}).on("end",function(){m.push(null)})}r("../utils").inherits(a,s),a.prototype._read=function(){this._helper.resume()},i.exports=a},{"../utils":32,"readable-stream":16}],14:[function(r,i,n){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(r,i,n){function s(A,I,S){var j,z=o.getTypeOf(I),L=o.extend(S||{},m);L.date=L.date||new Date,L.compression!==null&&(L.compression=L.compression.toUpperCase()),typeof L.unixPermissions=="string"&&(L.unixPermissions=parseInt(L.unixPermissions,8)),L.unixPermissions&&16384&L.unixPermissions&&(L.dir=!0),L.dosPermissions&&16&L.dosPermissions&&(L.dir=!0),L.dir&&(A=f(A)),L.createFolders&&(j=p(A))&&v.call(this,j,!0);var ne=z==="string"&&L.binary===!1&&L.base64===!1;S&&S.binary!==void 0||(L.binary=!ne),(I instanceof h&&I.uncompressedSize===0||L.dir||!I||I.length===0)&&(L.base64=!1,L.binary=!0,I="",L.compression="STORE",z="string");var T=null;T=I instanceof h||I instanceof c?I:_.isNode&&_.isStream(I)?new d(A,I):o.prepareContent(A,I,L.binary,L.optimizedBinaryString,L.base64);var q=new y(A,T,L);this.files[A]=q}var a=r("./utf8"),o=r("./utils"),c=r("./stream/GenericWorker"),l=r("./stream/StreamHelper"),m=r("./defaults"),h=r("./compressedObject"),y=r("./zipObject"),u=r("./generate"),_=r("./nodejsUtils"),d=r("./nodejs/NodejsStreamInputAdapter"),p=function(A){A.slice(-1)==="/"&&(A=A.substring(0,A.length-1));var I=A.lastIndexOf("/");return 0<I?A.substring(0,I):""},f=function(A){return A.slice(-1)!=="/"&&(A+="/"),A},v=function(A,I){return I=I!==void 0?I:m.createFolders,A=f(A),this.files[A]||s.call(this,A,null,{dir:!0,createFolders:I}),this.files[A]};function w(A){return Object.prototype.toString.call(A)==="[object RegExp]"}var $={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(A){var I,S,j;for(I in this.files)j=this.files[I],(S=I.slice(this.root.length,I.length))&&I.slice(0,this.root.length)===this.root&&A(S,j)},filter:function(A){var I=[];return this.forEach(function(S,j){A(S,j)&&I.push(j)}),I},file:function(A,I,S){if(arguments.length!==1)return A=this.root+A,s.call(this,A,I,S),this;if(w(A)){var j=A;return this.filter(function(L,ne){return!ne.dir&&j.test(L)})}var z=this.files[this.root+A];return z&&!z.dir?z:null},folder:function(A){if(!A)return this;if(w(A))return this.filter(function(z,L){return L.dir&&A.test(z)});var I=this.root+A,S=v.call(this,I),j=this.clone();return j.root=S.name,j},remove:function(A){A=this.root+A;var I=this.files[A];if(I||(A.slice(-1)!=="/"&&(A+="/"),I=this.files[A]),I&&!I.dir)delete this.files[A];else for(var S=this.filter(function(z,L){return L.name.slice(0,A.length)===A}),j=0;j<S.length;j++)delete this.files[S[j].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(A){var I,S={};try{if((S=o.extend(A||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=S.type.toLowerCase(),S.compression=S.compression.toUpperCase(),S.type==="binarystring"&&(S.type="string"),!S.type)throw new Error("No output type specified.");o.checkSupport(S.type),S.platform!=="darwin"&&S.platform!=="freebsd"&&S.platform!=="linux"&&S.platform!=="sunos"||(S.platform="UNIX"),S.platform==="win32"&&(S.platform="DOS");var j=S.comment||this.comment||"";I=u.generateWorker(this,S,j)}catch(z){(I=new c("error")).error(z)}return new l(I,S.type||"string",S.mimeType)},generateAsync:function(A,I){return this.generateInternalStream(A).accumulate(I)},generateNodeStream:function(A,I){return(A=A||{}).type||(A.type="nodebuffer"),this.generateInternalStream(A).toNodejsStream(I)}};i.exports=$},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,i,n){i.exports=r("stream")},{stream:void 0}],17:[function(r,i,n){var s=r("./DataReader");function a(o){s.call(this,o);for(var c=0;c<this.data.length;c++)o[c]=255&o[c]}r("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var c=o.charCodeAt(0),l=o.charCodeAt(1),m=o.charCodeAt(2),h=o.charCodeAt(3),y=this.length-4;0<=y;--y)if(this.data[y]===c&&this.data[y+1]===l&&this.data[y+2]===m&&this.data[y+3]===h)return y-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var c=o.charCodeAt(0),l=o.charCodeAt(1),m=o.charCodeAt(2),h=o.charCodeAt(3),y=this.readData(4);return c===y[0]&&l===y[1]&&m===y[2]&&h===y[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},i.exports=a},{"../utils":32,"./DataReader":18}],18:[function(r,i,n){var s=r("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var c,l=0;for(this.checkOffset(o),c=this.index+o-1;c>=this.index;c--)l=(l<<8)+this.byteAt(c);return this.index+=o,l},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},i.exports=a},{"../utils":32}],19:[function(r,i,n){var s=r("./Uint8ArrayReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},i.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,i,n){var s=r("./DataReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},i.exports=a},{"../utils":32,"./DataReader":18}],21:[function(r,i,n){var s=r("./ArrayReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},i.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(r,i,n){var s=r("../utils"),a=r("../support"),o=r("./ArrayReader"),c=r("./StringReader"),l=r("./NodeBufferReader"),m=r("./Uint8ArrayReader");i.exports=function(h){var y=s.getTypeOf(h);return s.checkSupport(y),y!=="string"||a.uint8array?y==="nodebuffer"?new l(h):a.uint8array?new m(s.transformTo("uint8array",h)):new o(s.transformTo("array",h)):new c(h)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,i,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,i,n){var s=r("./GenericWorker"),a=r("../utils");function o(c){s.call(this,"ConvertWorker to "+c),this.destType=c}a.inherits(o,s),o.prototype.processChunk=function(c){this.push({data:a.transformTo(this.destType,c.data),meta:c.meta})},i.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(r,i,n){var s=r("./GenericWorker"),a=r("../crc32");function o(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(o,s),o.prototype.processChunk=function(c){this.streamInfo.crc32=a(c.data,this.streamInfo.crc32||0),this.push(c)},i.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,i,n){var s=r("../utils"),a=r("./GenericWorker");function o(c){a.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}s.inherits(o,a),o.prototype.processChunk=function(c){if(c){var l=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=l+c.data.length}a.prototype.processChunk.call(this,c)},i.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(r,i,n){var s=r("../utils"),a=r("./GenericWorker");function o(c){a.call(this,"DataWorker");var l=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(m){l.dataIsReady=!0,l.data=m,l.max=m&&m.length||0,l.type=s.getTypeOf(m),l.isPaused||l._tickAndRepeat()},function(m){l.error(m)})}s.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,l=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,l);break;case"uint8array":c=this.data.subarray(this.index,l);break;case"array":case"nodebuffer":c=this.data.slice(this.index,l)}return this.index=l,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(r,i,n){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var c=0;c<this._listeners[a].length;c++)this._listeners[a][c].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(c){o.processChunk(c)}),a.on("end",function(){o.end()}),a.on("error",function(c){o.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},i.exports=s},{}],29:[function(r,i,n){var s=r("../utils"),a=r("./ConvertWorker"),o=r("./GenericWorker"),c=r("../base64"),l=r("../support"),m=r("../external"),h=null;if(l.nodestream)try{h=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function y(_,d){return new m.Promise(function(p,f){var v=[],w=_._internalType,$=_._outputType,A=_._mimeType;_.on("data",function(I,S){v.push(I),d&&d(S)}).on("error",function(I){v=[],f(I)}).on("end",function(){try{var I=function(S,j,z){switch(S){case"blob":return s.newBlob(s.transformTo("arraybuffer",j),z);case"base64":return c.encode(j);default:return s.transformTo(S,j)}}($,function(S,j){var z,L=0,ne=null,T=0;for(z=0;z<j.length;z++)T+=j[z].length;switch(S){case"string":return j.join("");case"array":return Array.prototype.concat.apply([],j);case"uint8array":for(ne=new Uint8Array(T),z=0;z<j.length;z++)ne.set(j[z],L),L+=j[z].length;return ne;case"nodebuffer":return Buffer.concat(j);default:throw new Error("concat : unsupported type '"+S+"'")}}(w,v),A);p(I)}catch(S){f(S)}v=[]}).resume()})}function u(_,d,p){var f=d;switch(d){case"blob":case"arraybuffer":f="uint8array";break;case"base64":f="string"}try{this._internalType=f,this._outputType=d,this._mimeType=p,s.checkSupport(f),this._worker=_.pipe(new a(f)),_.lock()}catch(v){this._worker=new o("error"),this._worker.error(v)}}u.prototype={accumulate:function(_){return y(this,_)},on:function(_,d){var p=this;return _==="data"?this._worker.on(_,function(f){d.call(p,f.data,f.meta)}):this._worker.on(_,function(){s.delay(d,arguments,p)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(_){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new h(this,{objectMode:this._outputType!=="nodebuffer"},_)}},i.exports=u},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,i,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",n.nodebuffer=typeof Buffer<"u",n.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")n.blob=!1;else{var s=new ArrayBuffer(0);try{n.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(s),n.blob=a.getBlob("application/zip").size===0}catch{n.blob=!1}}}try{n.nodestream=!!r("readable-stream").Readable}catch{n.nodestream=!1}},{"readable-stream":16}],31:[function(r,i,n){for(var s=r("./utils"),a=r("./support"),o=r("./nodejsUtils"),c=r("./stream/GenericWorker"),l=new Array(256),m=0;m<256;m++)l[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;l[254]=l[254]=1;function h(){c.call(this,"utf-8 decode"),this.leftOver=null}function y(){c.call(this,"utf-8 encode")}n.utf8encode=function(u){return a.nodebuffer?o.newBufferFrom(u,"utf-8"):function(_){var d,p,f,v,w,$=_.length,A=0;for(v=0;v<$;v++)(64512&(p=_.charCodeAt(v)))==55296&&v+1<$&&(64512&(f=_.charCodeAt(v+1)))==56320&&(p=65536+(p-55296<<10)+(f-56320),v++),A+=p<128?1:p<2048?2:p<65536?3:4;for(d=a.uint8array?new Uint8Array(A):new Array(A),v=w=0;w<A;v++)(64512&(p=_.charCodeAt(v)))==55296&&v+1<$&&(64512&(f=_.charCodeAt(v+1)))==56320&&(p=65536+(p-55296<<10)+(f-56320),v++),p<128?d[w++]=p:(p<2048?d[w++]=192|p>>>6:(p<65536?d[w++]=224|p>>>12:(d[w++]=240|p>>>18,d[w++]=128|p>>>12&63),d[w++]=128|p>>>6&63),d[w++]=128|63&p);return d}(u)},n.utf8decode=function(u){return a.nodebuffer?s.transformTo("nodebuffer",u).toString("utf-8"):function(_){var d,p,f,v,w=_.length,$=new Array(2*w);for(d=p=0;d<w;)if((f=_[d++])<128)$[p++]=f;else if(4<(v=l[f]))$[p++]=65533,d+=v-1;else{for(f&=v===2?31:v===3?15:7;1<v&&d<w;)f=f<<6|63&_[d++],v--;1<v?$[p++]=65533:f<65536?$[p++]=f:(f-=65536,$[p++]=55296|f>>10&1023,$[p++]=56320|1023&f)}return $.length!==p&&($.subarray?$=$.subarray(0,p):$.length=p),s.applyFromCharCode($)}(u=s.transformTo(a.uint8array?"uint8array":"array",u))},s.inherits(h,c),h.prototype.processChunk=function(u){var _=s.transformTo(a.uint8array?"uint8array":"array",u.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var d=_;(_=new Uint8Array(d.length+this.leftOver.length)).set(this.leftOver,0),_.set(d,this.leftOver.length)}else _=this.leftOver.concat(_);this.leftOver=null}var p=function(v,w){var $;for((w=w||v.length)>v.length&&(w=v.length),$=w-1;0<=$&&(192&v[$])==128;)$--;return $<0||$===0?w:$+l[v[$]]>w?$:w}(_),f=_;p!==_.length&&(a.uint8array?(f=_.subarray(0,p),this.leftOver=_.subarray(p,_.length)):(f=_.slice(0,p),this.leftOver=_.slice(p,_.length))),this.push({data:n.utf8decode(f),meta:u.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=h,s.inherits(y,c),y.prototype.processChunk=function(u){this.push({data:n.utf8encode(u.data),meta:u.meta})},n.Utf8EncodeWorker=y},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,i,n){var s=r("./support"),a=r("./base64"),o=r("./nodejsUtils"),c=r("./external");function l(d){return d}function m(d,p){for(var f=0;f<d.length;++f)p[f]=255&d.charCodeAt(f);return p}r("setimmediate"),n.newBlob=function(d,p){n.checkSupport("blob");try{return new Blob([d],{type:p})}catch{try{var f=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return f.append(d),f.getBlob(p)}catch{throw new Error("Bug : can't construct the Blob.")}}};var h={stringifyByChunk:function(d,p,f){var v=[],w=0,$=d.length;if($<=f)return String.fromCharCode.apply(null,d);for(;w<$;)p==="array"||p==="nodebuffer"?v.push(String.fromCharCode.apply(null,d.slice(w,Math.min(w+f,$)))):v.push(String.fromCharCode.apply(null,d.subarray(w,Math.min(w+f,$)))),w+=f;return v.join("")},stringifyByChar:function(d){for(var p="",f=0;f<d.length;f++)p+=String.fromCharCode(d[f]);return p},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function y(d){var p=65536,f=n.getTypeOf(d),v=!0;if(f==="uint8array"?v=h.applyCanBeUsed.uint8array:f==="nodebuffer"&&(v=h.applyCanBeUsed.nodebuffer),v)for(;1<p;)try{return h.stringifyByChunk(d,f,p)}catch{p=Math.floor(p/2)}return h.stringifyByChar(d)}function u(d,p){for(var f=0;f<d.length;f++)p[f]=d[f];return p}n.applyFromCharCode=y;var _={};_.string={string:l,array:function(d){return m(d,new Array(d.length))},arraybuffer:function(d){return _.string.uint8array(d).buffer},uint8array:function(d){return m(d,new Uint8Array(d.length))},nodebuffer:function(d){return m(d,o.allocBuffer(d.length))}},_.array={string:y,array:l,arraybuffer:function(d){return new Uint8Array(d).buffer},uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return o.newBufferFrom(d)}},_.arraybuffer={string:function(d){return y(new Uint8Array(d))},array:function(d){return u(new Uint8Array(d),new Array(d.byteLength))},arraybuffer:l,uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return o.newBufferFrom(new Uint8Array(d))}},_.uint8array={string:y,array:function(d){return u(d,new Array(d.length))},arraybuffer:function(d){return d.buffer},uint8array:l,nodebuffer:function(d){return o.newBufferFrom(d)}},_.nodebuffer={string:y,array:function(d){return u(d,new Array(d.length))},arraybuffer:function(d){return _.nodebuffer.uint8array(d).buffer},uint8array:function(d){return u(d,new Uint8Array(d.length))},nodebuffer:l},n.transformTo=function(d,p){if(p=p||"",!d)return p;n.checkSupport(d);var f=n.getTypeOf(p);return _[f][d](p)},n.resolve=function(d){for(var p=d.split("/"),f=[],v=0;v<p.length;v++){var w=p[v];w==="."||w===""&&v!==0&&v!==p.length-1||(w===".."?f.pop():f.push(w))}return f.join("/")},n.getTypeOf=function(d){return typeof d=="string"?"string":Object.prototype.toString.call(d)==="[object Array]"?"array":s.nodebuffer&&o.isBuffer(d)?"nodebuffer":s.uint8array&&d instanceof Uint8Array?"uint8array":s.arraybuffer&&d instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(d){if(!s[d.toLowerCase()])throw new Error(d+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(d){var p,f,v="";for(f=0;f<(d||"").length;f++)v+="\\x"+((p=d.charCodeAt(f))<16?"0":"")+p.toString(16).toUpperCase();return v},n.delay=function(d,p,f){setImmediate(function(){d.apply(f||null,p||[])})},n.inherits=function(d,p){function f(){}f.prototype=p.prototype,d.prototype=new f},n.extend=function(){var d,p,f={};for(d=0;d<arguments.length;d++)for(p in arguments[d])Object.prototype.hasOwnProperty.call(arguments[d],p)&&f[p]===void 0&&(f[p]=arguments[d][p]);return f},n.prepareContent=function(d,p,f,v,w){return c.Promise.resolve(p).then(function($){return s.blob&&($ instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call($))!==-1)&&typeof FileReader<"u"?new c.Promise(function(A,I){var S=new FileReader;S.onload=function(j){A(j.target.result)},S.onerror=function(j){I(j.target.error)},S.readAsArrayBuffer($)}):$}).then(function($){var A=n.getTypeOf($);return A?(A==="arraybuffer"?$=n.transformTo("uint8array",$):A==="string"&&(w?$=a.decode($):f&&v!==!0&&($=function(I){return m(I,s.uint8array?new Uint8Array(I.length):new Array(I.length))}($))),$):c.Promise.reject(new Error("Can't read the data of '"+d+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,i,n){var s=r("./reader/readerFor"),a=r("./utils"),o=r("./signature"),c=r("./zipEntry"),l=r("./support");function m(h){this.files=[],this.loadOptions=h}m.prototype={checkSignature:function(h){if(!this.reader.readAndCheckSignature(h)){this.reader.index-=4;var y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(y)+", expected "+a.pretty(h)+")")}},isSignature:function(h,y){var u=this.reader.index;this.reader.setIndex(h);var _=this.reader.readString(4)===y;return this.reader.setIndex(u),_},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var h=this.reader.readData(this.zipCommentLength),y=l.uint8array?"uint8array":"array",u=a.transformTo(y,h);this.zipComment=this.loadOptions.decodeFileName(u)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var h,y,u,_=this.zip64EndOfCentralSize-44;0<_;)h=this.reader.readInt(2),y=this.reader.readInt(4),u=this.reader.readData(y),this.zip64ExtensibleData[h]={id:h,length:y,value:u}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var h,y;for(h=0;h<this.files.length;h++)y=this.files[h],this.reader.setIndex(y.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),y.readLocalPart(this.reader),y.handleUTF8(),y.processAttributes()},readCentralDir:function(){var h;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(h=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(h);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var h=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(h<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(h);var y=h;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(h=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(h),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var u=this.centralDirOffset+this.centralDirSize;this.zip64&&(u+=20,u+=12+this.zip64EndOfCentralSize);var _=y-u;if(0<_)this.isSignature(y,o.CENTRAL_FILE_HEADER)||(this.reader.zero=_);else if(_<0)throw new Error("Corrupted zip: missing "+Math.abs(_)+" bytes.")},prepareReader:function(h){this.reader=s(h)},load:function(h){this.prepareReader(h),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,i,n){var s=r("./reader/readerFor"),a=r("./utils"),o=r("./compressedObject"),c=r("./crc32"),l=r("./utf8"),m=r("./compressions"),h=r("./support");function y(u,_){this.options=u,this.loadOptions=_}y.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(u){var _,d;if(u.skip(22),this.fileNameLength=u.readInt(2),d=u.readInt(2),this.fileName=u.readData(this.fileNameLength),u.skip(d),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((_=function(p){for(var f in m)if(Object.prototype.hasOwnProperty.call(m,f)&&m[f].magic===p)return m[f];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,_,u.readData(this.compressedSize))},readCentralPart:function(u){this.versionMadeBy=u.readInt(2),u.skip(2),this.bitFlag=u.readInt(2),this.compressionMethod=u.readString(2),this.date=u.readDate(),this.crc32=u.readInt(4),this.compressedSize=u.readInt(4),this.uncompressedSize=u.readInt(4);var _=u.readInt(2);if(this.extraFieldsLength=u.readInt(2),this.fileCommentLength=u.readInt(2),this.diskNumberStart=u.readInt(2),this.internalFileAttributes=u.readInt(2),this.externalFileAttributes=u.readInt(4),this.localHeaderOffset=u.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");u.skip(_),this.readExtraFields(u),this.parseZIP64ExtraField(u),this.fileComment=u.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var u=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),u==0&&(this.dosPermissions=63&this.externalFileAttributes),u==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var u=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=u.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=u.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=u.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=u.readInt(4))}},readExtraFields:function(u){var _,d,p,f=u.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});u.index+4<f;)_=u.readInt(2),d=u.readInt(2),p=u.readData(d),this.extraFields[_]={id:_,length:d,value:p};u.setIndex(f)},handleUTF8:function(){var u=h.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=l.utf8decode(this.fileName),this.fileCommentStr=l.utf8decode(this.fileComment);else{var _=this.findExtraFieldUnicodePath();if(_!==null)this.fileNameStr=_;else{var d=a.transformTo(u,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(d)}var p=this.findExtraFieldUnicodeComment();if(p!==null)this.fileCommentStr=p;else{var f=a.transformTo(u,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(f)}}},findExtraFieldUnicodePath:function(){var u=this.extraFields[28789];if(u){var _=s(u.value);return _.readInt(1)!==1||c(this.fileName)!==_.readInt(4)?null:l.utf8decode(_.readData(u.length-5))}return null},findExtraFieldUnicodeComment:function(){var u=this.extraFields[25461];if(u){var _=s(u.value);return _.readInt(1)!==1||c(this.fileComment)!==_.readInt(4)?null:l.utf8decode(_.readData(u.length-5))}return null}},i.exports=y},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,i,n){function s(_,d,p){this.name=_,this.dir=p.dir,this.date=p.date,this.comment=p.comment,this.unixPermissions=p.unixPermissions,this.dosPermissions=p.dosPermissions,this._data=d,this._dataBinary=p.binary,this.options={compression:p.compression,compressionOptions:p.compressionOptions}}var a=r("./stream/StreamHelper"),o=r("./stream/DataWorker"),c=r("./utf8"),l=r("./compressedObject"),m=r("./stream/GenericWorker");s.prototype={internalStream:function(_){var d=null,p="string";try{if(!_)throw new Error("No output type specified.");var f=(p=_.toLowerCase())==="string"||p==="text";p!=="binarystring"&&p!=="text"||(p="string"),d=this._decompressWorker();var v=!this._dataBinary;v&&!f&&(d=d.pipe(new c.Utf8EncodeWorker)),!v&&f&&(d=d.pipe(new c.Utf8DecodeWorker))}catch(w){(d=new m("error")).error(w)}return new a(d,p,"")},async:function(_,d){return this.internalStream(_).accumulate(d)},nodeStream:function(_,d){return this.internalStream(_||"nodebuffer").toNodejsStream(d)},_compressWorker:function(_,d){if(this._data instanceof l&&this._data.compression.magic===_.magic)return this._data.getCompressedWorker();var p=this._decompressWorker();return this._dataBinary||(p=p.pipe(new c.Utf8EncodeWorker)),l.createWorkerFrom(p,_,d)},_decompressWorker:function(){return this._data instanceof l?this._data.getContentWorker():this._data instanceof m?this._data:new o(this._data)}};for(var h=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},u=0;u<h.length;u++)s.prototype[h[u]]=y;i.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,i,n){(function(s){var a,o,c=s.MutationObserver||s.WebKitMutationObserver;if(c){var l=0,m=new c(_),h=s.document.createTextNode("");m.observe(h,{characterData:!0}),a=function(){h.data=l=++l%2}}else if(s.setImmediate||s.MessageChannel===void 0)a="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var d=s.document.createElement("script");d.onreadystatechange=function(){_(),d.onreadystatechange=null,d.parentNode.removeChild(d),d=null},s.document.documentElement.appendChild(d)}:function(){setTimeout(_,0)};else{var y=new s.MessageChannel;y.port1.onmessage=_,a=function(){y.port2.postMessage(0)}}var u=[];function _(){var d,p;o=!0;for(var f=u.length;f;){for(p=u,u=[],d=-1;++d<f;)p[d]();f=u.length}o=!1}i.exports=function(d){u.push(d)!==1||o||a()}}).call(this,typeof Tr<"u"?Tr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,i,n){var s=r("immediate");function a(){}var o={},c=["REJECTED"],l=["FULFILLED"],m=["PENDING"];function h(f){if(typeof f!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,f!==a&&d(this,f)}function y(f,v,w){this.promise=f,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function u(f,v,w){s(function(){var $;try{$=v(w)}catch(A){return o.reject(f,A)}$===f?o.reject(f,new TypeError("Cannot resolve promise with itself")):o.resolve(f,$)})}function _(f){var v=f&&f.then;if(f&&(typeof f=="object"||typeof f=="function")&&typeof v=="function")return function(){v.apply(f,arguments)}}function d(f,v){var w=!1;function $(S){w||(w=!0,o.reject(f,S))}function A(S){w||(w=!0,o.resolve(f,S))}var I=p(function(){v(A,$)});I.status==="error"&&$(I.value)}function p(f,v){var w={};try{w.value=f(v),w.status="success"}catch($){w.status="error",w.value=$}return w}(i.exports=h).prototype.finally=function(f){if(typeof f!="function")return this;var v=this.constructor;return this.then(function(w){return v.resolve(f()).then(function(){return w})},function(w){return v.resolve(f()).then(function(){throw w})})},h.prototype.catch=function(f){return this.then(null,f)},h.prototype.then=function(f,v){if(typeof f!="function"&&this.state===l||typeof v!="function"&&this.state===c)return this;var w=new this.constructor(a);return this.state!==m?u(w,this.state===l?f:v,this.outcome):this.queue.push(new y(w,f,v)),w},y.prototype.callFulfilled=function(f){o.resolve(this.promise,f)},y.prototype.otherCallFulfilled=function(f){u(this.promise,this.onFulfilled,f)},y.prototype.callRejected=function(f){o.reject(this.promise,f)},y.prototype.otherCallRejected=function(f){u(this.promise,this.onRejected,f)},o.resolve=function(f,v){var w=p(_,v);if(w.status==="error")return o.reject(f,w.value);var $=w.value;if($)d(f,$);else{f.state=l,f.outcome=v;for(var A=-1,I=f.queue.length;++A<I;)f.queue[A].callFulfilled(v)}return f},o.reject=function(f,v){f.state=c,f.outcome=v;for(var w=-1,$=f.queue.length;++w<$;)f.queue[w].callRejected(v);return f},h.resolve=function(f){return f instanceof this?f:o.resolve(new this(a),f)},h.reject=function(f){var v=new this(a);return o.reject(v,f)},h.all=function(f){var v=this;if(Object.prototype.toString.call(f)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=f.length,$=!1;if(!w)return this.resolve([]);for(var A=new Array(w),I=0,S=-1,j=new this(a);++S<w;)z(f[S],S);return j;function z(L,ne){v.resolve(L).then(function(T){A[ne]=T,++I!==w||$||($=!0,o.resolve(j,A))},function(T){$||($=!0,o.reject(j,T))})}},h.race=function(f){var v=this;if(Object.prototype.toString.call(f)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=f.length,$=!1;if(!w)return this.resolve([]);for(var A=-1,I=new this(a);++A<w;)S=f[A],v.resolve(S).then(function(j){$||($=!0,o.resolve(I,j))},function(j){$||($=!0,o.reject(I,j))});var S;return I}},{immediate:36}],38:[function(r,i,n){var s={};(0,r("./lib/utils/common").assign)(s,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),i.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,i,n){var s=r("./zlib/deflate"),a=r("./utils/common"),o=r("./utils/strings"),c=r("./zlib/messages"),l=r("./zlib/zstream"),m=Object.prototype.toString,h=0,y=-1,u=0,_=8;function d(f){if(!(this instanceof d))return new d(f);this.options=a.assign({level:y,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:u,to:""},f||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var w=s.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(w!==h)throw new Error(c[w]);if(v.header&&s.deflateSetHeader(this.strm,v.header),v.dictionary){var $;if($=typeof v.dictionary=="string"?o.string2buf(v.dictionary):m.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(w=s.deflateSetDictionary(this.strm,$))!==h)throw new Error(c[w]);this._dict_set=!0}}function p(f,v){var w=new d(v);if(w.push(f,!0),w.err)throw w.msg||c[w.err];return w.result}d.prototype.push=function(f,v){var w,$,A=this.strm,I=this.options.chunkSize;if(this.ended)return!1;$=v===~~v?v:v===!0?4:0,typeof f=="string"?A.input=o.string2buf(f):m.call(f)==="[object ArrayBuffer]"?A.input=new Uint8Array(f):A.input=f,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new a.Buf8(I),A.next_out=0,A.avail_out=I),(w=s.deflate(A,$))!==1&&w!==h)return this.onEnd(w),!(this.ended=!0);A.avail_out!==0&&(A.avail_in!==0||$!==4&&$!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(A.output,A.next_out))):this.onData(a.shrinkBuf(A.output,A.next_out)))}while((0<A.avail_in||A.avail_out===0)&&w!==1);return $===4?(w=s.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===h):$!==2||(this.onEnd(h),!(A.avail_out=0))},d.prototype.onData=function(f){this.chunks.push(f)},d.prototype.onEnd=function(f){f===h&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},n.Deflate=d,n.deflate=p,n.deflateRaw=function(f,v){return(v=v||{}).raw=!0,p(f,v)},n.gzip=function(f,v){return(v=v||{}).gzip=!0,p(f,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,i,n){var s=r("./zlib/inflate"),a=r("./utils/common"),o=r("./utils/strings"),c=r("./zlib/constants"),l=r("./zlib/messages"),m=r("./zlib/zstream"),h=r("./zlib/gzheader"),y=Object.prototype.toString;function u(d){if(!(this instanceof u))return new u(d);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},d||{});var p=this.options;p.raw&&0<=p.windowBits&&p.windowBits<16&&(p.windowBits=-p.windowBits,p.windowBits===0&&(p.windowBits=-15)),!(0<=p.windowBits&&p.windowBits<16)||d&&d.windowBits||(p.windowBits+=32),15<p.windowBits&&p.windowBits<48&&!(15&p.windowBits)&&(p.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var f=s.inflateInit2(this.strm,p.windowBits);if(f!==c.Z_OK)throw new Error(l[f]);this.header=new h,s.inflateGetHeader(this.strm,this.header)}function _(d,p){var f=new u(p);if(f.push(d,!0),f.err)throw f.msg||l[f.err];return f.result}u.prototype.push=function(d,p){var f,v,w,$,A,I,S=this.strm,j=this.options.chunkSize,z=this.options.dictionary,L=!1;if(this.ended)return!1;v=p===~~p?p:p===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof d=="string"?S.input=o.binstring2buf(d):y.call(d)==="[object ArrayBuffer]"?S.input=new Uint8Array(d):S.input=d,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new a.Buf8(j),S.next_out=0,S.avail_out=j),(f=s.inflate(S,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&z&&(I=typeof z=="string"?o.string2buf(z):y.call(z)==="[object ArrayBuffer]"?new Uint8Array(z):z,f=s.inflateSetDictionary(this.strm,I)),f===c.Z_BUF_ERROR&&L===!0&&(f=c.Z_OK,L=!1),f!==c.Z_STREAM_END&&f!==c.Z_OK)return this.onEnd(f),!(this.ended=!0);S.next_out&&(S.avail_out!==0&&f!==c.Z_STREAM_END&&(S.avail_in!==0||v!==c.Z_FINISH&&v!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=o.utf8border(S.output,S.next_out),$=S.next_out-w,A=o.buf2string(S.output,w),S.next_out=$,S.avail_out=j-$,$&&a.arraySet(S.output,S.output,w,$,0),this.onData(A)):this.onData(a.shrinkBuf(S.output,S.next_out)))),S.avail_in===0&&S.avail_out===0&&(L=!0)}while((0<S.avail_in||S.avail_out===0)&&f!==c.Z_STREAM_END);return f===c.Z_STREAM_END&&(v=c.Z_FINISH),v===c.Z_FINISH?(f=s.inflateEnd(this.strm),this.onEnd(f),this.ended=!0,f===c.Z_OK):v!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(S.avail_out=0))},u.prototype.onData=function(d){this.chunks.push(d)},u.prototype.onEnd=function(d){d===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},n.Inflate=u,n.inflate=_,n.inflateRaw=function(d,p){return(p=p||{}).raw=!0,_(d,p)},n.ungzip=_},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,i,n){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";n.assign=function(c){for(var l=Array.prototype.slice.call(arguments,1);l.length;){var m=l.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var h in m)m.hasOwnProperty(h)&&(c[h]=m[h])}}return c},n.shrinkBuf=function(c,l){return c.length===l?c:c.subarray?c.subarray(0,l):(c.length=l,c)};var a={arraySet:function(c,l,m,h,y){if(l.subarray&&c.subarray)c.set(l.subarray(m,m+h),y);else for(var u=0;u<h;u++)c[y+u]=l[m+u]},flattenChunks:function(c){var l,m,h,y,u,_;for(l=h=0,m=c.length;l<m;l++)h+=c[l].length;for(_=new Uint8Array(h),l=y=0,m=c.length;l<m;l++)u=c[l],_.set(u,y),y+=u.length;return _}},o={arraySet:function(c,l,m,h,y){for(var u=0;u<h;u++)c[y+u]=l[m+u]},flattenChunks:function(c){return[].concat.apply([],c)}};n.setTyped=function(c){c?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,a)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(s)},{}],42:[function(r,i,n){var s=r("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var c=new s.Buf8(256),l=0;l<256;l++)c[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;function m(h,y){if(y<65537&&(h.subarray&&o||!h.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(h,y));for(var u="",_=0;_<y;_++)u+=String.fromCharCode(h[_]);return u}c[254]=c[254]=1,n.string2buf=function(h){var y,u,_,d,p,f=h.length,v=0;for(d=0;d<f;d++)(64512&(u=h.charCodeAt(d)))==55296&&d+1<f&&(64512&(_=h.charCodeAt(d+1)))==56320&&(u=65536+(u-55296<<10)+(_-56320),d++),v+=u<128?1:u<2048?2:u<65536?3:4;for(y=new s.Buf8(v),d=p=0;p<v;d++)(64512&(u=h.charCodeAt(d)))==55296&&d+1<f&&(64512&(_=h.charCodeAt(d+1)))==56320&&(u=65536+(u-55296<<10)+(_-56320),d++),u<128?y[p++]=u:(u<2048?y[p++]=192|u>>>6:(u<65536?y[p++]=224|u>>>12:(y[p++]=240|u>>>18,y[p++]=128|u>>>12&63),y[p++]=128|u>>>6&63),y[p++]=128|63&u);return y},n.buf2binstring=function(h){return m(h,h.length)},n.binstring2buf=function(h){for(var y=new s.Buf8(h.length),u=0,_=y.length;u<_;u++)y[u]=h.charCodeAt(u);return y},n.buf2string=function(h,y){var u,_,d,p,f=y||h.length,v=new Array(2*f);for(u=_=0;u<f;)if((d=h[u++])<128)v[_++]=d;else if(4<(p=c[d]))v[_++]=65533,u+=p-1;else{for(d&=p===2?31:p===3?15:7;1<p&&u<f;)d=d<<6|63&h[u++],p--;1<p?v[_++]=65533:d<65536?v[_++]=d:(d-=65536,v[_++]=55296|d>>10&1023,v[_++]=56320|1023&d)}return m(v,_)},n.utf8border=function(h,y){var u;for((y=y||h.length)>h.length&&(y=h.length),u=y-1;0<=u&&(192&h[u])==128;)u--;return u<0||u===0?y:u+c[h[u]]>y?u:y}},{"./common":41}],43:[function(r,i,n){i.exports=function(s,a,o,c){for(var l=65535&s|0,m=s>>>16&65535|0,h=0;o!==0;){for(o-=h=2e3<o?2e3:o;m=m+(l=l+a[c++]|0)|0,--h;);l%=65521,m%=65521}return l|m<<16|0}},{}],44:[function(r,i,n){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,i,n){var s=function(){for(var a,o=[],c=0;c<256;c++){a=c;for(var l=0;l<8;l++)a=1&a?3988292384^a>>>1:a>>>1;o[c]=a}return o}();i.exports=function(a,o,c,l){var m=s,h=l+c;a^=-1;for(var y=l;y<h;y++)a=a>>>8^m[255&(a^o[y])];return-1^a}},{}],46:[function(r,i,n){var s,a=r("../utils/common"),o=r("./trees"),c=r("./adler32"),l=r("./crc32"),m=r("./messages"),h=0,y=4,u=0,_=-2,d=-1,p=4,f=2,v=8,w=9,$=286,A=30,I=19,S=2*$+1,j=15,z=3,L=258,ne=L+z+1,T=42,q=113,b=1,J=2,me=3,X=4;function fe(g,Q){return g.msg=m[Q],Q}function H(g){return(g<<1)-(4<g?9:0)}function x(g){for(var Q=g.length;0<=--Q;)g[Q]=0}function E(g){var Q=g.state,W=Q.pending;W>g.avail_out&&(W=g.avail_out),W!==0&&(a.arraySet(g.output,Q.pending_buf,Q.pending_out,W,g.next_out),g.next_out+=W,Q.pending_out+=W,g.total_out+=W,g.avail_out-=W,Q.pending-=W,Q.pending===0&&(Q.pending_out=0))}function R(g,Q){o._tr_flush_block(g,0<=g.block_start?g.block_start:-1,g.strstart-g.block_start,Q),g.block_start=g.strstart,E(g.strm)}function F(g,Q){g.pending_buf[g.pending++]=Q}function k(g,Q){g.pending_buf[g.pending++]=Q>>>8&255,g.pending_buf[g.pending++]=255&Q}function C(g,Q){var W,N,P=g.max_chain_length,M=g.strstart,Y=g.prev_length,ee=g.nice_match,V=g.strstart>g.w_size-ne?g.strstart-(g.w_size-ne):0,te=g.window,le=g.w_mask,ie=g.prev,pe=g.strstart+L,Te=te[M+Y-1],Ce=te[M+Y];g.prev_length>=g.good_match&&(P>>=2),ee>g.lookahead&&(ee=g.lookahead);do if(te[(W=Q)+Y]===Ce&&te[W+Y-1]===Te&&te[W]===te[M]&&te[++W]===te[M+1]){M+=2,W++;do;while(te[++M]===te[++W]&&te[++M]===te[++W]&&te[++M]===te[++W]&&te[++M]===te[++W]&&te[++M]===te[++W]&&te[++M]===te[++W]&&te[++M]===te[++W]&&te[++M]===te[++W]&&M<pe);if(N=L-(pe-M),M=pe-L,Y<N){if(g.match_start=Q,ee<=(Y=N))break;Te=te[M+Y-1],Ce=te[M+Y]}}while((Q=ie[Q&le])>V&&--P!=0);return Y<=g.lookahead?Y:g.lookahead}function K(g){var Q,W,N,P,M,Y,ee,V,te,le,ie=g.w_size;do{if(P=g.window_size-g.lookahead-g.strstart,g.strstart>=ie+(ie-ne)){for(a.arraySet(g.window,g.window,ie,ie,0),g.match_start-=ie,g.strstart-=ie,g.block_start-=ie,Q=W=g.hash_size;N=g.head[--Q],g.head[Q]=ie<=N?N-ie:0,--W;);for(Q=W=ie;N=g.prev[--Q],g.prev[Q]=ie<=N?N-ie:0,--W;);P+=ie}if(g.strm.avail_in===0)break;if(Y=g.strm,ee=g.window,V=g.strstart+g.lookahead,te=P,le=void 0,le=Y.avail_in,te<le&&(le=te),W=le===0?0:(Y.avail_in-=le,a.arraySet(ee,Y.input,Y.next_in,le,V),Y.state.wrap===1?Y.adler=c(Y.adler,ee,le,V):Y.state.wrap===2&&(Y.adler=l(Y.adler,ee,le,V)),Y.next_in+=le,Y.total_in+=le,le),g.lookahead+=W,g.lookahead+g.insert>=z)for(M=g.strstart-g.insert,g.ins_h=g.window[M],g.ins_h=(g.ins_h<<g.hash_shift^g.window[M+1])&g.hash_mask;g.insert&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[M+z-1])&g.hash_mask,g.prev[M&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=M,M++,g.insert--,!(g.lookahead+g.insert<z)););}while(g.lookahead<ne&&g.strm.avail_in!==0)}function se(g,Q){for(var W,N;;){if(g.lookahead<ne){if(K(g),g.lookahead<ne&&Q===h)return b;if(g.lookahead===0)break}if(W=0,g.lookahead>=z&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+z-1])&g.hash_mask,W=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart),W!==0&&g.strstart-W<=g.w_size-ne&&(g.match_length=C(g,W)),g.match_length>=z)if(N=o._tr_tally(g,g.strstart-g.match_start,g.match_length-z),g.lookahead-=g.match_length,g.match_length<=g.max_lazy_match&&g.lookahead>=z){for(g.match_length--;g.strstart++,g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+z-1])&g.hash_mask,W=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart,--g.match_length!=0;);g.strstart++}else g.strstart+=g.match_length,g.match_length=0,g.ins_h=g.window[g.strstart],g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+1])&g.hash_mask;else N=o._tr_tally(g,0,g.window[g.strstart]),g.lookahead--,g.strstart++;if(N&&(R(g,!1),g.strm.avail_out===0))return b}return g.insert=g.strstart<z-1?g.strstart:z-1,Q===y?(R(g,!0),g.strm.avail_out===0?me:X):g.last_lit&&(R(g,!1),g.strm.avail_out===0)?b:J}function re(g,Q){for(var W,N,P;;){if(g.lookahead<ne){if(K(g),g.lookahead<ne&&Q===h)return b;if(g.lookahead===0)break}if(W=0,g.lookahead>=z&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+z-1])&g.hash_mask,W=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart),g.prev_length=g.match_length,g.prev_match=g.match_start,g.match_length=z-1,W!==0&&g.prev_length<g.max_lazy_match&&g.strstart-W<=g.w_size-ne&&(g.match_length=C(g,W),g.match_length<=5&&(g.strategy===1||g.match_length===z&&4096<g.strstart-g.match_start)&&(g.match_length=z-1)),g.prev_length>=z&&g.match_length<=g.prev_length){for(P=g.strstart+g.lookahead-z,N=o._tr_tally(g,g.strstart-1-g.prev_match,g.prev_length-z),g.lookahead-=g.prev_length-1,g.prev_length-=2;++g.strstart<=P&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+z-1])&g.hash_mask,W=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart),--g.prev_length!=0;);if(g.match_available=0,g.match_length=z-1,g.strstart++,N&&(R(g,!1),g.strm.avail_out===0))return b}else if(g.match_available){if((N=o._tr_tally(g,0,g.window[g.strstart-1]))&&R(g,!1),g.strstart++,g.lookahead--,g.strm.avail_out===0)return b}else g.match_available=1,g.strstart++,g.lookahead--}return g.match_available&&(N=o._tr_tally(g,0,g.window[g.strstart-1]),g.match_available=0),g.insert=g.strstart<z-1?g.strstart:z-1,Q===y?(R(g,!0),g.strm.avail_out===0?me:X):g.last_lit&&(R(g,!1),g.strm.avail_out===0)?b:J}function ue(g,Q,W,N,P){this.good_length=g,this.max_lazy=Q,this.nice_length=W,this.max_chain=N,this.func=P}function ve(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*S),this.dyn_dtree=new a.Buf16(2*(2*A+1)),this.bl_tree=new a.Buf16(2*(2*I+1)),x(this.dyn_ltree),x(this.dyn_dtree),x(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(j+1),this.heap=new a.Buf16(2*$+1),x(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*$+1),x(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ke(g){var Q;return g&&g.state?(g.total_in=g.total_out=0,g.data_type=f,(Q=g.state).pending=0,Q.pending_out=0,Q.wrap<0&&(Q.wrap=-Q.wrap),Q.status=Q.wrap?T:q,g.adler=Q.wrap===2?0:1,Q.last_flush=h,o._tr_init(Q),u):fe(g,_)}function Ke(g){var Q=ke(g);return Q===u&&function(W){W.window_size=2*W.w_size,x(W.head),W.max_lazy_match=s[W.level].max_lazy,W.good_match=s[W.level].good_length,W.nice_match=s[W.level].nice_length,W.max_chain_length=s[W.level].max_chain,W.strstart=0,W.block_start=0,W.lookahead=0,W.insert=0,W.match_length=W.prev_length=z-1,W.match_available=0,W.ins_h=0}(g.state),Q}function Je(g,Q,W,N,P,M){if(!g)return _;var Y=1;if(Q===d&&(Q=6),N<0?(Y=0,N=-N):15<N&&(Y=2,N-=16),P<1||w<P||W!==v||N<8||15<N||Q<0||9<Q||M<0||p<M)return fe(g,_);N===8&&(N=9);var ee=new ve;return(g.state=ee).strm=g,ee.wrap=Y,ee.gzhead=null,ee.w_bits=N,ee.w_size=1<<ee.w_bits,ee.w_mask=ee.w_size-1,ee.hash_bits=P+7,ee.hash_size=1<<ee.hash_bits,ee.hash_mask=ee.hash_size-1,ee.hash_shift=~~((ee.hash_bits+z-1)/z),ee.window=new a.Buf8(2*ee.w_size),ee.head=new a.Buf16(ee.hash_size),ee.prev=new a.Buf16(ee.w_size),ee.lit_bufsize=1<<P+6,ee.pending_buf_size=4*ee.lit_bufsize,ee.pending_buf=new a.Buf8(ee.pending_buf_size),ee.d_buf=1*ee.lit_bufsize,ee.l_buf=3*ee.lit_bufsize,ee.level=Q,ee.strategy=M,ee.method=W,Ke(g)}s=[new ue(0,0,0,0,function(g,Q){var W=65535;for(W>g.pending_buf_size-5&&(W=g.pending_buf_size-5);;){if(g.lookahead<=1){if(K(g),g.lookahead===0&&Q===h)return b;if(g.lookahead===0)break}g.strstart+=g.lookahead,g.lookahead=0;var N=g.block_start+W;if((g.strstart===0||g.strstart>=N)&&(g.lookahead=g.strstart-N,g.strstart=N,R(g,!1),g.strm.avail_out===0)||g.strstart-g.block_start>=g.w_size-ne&&(R(g,!1),g.strm.avail_out===0))return b}return g.insert=0,Q===y?(R(g,!0),g.strm.avail_out===0?me:X):(g.strstart>g.block_start&&(R(g,!1),g.strm.avail_out),b)}),new ue(4,4,8,4,se),new ue(4,5,16,8,se),new ue(4,6,32,32,se),new ue(4,4,16,16,re),new ue(8,16,32,32,re),new ue(8,16,128,128,re),new ue(8,32,128,256,re),new ue(32,128,258,1024,re),new ue(32,258,258,4096,re)],n.deflateInit=function(g,Q){return Je(g,Q,v,15,8,0)},n.deflateInit2=Je,n.deflateReset=Ke,n.deflateResetKeep=ke,n.deflateSetHeader=function(g,Q){return g&&g.state?g.state.wrap!==2?_:(g.state.gzhead=Q,u):_},n.deflate=function(g,Q){var W,N,P,M;if(!g||!g.state||5<Q||Q<0)return g?fe(g,_):_;if(N=g.state,!g.output||!g.input&&g.avail_in!==0||N.status===666&&Q!==y)return fe(g,g.avail_out===0?-5:_);if(N.strm=g,W=N.last_flush,N.last_flush=Q,N.status===T)if(N.wrap===2)g.adler=0,F(N,31),F(N,139),F(N,8),N.gzhead?(F(N,(N.gzhead.text?1:0)+(N.gzhead.hcrc?2:0)+(N.gzhead.extra?4:0)+(N.gzhead.name?8:0)+(N.gzhead.comment?16:0)),F(N,255&N.gzhead.time),F(N,N.gzhead.time>>8&255),F(N,N.gzhead.time>>16&255),F(N,N.gzhead.time>>24&255),F(N,N.level===9?2:2<=N.strategy||N.level<2?4:0),F(N,255&N.gzhead.os),N.gzhead.extra&&N.gzhead.extra.length&&(F(N,255&N.gzhead.extra.length),F(N,N.gzhead.extra.length>>8&255)),N.gzhead.hcrc&&(g.adler=l(g.adler,N.pending_buf,N.pending,0)),N.gzindex=0,N.status=69):(F(N,0),F(N,0),F(N,0),F(N,0),F(N,0),F(N,N.level===9?2:2<=N.strategy||N.level<2?4:0),F(N,3),N.status=q);else{var Y=v+(N.w_bits-8<<4)<<8;Y|=(2<=N.strategy||N.level<2?0:N.level<6?1:N.level===6?2:3)<<6,N.strstart!==0&&(Y|=32),Y+=31-Y%31,N.status=q,k(N,Y),N.strstart!==0&&(k(N,g.adler>>>16),k(N,65535&g.adler)),g.adler=1}if(N.status===69)if(N.gzhead.extra){for(P=N.pending;N.gzindex<(65535&N.gzhead.extra.length)&&(N.pending!==N.pending_buf_size||(N.gzhead.hcrc&&N.pending>P&&(g.adler=l(g.adler,N.pending_buf,N.pending-P,P)),E(g),P=N.pending,N.pending!==N.pending_buf_size));)F(N,255&N.gzhead.extra[N.gzindex]),N.gzindex++;N.gzhead.hcrc&&N.pending>P&&(g.adler=l(g.adler,N.pending_buf,N.pending-P,P)),N.gzindex===N.gzhead.extra.length&&(N.gzindex=0,N.status=73)}else N.status=73;if(N.status===73)if(N.gzhead.name){P=N.pending;do{if(N.pending===N.pending_buf_size&&(N.gzhead.hcrc&&N.pending>P&&(g.adler=l(g.adler,N.pending_buf,N.pending-P,P)),E(g),P=N.pending,N.pending===N.pending_buf_size)){M=1;break}M=N.gzindex<N.gzhead.name.length?255&N.gzhead.name.charCodeAt(N.gzindex++):0,F(N,M)}while(M!==0);N.gzhead.hcrc&&N.pending>P&&(g.adler=l(g.adler,N.pending_buf,N.pending-P,P)),M===0&&(N.gzindex=0,N.status=91)}else N.status=91;if(N.status===91)if(N.gzhead.comment){P=N.pending;do{if(N.pending===N.pending_buf_size&&(N.gzhead.hcrc&&N.pending>P&&(g.adler=l(g.adler,N.pending_buf,N.pending-P,P)),E(g),P=N.pending,N.pending===N.pending_buf_size)){M=1;break}M=N.gzindex<N.gzhead.comment.length?255&N.gzhead.comment.charCodeAt(N.gzindex++):0,F(N,M)}while(M!==0);N.gzhead.hcrc&&N.pending>P&&(g.adler=l(g.adler,N.pending_buf,N.pending-P,P)),M===0&&(N.status=103)}else N.status=103;if(N.status===103&&(N.gzhead.hcrc?(N.pending+2>N.pending_buf_size&&E(g),N.pending+2<=N.pending_buf_size&&(F(N,255&g.adler),F(N,g.adler>>8&255),g.adler=0,N.status=q)):N.status=q),N.pending!==0){if(E(g),g.avail_out===0)return N.last_flush=-1,u}else if(g.avail_in===0&&H(Q)<=H(W)&&Q!==y)return fe(g,-5);if(N.status===666&&g.avail_in!==0)return fe(g,-5);if(g.avail_in!==0||N.lookahead!==0||Q!==h&&N.status!==666){var ee=N.strategy===2?function(V,te){for(var le;;){if(V.lookahead===0&&(K(V),V.lookahead===0)){if(te===h)return b;break}if(V.match_length=0,le=o._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++,le&&(R(V,!1),V.strm.avail_out===0))return b}return V.insert=0,te===y?(R(V,!0),V.strm.avail_out===0?me:X):V.last_lit&&(R(V,!1),V.strm.avail_out===0)?b:J}(N,Q):N.strategy===3?function(V,te){for(var le,ie,pe,Te,Ce=V.window;;){if(V.lookahead<=L){if(K(V),V.lookahead<=L&&te===h)return b;if(V.lookahead===0)break}if(V.match_length=0,V.lookahead>=z&&0<V.strstart&&(ie=Ce[pe=V.strstart-1])===Ce[++pe]&&ie===Ce[++pe]&&ie===Ce[++pe]){Te=V.strstart+L;do;while(ie===Ce[++pe]&&ie===Ce[++pe]&&ie===Ce[++pe]&&ie===Ce[++pe]&&ie===Ce[++pe]&&ie===Ce[++pe]&&ie===Ce[++pe]&&ie===Ce[++pe]&&pe<Te);V.match_length=L-(Te-pe),V.match_length>V.lookahead&&(V.match_length=V.lookahead)}if(V.match_length>=z?(le=o._tr_tally(V,1,V.match_length-z),V.lookahead-=V.match_length,V.strstart+=V.match_length,V.match_length=0):(le=o._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++),le&&(R(V,!1),V.strm.avail_out===0))return b}return V.insert=0,te===y?(R(V,!0),V.strm.avail_out===0?me:X):V.last_lit&&(R(V,!1),V.strm.avail_out===0)?b:J}(N,Q):s[N.level].func(N,Q);if(ee!==me&&ee!==X||(N.status=666),ee===b||ee===me)return g.avail_out===0&&(N.last_flush=-1),u;if(ee===J&&(Q===1?o._tr_align(N):Q!==5&&(o._tr_stored_block(N,0,0,!1),Q===3&&(x(N.head),N.lookahead===0&&(N.strstart=0,N.block_start=0,N.insert=0))),E(g),g.avail_out===0))return N.last_flush=-1,u}return Q!==y?u:N.wrap<=0?1:(N.wrap===2?(F(N,255&g.adler),F(N,g.adler>>8&255),F(N,g.adler>>16&255),F(N,g.adler>>24&255),F(N,255&g.total_in),F(N,g.total_in>>8&255),F(N,g.total_in>>16&255),F(N,g.total_in>>24&255)):(k(N,g.adler>>>16),k(N,65535&g.adler)),E(g),0<N.wrap&&(N.wrap=-N.wrap),N.pending!==0?u:1)},n.deflateEnd=function(g){var Q;return g&&g.state?(Q=g.state.status)!==T&&Q!==69&&Q!==73&&Q!==91&&Q!==103&&Q!==q&&Q!==666?fe(g,_):(g.state=null,Q===q?fe(g,-3):u):_},n.deflateSetDictionary=function(g,Q){var W,N,P,M,Y,ee,V,te,le=Q.length;if(!g||!g.state||(M=(W=g.state).wrap)===2||M===1&&W.status!==T||W.lookahead)return _;for(M===1&&(g.adler=c(g.adler,Q,le,0)),W.wrap=0,le>=W.w_size&&(M===0&&(x(W.head),W.strstart=0,W.block_start=0,W.insert=0),te=new a.Buf8(W.w_size),a.arraySet(te,Q,le-W.w_size,W.w_size,0),Q=te,le=W.w_size),Y=g.avail_in,ee=g.next_in,V=g.input,g.avail_in=le,g.next_in=0,g.input=Q,K(W);W.lookahead>=z;){for(N=W.strstart,P=W.lookahead-(z-1);W.ins_h=(W.ins_h<<W.hash_shift^W.window[N+z-1])&W.hash_mask,W.prev[N&W.w_mask]=W.head[W.ins_h],W.head[W.ins_h]=N,N++,--P;);W.strstart=N,W.lookahead=z-1,K(W)}return W.strstart+=W.lookahead,W.block_start=W.strstart,W.insert=W.lookahead,W.lookahead=0,W.match_length=W.prev_length=z-1,W.match_available=0,g.next_in=ee,g.input=V,g.avail_in=Y,W.wrap=M,u},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,i,n){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,i,n){i.exports=function(s,a){var o,c,l,m,h,y,u,_,d,p,f,v,w,$,A,I,S,j,z,L,ne,T,q,b,J;o=s.state,c=s.next_in,b=s.input,l=c+(s.avail_in-5),m=s.next_out,J=s.output,h=m-(a-s.avail_out),y=m+(s.avail_out-257),u=o.dmax,_=o.wsize,d=o.whave,p=o.wnext,f=o.window,v=o.hold,w=o.bits,$=o.lencode,A=o.distcode,I=(1<<o.lenbits)-1,S=(1<<o.distbits)-1;e:do{w<15&&(v+=b[c++]<<w,w+=8,v+=b[c++]<<w,w+=8),j=$[v&I];t:for(;;){if(v>>>=z=j>>>24,w-=z,(z=j>>>16&255)===0)J[m++]=65535&j;else{if(!(16&z)){if(!(64&z)){j=$[(65535&j)+(v&(1<<z)-1)];continue t}if(32&z){o.mode=12;break e}s.msg="invalid literal/length code",o.mode=30;break e}L=65535&j,(z&=15)&&(w<z&&(v+=b[c++]<<w,w+=8),L+=v&(1<<z)-1,v>>>=z,w-=z),w<15&&(v+=b[c++]<<w,w+=8,v+=b[c++]<<w,w+=8),j=A[v&S];r:for(;;){if(v>>>=z=j>>>24,w-=z,!(16&(z=j>>>16&255))){if(!(64&z)){j=A[(65535&j)+(v&(1<<z)-1)];continue r}s.msg="invalid distance code",o.mode=30;break e}if(ne=65535&j,w<(z&=15)&&(v+=b[c++]<<w,(w+=8)<z&&(v+=b[c++]<<w,w+=8)),u<(ne+=v&(1<<z)-1)){s.msg="invalid distance too far back",o.mode=30;break e}if(v>>>=z,w-=z,(z=m-h)<ne){if(d<(z=ne-z)&&o.sane){s.msg="invalid distance too far back",o.mode=30;break e}if(q=f,(T=0)===p){if(T+=_-z,z<L){for(L-=z;J[m++]=f[T++],--z;);T=m-ne,q=J}}else if(p<z){if(T+=_+p-z,(z-=p)<L){for(L-=z;J[m++]=f[T++],--z;);if(T=0,p<L){for(L-=z=p;J[m++]=f[T++],--z;);T=m-ne,q=J}}}else if(T+=p-z,z<L){for(L-=z;J[m++]=f[T++],--z;);T=m-ne,q=J}for(;2<L;)J[m++]=q[T++],J[m++]=q[T++],J[m++]=q[T++],L-=3;L&&(J[m++]=q[T++],1<L&&(J[m++]=q[T++]))}else{for(T=m-ne;J[m++]=J[T++],J[m++]=J[T++],J[m++]=J[T++],2<(L-=3););L&&(J[m++]=J[T++],1<L&&(J[m++]=J[T++]))}break}}break}}while(c<l&&m<y);c-=L=w>>3,v&=(1<<(w-=L<<3))-1,s.next_in=c,s.next_out=m,s.avail_in=c<l?l-c+5:5-(c-l),s.avail_out=m<y?y-m+257:257-(m-y),o.hold=v,o.bits=w}},{}],49:[function(r,i,n){var s=r("../utils/common"),a=r("./adler32"),o=r("./crc32"),c=r("./inffast"),l=r("./inftrees"),m=1,h=2,y=0,u=-2,_=1,d=852,p=592;function f(T){return(T>>>24&255)+(T>>>8&65280)+((65280&T)<<8)+((255&T)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(T){var q;return T&&T.state?(q=T.state,T.total_in=T.total_out=q.total=0,T.msg="",q.wrap&&(T.adler=1&q.wrap),q.mode=_,q.last=0,q.havedict=0,q.dmax=32768,q.head=null,q.hold=0,q.bits=0,q.lencode=q.lendyn=new s.Buf32(d),q.distcode=q.distdyn=new s.Buf32(p),q.sane=1,q.back=-1,y):u}function $(T){var q;return T&&T.state?((q=T.state).wsize=0,q.whave=0,q.wnext=0,w(T)):u}function A(T,q){var b,J;return T&&T.state?(J=T.state,q<0?(b=0,q=-q):(b=1+(q>>4),q<48&&(q&=15)),q&&(q<8||15<q)?u:(J.window!==null&&J.wbits!==q&&(J.window=null),J.wrap=b,J.wbits=q,$(T))):u}function I(T,q){var b,J;return T?(J=new v,(T.state=J).window=null,(b=A(T,q))!==y&&(T.state=null),b):u}var S,j,z=!0;function L(T){if(z){var q;for(S=new s.Buf32(512),j=new s.Buf32(32),q=0;q<144;)T.lens[q++]=8;for(;q<256;)T.lens[q++]=9;for(;q<280;)T.lens[q++]=7;for(;q<288;)T.lens[q++]=8;for(l(m,T.lens,0,288,S,0,T.work,{bits:9}),q=0;q<32;)T.lens[q++]=5;l(h,T.lens,0,32,j,0,T.work,{bits:5}),z=!1}T.lencode=S,T.lenbits=9,T.distcode=j,T.distbits=5}function ne(T,q,b,J){var me,X=T.state;return X.window===null&&(X.wsize=1<<X.wbits,X.wnext=0,X.whave=0,X.window=new s.Buf8(X.wsize)),J>=X.wsize?(s.arraySet(X.window,q,b-X.wsize,X.wsize,0),X.wnext=0,X.whave=X.wsize):(J<(me=X.wsize-X.wnext)&&(me=J),s.arraySet(X.window,q,b-J,me,X.wnext),(J-=me)?(s.arraySet(X.window,q,b-J,J,0),X.wnext=J,X.whave=X.wsize):(X.wnext+=me,X.wnext===X.wsize&&(X.wnext=0),X.whave<X.wsize&&(X.whave+=me))),0}n.inflateReset=$,n.inflateReset2=A,n.inflateResetKeep=w,n.inflateInit=function(T){return I(T,15)},n.inflateInit2=I,n.inflate=function(T,q){var b,J,me,X,fe,H,x,E,R,F,k,C,K,se,re,ue,ve,ke,Ke,Je,g,Q,W,N,P=0,M=new s.Buf8(4),Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!T||!T.state||!T.output||!T.input&&T.avail_in!==0)return u;(b=T.state).mode===12&&(b.mode=13),fe=T.next_out,me=T.output,x=T.avail_out,X=T.next_in,J=T.input,H=T.avail_in,E=b.hold,R=b.bits,F=H,k=x,Q=y;e:for(;;)switch(b.mode){case _:if(b.wrap===0){b.mode=13;break}for(;R<16;){if(H===0)break e;H--,E+=J[X++]<<R,R+=8}if(2&b.wrap&&E===35615){M[b.check=0]=255&E,M[1]=E>>>8&255,b.check=o(b.check,M,2,0),R=E=0,b.mode=2;break}if(b.flags=0,b.head&&(b.head.done=!1),!(1&b.wrap)||(((255&E)<<8)+(E>>8))%31){T.msg="incorrect header check",b.mode=30;break}if((15&E)!=8){T.msg="unknown compression method",b.mode=30;break}if(R-=4,g=8+(15&(E>>>=4)),b.wbits===0)b.wbits=g;else if(g>b.wbits){T.msg="invalid window size",b.mode=30;break}b.dmax=1<<g,T.adler=b.check=1,b.mode=512&E?10:12,R=E=0;break;case 2:for(;R<16;){if(H===0)break e;H--,E+=J[X++]<<R,R+=8}if(b.flags=E,(255&b.flags)!=8){T.msg="unknown compression method",b.mode=30;break}if(57344&b.flags){T.msg="unknown header flags set",b.mode=30;break}b.head&&(b.head.text=E>>8&1),512&b.flags&&(M[0]=255&E,M[1]=E>>>8&255,b.check=o(b.check,M,2,0)),R=E=0,b.mode=3;case 3:for(;R<32;){if(H===0)break e;H--,E+=J[X++]<<R,R+=8}b.head&&(b.head.time=E),512&b.flags&&(M[0]=255&E,M[1]=E>>>8&255,M[2]=E>>>16&255,M[3]=E>>>24&255,b.check=o(b.check,M,4,0)),R=E=0,b.mode=4;case 4:for(;R<16;){if(H===0)break e;H--,E+=J[X++]<<R,R+=8}b.head&&(b.head.xflags=255&E,b.head.os=E>>8),512&b.flags&&(M[0]=255&E,M[1]=E>>>8&255,b.check=o(b.check,M,2,0)),R=E=0,b.mode=5;case 5:if(1024&b.flags){for(;R<16;){if(H===0)break e;H--,E+=J[X++]<<R,R+=8}b.length=E,b.head&&(b.head.extra_len=E),512&b.flags&&(M[0]=255&E,M[1]=E>>>8&255,b.check=o(b.check,M,2,0)),R=E=0}else b.head&&(b.head.extra=null);b.mode=6;case 6:if(1024&b.flags&&(H<(C=b.length)&&(C=H),C&&(b.head&&(g=b.head.extra_len-b.length,b.head.extra||(b.head.extra=new Array(b.head.extra_len)),s.arraySet(b.head.extra,J,X,C,g)),512&b.flags&&(b.check=o(b.check,J,C,X)),H-=C,X+=C,b.length-=C),b.length))break e;b.length=0,b.mode=7;case 7:if(2048&b.flags){if(H===0)break e;for(C=0;g=J[X+C++],b.head&&g&&b.length<65536&&(b.head.name+=String.fromCharCode(g)),g&&C<H;);if(512&b.flags&&(b.check=o(b.check,J,C,X)),H-=C,X+=C,g)break e}else b.head&&(b.head.name=null);b.length=0,b.mode=8;case 8:if(4096&b.flags){if(H===0)break e;for(C=0;g=J[X+C++],b.head&&g&&b.length<65536&&(b.head.comment+=String.fromCharCode(g)),g&&C<H;);if(512&b.flags&&(b.check=o(b.check,J,C,X)),H-=C,X+=C,g)break e}else b.head&&(b.head.comment=null);b.mode=9;case 9:if(512&b.flags){for(;R<16;){if(H===0)break e;H--,E+=J[X++]<<R,R+=8}if(E!==(65535&b.check)){T.msg="header crc mismatch",b.mode=30;break}R=E=0}b.head&&(b.head.hcrc=b.flags>>9&1,b.head.done=!0),T.adler=b.check=0,b.mode=12;break;case 10:for(;R<32;){if(H===0)break e;H--,E+=J[X++]<<R,R+=8}T.adler=b.check=f(E),R=E=0,b.mode=11;case 11:if(b.havedict===0)return T.next_out=fe,T.avail_out=x,T.next_in=X,T.avail_in=H,b.hold=E,b.bits=R,2;T.adler=b.check=1,b.mode=12;case 12:if(q===5||q===6)break e;case 13:if(b.last){E>>>=7&R,R-=7&R,b.mode=27;break}for(;R<3;){if(H===0)break e;H--,E+=J[X++]<<R,R+=8}switch(b.last=1&E,R-=1,3&(E>>>=1)){case 0:b.mode=14;break;case 1:if(L(b),b.mode=20,q!==6)break;E>>>=2,R-=2;break e;case 2:b.mode=17;break;case 3:T.msg="invalid block type",b.mode=30}E>>>=2,R-=2;break;case 14:for(E>>>=7&R,R-=7&R;R<32;){if(H===0)break e;H--,E+=J[X++]<<R,R+=8}if((65535&E)!=(E>>>16^65535)){T.msg="invalid stored block lengths",b.mode=30;break}if(b.length=65535&E,R=E=0,b.mode=15,q===6)break e;case 15:b.mode=16;case 16:if(C=b.length){if(H<C&&(C=H),x<C&&(C=x),C===0)break e;s.arraySet(me,J,X,C,fe),H-=C,X+=C,x-=C,fe+=C,b.length-=C;break}b.mode=12;break;case 17:for(;R<14;){if(H===0)break e;H--,E+=J[X++]<<R,R+=8}if(b.nlen=257+(31&E),E>>>=5,R-=5,b.ndist=1+(31&E),E>>>=5,R-=5,b.ncode=4+(15&E),E>>>=4,R-=4,286<b.nlen||30<b.ndist){T.msg="too many length or distance symbols",b.mode=30;break}b.have=0,b.mode=18;case 18:for(;b.have<b.ncode;){for(;R<3;){if(H===0)break e;H--,E+=J[X++]<<R,R+=8}b.lens[Y[b.have++]]=7&E,E>>>=3,R-=3}for(;b.have<19;)b.lens[Y[b.have++]]=0;if(b.lencode=b.lendyn,b.lenbits=7,W={bits:b.lenbits},Q=l(0,b.lens,0,19,b.lencode,0,b.work,W),b.lenbits=W.bits,Q){T.msg="invalid code lengths set",b.mode=30;break}b.have=0,b.mode=19;case 19:for(;b.have<b.nlen+b.ndist;){for(;ue=(P=b.lencode[E&(1<<b.lenbits)-1])>>>16&255,ve=65535&P,!((re=P>>>24)<=R);){if(H===0)break e;H--,E+=J[X++]<<R,R+=8}if(ve<16)E>>>=re,R-=re,b.lens[b.have++]=ve;else{if(ve===16){for(N=re+2;R<N;){if(H===0)break e;H--,E+=J[X++]<<R,R+=8}if(E>>>=re,R-=re,b.have===0){T.msg="invalid bit length repeat",b.mode=30;break}g=b.lens[b.have-1],C=3+(3&E),E>>>=2,R-=2}else if(ve===17){for(N=re+3;R<N;){if(H===0)break e;H--,E+=J[X++]<<R,R+=8}R-=re,g=0,C=3+(7&(E>>>=re)),E>>>=3,R-=3}else{for(N=re+7;R<N;){if(H===0)break e;H--,E+=J[X++]<<R,R+=8}R-=re,g=0,C=11+(127&(E>>>=re)),E>>>=7,R-=7}if(b.have+C>b.nlen+b.ndist){T.msg="invalid bit length repeat",b.mode=30;break}for(;C--;)b.lens[b.have++]=g}}if(b.mode===30)break;if(b.lens[256]===0){T.msg="invalid code -- missing end-of-block",b.mode=30;break}if(b.lenbits=9,W={bits:b.lenbits},Q=l(m,b.lens,0,b.nlen,b.lencode,0,b.work,W),b.lenbits=W.bits,Q){T.msg="invalid literal/lengths set",b.mode=30;break}if(b.distbits=6,b.distcode=b.distdyn,W={bits:b.distbits},Q=l(h,b.lens,b.nlen,b.ndist,b.distcode,0,b.work,W),b.distbits=W.bits,Q){T.msg="invalid distances set",b.mode=30;break}if(b.mode=20,q===6)break e;case 20:b.mode=21;case 21:if(6<=H&&258<=x){T.next_out=fe,T.avail_out=x,T.next_in=X,T.avail_in=H,b.hold=E,b.bits=R,c(T,k),fe=T.next_out,me=T.output,x=T.avail_out,X=T.next_in,J=T.input,H=T.avail_in,E=b.hold,R=b.bits,b.mode===12&&(b.back=-1);break}for(b.back=0;ue=(P=b.lencode[E&(1<<b.lenbits)-1])>>>16&255,ve=65535&P,!((re=P>>>24)<=R);){if(H===0)break e;H--,E+=J[X++]<<R,R+=8}if(ue&&!(240&ue)){for(ke=re,Ke=ue,Je=ve;ue=(P=b.lencode[Je+((E&(1<<ke+Ke)-1)>>ke)])>>>16&255,ve=65535&P,!(ke+(re=P>>>24)<=R);){if(H===0)break e;H--,E+=J[X++]<<R,R+=8}E>>>=ke,R-=ke,b.back+=ke}if(E>>>=re,R-=re,b.back+=re,b.length=ve,ue===0){b.mode=26;break}if(32&ue){b.back=-1,b.mode=12;break}if(64&ue){T.msg="invalid literal/length code",b.mode=30;break}b.extra=15&ue,b.mode=22;case 22:if(b.extra){for(N=b.extra;R<N;){if(H===0)break e;H--,E+=J[X++]<<R,R+=8}b.length+=E&(1<<b.extra)-1,E>>>=b.extra,R-=b.extra,b.back+=b.extra}b.was=b.length,b.mode=23;case 23:for(;ue=(P=b.distcode[E&(1<<b.distbits)-1])>>>16&255,ve=65535&P,!((re=P>>>24)<=R);){if(H===0)break e;H--,E+=J[X++]<<R,R+=8}if(!(240&ue)){for(ke=re,Ke=ue,Je=ve;ue=(P=b.distcode[Je+((E&(1<<ke+Ke)-1)>>ke)])>>>16&255,ve=65535&P,!(ke+(re=P>>>24)<=R);){if(H===0)break e;H--,E+=J[X++]<<R,R+=8}E>>>=ke,R-=ke,b.back+=ke}if(E>>>=re,R-=re,b.back+=re,64&ue){T.msg="invalid distance code",b.mode=30;break}b.offset=ve,b.extra=15&ue,b.mode=24;case 24:if(b.extra){for(N=b.extra;R<N;){if(H===0)break e;H--,E+=J[X++]<<R,R+=8}b.offset+=E&(1<<b.extra)-1,E>>>=b.extra,R-=b.extra,b.back+=b.extra}if(b.offset>b.dmax){T.msg="invalid distance too far back",b.mode=30;break}b.mode=25;case 25:if(x===0)break e;if(C=k-x,b.offset>C){if((C=b.offset-C)>b.whave&&b.sane){T.msg="invalid distance too far back",b.mode=30;break}K=C>b.wnext?(C-=b.wnext,b.wsize-C):b.wnext-C,C>b.length&&(C=b.length),se=b.window}else se=me,K=fe-b.offset,C=b.length;for(x<C&&(C=x),x-=C,b.length-=C;me[fe++]=se[K++],--C;);b.length===0&&(b.mode=21);break;case 26:if(x===0)break e;me[fe++]=b.length,x--,b.mode=21;break;case 27:if(b.wrap){for(;R<32;){if(H===0)break e;H--,E|=J[X++]<<R,R+=8}if(k-=x,T.total_out+=k,b.total+=k,k&&(T.adler=b.check=b.flags?o(b.check,me,k,fe-k):a(b.check,me,k,fe-k)),k=x,(b.flags?E:f(E))!==b.check){T.msg="incorrect data check",b.mode=30;break}R=E=0}b.mode=28;case 28:if(b.wrap&&b.flags){for(;R<32;){if(H===0)break e;H--,E+=J[X++]<<R,R+=8}if(E!==(4294967295&b.total)){T.msg="incorrect length check",b.mode=30;break}R=E=0}b.mode=29;case 29:Q=1;break e;case 30:Q=-3;break e;case 31:return-4;case 32:default:return u}return T.next_out=fe,T.avail_out=x,T.next_in=X,T.avail_in=H,b.hold=E,b.bits=R,(b.wsize||k!==T.avail_out&&b.mode<30&&(b.mode<27||q!==4))&&ne(T,T.output,T.next_out,k-T.avail_out)?(b.mode=31,-4):(F-=T.avail_in,k-=T.avail_out,T.total_in+=F,T.total_out+=k,b.total+=k,b.wrap&&k&&(T.adler=b.check=b.flags?o(b.check,me,k,T.next_out-k):a(b.check,me,k,T.next_out-k)),T.data_type=b.bits+(b.last?64:0)+(b.mode===12?128:0)+(b.mode===20||b.mode===15?256:0),(F==0&&k===0||q===4)&&Q===y&&(Q=-5),Q)},n.inflateEnd=function(T){if(!T||!T.state)return u;var q=T.state;return q.window&&(q.window=null),T.state=null,y},n.inflateGetHeader=function(T,q){var b;return T&&T.state&&2&(b=T.state).wrap?((b.head=q).done=!1,y):u},n.inflateSetDictionary=function(T,q){var b,J=q.length;return T&&T.state?(b=T.state).wrap!==0&&b.mode!==11?u:b.mode===11&&a(1,q,J,0)!==b.check?-3:ne(T,q,J,J)?(b.mode=31,-4):(b.havedict=1,y):u},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,i,n){var s=r("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(m,h,y,u,_,d,p,f){var v,w,$,A,I,S,j,z,L,ne=f.bits,T=0,q=0,b=0,J=0,me=0,X=0,fe=0,H=0,x=0,E=0,R=null,F=0,k=new s.Buf16(16),C=new s.Buf16(16),K=null,se=0;for(T=0;T<=15;T++)k[T]=0;for(q=0;q<u;q++)k[h[y+q]]++;for(me=ne,J=15;1<=J&&k[J]===0;J--);if(J<me&&(me=J),J===0)return _[d++]=20971520,_[d++]=20971520,f.bits=1,0;for(b=1;b<J&&k[b]===0;b++);for(me<b&&(me=b),T=H=1;T<=15;T++)if(H<<=1,(H-=k[T])<0)return-1;if(0<H&&(m===0||J!==1))return-1;for(C[1]=0,T=1;T<15;T++)C[T+1]=C[T]+k[T];for(q=0;q<u;q++)h[y+q]!==0&&(p[C[h[y+q]]++]=q);if(S=m===0?(R=K=p,19):m===1?(R=a,F-=257,K=o,se-=257,256):(R=c,K=l,-1),T=b,I=d,fe=q=E=0,$=-1,A=(x=1<<(X=me))-1,m===1&&852<x||m===2&&592<x)return 1;for(;;){for(j=T-fe,L=p[q]<S?(z=0,p[q]):p[q]>S?(z=K[se+p[q]],R[F+p[q]]):(z=96,0),v=1<<T-fe,b=w=1<<X;_[I+(E>>fe)+(w-=v)]=j<<24|z<<16|L|0,w!==0;);for(v=1<<T-1;E&v;)v>>=1;if(v!==0?(E&=v-1,E+=v):E=0,q++,--k[T]==0){if(T===J)break;T=h[y+p[q]]}if(me<T&&(E&A)!==$){for(fe===0&&(fe=me),I+=b,H=1<<(X=T-fe);X+fe<J&&!((H-=k[X+fe])<=0);)X++,H<<=1;if(x+=1<<X,m===1&&852<x||m===2&&592<x)return 1;_[$=E&A]=me<<24|X<<16|I-d|0}}return E!==0&&(_[I+E]=T-fe<<24|64<<16|0),f.bits=me,0}},{"../utils/common":41}],51:[function(r,i,n){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,i,n){var s=r("../utils/common"),a=0,o=1;function c(P){for(var M=P.length;0<=--M;)P[M]=0}var l=0,m=29,h=256,y=h+1+m,u=30,_=19,d=2*y+1,p=15,f=16,v=7,w=256,$=16,A=17,I=18,S=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],j=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ne=new Array(2*(y+2));c(ne);var T=new Array(2*u);c(T);var q=new Array(512);c(q);var b=new Array(256);c(b);var J=new Array(m);c(J);var me,X,fe,H=new Array(u);function x(P,M,Y,ee,V){this.static_tree=P,this.extra_bits=M,this.extra_base=Y,this.elems=ee,this.max_length=V,this.has_stree=P&&P.length}function E(P,M){this.dyn_tree=P,this.max_code=0,this.stat_desc=M}function R(P){return P<256?q[P]:q[256+(P>>>7)]}function F(P,M){P.pending_buf[P.pending++]=255&M,P.pending_buf[P.pending++]=M>>>8&255}function k(P,M,Y){P.bi_valid>f-Y?(P.bi_buf|=M<<P.bi_valid&65535,F(P,P.bi_buf),P.bi_buf=M>>f-P.bi_valid,P.bi_valid+=Y-f):(P.bi_buf|=M<<P.bi_valid&65535,P.bi_valid+=Y)}function C(P,M,Y){k(P,Y[2*M],Y[2*M+1])}function K(P,M){for(var Y=0;Y|=1&P,P>>>=1,Y<<=1,0<--M;);return Y>>>1}function se(P,M,Y){var ee,V,te=new Array(p+1),le=0;for(ee=1;ee<=p;ee++)te[ee]=le=le+Y[ee-1]<<1;for(V=0;V<=M;V++){var ie=P[2*V+1];ie!==0&&(P[2*V]=K(te[ie]++,ie))}}function re(P){var M;for(M=0;M<y;M++)P.dyn_ltree[2*M]=0;for(M=0;M<u;M++)P.dyn_dtree[2*M]=0;for(M=0;M<_;M++)P.bl_tree[2*M]=0;P.dyn_ltree[2*w]=1,P.opt_len=P.static_len=0,P.last_lit=P.matches=0}function ue(P){8<P.bi_valid?F(P,P.bi_buf):0<P.bi_valid&&(P.pending_buf[P.pending++]=P.bi_buf),P.bi_buf=0,P.bi_valid=0}function ve(P,M,Y,ee){var V=2*M,te=2*Y;return P[V]<P[te]||P[V]===P[te]&&ee[M]<=ee[Y]}function ke(P,M,Y){for(var ee=P.heap[Y],V=Y<<1;V<=P.heap_len&&(V<P.heap_len&&ve(M,P.heap[V+1],P.heap[V],P.depth)&&V++,!ve(M,ee,P.heap[V],P.depth));)P.heap[Y]=P.heap[V],Y=V,V<<=1;P.heap[Y]=ee}function Ke(P,M,Y){var ee,V,te,le,ie=0;if(P.last_lit!==0)for(;ee=P.pending_buf[P.d_buf+2*ie]<<8|P.pending_buf[P.d_buf+2*ie+1],V=P.pending_buf[P.l_buf+ie],ie++,ee===0?C(P,V,M):(C(P,(te=b[V])+h+1,M),(le=S[te])!==0&&k(P,V-=J[te],le),C(P,te=R(--ee),Y),(le=j[te])!==0&&k(P,ee-=H[te],le)),ie<P.last_lit;);C(P,w,M)}function Je(P,M){var Y,ee,V,te=M.dyn_tree,le=M.stat_desc.static_tree,ie=M.stat_desc.has_stree,pe=M.stat_desc.elems,Te=-1;for(P.heap_len=0,P.heap_max=d,Y=0;Y<pe;Y++)te[2*Y]!==0?(P.heap[++P.heap_len]=Te=Y,P.depth[Y]=0):te[2*Y+1]=0;for(;P.heap_len<2;)te[2*(V=P.heap[++P.heap_len]=Te<2?++Te:0)]=1,P.depth[V]=0,P.opt_len--,ie&&(P.static_len-=le[2*V+1]);for(M.max_code=Te,Y=P.heap_len>>1;1<=Y;Y--)ke(P,te,Y);for(V=pe;Y=P.heap[1],P.heap[1]=P.heap[P.heap_len--],ke(P,te,1),ee=P.heap[1],P.heap[--P.heap_max]=Y,P.heap[--P.heap_max]=ee,te[2*V]=te[2*Y]+te[2*ee],P.depth[V]=(P.depth[Y]>=P.depth[ee]?P.depth[Y]:P.depth[ee])+1,te[2*Y+1]=te[2*ee+1]=V,P.heap[1]=V++,ke(P,te,1),2<=P.heap_len;);P.heap[--P.heap_max]=P.heap[1],function(Ce,Ue){var ot,lt,Vt,je,Qt,Cr,ht=Ue.dyn_tree,ct=Ue.max_code,Pn=Ue.stat_desc.static_tree,On=Ue.stat_desc.has_stree,Rn=Ue.stat_desc.extra_bits,Qr=Ue.stat_desc.extra_base,Yt=Ue.stat_desc.max_length,lr=0;for(je=0;je<=p;je++)Ce.bl_count[je]=0;for(ht[2*Ce.heap[Ce.heap_max]+1]=0,ot=Ce.heap_max+1;ot<d;ot++)Yt<(je=ht[2*ht[2*(lt=Ce.heap[ot])+1]+1]+1)&&(je=Yt,lr++),ht[2*lt+1]=je,ct<lt||(Ce.bl_count[je]++,Qt=0,Qr<=lt&&(Qt=Rn[lt-Qr]),Cr=ht[2*lt],Ce.opt_len+=Cr*(je+Qt),On&&(Ce.static_len+=Cr*(Pn[2*lt+1]+Qt)));if(lr!==0){do{for(je=Yt-1;Ce.bl_count[je]===0;)je--;Ce.bl_count[je]--,Ce.bl_count[je+1]+=2,Ce.bl_count[Yt]--,lr-=2}while(0<lr);for(je=Yt;je!==0;je--)for(lt=Ce.bl_count[je];lt!==0;)ct<(Vt=Ce.heap[--ot])||(ht[2*Vt+1]!==je&&(Ce.opt_len+=(je-ht[2*Vt+1])*ht[2*Vt],ht[2*Vt+1]=je),lt--)}}(P,M),se(te,Te,P.bl_count)}function g(P,M,Y){var ee,V,te=-1,le=M[1],ie=0,pe=7,Te=4;for(le===0&&(pe=138,Te=3),M[2*(Y+1)+1]=65535,ee=0;ee<=Y;ee++)V=le,le=M[2*(ee+1)+1],++ie<pe&&V===le||(ie<Te?P.bl_tree[2*V]+=ie:V!==0?(V!==te&&P.bl_tree[2*V]++,P.bl_tree[2*$]++):ie<=10?P.bl_tree[2*A]++:P.bl_tree[2*I]++,te=V,Te=(ie=0)===le?(pe=138,3):V===le?(pe=6,3):(pe=7,4))}function Q(P,M,Y){var ee,V,te=-1,le=M[1],ie=0,pe=7,Te=4;for(le===0&&(pe=138,Te=3),ee=0;ee<=Y;ee++)if(V=le,le=M[2*(ee+1)+1],!(++ie<pe&&V===le)){if(ie<Te)for(;C(P,V,P.bl_tree),--ie!=0;);else V!==0?(V!==te&&(C(P,V,P.bl_tree),ie--),C(P,$,P.bl_tree),k(P,ie-3,2)):ie<=10?(C(P,A,P.bl_tree),k(P,ie-3,3)):(C(P,I,P.bl_tree),k(P,ie-11,7));te=V,Te=(ie=0)===le?(pe=138,3):V===le?(pe=6,3):(pe=7,4)}}c(H);var W=!1;function N(P,M,Y,ee){k(P,(l<<1)+(ee?1:0),3),function(V,te,le,ie){ue(V),ie&&(F(V,le),F(V,~le)),s.arraySet(V.pending_buf,V.window,te,le,V.pending),V.pending+=le}(P,M,Y,!0)}n._tr_init=function(P){W||(function(){var M,Y,ee,V,te,le=new Array(p+1);for(V=ee=0;V<m-1;V++)for(J[V]=ee,M=0;M<1<<S[V];M++)b[ee++]=V;for(b[ee-1]=V,V=te=0;V<16;V++)for(H[V]=te,M=0;M<1<<j[V];M++)q[te++]=V;for(te>>=7;V<u;V++)for(H[V]=te<<7,M=0;M<1<<j[V]-7;M++)q[256+te++]=V;for(Y=0;Y<=p;Y++)le[Y]=0;for(M=0;M<=143;)ne[2*M+1]=8,M++,le[8]++;for(;M<=255;)ne[2*M+1]=9,M++,le[9]++;for(;M<=279;)ne[2*M+1]=7,M++,le[7]++;for(;M<=287;)ne[2*M+1]=8,M++,le[8]++;for(se(ne,y+1,le),M=0;M<u;M++)T[2*M+1]=5,T[2*M]=K(M,5);me=new x(ne,S,h+1,y,p),X=new x(T,j,0,u,p),fe=new x(new Array(0),z,0,_,v)}(),W=!0),P.l_desc=new E(P.dyn_ltree,me),P.d_desc=new E(P.dyn_dtree,X),P.bl_desc=new E(P.bl_tree,fe),P.bi_buf=0,P.bi_valid=0,re(P)},n._tr_stored_block=N,n._tr_flush_block=function(P,M,Y,ee){var V,te,le=0;0<P.level?(P.strm.data_type===2&&(P.strm.data_type=function(ie){var pe,Te=4093624447;for(pe=0;pe<=31;pe++,Te>>>=1)if(1&Te&&ie.dyn_ltree[2*pe]!==0)return a;if(ie.dyn_ltree[18]!==0||ie.dyn_ltree[20]!==0||ie.dyn_ltree[26]!==0)return o;for(pe=32;pe<h;pe++)if(ie.dyn_ltree[2*pe]!==0)return o;return a}(P)),Je(P,P.l_desc),Je(P,P.d_desc),le=function(ie){var pe;for(g(ie,ie.dyn_ltree,ie.l_desc.max_code),g(ie,ie.dyn_dtree,ie.d_desc.max_code),Je(ie,ie.bl_desc),pe=_-1;3<=pe&&ie.bl_tree[2*L[pe]+1]===0;pe--);return ie.opt_len+=3*(pe+1)+5+5+4,pe}(P),V=P.opt_len+3+7>>>3,(te=P.static_len+3+7>>>3)<=V&&(V=te)):V=te=Y+5,Y+4<=V&&M!==-1?N(P,M,Y,ee):P.strategy===4||te===V?(k(P,2+(ee?1:0),3),Ke(P,ne,T)):(k(P,4+(ee?1:0),3),function(ie,pe,Te,Ce){var Ue;for(k(ie,pe-257,5),k(ie,Te-1,5),k(ie,Ce-4,4),Ue=0;Ue<Ce;Ue++)k(ie,ie.bl_tree[2*L[Ue]+1],3);Q(ie,ie.dyn_ltree,pe-1),Q(ie,ie.dyn_dtree,Te-1)}(P,P.l_desc.max_code+1,P.d_desc.max_code+1,le+1),Ke(P,P.dyn_ltree,P.dyn_dtree)),re(P),ee&&ue(P)},n._tr_tally=function(P,M,Y){return P.pending_buf[P.d_buf+2*P.last_lit]=M>>>8&255,P.pending_buf[P.d_buf+2*P.last_lit+1]=255&M,P.pending_buf[P.l_buf+P.last_lit]=255&Y,P.last_lit++,M===0?P.dyn_ltree[2*Y]++:(P.matches++,M--,P.dyn_ltree[2*(b[Y]+h+1)]++,P.dyn_dtree[2*R(M)]++),P.last_lit===P.lit_bufsize-1},n._tr_align=function(P){k(P,2,3),C(P,w,ne),function(M){M.bi_valid===16?(F(M,M.bi_buf),M.bi_buf=0,M.bi_valid=0):8<=M.bi_valid&&(M.pending_buf[M.pending++]=255&M.bi_buf,M.bi_buf>>=8,M.bi_valid-=8)}(P)}},{"../utils/common":41}],53:[function(r,i,n){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,i,n){(function(s){(function(a,o){if(!a.setImmediate){var c,l,m,h,y=1,u={},_=!1,d=a.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(a);p=p&&p.setTimeout?p:a,c={}.toString.call(a.process)==="[object process]"?function($){process.nextTick(function(){v($)})}:function(){if(a.postMessage&&!a.importScripts){var $=!0,A=a.onmessage;return a.onmessage=function(){$=!1},a.postMessage("","*"),a.onmessage=A,$}}()?(h="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",w,!1):a.attachEvent("onmessage",w),function($){a.postMessage(h+$,"*")}):a.MessageChannel?((m=new MessageChannel).port1.onmessage=function($){v($.data)},function($){m.port2.postMessage($)}):d&&"onreadystatechange"in d.createElement("script")?(l=d.documentElement,function($){var A=d.createElement("script");A.onreadystatechange=function(){v($),A.onreadystatechange=null,l.removeChild(A),A=null},l.appendChild(A)}):function($){setTimeout(v,0,$)},p.setImmediate=function($){typeof $!="function"&&($=new Function(""+$));for(var A=new Array(arguments.length-1),I=0;I<A.length;I++)A[I]=arguments[I+1];var S={callback:$,args:A};return u[y]=S,c(y),y++},p.clearImmediate=f}function f($){delete u[$]}function v($){if(_)setTimeout(v,0,$);else{var A=u[$];if(A){_=!0;try{(function(I){var S=I.callback,j=I.args;switch(j.length){case 0:S();break;case 1:S(j[0]);break;case 2:S(j[0],j[1]);break;case 3:S(j[0],j[1],j[2]);break;default:S.apply(o,j)}})(A)}finally{f($),_=!1}}}}function w($){$.source===a&&typeof $.data=="string"&&$.data.indexOf(h)===0&&v(+$.data.slice(h.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Tr<"u"?Tr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Vo);const zr=Kn;var gn={},xo={get exports(){return gn},set exports(t){gn=t}},ca={},Et={},wr={},Wr={},Pe={},Kr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends e{constructor(v){if(super(),!t.IDENTIFIER.test(v))throw new Error("CodeGen: name must be a valid identifier");this.str=v}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class i extends e{constructor(v){super(),this._items=typeof v=="string"?[v]:v}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const v=this._items[0];return v===""||v==='""'}get str(){var v;return(v=this._str)!==null&&v!==void 0?v:this._str=this._items.reduce((w,$)=>`${w}${$}`,"")}get names(){var v;return(v=this._names)!==null&&v!==void 0?v:this._names=this._items.reduce((w,$)=>($ instanceof r&&(w[$.str]=(w[$.str]||0)+1),w),{})}}t._Code=i,t.nil=new i("");function n(f,...v){const w=[f[0]];let $=0;for(;$<v.length;)o(w,v[$]),w.push(f[++$]);return new i(w)}t._=n;const s=new i("+");function a(f,...v){const w=[u(f[0])];let $=0;for(;$<v.length;)w.push(s),o(w,v[$]),w.push(s,u(f[++$]));return c(w),new i(w)}t.str=a;function o(f,v){v instanceof i?f.push(...v._items):v instanceof r?f.push(v):f.push(h(v))}t.addCodeArg=o;function c(f){let v=1;for(;v<f.length-1;){if(f[v]===s){const w=l(f[v-1],f[v+1]);if(w!==void 0){f.splice(v-1,3,w);continue}f[v++]="+"}v++}}function l(f,v){if(v==='""')return f;if(f==='""')return v;if(typeof f=="string")return v instanceof r||f[f.length-1]!=='"'?void 0:typeof v!="string"?`${f.slice(0,-1)}${v}"`:v[0]==='"'?f.slice(0,-1)+v.slice(1):void 0;if(typeof v=="string"&&v[0]==='"'&&!(f instanceof r))return`"${f}${v.slice(1)}`}function m(f,v){return v.emptyStr()?f:f.emptyStr()?v:a`${f}${v}`}t.strConcat=m;function h(f){return typeof f=="number"||typeof f=="boolean"||f===null?f:u(Array.isArray(f)?f.join(","):f)}function y(f){return new i(u(f))}t.stringify=y;function u(f){return JSON.stringify(f).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=u;function _(f){return typeof f=="string"&&t.IDENTIFIER.test(f)?new i(`.${f}`):n`[${f}]`}t.getProperty=_;function d(f){if(typeof f=="string"&&t.IDENTIFIER.test(f))return new i(`${f}`);throw new Error(`CodeGen: invalid export name: ${f}, use explicit $id name mapping`)}t.getEsmExportName=d;function p(f){return new i(f.toString())}t.regexpCode=p})(Kr);var Hn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=Kr;class r extends Error{constructor(l){super(`CodeGen: "code" for ${l} not defined`),this.value=l.value}}var i;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(i=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class n{constructor({prefixes:l,parent:m}={}){this._names={},this._prefixes=l,this._parent=m}toName(l){return l instanceof e.Name?l:this.name(l)}name(l){return new e.Name(this._newName(l))}_newName(l){const m=this._names[l]||this._nameGroup(l);return`${l}${m.index++}`}_nameGroup(l){var m,h;if(!((h=(m=this._parent)===null||m===void 0?void 0:m._prefixes)===null||h===void 0)&&h.has(l)||this._prefixes&&!this._prefixes.has(l))throw new Error(`CodeGen: prefix "${l}" is not allowed in this scope`);return this._names[l]={prefix:l,index:0}}}t.Scope=n;class s extends e.Name{constructor(l,m){super(m),this.prefix=l}setValue(l,{property:m,itemIndex:h}){this.value=l,this.scopePath=(0,e._)`.${new e.Name(m)}[${h}]`}}t.ValueScopeName=s;const a=(0,e._)`\n`;class o extends n{constructor(l){super(l),this._values={},this._scope=l.scope,this.opts={...l,_n:l.lines?a:e.nil}}get(){return this._scope}name(l){return new s(l,this._newName(l))}value(l,m){var h;if(m.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const y=this.toName(l),{prefix:u}=y,_=(h=m.key)!==null&&h!==void 0?h:m.ref;let d=this._values[u];if(d){const v=d.get(_);if(v)return v}else d=this._values[u]=new Map;d.set(_,y);const p=this._scope[u]||(this._scope[u]=[]),f=p.length;return p[f]=m.ref,y.setValue(m,{property:u,itemIndex:f}),y}getValue(l,m){const h=this._values[l];if(h)return h.get(m)}scopeRefs(l,m=this._values){return this._reduceValues(m,h=>{if(h.scopePath===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return(0,e._)`${l}${h.scopePath}`})}scopeCode(l=this._values,m,h){return this._reduceValues(l,y=>{if(y.value===void 0)throw new Error(`CodeGen: name "${y}" has no value`);return y.value.code},m,h)}_reduceValues(l,m,h={},y){let u=e.nil;for(const _ in l){const d=l[_];if(!d)continue;const p=h[_]=h[_]||new Map;d.forEach(f=>{if(p.has(f))return;p.set(f,i.Started);let v=m(f);if(v){const w=this.opts.es5?t.varKinds.var:t.varKinds.const;u=(0,e._)`${u}${w} ${f} = ${v};${this.opts._n}`}else if(v=y==null?void 0:y(f))u=(0,e._)`${u}${v}${this.opts._n}`;else throw new r(f);p.set(f,i.Completed)})}return u}}t.ValueScope=o})(Hn);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=Kr,r=Hn;var i=Kr;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return i._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return i.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return i.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return i.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return i.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return i.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return i.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return i.Name}});var n=Hn;Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return n.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return n.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return n.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return n.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class s{optimizeNodes(){return this}optimizeNames(k,C){return this}}class a extends s{constructor(k,C,K){super(),this.varKind=k,this.name=C,this.rhs=K}render({es5:k,_n:C}){const K=k?r.varKinds.var:this.varKind,se=this.rhs===void 0?"":` = ${this.rhs}`;return`${K} ${this.name}${se};`+C}optimizeNames(k,C){if(k[this.name.str])return this.rhs&&(this.rhs=b(this.rhs,k,C)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class o extends s{constructor(k,C,K){super(),this.lhs=k,this.rhs=C,this.sideEffects=K}render({_n:k}){return`${this.lhs} = ${this.rhs};`+k}optimizeNames(k,C){if(!(this.lhs instanceof e.Name&&!k[this.lhs.str]&&!this.sideEffects))return this.rhs=b(this.rhs,k,C),this}get names(){const k=this.lhs instanceof e.Name?{}:{...this.lhs.names};return q(k,this.rhs)}}class c extends o{constructor(k,C,K,se){super(k,K,se),this.op=C}render({_n:k}){return`${this.lhs} ${this.op}= ${this.rhs};`+k}}class l extends s{constructor(k){super(),this.label=k,this.names={}}render({_n:k}){return`${this.label}:`+k}}class m extends s{constructor(k){super(),this.label=k,this.names={}}render({_n:k}){return`break${this.label?` ${this.label}`:""};`+k}}class h extends s{constructor(k){super(),this.error=k}render({_n:k}){return`throw ${this.error};`+k}get names(){return this.error.names}}class y extends s{constructor(k){super(),this.code=k}render({_n:k}){return`${this.code};`+k}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(k,C){return this.code=b(this.code,k,C),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class u extends s{constructor(k=[]){super(),this.nodes=k}render(k){return this.nodes.reduce((C,K)=>C+K.render(k),"")}optimizeNodes(){const{nodes:k}=this;let C=k.length;for(;C--;){const K=k[C].optimizeNodes();Array.isArray(K)?k.splice(C,1,...K):K?k[C]=K:k.splice(C,1)}return k.length>0?this:void 0}optimizeNames(k,C){const{nodes:K}=this;let se=K.length;for(;se--;){const re=K[se];re.optimizeNames(k,C)||(J(k,re.names),K.splice(se,1))}return K.length>0?this:void 0}get names(){return this.nodes.reduce((k,C)=>T(k,C.names),{})}}class _ extends u{render(k){return"{"+k._n+super.render(k)+"}"+k._n}}class d extends u{}class p extends _{}p.kind="else";class f extends _{constructor(k,C){super(C),this.condition=k}render(k){let C=`if(${this.condition})`+super.render(k);return this.else&&(C+="else "+this.else.render(k)),C}optimizeNodes(){super.optimizeNodes();const k=this.condition;if(k===!0)return this.nodes;let C=this.else;if(C){const K=C.optimizeNodes();C=this.else=Array.isArray(K)?new p(K):K}if(C)return k===!1?C instanceof f?C:C.nodes:this.nodes.length?this:new f(me(k),C instanceof f?[C]:C.nodes);if(!(k===!1||!this.nodes.length))return this}optimizeNames(k,C){var K;if(this.else=(K=this.else)===null||K===void 0?void 0:K.optimizeNames(k,C),!!(super.optimizeNames(k,C)||this.else))return this.condition=b(this.condition,k,C),this}get names(){const k=super.names;return q(k,this.condition),this.else&&T(k,this.else.names),k}}f.kind="if";class v extends _{}v.kind="for";class w extends v{constructor(k){super(),this.iteration=k}render(k){return`for(${this.iteration})`+super.render(k)}optimizeNames(k,C){if(super.optimizeNames(k,C))return this.iteration=b(this.iteration,k,C),this}get names(){return T(super.names,this.iteration.names)}}class $ extends v{constructor(k,C,K,se){super(),this.varKind=k,this.name=C,this.from=K,this.to=se}render(k){const C=k.es5?r.varKinds.var:this.varKind,{name:K,from:se,to:re}=this;return`for(${C} ${K}=${se}; ${K}<${re}; ${K}++)`+super.render(k)}get names(){const k=q(super.names,this.from);return q(k,this.to)}}class A extends v{constructor(k,C,K,se){super(),this.loop=k,this.varKind=C,this.name=K,this.iterable=se}render(k){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(k)}optimizeNames(k,C){if(super.optimizeNames(k,C))return this.iterable=b(this.iterable,k,C),this}get names(){return T(super.names,this.iterable.names)}}class I extends _{constructor(k,C,K){super(),this.name=k,this.args=C,this.async=K}render(k){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(k)}}I.kind="func";class S extends u{render(k){return"return "+super.render(k)}}S.kind="return";class j extends _{render(k){let C="try"+super.render(k);return this.catch&&(C+=this.catch.render(k)),this.finally&&(C+=this.finally.render(k)),C}optimizeNodes(){var k,C;return super.optimizeNodes(),(k=this.catch)===null||k===void 0||k.optimizeNodes(),(C=this.finally)===null||C===void 0||C.optimizeNodes(),this}optimizeNames(k,C){var K,se;return super.optimizeNames(k,C),(K=this.catch)===null||K===void 0||K.optimizeNames(k,C),(se=this.finally)===null||se===void 0||se.optimizeNames(k,C),this}get names(){const k=super.names;return this.catch&&T(k,this.catch.names),this.finally&&T(k,this.finally.names),k}}class z extends _{constructor(k){super(),this.error=k}render(k){return`catch(${this.error})`+super.render(k)}}z.kind="catch";class L extends _{render(k){return"finally"+super.render(k)}}L.kind="finally";class ne{constructor(k,C={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...C,_n:C.lines?`
`:""},this._extScope=k,this._scope=new r.Scope({parent:k}),this._nodes=[new d]}toString(){return this._root.render(this.opts)}name(k){return this._scope.name(k)}scopeName(k){return this._extScope.name(k)}scopeValue(k,C){const K=this._extScope.value(k,C);return(this._values[K.prefix]||(this._values[K.prefix]=new Set)).add(K),K}getScopeValue(k,C){return this._extScope.getValue(k,C)}scopeRefs(k){return this._extScope.scopeRefs(k,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(k,C,K,se){const re=this._scope.toName(C);return K!==void 0&&se&&(this._constants[re.str]=K),this._leafNode(new a(k,re,K)),re}const(k,C,K){return this._def(r.varKinds.const,k,C,K)}let(k,C,K){return this._def(r.varKinds.let,k,C,K)}var(k,C,K){return this._def(r.varKinds.var,k,C,K)}assign(k,C,K){return this._leafNode(new o(k,C,K))}add(k,C){return this._leafNode(new c(k,t.operators.ADD,C))}code(k){return typeof k=="function"?k():k!==e.nil&&this._leafNode(new y(k)),this}object(...k){const C=["{"];for(const[K,se]of k)C.length>1&&C.push(","),C.push(K),(K!==se||this.opts.es5)&&(C.push(":"),(0,e.addCodeArg)(C,se));return C.push("}"),new e._Code(C)}if(k,C,K){if(this._blockNode(new f(k)),C&&K)this.code(C).else().code(K).endIf();else if(C)this.code(C).endIf();else if(K)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(k){return this._elseNode(new f(k))}else(){return this._elseNode(new p)}endIf(){return this._endBlockNode(f,p)}_for(k,C){return this._blockNode(k),C&&this.code(C).endFor(),this}for(k,C){return this._for(new w(k),C)}forRange(k,C,K,se,re=this.opts.es5?r.varKinds.var:r.varKinds.let){const ue=this._scope.toName(k);return this._for(new $(re,ue,C,K),()=>se(ue))}forOf(k,C,K,se=r.varKinds.const){const re=this._scope.toName(k);if(this.opts.es5){const ue=C instanceof e.Name?C:this.var("_arr",C);return this.forRange("_i",0,(0,e._)`${ue}.length`,ve=>{this.var(re,(0,e._)`${ue}[${ve}]`),K(re)})}return this._for(new A("of",se,re,C),()=>K(re))}forIn(k,C,K,se=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(k,(0,e._)`Object.keys(${C})`,K);const re=this._scope.toName(k);return this._for(new A("in",se,re,C),()=>K(re))}endFor(){return this._endBlockNode(v)}label(k){return this._leafNode(new l(k))}break(k){return this._leafNode(new m(k))}return(k){const C=new S;if(this._blockNode(C),this.code(k),C.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(S)}try(k,C,K){if(!C&&!K)throw new Error('CodeGen: "try" without "catch" and "finally"');const se=new j;if(this._blockNode(se),this.code(k),C){const re=this.name("e");this._currNode=se.catch=new z(re),C(re)}return K&&(this._currNode=se.finally=new L,this.code(K)),this._endBlockNode(z,L)}throw(k){return this._leafNode(new h(k))}block(k,C){return this._blockStarts.push(this._nodes.length),k&&this.code(k).endBlock(C),this}endBlock(k){const C=this._blockStarts.pop();if(C===void 0)throw new Error("CodeGen: not in self-balancing block");const K=this._nodes.length-C;if(K<0||k!==void 0&&K!==k)throw new Error(`CodeGen: wrong number of nodes: ${K} vs ${k} expected`);return this._nodes.length=C,this}func(k,C=e.nil,K,se){return this._blockNode(new I(k,C,K)),se&&this.code(se).endFunc(),this}endFunc(){return this._endBlockNode(I)}optimize(k=1){for(;k-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(k){return this._currNode.nodes.push(k),this}_blockNode(k){this._currNode.nodes.push(k),this._nodes.push(k)}_endBlockNode(k,C){const K=this._currNode;if(K instanceof k||C&&K instanceof C)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${C?`${k.kind}/${C.kind}`:k.kind}"`)}_elseNode(k){const C=this._currNode;if(!(C instanceof f))throw new Error('CodeGen: "else" without "if"');return this._currNode=C.else=k,this}get _root(){return this._nodes[0]}get _currNode(){const k=this._nodes;return k[k.length-1]}set _currNode(k){const C=this._nodes;C[C.length-1]=k}}t.CodeGen=ne;function T(F,k){for(const C in k)F[C]=(F[C]||0)+(k[C]||0);return F}function q(F,k){return k instanceof e._CodeOrName?T(F,k.names):F}function b(F,k,C){if(F instanceof e.Name)return K(F);if(!se(F))return F;return new e._Code(F._items.reduce((re,ue)=>(ue instanceof e.Name&&(ue=K(ue)),ue instanceof e._Code?re.push(...ue._items):re.push(ue),re),[]));function K(re){const ue=C[re.str];return ue===void 0||k[re.str]!==1?re:(delete k[re.str],ue)}function se(re){return re instanceof e._Code&&re._items.some(ue=>ue instanceof e.Name&&k[ue.str]===1&&C[ue.str]!==void 0)}}function J(F,k){for(const C in k)F[C]=(F[C]||0)-(k[C]||0)}function me(F){return typeof F=="boolean"||typeof F=="number"||F===null?!F:(0,e._)`!${R(F)}`}t.not=me;const X=E(t.operators.AND);function fe(...F){return F.reduce(X)}t.and=fe;const H=E(t.operators.OR);function x(...F){return F.reduce(H)}t.or=x;function E(F){return(k,C)=>k===e.nil?C:C===e.nil?k:(0,e._)`${R(k)} ${F} ${R(C)}`}function R(F){return F instanceof e.Name?F:(0,e._)`(${F})`}})(Pe);var Ne={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const e=Pe,r=Kr;function i(I){const S={};for(const j of I)S[j]=!0;return S}t.toHash=i;function n(I,S){return typeof S=="boolean"?S:Object.keys(S).length===0?!0:(s(I,S),!a(S,I.self.RULES.all))}t.alwaysValidSchema=n;function s(I,S=I.schema){const{opts:j,self:z}=I;if(!j.strictSchema||typeof S=="boolean")return;const L=z.RULES.keywords;for(const ne in S)L[ne]||A(I,`unknown keyword: "${ne}"`)}t.checkUnknownRules=s;function a(I,S){if(typeof I=="boolean")return!I;for(const j in I)if(S[j])return!0;return!1}t.schemaHasRules=a;function o(I,S){if(typeof I=="boolean")return!I;for(const j in I)if(j!=="$ref"&&S.all[j])return!0;return!1}t.schemaHasRulesButRef=o;function c({topSchemaRef:I,schemaPath:S},j,z,L){if(!L){if(typeof j=="number"||typeof j=="boolean")return j;if(typeof j=="string")return(0,e._)`${j}`}return(0,e._)`${I}${S}${(0,e.getProperty)(z)}`}t.schemaRefOrVal=c;function l(I){return y(decodeURIComponent(I))}t.unescapeFragment=l;function m(I){return encodeURIComponent(h(I))}t.escapeFragment=m;function h(I){return typeof I=="number"?`${I}`:I.replace(/~/g,"~0").replace(/\//g,"~1")}t.escapeJsonPointer=h;function y(I){return I.replace(/~1/g,"/").replace(/~0/g,"~")}t.unescapeJsonPointer=y;function u(I,S){if(Array.isArray(I))for(const j of I)S(j);else S(I)}t.eachItem=u;function _({mergeNames:I,mergeToName:S,mergeValues:j,resultToName:z}){return(L,ne,T,q)=>{const b=T===void 0?ne:T instanceof e.Name?(ne instanceof e.Name?I(L,ne,T):S(L,ne,T),T):ne instanceof e.Name?(S(L,T,ne),ne):j(ne,T);return q===e.Name&&!(b instanceof e.Name)?z(L,b):b}}t.mergeEvaluated={props:_({mergeNames:(I,S,j)=>I.if((0,e._)`${j} !== true && ${S} !== undefined`,()=>{I.if((0,e._)`${S} === true`,()=>I.assign(j,!0),()=>I.assign(j,(0,e._)`${j} || {}`).code((0,e._)`Object.assign(${j}, ${S})`))}),mergeToName:(I,S,j)=>I.if((0,e._)`${j} !== true`,()=>{S===!0?I.assign(j,!0):(I.assign(j,(0,e._)`${j} || {}`),p(I,j,S))}),mergeValues:(I,S)=>I===!0?!0:{...I,...S},resultToName:d}),items:_({mergeNames:(I,S,j)=>I.if((0,e._)`${j} !== true && ${S} !== undefined`,()=>I.assign(j,(0,e._)`${S} === true ? true : ${j} > ${S} ? ${j} : ${S}`)),mergeToName:(I,S,j)=>I.if((0,e._)`${j} !== true`,()=>I.assign(j,S===!0?!0:(0,e._)`${j} > ${S} ? ${j} : ${S}`)),mergeValues:(I,S)=>I===!0?!0:Math.max(I,S),resultToName:(I,S)=>I.var("items",S)})};function d(I,S){if(S===!0)return I.var("props",!0);const j=I.var("props",(0,e._)`{}`);return S!==void 0&&p(I,j,S),j}t.evaluatedPropsToName=d;function p(I,S,j){Object.keys(j).forEach(z=>I.assign((0,e._)`${S}${(0,e.getProperty)(z)}`,!0))}t.setEvaluated=p;const f={};function v(I,S){return I.scopeValue("func",{ref:S,code:f[S.code]||(f[S.code]=new r._Code(S.code))})}t.useFunc=v;var w;(function(I){I[I.Num=0]="Num",I[I.Str=1]="Str"})(w=t.Type||(t.Type={}));function $(I,S,j){if(I instanceof e.Name){const z=S===w.Num;return j?z?(0,e._)`"[" + ${I} + "]"`:(0,e._)`"['" + ${I} + "']"`:z?(0,e._)`"/" + ${I}`:(0,e._)`"/" + ${I}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return j?(0,e.getProperty)(I).toString():"/"+h(I)}t.getErrorPath=$;function A(I,S,j=I.opts.strictSchema){if(j){if(S=`strict mode: ${S}`,j===!0)throw new Error(S);I.self.logger.warn(S)}}t.checkStrictMode=A})(Ne);var jt={};Object.defineProperty(jt,"__esModule",{value:!0});const et=Pe,Ko={data:new et.Name("data"),valCxt:new et.Name("valCxt"),instancePath:new et.Name("instancePath"),parentData:new et.Name("parentData"),parentDataProperty:new et.Name("parentDataProperty"),rootData:new et.Name("rootData"),dynamicAnchors:new et.Name("dynamicAnchors"),vErrors:new et.Name("vErrors"),errors:new et.Name("errors"),this:new et.Name("this"),self:new et.Name("self"),scope:new et.Name("scope"),json:new et.Name("json"),jsonPos:new et.Name("jsonPos"),jsonLen:new et.Name("jsonLen"),jsonPart:new et.Name("jsonPart")};jt.default=Ko;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=Pe,r=Ne,i=jt;t.keywordError={message:({keyword:p})=>(0,e.str)`must pass "${p}" keyword validation`},t.keyword$DataError={message:({keyword:p,schemaType:f})=>f?(0,e.str)`"${p}" keyword must be ${f} ($data)`:(0,e.str)`"${p}" keyword is invalid ($data)`};function n(p,f=t.keywordError,v,w){const{it:$}=p,{gen:A,compositeRule:I,allErrors:S}=$,j=h(p,f,v);w??(I||S)?c(A,j):l($,(0,e._)`[${j}]`)}t.reportError=n;function s(p,f=t.keywordError,v){const{it:w}=p,{gen:$,compositeRule:A,allErrors:I}=w,S=h(p,f,v);c($,S),A||I||l(w,i.default.vErrors)}t.reportExtraError=s;function a(p,f){p.assign(i.default.errors,f),p.if((0,e._)`${i.default.vErrors} !== null`,()=>p.if(f,()=>p.assign((0,e._)`${i.default.vErrors}.length`,f),()=>p.assign(i.default.vErrors,null)))}t.resetErrorsCount=a;function o({gen:p,keyword:f,schemaValue:v,data:w,errsCount:$,it:A}){if($===void 0)throw new Error("ajv implementation error");const I=p.name("err");p.forRange("i",$,i.default.errors,S=>{p.const(I,(0,e._)`${i.default.vErrors}[${S}]`),p.if((0,e._)`${I}.instancePath === undefined`,()=>p.assign((0,e._)`${I}.instancePath`,(0,e.strConcat)(i.default.instancePath,A.errorPath))),p.assign((0,e._)`${I}.schemaPath`,(0,e.str)`${A.errSchemaPath}/${f}`),A.opts.verbose&&(p.assign((0,e._)`${I}.schema`,v),p.assign((0,e._)`${I}.data`,w))})}t.extendErrors=o;function c(p,f){const v=p.const("err",f);p.if((0,e._)`${i.default.vErrors} === null`,()=>p.assign(i.default.vErrors,(0,e._)`[${v}]`),(0,e._)`${i.default.vErrors}.push(${v})`),p.code((0,e._)`${i.default.errors}++`)}function l(p,f){const{gen:v,validateName:w,schemaEnv:$}=p;$.$async?v.throw((0,e._)`new ${p.ValidationError}(${f})`):(v.assign((0,e._)`${w}.errors`,f),v.return(!1))}const m={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function h(p,f,v){const{createErrors:w}=p.it;return w===!1?(0,e._)`{}`:y(p,f,v)}function y(p,f,v={}){const{gen:w,it:$}=p,A=[u($,v),_(p,v)];return d(p,f,A),w.object(...A)}function u({errorPath:p},{instancePath:f}){const v=f?(0,e.str)`${p}${(0,r.getErrorPath)(f,r.Type.Str)}`:p;return[i.default.instancePath,(0,e.strConcat)(i.default.instancePath,v)]}function _({keyword:p,it:{errSchemaPath:f}},{schemaPath:v,parentSchema:w}){let $=w?f:(0,e.str)`${f}/${p}`;return v&&($=(0,e.str)`${$}${(0,r.getErrorPath)(v,r.Type.Str)}`),[m.schemaPath,$]}function d(p,{params:f,message:v},w){const{keyword:$,data:A,schemaValue:I,it:S}=p,{opts:j,propertyName:z,topSchemaRef:L,schemaPath:ne}=S;w.push([m.keyword,$],[m.params,typeof f=="function"?f(p):f||(0,e._)`{}`]),j.messages&&w.push([m.message,typeof v=="function"?v(p):v]),j.verbose&&w.push([m.schema,I],[m.parentSchema,(0,e._)`${L}${ne}`],[i.default.data,A]),z&&w.push([m.propertyName,z])}})(Wr);Object.defineProperty(wr,"__esModule",{value:!0});wr.boolOrEmptySchema=wr.topBoolOrEmptySchema=void 0;const Ho=Wr,Wo=Pe,Zo=jt,qo={message:"boolean schema is false"};function Go(t){const{gen:e,schema:r,validateName:i}=t;r===!1?ua(t,!1):typeof r=="object"&&r.$async===!0?e.return(Zo.default.data):(e.assign((0,Wo._)`${i}.errors`,null),e.return(!0))}wr.topBoolOrEmptySchema=Go;function Jo(t,e){const{gen:r,schema:i}=t;i===!1?(r.var(e,!1),ua(t)):r.var(e,!0)}wr.boolOrEmptySchema=Jo;function ua(t,e){const{gen:r,data:i}=t,n={gen:r,keyword:"false schema",data:i,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,Ho.reportError)(n,qo,void 0,e)}var Zr={},ar={};Object.defineProperty(ar,"__esModule",{value:!0});ar.getRules=ar.isJSONType=void 0;const Qo=["string","number","integer","boolean","null","object","array"],Yo=new Set(Qo);function Xo(t){return typeof t=="string"&&Yo.has(t)}ar.isJSONType=Xo;function el(){const t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}ar.getRules=el;var Bt={};Object.defineProperty(Bt,"__esModule",{value:!0});Bt.shouldUseRule=Bt.shouldUseGroup=Bt.schemaHasRulesForType=void 0;function tl({schema:t,self:e},r){const i=e.RULES.types[r];return i&&i!==!0&&fa(t,i)}Bt.schemaHasRulesForType=tl;function fa(t,e){return e.rules.some(r=>da(t,r))}Bt.shouldUseGroup=fa;function da(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(i=>t[i]!==void 0))}Bt.shouldUseRule=da;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const e=ar,r=Bt,i=Wr,n=Pe,s=Ne;var a;(function(w){w[w.Correct=0]="Correct",w[w.Wrong=1]="Wrong"})(a=t.DataType||(t.DataType={}));function o(w){const $=c(w.type);if($.includes("null")){if(w.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!$.length&&w.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');w.nullable===!0&&$.push("null")}return $}t.getSchemaTypes=o;function c(w){const $=Array.isArray(w)?w:w?[w]:[];if($.every(e.isJSONType))return $;throw new Error("type must be JSONType or JSONType[]: "+$.join(","))}t.getJSONTypes=c;function l(w,$){const{gen:A,data:I,opts:S}=w,j=h($,S.coerceTypes),z=$.length>0&&!(j.length===0&&$.length===1&&(0,r.schemaHasRulesForType)(w,$[0]));if(z){const L=d($,I,S.strictNumbers,a.Wrong);A.if(L,()=>{j.length?y(w,$,j):f(w)})}return z}t.coerceAndCheckDataType=l;const m=new Set(["string","number","integer","boolean","null"]);function h(w,$){return $?w.filter(A=>m.has(A)||$==="array"&&A==="array"):[]}function y(w,$,A){const{gen:I,data:S,opts:j}=w,z=I.let("dataType",(0,n._)`typeof ${S}`),L=I.let("coerced",(0,n._)`undefined`);j.coerceTypes==="array"&&I.if((0,n._)`${z} == 'object' && Array.isArray(${S}) && ${S}.length == 1`,()=>I.assign(S,(0,n._)`${S}[0]`).assign(z,(0,n._)`typeof ${S}`).if(d($,S,j.strictNumbers),()=>I.assign(L,S))),I.if((0,n._)`${L} !== undefined`);for(const T of A)(m.has(T)||T==="array"&&j.coerceTypes==="array")&&ne(T);I.else(),f(w),I.endIf(),I.if((0,n._)`${L} !== undefined`,()=>{I.assign(S,L),u(w,L)});function ne(T){switch(T){case"string":I.elseIf((0,n._)`${z} == "number" || ${z} == "boolean"`).assign(L,(0,n._)`"" + ${S}`).elseIf((0,n._)`${S} === null`).assign(L,(0,n._)`""`);return;case"number":I.elseIf((0,n._)`${z} == "boolean" || ${S} === null
              || (${z} == "string" && ${S} && ${S} == +${S})`).assign(L,(0,n._)`+${S}`);return;case"integer":I.elseIf((0,n._)`${z} === "boolean" || ${S} === null
              || (${z} === "string" && ${S} && ${S} == +${S} && !(${S} % 1))`).assign(L,(0,n._)`+${S}`);return;case"boolean":I.elseIf((0,n._)`${S} === "false" || ${S} === 0 || ${S} === null`).assign(L,!1).elseIf((0,n._)`${S} === "true" || ${S} === 1`).assign(L,!0);return;case"null":I.elseIf((0,n._)`${S} === "" || ${S} === 0 || ${S} === false`),I.assign(L,null);return;case"array":I.elseIf((0,n._)`${z} === "string" || ${z} === "number"
              || ${z} === "boolean" || ${S} === null`).assign(L,(0,n._)`[${S}]`)}}}function u({gen:w,parentData:$,parentDataProperty:A},I){w.if((0,n._)`${$} !== undefined`,()=>w.assign((0,n._)`${$}[${A}]`,I))}function _(w,$,A,I=a.Correct){const S=I===a.Correct?n.operators.EQ:n.operators.NEQ;let j;switch(w){case"null":return(0,n._)`${$} ${S} null`;case"array":j=(0,n._)`Array.isArray(${$})`;break;case"object":j=(0,n._)`${$} && typeof ${$} == "object" && !Array.isArray(${$})`;break;case"integer":j=z((0,n._)`!(${$} % 1) && !isNaN(${$})`);break;case"number":j=z();break;default:return(0,n._)`typeof ${$} ${S} ${w}`}return I===a.Correct?j:(0,n.not)(j);function z(L=n.nil){return(0,n.and)((0,n._)`typeof ${$} == "number"`,L,A?(0,n._)`isFinite(${$})`:n.nil)}}t.checkDataType=_;function d(w,$,A,I){if(w.length===1)return _(w[0],$,A,I);let S;const j=(0,s.toHash)(w);if(j.array&&j.object){const z=(0,n._)`typeof ${$} != "object"`;S=j.null?z:(0,n._)`!${$} || ${z}`,delete j.null,delete j.array,delete j.object}else S=n.nil;j.number&&delete j.integer;for(const z in j)S=(0,n.and)(S,_(z,$,A,I));return S}t.checkDataTypes=d;const p={message:({schema:w})=>`must be ${w}`,params:({schema:w,schemaValue:$})=>typeof w=="string"?(0,n._)`{type: ${w}}`:(0,n._)`{type: ${$}}`};function f(w){const $=v(w);(0,i.reportError)($,p)}t.reportTypeError=f;function v(w){const{gen:$,data:A,schema:I}=w,S=(0,s.schemaRefOrVal)(w,I,"type");return{gen:$,keyword:"type",data:A,schema:I.type,schemaCode:S,schemaValue:S,parentSchema:I,params:{},it:w}}})(Zr);var En={};Object.defineProperty(En,"__esModule",{value:!0});En.assignDefaults=void 0;const hr=Pe,rl=Ne;function nl(t,e){const{properties:r,items:i}=t.schema;if(e==="object"&&r)for(const n in r)fi(t,n,r[n].default);else e==="array"&&Array.isArray(i)&&i.forEach((n,s)=>fi(t,s,n.default))}En.assignDefaults=nl;function fi(t,e,r){const{gen:i,compositeRule:n,data:s,opts:a}=t;if(r===void 0)return;const o=(0,hr._)`${s}${(0,hr.getProperty)(e)}`;if(n){(0,rl.checkStrictMode)(t,`default is ignored for: ${o}`);return}let c=(0,hr._)`${o} === undefined`;a.useDefaults==="empty"&&(c=(0,hr._)`${c} || ${o} === null || ${o} === ""`),i.if(c,(0,hr._)`${o} = ${(0,hr.stringify)(r)}`)}var Tt={},Ie={};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.validateUnion=Ie.validateArray=Ie.usePattern=Ie.callValidateCode=Ie.schemaProperties=Ie.allSchemaProperties=Ie.noPropertyInData=Ie.propertyInData=Ie.isOwnProperty=Ie.hasPropFunc=Ie.reportMissingProp=Ie.checkMissingProp=Ie.checkReportMissingProp=void 0;const Be=Pe,ts=Ne,Kt=jt,sl=Ne;function il(t,e){const{gen:r,data:i,it:n}=t;r.if(ns(r,i,e,n.opts.ownProperties),()=>{t.setParams({missingProperty:(0,Be._)`${e}`},!0),t.error()})}Ie.checkReportMissingProp=il;function al({gen:t,data:e,it:{opts:r}},i,n){return(0,Be.or)(...i.map(s=>(0,Be.and)(ns(t,e,s,r.ownProperties),(0,Be._)`${n} = ${s}`)))}Ie.checkMissingProp=al;function ol(t,e){t.setParams({missingProperty:e},!0),t.error()}Ie.reportMissingProp=ol;function ha(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Be._)`Object.prototype.hasOwnProperty`})}Ie.hasPropFunc=ha;function rs(t,e,r){return(0,Be._)`${ha(t)}.call(${e}, ${r})`}Ie.isOwnProperty=rs;function ll(t,e,r,i){const n=(0,Be._)`${e}${(0,Be.getProperty)(r)} !== undefined`;return i?(0,Be._)`${n} && ${rs(t,e,r)}`:n}Ie.propertyInData=ll;function ns(t,e,r,i){const n=(0,Be._)`${e}${(0,Be.getProperty)(r)} === undefined`;return i?(0,Be.or)(n,(0,Be.not)(rs(t,e,r))):n}Ie.noPropertyInData=ns;function pa(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}Ie.allSchemaProperties=pa;function cl(t,e){return pa(e).filter(r=>!(0,ts.alwaysValidSchema)(t,e[r]))}Ie.schemaProperties=cl;function ul({schemaCode:t,data:e,it:{gen:r,topSchemaRef:i,schemaPath:n,errorPath:s},it:a},o,c,l){const m=l?(0,Be._)`${t}, ${e}, ${i}${n}`:e,h=[[Kt.default.instancePath,(0,Be.strConcat)(Kt.default.instancePath,s)],[Kt.default.parentData,a.parentData],[Kt.default.parentDataProperty,a.parentDataProperty],[Kt.default.rootData,Kt.default.rootData]];a.opts.dynamicRef&&h.push([Kt.default.dynamicAnchors,Kt.default.dynamicAnchors]);const y=(0,Be._)`${m}, ${r.object(...h)}`;return c!==Be.nil?(0,Be._)`${o}.call(${c}, ${y})`:(0,Be._)`${o}(${y})`}Ie.callValidateCode=ul;const fl=(0,Be._)`new RegExp`;function dl({gen:t,it:{opts:e}},r){const i=e.unicodeRegExp?"u":"",{regExp:n}=e.code,s=n(r,i);return t.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,Be._)`${n.code==="new RegExp"?fl:(0,sl.useFunc)(t,n)}(${r}, ${i})`})}Ie.usePattern=dl;function hl(t){const{gen:e,data:r,keyword:i,it:n}=t,s=e.name("valid");if(n.allErrors){const o=e.let("valid",!0);return a(()=>e.assign(o,!1)),o}return e.var(s,!0),a(()=>e.break()),s;function a(o){const c=e.const("len",(0,Be._)`${r}.length`);e.forRange("i",0,c,l=>{t.subschema({keyword:i,dataProp:l,dataPropType:ts.Type.Num},s),e.if((0,Be.not)(s),o)})}}Ie.validateArray=hl;function pl(t){const{gen:e,schema:r,keyword:i,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(c=>(0,ts.alwaysValidSchema)(n,c))&&!n.opts.unevaluated)return;const a=e.let("valid",!1),o=e.name("_valid");e.block(()=>r.forEach((c,l)=>{const m=t.subschema({keyword:i,schemaProp:l,compositeRule:!0},o);e.assign(a,(0,Be._)`${a} || ${o}`),t.mergeValidEvaluated(m,o)||e.if((0,Be.not)(a))})),t.result(a,()=>t.reset(),()=>t.error(!0))}Ie.validateUnion=pl;Object.defineProperty(Tt,"__esModule",{value:!0});Tt.validateKeywordUsage=Tt.validSchemaType=Tt.funcKeywordCode=Tt.macroKeywordCode=void 0;const rt=Pe,rr=jt,ml=Ie,_l=Wr;function gl(t,e){const{gen:r,keyword:i,schema:n,parentSchema:s,it:a}=t,o=e.macro.call(a.self,n,s,a),c=ma(r,i,o);a.opts.validateSchema!==!1&&a.self.validateSchema(o,!0);const l=r.name("valid");t.subschema({schema:o,schemaPath:rt.nil,errSchemaPath:`${a.errSchemaPath}/${i}`,topSchemaRef:c,compositeRule:!0},l),t.pass(l,()=>t.error(!0))}Tt.macroKeywordCode=gl;function vl(t,e){var r;const{gen:i,keyword:n,schema:s,parentSchema:a,$data:o,it:c}=t;bl(c,e);const l=!o&&e.compile?e.compile.call(c.self,s,a,c):e.validate,m=ma(i,n,l),h=i.let("valid");t.block$data(h,y),t.ok((r=e.valid)!==null&&r!==void 0?r:h);function y(){if(e.errors===!1)d(),e.modifying&&di(t),p(()=>t.error());else{const f=e.async?u():_();e.modifying&&di(t),p(()=>yl(t,f))}}function u(){const f=i.let("ruleErrs",null);return i.try(()=>d((0,rt._)`await `),v=>i.assign(h,!1).if((0,rt._)`${v} instanceof ${c.ValidationError}`,()=>i.assign(f,(0,rt._)`${v}.errors`),()=>i.throw(v))),f}function _(){const f=(0,rt._)`${m}.errors`;return i.assign(f,null),d(rt.nil),f}function d(f=e.async?(0,rt._)`await `:rt.nil){const v=c.opts.passContext?rr.default.this:rr.default.self,w=!("compile"in e&&!o||e.schema===!1);i.assign(h,(0,rt._)`${f}${(0,ml.callValidateCode)(t,m,v,w)}`,e.modifying)}function p(f){var v;i.if((0,rt.not)((v=e.valid)!==null&&v!==void 0?v:h),f)}}Tt.funcKeywordCode=vl;function di(t){const{gen:e,data:r,it:i}=t;e.if(i.parentData,()=>e.assign(r,(0,rt._)`${i.parentData}[${i.parentDataProperty}]`))}function yl(t,e){const{gen:r}=t;r.if((0,rt._)`Array.isArray(${e})`,()=>{r.assign(rr.default.vErrors,(0,rt._)`${rr.default.vErrors} === null ? ${e} : ${rr.default.vErrors}.concat(${e})`).assign(rr.default.errors,(0,rt._)`${rr.default.vErrors}.length`),(0,_l.extendErrors)(t)},()=>t.error())}function bl({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function ma(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,rt.stringify)(r)})}function wl(t,e,r=!1){return!e.length||e.some(i=>i==="array"?Array.isArray(t):i==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==i||r&&typeof t>"u")}Tt.validSchemaType=wl;function $l({schema:t,opts:e,self:r,errSchemaPath:i},n,s){if(Array.isArray(n.keyword)?!n.keyword.includes(s):n.keyword!==s)throw new Error("ajv implementation error");const a=n.dependencies;if(a!=null&&a.some(o=>!Object.prototype.hasOwnProperty.call(t,o)))throw new Error(`parent schema must have dependencies of ${s}: ${a.join(",")}`);if(n.validateSchema&&!n.validateSchema(t[s])){const c=`keyword "${s}" value is invalid at path "${i}": `+r.errorsText(n.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(c);else throw new Error(c)}}Tt.validateKeywordUsage=$l;var qt={};Object.defineProperty(qt,"__esModule",{value:!0});qt.extendSubschemaMode=qt.extendSubschemaData=qt.getSubschema=void 0;const Nt=Pe,_a=Ne;function kl(t,{keyword:e,schemaProp:r,schema:i,schemaPath:n,errSchemaPath:s,topSchemaRef:a}){if(e!==void 0&&i!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){const o=t.schema[e];return r===void 0?{schema:o,schemaPath:(0,Nt._)`${t.schemaPath}${(0,Nt.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:o[r],schemaPath:(0,Nt._)`${t.schemaPath}${(0,Nt.getProperty)(e)}${(0,Nt.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,_a.escapeFragment)(r)}`}}if(i!==void 0){if(n===void 0||s===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:n,topSchemaRef:a,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}qt.getSubschema=kl;function Al(t,e,{dataProp:r,dataPropType:i,data:n,dataTypes:s,propertyName:a}){if(n!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:o}=e;if(r!==void 0){const{errorPath:l,dataPathArr:m,opts:h}=e,y=o.let("data",(0,Nt._)`${e.data}${(0,Nt.getProperty)(r)}`,!0);c(y),t.errorPath=(0,Nt.str)`${l}${(0,_a.getErrorPath)(r,i,h.jsPropertySyntax)}`,t.parentDataProperty=(0,Nt._)`${r}`,t.dataPathArr=[...m,t.parentDataProperty]}if(n!==void 0){const l=n instanceof Nt.Name?n:o.let("data",n,!0);c(l),a!==void 0&&(t.propertyName=a)}s&&(t.dataTypes=s);function c(l){t.data=l,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,l]}}qt.extendSubschemaData=Al;function El(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:i,createErrors:n,allErrors:s}){i!==void 0&&(t.compositeRule=i),n!==void 0&&(t.createErrors=n),s!==void 0&&(t.allErrors=s),t.jtdDiscriminator=e,t.jtdMetadata=r}qt.extendSubschemaMode=El;var Xe={},ga=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var i,n,s;if(Array.isArray(e)){if(i=e.length,i!=r.length)return!1;for(n=i;n--!==0;)if(!t(e[n],r[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(s=Object.keys(e),i=s.length,i!==Object.keys(r).length)return!1;for(n=i;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[n]))return!1;for(n=i;n--!==0;){var a=s[n];if(!t(e[a],r[a]))return!1}return!0}return e!==e&&r!==r},Wn={},Sl={get exports(){return Wn},set exports(t){Wn=t}},Zt=Sl.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var i=typeof r=="function"?r:r.pre||function(){},n=r.post||function(){};fn(e,i,n,t,"",t)};Zt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Zt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Zt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Zt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function fn(t,e,r,i,n,s,a,o,c,l){if(i&&typeof i=="object"&&!Array.isArray(i)){e(i,n,s,a,o,c,l);for(var m in i){var h=i[m];if(Array.isArray(h)){if(m in Zt.arrayKeywords)for(var y=0;y<h.length;y++)fn(t,e,r,h[y],n+"/"+m+"/"+y,s,n,m,i,y)}else if(m in Zt.propsKeywords){if(h&&typeof h=="object")for(var u in h)fn(t,e,r,h[u],n+"/"+m+"/"+Cl(u),s,n,m,i,u)}else(m in Zt.keywords||t.allKeys&&!(m in Zt.skipKeywords))&&fn(t,e,r,h,n+"/"+m,s,n,m,i)}r(i,n,s,a,o,c,l)}}function Cl(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}Object.defineProperty(Xe,"__esModule",{value:!0});Xe.getSchemaRefs=Xe.resolveUrl=Xe.normalizeId=Xe._getFullPath=Xe.getFullPath=Xe.inlineRef=void 0;const Il=Ne,Pl=ga,Ol=Wn,Rl=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Nl(t,e=!0){return typeof t=="boolean"?!0:e===!0?!Zn(t):e?va(t)<=e:!1}Xe.inlineRef=Nl;const Tl=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Zn(t){for(const e in t){if(Tl.has(e))return!0;const r=t[e];if(Array.isArray(r)&&r.some(Zn)||typeof r=="object"&&Zn(r))return!0}return!1}function va(t){let e=0;for(const r in t){if(r==="$ref")return 1/0;if(e++,!Rl.has(r)&&(typeof t[r]=="object"&&(0,Il.eachItem)(t[r],i=>e+=va(i)),e===1/0))return 1/0}return e}function ya(t,e="",r){r!==!1&&(e=vr(e));const i=t.parse(e);return ba(t,i)}Xe.getFullPath=ya;function ba(t,e){return t.serialize(e).split("#")[0]+"#"}Xe._getFullPath=ba;const Dl=/#\/?$/;function vr(t){return t?t.replace(Dl,""):""}Xe.normalizeId=vr;function jl(t,e,r){return r=vr(r),t.resolve(e,r)}Xe.resolveUrl=jl;const zl=/^[a-z_][-a-z0-9._]*$/i;function Ul(t,e){if(typeof t=="boolean")return{};const{schemaId:r,uriResolver:i}=this.opts,n=vr(t[r]||e),s={"":n},a=ya(i,n,!1),o={},c=new Set;return Ol(t,{allKeys:!0},(h,y,u,_)=>{if(_===void 0)return;const d=a+y;let p=s[_];typeof h[r]=="string"&&(p=f.call(this,h[r])),v.call(this,h.$anchor),v.call(this,h.$dynamicAnchor),s[y]=p;function f(w){const $=this.opts.uriResolver.resolve;if(w=vr(p?$(p,w):w),c.has(w))throw m(w);c.add(w);let A=this.refs[w];return typeof A=="string"&&(A=this.refs[A]),typeof A=="object"?l(h,A.schema,w):w!==vr(d)&&(w[0]==="#"?(l(h,o[w],w),o[w]=h):this.refs[w]=d),w}function v(w){if(typeof w=="string"){if(!zl.test(w))throw new Error(`invalid anchor "${w}"`);f.call(this,`#${w}`)}}}),o;function l(h,y,u){if(y!==void 0&&!Pl(h,y))throw m(u)}function m(h){return new Error(`reference "${h}" resolves to more than one schema`)}}Xe.getSchemaRefs=Ul;Object.defineProperty(Et,"__esModule",{value:!0});Et.getData=Et.KeywordCxt=Et.validateFunctionCode=void 0;const wa=wr,hi=Zr,ss=Bt,vn=Zr,Fl=En,Ur=Tt,Dn=qt,_e=Pe,$e=jt,Bl=Xe,Mt=Ne,Rr=Wr;function Ml(t){if(Aa(t)&&(Ea(t),ka(t))){xl(t);return}$a(t,()=>(0,wa.topBoolOrEmptySchema)(t))}Et.validateFunctionCode=Ml;function $a({gen:t,validateName:e,schema:r,schemaEnv:i,opts:n},s){n.code.es5?t.func(e,(0,_e._)`${$e.default.data}, ${$e.default.valCxt}`,i.$async,()=>{t.code((0,_e._)`"use strict"; ${pi(r,n)}`),Vl(t,n),t.code(s)}):t.func(e,(0,_e._)`${$e.default.data}, ${Ll(n)}`,i.$async,()=>t.code(pi(r,n)).code(s))}function Ll(t){return(0,_e._)`{${$e.default.instancePath}="", ${$e.default.parentData}, ${$e.default.parentDataProperty}, ${$e.default.rootData}=${$e.default.data}${t.dynamicRef?(0,_e._)`, ${$e.default.dynamicAnchors}={}`:_e.nil}}={}`}function Vl(t,e){t.if($e.default.valCxt,()=>{t.var($e.default.instancePath,(0,_e._)`${$e.default.valCxt}.${$e.default.instancePath}`),t.var($e.default.parentData,(0,_e._)`${$e.default.valCxt}.${$e.default.parentData}`),t.var($e.default.parentDataProperty,(0,_e._)`${$e.default.valCxt}.${$e.default.parentDataProperty}`),t.var($e.default.rootData,(0,_e._)`${$e.default.valCxt}.${$e.default.rootData}`),e.dynamicRef&&t.var($e.default.dynamicAnchors,(0,_e._)`${$e.default.valCxt}.${$e.default.dynamicAnchors}`)},()=>{t.var($e.default.instancePath,(0,_e._)`""`),t.var($e.default.parentData,(0,_e._)`undefined`),t.var($e.default.parentDataProperty,(0,_e._)`undefined`),t.var($e.default.rootData,$e.default.data),e.dynamicRef&&t.var($e.default.dynamicAnchors,(0,_e._)`{}`)})}function xl(t){const{schema:e,opts:r,gen:i}=t;$a(t,()=>{r.$comment&&e.$comment&&Ca(t),ql(t),i.let($e.default.vErrors,null),i.let($e.default.errors,0),r.unevaluated&&Kl(t),Sa(t),Ql(t)})}function Kl(t){const{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",(0,_e._)`${r}.evaluated`),e.if((0,_e._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,_e._)`${t.evaluated}.props`,(0,_e._)`undefined`)),e.if((0,_e._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,_e._)`${t.evaluated}.items`,(0,_e._)`undefined`))}function pi(t,e){const r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?(0,_e._)`/*# sourceURL=${r} */`:_e.nil}function Hl(t,e){if(Aa(t)&&(Ea(t),ka(t))){Wl(t,e);return}(0,wa.boolOrEmptySchema)(t,e)}function ka({schema:t,self:e}){if(typeof t=="boolean")return!t;for(const r in t)if(e.RULES.all[r])return!0;return!1}function Aa(t){return typeof t.schema!="boolean"}function Wl(t,e){const{schema:r,gen:i,opts:n}=t;n.$comment&&r.$comment&&Ca(t),Gl(t),Jl(t);const s=i.const("_errs",$e.default.errors);Sa(t,s),i.var(e,(0,_e._)`${s} === ${$e.default.errors}`)}function Ea(t){(0,Mt.checkUnknownRules)(t),Zl(t)}function Sa(t,e){if(t.opts.jtd)return mi(t,[],!1,e);const r=(0,hi.getSchemaTypes)(t.schema),i=(0,hi.coerceAndCheckDataType)(t,r);mi(t,r,!i,e)}function Zl(t){const{schema:e,errSchemaPath:r,opts:i,self:n}=t;e.$ref&&i.ignoreKeywordsWithRef&&(0,Mt.schemaHasRulesButRef)(e,n.RULES)&&n.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function ql(t){const{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Mt.checkStrictMode)(t,"default is ignored in the schema root")}function Gl(t){const e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,Bl.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function Jl(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function Ca({gen:t,schemaEnv:e,schema:r,errSchemaPath:i,opts:n}){const s=r.$comment;if(n.$comment===!0)t.code((0,_e._)`${$e.default.self}.logger.log(${s})`);else if(typeof n.$comment=="function"){const a=(0,_e.str)`${i}/$comment`,o=t.scopeValue("root",{ref:e.root});t.code((0,_e._)`${$e.default.self}.opts.$comment(${s}, ${a}, ${o}.schema)`)}}function Ql(t){const{gen:e,schemaEnv:r,validateName:i,ValidationError:n,opts:s}=t;r.$async?e.if((0,_e._)`${$e.default.errors} === 0`,()=>e.return($e.default.data),()=>e.throw((0,_e._)`new ${n}(${$e.default.vErrors})`)):(e.assign((0,_e._)`${i}.errors`,$e.default.vErrors),s.unevaluated&&Yl(t),e.return((0,_e._)`${$e.default.errors} === 0`))}function Yl({gen:t,evaluated:e,props:r,items:i}){r instanceof _e.Name&&t.assign((0,_e._)`${e}.props`,r),i instanceof _e.Name&&t.assign((0,_e._)`${e}.items`,i)}function mi(t,e,r,i){const{gen:n,schema:s,data:a,allErrors:o,opts:c,self:l}=t,{RULES:m}=l;if(s.$ref&&(c.ignoreKeywordsWithRef||!(0,Mt.schemaHasRulesButRef)(s,m))){n.block(()=>Oa(t,"$ref",m.all.$ref.definition));return}c.jtd||Xl(t,e),n.block(()=>{for(const y of m.rules)h(y);h(m.post)});function h(y){(0,ss.shouldUseGroup)(s,y)&&(y.type?(n.if((0,vn.checkDataType)(y.type,a,c.strictNumbers)),_i(t,y),e.length===1&&e[0]===y.type&&r&&(n.else(),(0,vn.reportTypeError)(t)),n.endIf()):_i(t,y),o||n.if((0,_e._)`${$e.default.errors} === ${i||0}`))}}function _i(t,e){const{gen:r,schema:i,opts:{useDefaults:n}}=t;n&&(0,Fl.assignDefaults)(t,e.type),r.block(()=>{for(const s of e.rules)(0,ss.shouldUseRule)(i,s)&&Oa(t,s.keyword,s.definition,e.type)})}function Xl(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(ec(t,e),t.opts.allowUnionTypes||tc(t,e),rc(t,t.dataTypes))}function ec(t,e){if(e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{Ia(t.dataTypes,r)||is(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),sc(t,e)}}function tc(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&is(t,"use allowUnionTypes to allow union type keyword")}function rc(t,e){const r=t.self.RULES.all;for(const i in r){const n=r[i];if(typeof n=="object"&&(0,ss.shouldUseRule)(t.schema,n)){const{type:s}=n.definition;s.length&&!s.some(a=>nc(e,a))&&is(t,`missing type "${s.join(",")}" for keyword "${i}"`)}}}function nc(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function Ia(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function sc(t,e){const r=[];for(const i of t.dataTypes)Ia(e,i)?r.push(i):e.includes("integer")&&i==="number"&&r.push("integer");t.dataTypes=r}function is(t,e){const r=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${r}" (strictTypes)`,(0,Mt.checkStrictMode)(t,e,t.opts.strictTypes)}class Pa{constructor(e,r,i){if((0,Ur.validateKeywordUsage)(e,r,i),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=i,this.data=e.data,this.schema=e.schema[i],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Mt.schemaRefOrVal)(e,this.schema,i,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",Ra(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,Ur.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${i} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",$e.default.errors))}result(e,r,i){this.failResult((0,_e.not)(e),r,i)}failResult(e,r,i){this.gen.if(e),i?i():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult((0,_e.not)(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:r}=this;this.fail((0,_e._)`${r} !== undefined && (${(0,_e.or)(this.invalid$data(),e)})`)}error(e,r,i){if(r){this.setParams(r),this._error(e,i),this.setParams({});return}this._error(e,i)}_error(e,r){(e?Rr.reportExtraError:Rr.reportError)(this,this.def.error,r)}$dataError(){(0,Rr.reportError)(this,this.def.$dataError||Rr.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Rr.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,i=_e.nil){this.gen.block(()=>{this.check$data(e,i),r()})}check$data(e=_e.nil,r=_e.nil){if(!this.$data)return;const{gen:i,schemaCode:n,schemaType:s,def:a}=this;i.if((0,_e.or)((0,_e._)`${n} === undefined`,r)),e!==_e.nil&&i.assign(e,!0),(s.length||a.validateSchema)&&(i.elseIf(this.invalid$data()),this.$dataError(),e!==_e.nil&&i.assign(e,!1)),i.else()}invalid$data(){const{gen:e,schemaCode:r,schemaType:i,def:n,it:s}=this;return(0,_e.or)(a(),o());function a(){if(i.length){if(!(r instanceof _e.Name))throw new Error("ajv implementation error");const c=Array.isArray(i)?i:[i];return(0,_e._)`${(0,vn.checkDataTypes)(c,r,s.opts.strictNumbers,vn.DataType.Wrong)}`}return _e.nil}function o(){if(n.validateSchema){const c=e.scopeValue("validate$data",{ref:n.validateSchema});return(0,_e._)`!${c}(${r})`}return _e.nil}}subschema(e,r){const i=(0,Dn.getSubschema)(this.it,e);(0,Dn.extendSubschemaData)(i,this.it,e),(0,Dn.extendSubschemaMode)(i,e);const n={...this.it,...i,items:void 0,props:void 0};return Hl(n,r),n}mergeEvaluated(e,r){const{it:i,gen:n}=this;i.opts.unevaluated&&(i.props!==!0&&e.props!==void 0&&(i.props=Mt.mergeEvaluated.props(n,e.props,i.props,r)),i.items!==!0&&e.items!==void 0&&(i.items=Mt.mergeEvaluated.items(n,e.items,i.items,r)))}mergeValidEvaluated(e,r){const{it:i,gen:n}=this;if(i.opts.unevaluated&&(i.props!==!0||i.items!==!0))return n.if(r,()=>this.mergeEvaluated(e,_e.Name)),!0}}Et.KeywordCxt=Pa;function Oa(t,e,r,i){const n=new Pa(t,r,e);"code"in r?r.code(n,i):n.$data&&r.validate?(0,Ur.funcKeywordCode)(n,r):"macro"in r?(0,Ur.macroKeywordCode)(n,r):(r.compile||r.validate)&&(0,Ur.funcKeywordCode)(n,r)}const ic=/^\/(?:[^~]|~0|~1)*$/,ac=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Ra(t,{dataLevel:e,dataNames:r,dataPathArr:i}){let n,s;if(t==="")return $e.default.rootData;if(t[0]==="/"){if(!ic.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);n=t,s=$e.default.rootData}else{const l=ac.exec(t);if(!l)throw new Error(`Invalid JSON-pointer: ${t}`);const m=+l[1];if(n=l[2],n==="#"){if(m>=e)throw new Error(c("property/index",m));return i[e-m]}if(m>e)throw new Error(c("data",m));if(s=r[e-m],!n)return s}let a=s;const o=n.split("/");for(const l of o)l&&(s=(0,_e._)`${s}${(0,_e.getProperty)((0,Mt.unescapeJsonPointer)(l))}`,a=(0,_e._)`${a} && ${s}`);return a;function c(l,m){return`Cannot access ${l} ${m} levels up, current level is ${e}`}}Et.getData=Ra;var qr={};Object.defineProperty(qr,"__esModule",{value:!0});class oc extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}qr.default=oc;var Gr={};Object.defineProperty(Gr,"__esModule",{value:!0});const jn=Xe;class lc extends Error{constructor(e,r,i,n){super(n||`can't resolve reference ${i} from id ${r}`),this.missingRef=(0,jn.resolveUrl)(e,r,i),this.missingSchema=(0,jn.normalizeId)((0,jn.getFullPath)(e,this.missingRef))}}Gr.default=lc;var at={};Object.defineProperty(at,"__esModule",{value:!0});at.resolveSchema=at.getCompilingSchema=at.resolveRef=at.compileSchema=at.SchemaEnv=void 0;const yt=Pe,cc=qr,tr=jt,At=Xe,gi=Ne,uc=Et;class Sn{constructor(e){var r;this.refs={},this.dynamicAnchors={};let i;typeof e.schema=="object"&&(i=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,At.normalizeId)(i==null?void 0:i[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=i==null?void 0:i.$async,this.refs={}}}at.SchemaEnv=Sn;function as(t){const e=Na.call(this,t);if(e)return e;const r=(0,At.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:i,lines:n}=this.opts.code,{ownProperties:s}=this.opts,a=new yt.CodeGen(this.scope,{es5:i,lines:n,ownProperties:s});let o;t.$async&&(o=a.scopeValue("Error",{ref:cc.default,code:(0,yt._)`require("ajv/dist/runtime/validation_error").default`}));const c=a.scopeName("validate");t.validateName=c;const l={gen:a,allErrors:this.opts.allErrors,data:tr.default.data,parentData:tr.default.parentData,parentDataProperty:tr.default.parentDataProperty,dataNames:[tr.default.data],dataPathArr:[yt.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,yt.stringify)(t.schema)}:{ref:t.schema}),validateName:c,ValidationError:o,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:yt.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,yt._)`""`,opts:this.opts,self:this};let m;try{this._compilations.add(t),(0,uc.validateFunctionCode)(l),a.optimize(this.opts.code.optimize);const h=a.toString();m=`${a.scopeRefs(tr.default.scope)}return ${h}`,this.opts.code.process&&(m=this.opts.code.process(m,t));const u=new Function(`${tr.default.self}`,`${tr.default.scope}`,m)(this,this.scope.get());if(this.scope.value(c,{ref:u}),u.errors=null,u.schema=t.schema,u.schemaEnv=t,t.$async&&(u.$async=!0),this.opts.code.source===!0&&(u.source={validateName:c,validateCode:h,scopeValues:a._values}),this.opts.unevaluated){const{props:_,items:d}=l;u.evaluated={props:_ instanceof yt.Name?void 0:_,items:d instanceof yt.Name?void 0:d,dynamicProps:_ instanceof yt.Name,dynamicItems:d instanceof yt.Name},u.source&&(u.source.evaluated=(0,yt.stringify)(u.evaluated))}return t.validate=u,t}catch(h){throw delete t.validate,delete t.validateName,m&&this.logger.error("Error compiling schema, function code:",m),h}finally{this._compilations.delete(t)}}at.compileSchema=as;function fc(t,e,r){var i;r=(0,At.resolveUrl)(this.opts.uriResolver,e,r);const n=t.refs[r];if(n)return n;let s=pc.call(this,t,r);if(s===void 0){const a=(i=t.localRefs)===null||i===void 0?void 0:i[r],{schemaId:o}=this.opts;a&&(s=new Sn({schema:a,schemaId:o,root:t,baseId:e}))}if(s!==void 0)return t.refs[r]=dc.call(this,s)}at.resolveRef=fc;function dc(t){return(0,At.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:as.call(this,t)}function Na(t){for(const e of this._compilations)if(hc(e,t))return e}at.getCompilingSchema=Na;function hc(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function pc(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||Cn.call(this,t,e)}function Cn(t,e){const r=this.opts.uriResolver.parse(e),i=(0,At._getFullPath)(this.opts.uriResolver,r);let n=(0,At.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&i===n)return zn.call(this,r,t);const s=(0,At.normalizeId)(i),a=this.refs[s]||this.schemas[s];if(typeof a=="string"){const o=Cn.call(this,t,a);return typeof(o==null?void 0:o.schema)!="object"?void 0:zn.call(this,r,o)}if(typeof(a==null?void 0:a.schema)=="object"){if(a.validate||as.call(this,a),s===(0,At.normalizeId)(e)){const{schema:o}=a,{schemaId:c}=this.opts,l=o[c];return l&&(n=(0,At.resolveUrl)(this.opts.uriResolver,n,l)),new Sn({schema:o,schemaId:c,root:t,baseId:n})}return zn.call(this,r,a)}}at.resolveSchema=Cn;const mc=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function zn(t,{baseId:e,schema:r,root:i}){var n;if(((n=t.fragment)===null||n===void 0?void 0:n[0])!=="/")return;for(const o of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const c=r[(0,gi.unescapeFragment)(o)];if(c===void 0)return;r=c;const l=typeof r=="object"&&r[this.opts.schemaId];!mc.has(o)&&l&&(e=(0,At.resolveUrl)(this.opts.uriResolver,e,l))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,gi.schemaHasRulesButRef)(r,this.RULES)){const o=(0,At.resolveUrl)(this.opts.uriResolver,e,r.$ref);s=Cn.call(this,i,o)}const{schemaId:a}=this.opts;if(s=s||new Sn({schema:r,schemaId:a,root:i,baseId:e}),s.schema!==s.root.schema)return s}const _c="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",gc="Meta-schema for $data reference (JSON AnySchema extension proposal)",vc="object",yc=["$data"],bc={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},wc=!1,$c={$id:_c,description:gc,type:vc,required:yc,properties:bc,additionalProperties:wc};var os={},yn={},kc={get exports(){return yn},set exports(t){yn=t}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(t,e){(function(r,i){i(e)})(Tr,function(r){function i(){for(var D=arguments.length,O=Array(D),U=0;U<D;U++)O[U]=arguments[U];if(O.length>1){O[0]=O[0].slice(0,-1);for(var G=O.length-1,Z=1;Z<G;++Z)O[Z]=O[Z].slice(1,-1);return O[G]=O[G].slice(1),O.join("")}else return O[0]}function n(D){return"(?:"+D+")"}function s(D){return D===void 0?"undefined":D===null?"null":Object.prototype.toString.call(D).split(" ").pop().split("]").shift().toLowerCase()}function a(D){return D.toUpperCase()}function o(D){return D!=null?D instanceof Array?D:typeof D.length!="number"||D.split||D.setInterval||D.call?[D]:Array.prototype.slice.call(D):[]}function c(D,O){var U=D;if(O)for(var G in O)U[G]=O[G];return U}function l(D){var O="[A-Za-z]",U="[0-9]",G=i(U,"[A-Fa-f]"),Z=n(n("%[EFef]"+G+"%"+G+G+"%"+G+G)+"|"+n("%[89A-Fa-f]"+G+"%"+G+G)+"|"+n("%"+G+G)),ge="[\\:\\/\\?\\#\\[\\]\\@]",ye="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Re=i(ge,ye),Fe=D?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",He=D?"[\\uE000-\\uF8FF]":"[]",Oe=i(O,U,"[\\-\\.\\_\\~]",Fe);n(O+i(O,U,"[\\+\\-\\.]")+"*"),n(n(Z+"|"+i(Oe,ye,"[\\:]"))+"*");var ze=n(n("25[0-5]")+"|"+n("2[0-4]"+U)+"|"+n("1"+U+U)+"|"+n("0?[1-9]"+U)+"|0?0?"+U),We=n(ze+"\\."+ze+"\\."+ze+"\\."+ze),Ae=n(G+"{1,4}"),Me=n(n(Ae+"\\:"+Ae)+"|"+We),Ge=n(n(Ae+"\\:")+"{6}"+Me),Le=n("\\:\\:"+n(Ae+"\\:")+"{5}"+Me),xt=n(n(Ae)+"?\\:\\:"+n(Ae+"\\:")+"{4}"+Me),Pt=n(n(n(Ae+"\\:")+"{0,1}"+Ae)+"?\\:\\:"+n(Ae+"\\:")+"{3}"+Me),Ot=n(n(n(Ae+"\\:")+"{0,2}"+Ae)+"?\\:\\:"+n(Ae+"\\:")+"{2}"+Me),ur=n(n(n(Ae+"\\:")+"{0,3}"+Ae)+"?\\:\\:"+Ae+"\\:"+Me),Xt=n(n(n(Ae+"\\:")+"{0,4}"+Ae)+"?\\:\\:"+Me),pt=n(n(n(Ae+"\\:")+"{0,5}"+Ae)+"?\\:\\:"+Ae),Rt=n(n(n(Ae+"\\:")+"{0,6}"+Ae)+"?\\:\\:"),er=n([Ge,Le,xt,Pt,Ot,ur,Xt,pt,Rt].join("|")),zt=n(n(Oe+"|"+Z)+"+");n("[vV]"+G+"+\\."+i(Oe,ye,"[\\:]")+"+"),n(n(Z+"|"+i(Oe,ye))+"*");var Ir=n(Z+"|"+i(Oe,ye,"[\\:\\@]"));return n(n(Z+"|"+i(Oe,ye,"[\\@]"))+"+"),n(n(Ir+"|"+i("[\\/\\?]",He))+"*"),{NOT_SCHEME:new RegExp(i("[^]",O,U,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(i("[^\\%\\:]",Oe,ye),"g"),NOT_HOST:new RegExp(i("[^\\%\\[\\]\\:]",Oe,ye),"g"),NOT_PATH:new RegExp(i("[^\\%\\/\\:\\@]",Oe,ye),"g"),NOT_PATH_NOSCHEME:new RegExp(i("[^\\%\\/\\@]",Oe,ye),"g"),NOT_QUERY:new RegExp(i("[^\\%]",Oe,ye,"[\\:\\@\\/\\?]",He),"g"),NOT_FRAGMENT:new RegExp(i("[^\\%]",Oe,ye,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(i("[^]",Oe,ye),"g"),UNRESERVED:new RegExp(Oe,"g"),OTHER_CHARS:new RegExp(i("[^\\%]",Oe,Re),"g"),PCT_ENCODED:new RegExp(Z,"g"),IPV4ADDRESS:new RegExp("^("+We+")$"),IPV6ADDRESS:new RegExp("^\\[?("+er+")"+n(n("\\%25|\\%(?!"+G+"{2})")+"("+zt+")")+"?\\]?$")}}var m=l(!1),h=l(!0),y=function(){function D(O,U){var G=[],Z=!0,ge=!1,ye=void 0;try{for(var Re=O[Symbol.iterator](),Fe;!(Z=(Fe=Re.next()).done)&&(G.push(Fe.value),!(U&&G.length===U));Z=!0);}catch(He){ge=!0,ye=He}finally{try{!Z&&Re.return&&Re.return()}finally{if(ge)throw ye}}return G}return function(O,U){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return D(O,U);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(D){if(Array.isArray(D)){for(var O=0,U=Array(D.length);O<D.length;O++)U[O]=D[O];return U}else return Array.from(D)},_=2147483647,d=36,p=1,f=26,v=38,w=700,$=72,A=128,I="-",S=/^xn--/,j=/[^\0-\x7E]/,z=/[\x2E\u3002\uFF0E\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ne=d-p,T=Math.floor,q=String.fromCharCode;function b(D){throw new RangeError(L[D])}function J(D,O){for(var U=[],G=D.length;G--;)U[G]=O(D[G]);return U}function me(D,O){var U=D.split("@"),G="";U.length>1&&(G=U[0]+"@",D=U[1]),D=D.replace(z,".");var Z=D.split("."),ge=J(Z,O).join(".");return G+ge}function X(D){for(var O=[],U=0,G=D.length;U<G;){var Z=D.charCodeAt(U++);if(Z>=55296&&Z<=56319&&U<G){var ge=D.charCodeAt(U++);(ge&64512)==56320?O.push(((Z&1023)<<10)+(ge&1023)+65536):(O.push(Z),U--)}else O.push(Z)}return O}var fe=function(O){return String.fromCodePoint.apply(String,u(O))},H=function(O){return O-48<10?O-22:O-65<26?O-65:O-97<26?O-97:d},x=function(O,U){return O+22+75*(O<26)-((U!=0)<<5)},E=function(O,U,G){var Z=0;for(O=G?T(O/w):O>>1,O+=T(O/U);O>ne*f>>1;Z+=d)O=T(O/ne);return T(Z+(ne+1)*O/(O+v))},R=function(O){var U=[],G=O.length,Z=0,ge=A,ye=$,Re=O.lastIndexOf(I);Re<0&&(Re=0);for(var Fe=0;Fe<Re;++Fe)O.charCodeAt(Fe)>=128&&b("not-basic"),U.push(O.charCodeAt(Fe));for(var He=Re>0?Re+1:0;He<G;){for(var Oe=Z,ze=1,We=d;;We+=d){He>=G&&b("invalid-input");var Ae=H(O.charCodeAt(He++));(Ae>=d||Ae>T((_-Z)/ze))&&b("overflow"),Z+=Ae*ze;var Me=We<=ye?p:We>=ye+f?f:We-ye;if(Ae<Me)break;var Ge=d-Me;ze>T(_/Ge)&&b("overflow"),ze*=Ge}var Le=U.length+1;ye=E(Z-Oe,Le,Oe==0),T(Z/Le)>_-ge&&b("overflow"),ge+=T(Z/Le),Z%=Le,U.splice(Z++,0,ge)}return String.fromCodePoint.apply(String,U)},F=function(O){var U=[];O=X(O);var G=O.length,Z=A,ge=0,ye=$,Re=!0,Fe=!1,He=void 0;try{for(var Oe=O[Symbol.iterator](),ze;!(Re=(ze=Oe.next()).done);Re=!0){var We=ze.value;We<128&&U.push(q(We))}}catch(Pr){Fe=!0,He=Pr}finally{try{!Re&&Oe.return&&Oe.return()}finally{if(Fe)throw He}}var Ae=U.length,Me=Ae;for(Ae&&U.push(I);Me<G;){var Ge=_,Le=!0,xt=!1,Pt=void 0;try{for(var Ot=O[Symbol.iterator](),ur;!(Le=(ur=Ot.next()).done);Le=!0){var Xt=ur.value;Xt>=Z&&Xt<Ge&&(Ge=Xt)}}catch(Pr){xt=!0,Pt=Pr}finally{try{!Le&&Ot.return&&Ot.return()}finally{if(xt)throw Pt}}var pt=Me+1;Ge-Z>T((_-ge)/pt)&&b("overflow"),ge+=(Ge-Z)*pt,Z=Ge;var Rt=!0,er=!1,zt=void 0;try{for(var Ir=O[Symbol.iterator](),Ks;!(Rt=(Ks=Ir.next()).done);Rt=!0){var Hs=Ks.value;if(Hs<Z&&++ge>_&&b("overflow"),Hs==Z){for(var Yr=ge,Xr=d;;Xr+=d){var en=Xr<=ye?p:Xr>=ye+f?f:Xr-ye;if(Yr<en)break;var Ws=Yr-en,Zs=d-en;U.push(q(x(en+Ws%Zs,0))),Yr=T(Ws/Zs)}U.push(q(x(Yr,0))),ye=E(ge,pt,Me==Ae),ge=0,++Me}}}catch(Pr){er=!0,zt=Pr}finally{try{!Rt&&Ir.return&&Ir.return()}finally{if(er)throw zt}}++ge,++Z}return U.join("")},k=function(O){return me(O,function(U){return S.test(U)?R(U.slice(4).toLowerCase()):U})},C=function(O){return me(O,function(U){return j.test(U)?"xn--"+F(U):U})},K={version:"2.1.0",ucs2:{decode:X,encode:fe},decode:R,encode:F,toASCII:C,toUnicode:k},se={};function re(D){var O=D.charCodeAt(0),U=void 0;return O<16?U="%0"+O.toString(16).toUpperCase():O<128?U="%"+O.toString(16).toUpperCase():O<2048?U="%"+(O>>6|192).toString(16).toUpperCase()+"%"+(O&63|128).toString(16).toUpperCase():U="%"+(O>>12|224).toString(16).toUpperCase()+"%"+(O>>6&63|128).toString(16).toUpperCase()+"%"+(O&63|128).toString(16).toUpperCase(),U}function ue(D){for(var O="",U=0,G=D.length;U<G;){var Z=parseInt(D.substr(U+1,2),16);if(Z<128)O+=String.fromCharCode(Z),U+=3;else if(Z>=194&&Z<224){if(G-U>=6){var ge=parseInt(D.substr(U+4,2),16);O+=String.fromCharCode((Z&31)<<6|ge&63)}else O+=D.substr(U,6);U+=6}else if(Z>=224){if(G-U>=9){var ye=parseInt(D.substr(U+4,2),16),Re=parseInt(D.substr(U+7,2),16);O+=String.fromCharCode((Z&15)<<12|(ye&63)<<6|Re&63)}else O+=D.substr(U,9);U+=9}else O+=D.substr(U,3),U+=3}return O}function ve(D,O){function U(G){var Z=ue(G);return Z.match(O.UNRESERVED)?Z:G}return D.scheme&&(D.scheme=String(D.scheme).replace(O.PCT_ENCODED,U).toLowerCase().replace(O.NOT_SCHEME,"")),D.userinfo!==void 0&&(D.userinfo=String(D.userinfo).replace(O.PCT_ENCODED,U).replace(O.NOT_USERINFO,re).replace(O.PCT_ENCODED,a)),D.host!==void 0&&(D.host=String(D.host).replace(O.PCT_ENCODED,U).toLowerCase().replace(O.NOT_HOST,re).replace(O.PCT_ENCODED,a)),D.path!==void 0&&(D.path=String(D.path).replace(O.PCT_ENCODED,U).replace(D.scheme?O.NOT_PATH:O.NOT_PATH_NOSCHEME,re).replace(O.PCT_ENCODED,a)),D.query!==void 0&&(D.query=String(D.query).replace(O.PCT_ENCODED,U).replace(O.NOT_QUERY,re).replace(O.PCT_ENCODED,a)),D.fragment!==void 0&&(D.fragment=String(D.fragment).replace(O.PCT_ENCODED,U).replace(O.NOT_FRAGMENT,re).replace(O.PCT_ENCODED,a)),D}function ke(D){return D.replace(/^0*(.*)/,"$1")||"0"}function Ke(D,O){var U=D.match(O.IPV4ADDRESS)||[],G=y(U,2),Z=G[1];return Z?Z.split(".").map(ke).join("."):D}function Je(D,O){var U=D.match(O.IPV6ADDRESS)||[],G=y(U,3),Z=G[1],ge=G[2];if(Z){for(var ye=Z.toLowerCase().split("::").reverse(),Re=y(ye,2),Fe=Re[0],He=Re[1],Oe=He?He.split(":").map(ke):[],ze=Fe.split(":").map(ke),We=O.IPV4ADDRESS.test(ze[ze.length-1]),Ae=We?7:8,Me=ze.length-Ae,Ge=Array(Ae),Le=0;Le<Ae;++Le)Ge[Le]=Oe[Le]||ze[Me+Le]||"";We&&(Ge[Ae-1]=Ke(Ge[Ae-1],O));var xt=Ge.reduce(function(pt,Rt,er){if(!Rt||Rt==="0"){var zt=pt[pt.length-1];zt&&zt.index+zt.length===er?zt.length++:pt.push({index:er,length:1})}return pt},[]),Pt=xt.sort(function(pt,Rt){return Rt.length-pt.length})[0],Ot=void 0;if(Pt&&Pt.length>1){var ur=Ge.slice(0,Pt.index),Xt=Ge.slice(Pt.index+Pt.length);Ot=ur.join(":")+"::"+Xt.join(":")}else Ot=Ge.join(":");return ge&&(Ot+="%"+ge),Ot}else return D}var g=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Q="".match(/(){0}/)[1]===void 0;function W(D){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},U={},G=O.iri!==!1?h:m;O.reference==="suffix"&&(D=(O.scheme?O.scheme+":":"")+"//"+D);var Z=D.match(g);if(Z){Q?(U.scheme=Z[1],U.userinfo=Z[3],U.host=Z[4],U.port=parseInt(Z[5],10),U.path=Z[6]||"",U.query=Z[7],U.fragment=Z[8],isNaN(U.port)&&(U.port=Z[5])):(U.scheme=Z[1]||void 0,U.userinfo=D.indexOf("@")!==-1?Z[3]:void 0,U.host=D.indexOf("//")!==-1?Z[4]:void 0,U.port=parseInt(Z[5],10),U.path=Z[6]||"",U.query=D.indexOf("?")!==-1?Z[7]:void 0,U.fragment=D.indexOf("#")!==-1?Z[8]:void 0,isNaN(U.port)&&(U.port=D.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Z[4]:void 0)),U.host&&(U.host=Je(Ke(U.host,G),G)),U.scheme===void 0&&U.userinfo===void 0&&U.host===void 0&&U.port===void 0&&!U.path&&U.query===void 0?U.reference="same-document":U.scheme===void 0?U.reference="relative":U.fragment===void 0?U.reference="absolute":U.reference="uri",O.reference&&O.reference!=="suffix"&&O.reference!==U.reference&&(U.error=U.error||"URI is not a "+O.reference+" reference.");var ge=se[(O.scheme||U.scheme||"").toLowerCase()];if(!O.unicodeSupport&&(!ge||!ge.unicodeSupport)){if(U.host&&(O.domainHost||ge&&ge.domainHost))try{U.host=K.toASCII(U.host.replace(G.PCT_ENCODED,ue).toLowerCase())}catch(ye){U.error=U.error||"Host's domain name can not be converted to ASCII via punycode: "+ye}ve(U,m)}else ve(U,G);ge&&ge.parse&&ge.parse(U,O)}else U.error=U.error||"URI can not be parsed.";return U}function N(D,O){var U=O.iri!==!1?h:m,G=[];return D.userinfo!==void 0&&(G.push(D.userinfo),G.push("@")),D.host!==void 0&&G.push(Je(Ke(String(D.host),U),U).replace(U.IPV6ADDRESS,function(Z,ge,ye){return"["+ge+(ye?"%25"+ye:"")+"]"})),(typeof D.port=="number"||typeof D.port=="string")&&(G.push(":"),G.push(String(D.port))),G.length?G.join(""):void 0}var P=/^\.\.?\//,M=/^\/\.(\/|$)/,Y=/^\/\.\.(\/|$)/,ee=/^\/?(?:.|\n)*?(?=\/|$)/;function V(D){for(var O=[];D.length;)if(D.match(P))D=D.replace(P,"");else if(D.match(M))D=D.replace(M,"/");else if(D.match(Y))D=D.replace(Y,"/"),O.pop();else if(D==="."||D==="..")D="";else{var U=D.match(ee);if(U){var G=U[0];D=D.slice(G.length),O.push(G)}else throw new Error("Unexpected dot segment condition")}return O.join("")}function te(D){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},U=O.iri?h:m,G=[],Z=se[(O.scheme||D.scheme||"").toLowerCase()];if(Z&&Z.serialize&&Z.serialize(D,O),D.host&&!U.IPV6ADDRESS.test(D.host)){if(O.domainHost||Z&&Z.domainHost)try{D.host=O.iri?K.toUnicode(D.host):K.toASCII(D.host.replace(U.PCT_ENCODED,ue).toLowerCase())}catch(Re){D.error=D.error||"Host's domain name can not be converted to "+(O.iri?"Unicode":"ASCII")+" via punycode: "+Re}}ve(D,U),O.reference!=="suffix"&&D.scheme&&(G.push(D.scheme),G.push(":"));var ge=N(D,O);if(ge!==void 0&&(O.reference!=="suffix"&&G.push("//"),G.push(ge),D.path&&D.path.charAt(0)!=="/"&&G.push("/")),D.path!==void 0){var ye=D.path;!O.absolutePath&&(!Z||!Z.absolutePath)&&(ye=V(ye)),ge===void 0&&(ye=ye.replace(/^\/\//,"/%2F")),G.push(ye)}return D.query!==void 0&&(G.push("?"),G.push(D.query)),D.fragment!==void 0&&(G.push("#"),G.push(D.fragment)),G.join("")}function le(D,O){var U=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},G=arguments[3],Z={};return G||(D=W(te(D,U),U),O=W(te(O,U),U)),U=U||{},!U.tolerant&&O.scheme?(Z.scheme=O.scheme,Z.userinfo=O.userinfo,Z.host=O.host,Z.port=O.port,Z.path=V(O.path||""),Z.query=O.query):(O.userinfo!==void 0||O.host!==void 0||O.port!==void 0?(Z.userinfo=O.userinfo,Z.host=O.host,Z.port=O.port,Z.path=V(O.path||""),Z.query=O.query):(O.path?(O.path.charAt(0)==="/"?Z.path=V(O.path):((D.userinfo!==void 0||D.host!==void 0||D.port!==void 0)&&!D.path?Z.path="/"+O.path:D.path?Z.path=D.path.slice(0,D.path.lastIndexOf("/")+1)+O.path:Z.path=O.path,Z.path=V(Z.path)),Z.query=O.query):(Z.path=D.path,O.query!==void 0?Z.query=O.query:Z.query=D.query),Z.userinfo=D.userinfo,Z.host=D.host,Z.port=D.port),Z.scheme=D.scheme),Z.fragment=O.fragment,Z}function ie(D,O,U){var G=c({scheme:"null"},U);return te(le(W(D,G),W(O,G),G,!0),G)}function pe(D,O){return typeof D=="string"?D=te(W(D,O),O):s(D)==="object"&&(D=W(te(D,O),O)),D}function Te(D,O,U){return typeof D=="string"?D=te(W(D,U),U):s(D)==="object"&&(D=te(D,U)),typeof O=="string"?O=te(W(O,U),U):s(O)==="object"&&(O=te(O,U)),D===O}function Ce(D,O){return D&&D.toString().replace(!O||!O.iri?m.ESCAPE:h.ESCAPE,re)}function Ue(D,O){return D&&D.toString().replace(!O||!O.iri?m.PCT_ENCODED:h.PCT_ENCODED,ue)}var ot={scheme:"http",domainHost:!0,parse:function(O,U){return O.host||(O.error=O.error||"HTTP URIs must have a host."),O},serialize:function(O,U){var G=String(O.scheme).toLowerCase()==="https";return(O.port===(G?443:80)||O.port==="")&&(O.port=void 0),O.path||(O.path="/"),O}},lt={scheme:"https",domainHost:ot.domainHost,parse:ot.parse,serialize:ot.serialize};function Vt(D){return typeof D.secure=="boolean"?D.secure:String(D.scheme).toLowerCase()==="wss"}var je={scheme:"ws",domainHost:!0,parse:function(O,U){var G=O;return G.secure=Vt(G),G.resourceName=(G.path||"/")+(G.query?"?"+G.query:""),G.path=void 0,G.query=void 0,G},serialize:function(O,U){if((O.port===(Vt(O)?443:80)||O.port==="")&&(O.port=void 0),typeof O.secure=="boolean"&&(O.scheme=O.secure?"wss":"ws",O.secure=void 0),O.resourceName){var G=O.resourceName.split("?"),Z=y(G,2),ge=Z[0],ye=Z[1];O.path=ge&&ge!=="/"?ge:void 0,O.query=ye,O.resourceName=void 0}return O.fragment=void 0,O}},Qt={scheme:"wss",domainHost:je.domainHost,parse:je.parse,serialize:je.serialize},Cr={},ht="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",ct="[0-9A-Fa-f]",Pn=n(n("%[EFef]"+ct+"%"+ct+ct+"%"+ct+ct)+"|"+n("%[89A-Fa-f]"+ct+"%"+ct+ct)+"|"+n("%"+ct+ct)),On="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Rn="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Qr=i(Rn,'[\\"\\\\]'),Yt="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",lr=new RegExp(ht,"g"),cr=new RegExp(Pn,"g"),Ha=new RegExp(i("[^]",On,"[\\.]",'[\\"]',Qr),"g"),Ms=new RegExp(i("[^]",ht,Yt),"g"),Wa=Ms;function Nn(D){var O=ue(D);return O.match(lr)?O:D}var Ls={scheme:"mailto",parse:function(O,U){var G=O,Z=G.to=G.path?G.path.split(","):[];if(G.path=void 0,G.query){for(var ge=!1,ye={},Re=G.query.split("&"),Fe=0,He=Re.length;Fe<He;++Fe){var Oe=Re[Fe].split("=");switch(Oe[0]){case"to":for(var ze=Oe[1].split(","),We=0,Ae=ze.length;We<Ae;++We)Z.push(ze[We]);break;case"subject":G.subject=Ue(Oe[1],U);break;case"body":G.body=Ue(Oe[1],U);break;default:ge=!0,ye[Ue(Oe[0],U)]=Ue(Oe[1],U);break}}ge&&(G.headers=ye)}G.query=void 0;for(var Me=0,Ge=Z.length;Me<Ge;++Me){var Le=Z[Me].split("@");if(Le[0]=Ue(Le[0]),U.unicodeSupport)Le[1]=Ue(Le[1],U).toLowerCase();else try{Le[1]=K.toASCII(Ue(Le[1],U).toLowerCase())}catch(xt){G.error=G.error||"Email address's domain name can not be converted to ASCII via punycode: "+xt}Z[Me]=Le.join("@")}return G},serialize:function(O,U){var G=O,Z=o(O.to);if(Z){for(var ge=0,ye=Z.length;ge<ye;++ge){var Re=String(Z[ge]),Fe=Re.lastIndexOf("@"),He=Re.slice(0,Fe).replace(cr,Nn).replace(cr,a).replace(Ha,re),Oe=Re.slice(Fe+1);try{Oe=U.iri?K.toUnicode(Oe):K.toASCII(Ue(Oe,U).toLowerCase())}catch(Me){G.error=G.error||"Email address's domain name can not be converted to "+(U.iri?"Unicode":"ASCII")+" via punycode: "+Me}Z[ge]=He+"@"+Oe}G.path=Z.join(",")}var ze=O.headers=O.headers||{};O.subject&&(ze.subject=O.subject),O.body&&(ze.body=O.body);var We=[];for(var Ae in ze)ze[Ae]!==Cr[Ae]&&We.push(Ae.replace(cr,Nn).replace(cr,a).replace(Ms,re)+"="+ze[Ae].replace(cr,Nn).replace(cr,a).replace(Wa,re));return We.length&&(G.query=We.join("&")),G}},Za=/^([^\:]+)\:(.*)/,Vs={scheme:"urn",parse:function(O,U){var G=O.path&&O.path.match(Za),Z=O;if(G){var ge=U.scheme||Z.scheme||"urn",ye=G[1].toLowerCase(),Re=G[2],Fe=ge+":"+(U.nid||ye),He=se[Fe];Z.nid=ye,Z.nss=Re,Z.path=void 0,He&&(Z=He.parse(Z,U))}else Z.error=Z.error||"URN can not be parsed.";return Z},serialize:function(O,U){var G=U.scheme||O.scheme||"urn",Z=O.nid,ge=G+":"+(U.nid||Z),ye=se[ge];ye&&(O=ye.serialize(O,U));var Re=O,Fe=O.nss;return Re.path=(Z||U.nid)+":"+Fe,Re}},qa=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,xs={scheme:"urn:uuid",parse:function(O,U){var G=O;return G.uuid=G.nss,G.nss=void 0,!U.tolerant&&(!G.uuid||!G.uuid.match(qa))&&(G.error=G.error||"UUID is not valid."),G},serialize:function(O,U){var G=O;return G.nss=(O.uuid||"").toLowerCase(),G}};se[ot.scheme]=ot,se[lt.scheme]=lt,se[je.scheme]=je,se[Qt.scheme]=Qt,se[Ls.scheme]=Ls,se[Vs.scheme]=Vs,se[xs.scheme]=xs,r.SCHEMES=se,r.pctEncChar=re,r.pctDecChars=ue,r.parse=W,r.removeDotSegments=V,r.serialize=te,r.resolveComponents=le,r.resolve=ie,r.normalize=pe,r.equal=Te,r.escapeComponent=Ce,r.unescapeComponent=Ue,Object.defineProperty(r,"__esModule",{value:!0})})})(kc,yn);Object.defineProperty(os,"__esModule",{value:!0});const Ta=yn;Ta.code='require("ajv/dist/runtime/uri").default';os.default=Ta;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=Et;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var r=Pe;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const i=qr,n=Gr,s=ar,a=at,o=Pe,c=Xe,l=Zr,m=Ne,h=$c,y=os,u=(x,E)=>new RegExp(x,E);u.code="new RegExp";const _=["removeAdditional","useDefaults","coerceTypes"],d=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),p={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},f={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},v=200;function w(x){var E,R,F,k,C,K,se,re,ue,ve,ke,Ke,Je,g,Q,W,N,P,M,Y,ee,V,te,le,ie;const pe=x.strict,Te=(E=x.code)===null||E===void 0?void 0:E.optimize,Ce=Te===!0||Te===void 0?1:Te||0,Ue=(F=(R=x.code)===null||R===void 0?void 0:R.regExp)!==null&&F!==void 0?F:u,ot=(k=x.uriResolver)!==null&&k!==void 0?k:y.default;return{strictSchema:(K=(C=x.strictSchema)!==null&&C!==void 0?C:pe)!==null&&K!==void 0?K:!0,strictNumbers:(re=(se=x.strictNumbers)!==null&&se!==void 0?se:pe)!==null&&re!==void 0?re:!0,strictTypes:(ve=(ue=x.strictTypes)!==null&&ue!==void 0?ue:pe)!==null&&ve!==void 0?ve:"log",strictTuples:(Ke=(ke=x.strictTuples)!==null&&ke!==void 0?ke:pe)!==null&&Ke!==void 0?Ke:"log",strictRequired:(g=(Je=x.strictRequired)!==null&&Je!==void 0?Je:pe)!==null&&g!==void 0?g:!1,code:x.code?{...x.code,optimize:Ce,regExp:Ue}:{optimize:Ce,regExp:Ue},loopRequired:(Q=x.loopRequired)!==null&&Q!==void 0?Q:v,loopEnum:(W=x.loopEnum)!==null&&W!==void 0?W:v,meta:(N=x.meta)!==null&&N!==void 0?N:!0,messages:(P=x.messages)!==null&&P!==void 0?P:!0,inlineRefs:(M=x.inlineRefs)!==null&&M!==void 0?M:!0,schemaId:(Y=x.schemaId)!==null&&Y!==void 0?Y:"$id",addUsedSchema:(ee=x.addUsedSchema)!==null&&ee!==void 0?ee:!0,validateSchema:(V=x.validateSchema)!==null&&V!==void 0?V:!0,validateFormats:(te=x.validateFormats)!==null&&te!==void 0?te:!0,unicodeRegExp:(le=x.unicodeRegExp)!==null&&le!==void 0?le:!0,int32range:(ie=x.int32range)!==null&&ie!==void 0?ie:!0,uriResolver:ot}}class ${constructor(E={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,E=this.opts={...E,...w(E)};const{es5:R,lines:F}=this.opts.code;this.scope=new o.ValueScope({scope:{},prefixes:d,es5:R,lines:F}),this.logger=T(E.logger);const k=E.validateFormats;E.validateFormats=!1,this.RULES=(0,s.getRules)(),A.call(this,p,E,"NOT SUPPORTED"),A.call(this,f,E,"DEPRECATED","warn"),this._metaOpts=L.call(this),E.formats&&j.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),E.keywords&&z.call(this,E.keywords),typeof E.meta=="object"&&this.addMetaSchema(E.meta),S.call(this),E.validateFormats=k}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:E,meta:R,schemaId:F}=this.opts;let k=h;F==="id"&&(k={...h},k.id=k.$id,delete k.$id),R&&E&&this.addMetaSchema(k,k[F],!1)}defaultMeta(){const{meta:E,schemaId:R}=this.opts;return this.opts.defaultMeta=typeof E=="object"?E[R]||E:void 0}validate(E,R){let F;if(typeof E=="string"){if(F=this.getSchema(E),!F)throw new Error(`no schema with key or ref "${E}"`)}else F=this.compile(E);const k=F(R);return"$async"in F||(this.errors=F.errors),k}compile(E,R){const F=this._addSchema(E,R);return F.validate||this._compileSchemaEnv(F)}compileAsync(E,R){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:F}=this.opts;return k.call(this,E,R);async function k(ve,ke){await C.call(this,ve.$schema);const Ke=this._addSchema(ve,ke);return Ke.validate||K.call(this,Ke)}async function C(ve){ve&&!this.getSchema(ve)&&await k.call(this,{$ref:ve},!0)}async function K(ve){try{return this._compileSchemaEnv(ve)}catch(ke){if(!(ke instanceof n.default))throw ke;return se.call(this,ke),await re.call(this,ke.missingSchema),K.call(this,ve)}}function se({missingSchema:ve,missingRef:ke}){if(this.refs[ve])throw new Error(`AnySchema ${ve} is loaded but ${ke} cannot be resolved`)}async function re(ve){const ke=await ue.call(this,ve);this.refs[ve]||await C.call(this,ke.$schema),this.refs[ve]||this.addSchema(ke,ve,R)}async function ue(ve){const ke=this._loading[ve];if(ke)return ke;try{return await(this._loading[ve]=F(ve))}finally{delete this._loading[ve]}}}addSchema(E,R,F,k=this.opts.validateSchema){if(Array.isArray(E)){for(const K of E)this.addSchema(K,void 0,F,k);return this}let C;if(typeof E=="object"){const{schemaId:K}=this.opts;if(C=E[K],C!==void 0&&typeof C!="string")throw new Error(`schema ${K} must be string`)}return R=(0,c.normalizeId)(R||C),this._checkUnique(R),this.schemas[R]=this._addSchema(E,F,R,k,!0),this}addMetaSchema(E,R,F=this.opts.validateSchema){return this.addSchema(E,R,!0,F),this}validateSchema(E,R){if(typeof E=="boolean")return!0;let F;if(F=E.$schema,F!==void 0&&typeof F!="string")throw new Error("$schema must be a string");if(F=F||this.opts.defaultMeta||this.defaultMeta(),!F)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const k=this.validate(F,E);if(!k&&R){const C="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(C);else throw new Error(C)}return k}getSchema(E){let R;for(;typeof(R=I.call(this,E))=="string";)E=R;if(R===void 0){const{schemaId:F}=this.opts,k=new a.SchemaEnv({schema:{},schemaId:F});if(R=a.resolveSchema.call(this,k,E),!R)return;this.refs[E]=R}return R.validate||this._compileSchemaEnv(R)}removeSchema(E){if(E instanceof RegExp)return this._removeAllSchemas(this.schemas,E),this._removeAllSchemas(this.refs,E),this;switch(typeof E){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const R=I.call(this,E);return typeof R=="object"&&this._cache.delete(R.schema),delete this.schemas[E],delete this.refs[E],this}case"object":{const R=E;this._cache.delete(R);let F=E[this.opts.schemaId];return F&&(F=(0,c.normalizeId)(F),delete this.schemas[F],delete this.refs[F]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(E){for(const R of E)this.addKeyword(R);return this}addKeyword(E,R){let F;if(typeof E=="string")F=E,typeof R=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),R.keyword=F);else if(typeof E=="object"&&R===void 0){if(R=E,F=R.keyword,Array.isArray(F)&&!F.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(b.call(this,F,R),!R)return(0,m.eachItem)(F,C=>J.call(this,C)),this;X.call(this,R);const k={...R,type:(0,l.getJSONTypes)(R.type),schemaType:(0,l.getJSONTypes)(R.schemaType)};return(0,m.eachItem)(F,k.type.length===0?C=>J.call(this,C,k):C=>k.type.forEach(K=>J.call(this,C,k,K))),this}getKeyword(E){const R=this.RULES.all[E];return typeof R=="object"?R.definition:!!R}removeKeyword(E){const{RULES:R}=this;delete R.keywords[E],delete R.all[E];for(const F of R.rules){const k=F.rules.findIndex(C=>C.keyword===E);k>=0&&F.rules.splice(k,1)}return this}addFormat(E,R){return typeof R=="string"&&(R=new RegExp(R)),this.formats[E]=R,this}errorsText(E=this.errors,{separator:R=", ",dataVar:F="data"}={}){return!E||E.length===0?"No errors":E.map(k=>`${F}${k.instancePath} ${k.message}`).reduce((k,C)=>k+R+C)}$dataMetaSchema(E,R){const F=this.RULES.all;E=JSON.parse(JSON.stringify(E));for(const k of R){const C=k.split("/").slice(1);let K=E;for(const se of C)K=K[se];for(const se in F){const re=F[se];if(typeof re!="object")continue;const{$data:ue}=re.definition,ve=K[se];ue&&ve&&(K[se]=H(ve))}}return E}_removeAllSchemas(E,R){for(const F in E){const k=E[F];(!R||R.test(F))&&(typeof k=="string"?delete E[F]:k&&!k.meta&&(this._cache.delete(k.schema),delete E[F]))}}_addSchema(E,R,F,k=this.opts.validateSchema,C=this.opts.addUsedSchema){let K;const{schemaId:se}=this.opts;if(typeof E=="object")K=E[se];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof E!="boolean")throw new Error("schema must be object or boolean")}let re=this._cache.get(E);if(re!==void 0)return re;F=(0,c.normalizeId)(K||F);const ue=c.getSchemaRefs.call(this,E,F);return re=new a.SchemaEnv({schema:E,schemaId:se,meta:R,baseId:F,localRefs:ue}),this._cache.set(re.schema,re),C&&!F.startsWith("#")&&(F&&this._checkUnique(F),this.refs[F]=re),k&&this.validateSchema(E,!0),re}_checkUnique(E){if(this.schemas[E]||this.refs[E])throw new Error(`schema with key or id "${E}" already exists`)}_compileSchemaEnv(E){if(E.meta?this._compileMetaSchema(E):a.compileSchema.call(this,E),!E.validate)throw new Error("ajv implementation error");return E.validate}_compileMetaSchema(E){const R=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,E)}finally{this.opts=R}}}t.default=$,$.ValidationError=i.default,$.MissingRefError=n.default;function A(x,E,R,F="error"){for(const k in x){const C=k;C in E&&this.logger[F](`${R}: option ${k}. ${x[C]}`)}}function I(x){return x=(0,c.normalizeId)(x),this.schemas[x]||this.refs[x]}function S(){const x=this.opts.schemas;if(x)if(Array.isArray(x))this.addSchema(x);else for(const E in x)this.addSchema(x[E],E)}function j(){for(const x in this.opts.formats){const E=this.opts.formats[x];E&&this.addFormat(x,E)}}function z(x){if(Array.isArray(x)){this.addVocabulary(x);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const E in x){const R=x[E];R.keyword||(R.keyword=E),this.addKeyword(R)}}function L(){const x={...this.opts};for(const E of _)delete x[E];return x}const ne={log(){},warn(){},error(){}};function T(x){if(x===!1)return ne;if(x===void 0)return console;if(x.log&&x.warn&&x.error)return x;throw new Error("logger must implement log, warn and error methods")}const q=/^[a-z_$][a-z0-9_$:-]*$/i;function b(x,E){const{RULES:R}=this;if((0,m.eachItem)(x,F=>{if(R.keywords[F])throw new Error(`Keyword ${F} is already defined`);if(!q.test(F))throw new Error(`Keyword ${F} has invalid name`)}),!!E&&E.$data&&!("code"in E||"validate"in E))throw new Error('$data keyword must have "code" or "validate" function')}function J(x,E,R){var F;const k=E==null?void 0:E.post;if(R&&k)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:C}=this;let K=k?C.post:C.rules.find(({type:re})=>re===R);if(K||(K={type:R,rules:[]},C.rules.push(K)),C.keywords[x]=!0,!E)return;const se={keyword:x,definition:{...E,type:(0,l.getJSONTypes)(E.type),schemaType:(0,l.getJSONTypes)(E.schemaType)}};E.before?me.call(this,K,se,E.before):K.rules.push(se),C.all[x]=se,(F=E.implements)===null||F===void 0||F.forEach(re=>this.addKeyword(re))}function me(x,E,R){const F=x.rules.findIndex(k=>k.keyword===R);F>=0?x.rules.splice(F,0,E):(x.rules.push(E),this.logger.warn(`rule ${R} is not defined`))}function X(x){let{metaSchema:E}=x;E!==void 0&&(x.$data&&this.opts.$data&&(E=H(E)),x.validateSchema=this.compile(E,!0))}const fe={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function H(x){return{anyOf:[x,fe]}}})(ca);var ls={},cs={},us={};Object.defineProperty(us,"__esModule",{value:!0});const Ac={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};us.default=Ac;var or={};Object.defineProperty(or,"__esModule",{value:!0});or.callRef=or.getValidate=void 0;const Ec=Gr,vi=Ie,it=Pe,pr=jt,yi=at,nn=Ne,Sc={keyword:"$ref",schemaType:"string",code(t){const{gen:e,schema:r,it:i}=t,{baseId:n,schemaEnv:s,validateName:a,opts:o,self:c}=i,{root:l}=s;if((r==="#"||r==="#/")&&n===l.baseId)return h();const m=yi.resolveRef.call(c,l,n,r);if(m===void 0)throw new Ec.default(i.opts.uriResolver,n,r);if(m instanceof yi.SchemaEnv)return y(m);return u(m);function h(){if(s===l)return dn(t,a,s,s.$async);const _=e.scopeValue("root",{ref:l});return dn(t,(0,it._)`${_}.validate`,l,l.$async)}function y(_){const d=Da(t,_);dn(t,d,_,_.$async)}function u(_){const d=e.scopeValue("schema",o.code.source===!0?{ref:_,code:(0,it.stringify)(_)}:{ref:_}),p=e.name("valid"),f=t.subschema({schema:_,dataTypes:[],schemaPath:it.nil,topSchemaRef:d,errSchemaPath:r},p);t.mergeEvaluated(f),t.ok(p)}}};function Da(t,e){const{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,it._)`${r.scopeValue("wrapper",{ref:e})}.validate`}or.getValidate=Da;function dn(t,e,r,i){const{gen:n,it:s}=t,{allErrors:a,schemaEnv:o,opts:c}=s,l=c.passContext?pr.default.this:it.nil;i?m():h();function m(){if(!o.$async)throw new Error("async schema referenced by sync schema");const _=n.let("valid");n.try(()=>{n.code((0,it._)`await ${(0,vi.callValidateCode)(t,e,l)}`),u(e),a||n.assign(_,!0)},d=>{n.if((0,it._)`!(${d} instanceof ${s.ValidationError})`,()=>n.throw(d)),y(d),a||n.assign(_,!1)}),t.ok(_)}function h(){t.result((0,vi.callValidateCode)(t,e,l),()=>u(e),()=>y(e))}function y(_){const d=(0,it._)`${_}.errors`;n.assign(pr.default.vErrors,(0,it._)`${pr.default.vErrors} === null ? ${d} : ${pr.default.vErrors}.concat(${d})`),n.assign(pr.default.errors,(0,it._)`${pr.default.vErrors}.length`)}function u(_){var d;if(!s.opts.unevaluated)return;const p=(d=r==null?void 0:r.validate)===null||d===void 0?void 0:d.evaluated;if(s.props!==!0)if(p&&!p.dynamicProps)p.props!==void 0&&(s.props=nn.mergeEvaluated.props(n,p.props,s.props));else{const f=n.var("props",(0,it._)`${_}.evaluated.props`);s.props=nn.mergeEvaluated.props(n,f,s.props,it.Name)}if(s.items!==!0)if(p&&!p.dynamicItems)p.items!==void 0&&(s.items=nn.mergeEvaluated.items(n,p.items,s.items));else{const f=n.var("items",(0,it._)`${_}.evaluated.items`);s.items=nn.mergeEvaluated.items(n,f,s.items,it.Name)}}}or.callRef=dn;or.default=Sc;Object.defineProperty(cs,"__esModule",{value:!0});const Cc=us,Ic=or,Pc=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Cc.default,Ic.default];cs.default=Pc;var fs={},ds={};Object.defineProperty(ds,"__esModule",{value:!0});const bn=Pe,Ht=bn.operators,wn={maximum:{okStr:"<=",ok:Ht.LTE,fail:Ht.GT},minimum:{okStr:">=",ok:Ht.GTE,fail:Ht.LT},exclusiveMaximum:{okStr:"<",ok:Ht.LT,fail:Ht.GTE},exclusiveMinimum:{okStr:">",ok:Ht.GT,fail:Ht.LTE}},Oc={message:({keyword:t,schemaCode:e})=>(0,bn.str)`must be ${wn[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,bn._)`{comparison: ${wn[t].okStr}, limit: ${e}}`},Rc={keyword:Object.keys(wn),type:"number",schemaType:"number",$data:!0,error:Oc,code(t){const{keyword:e,data:r,schemaCode:i}=t;t.fail$data((0,bn._)`${r} ${wn[e].fail} ${i} || isNaN(${r})`)}};ds.default=Rc;var hs={};Object.defineProperty(hs,"__esModule",{value:!0});const Fr=Pe,Nc={message:({schemaCode:t})=>(0,Fr.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,Fr._)`{multipleOf: ${t}}`},Tc={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Nc,code(t){const{gen:e,data:r,schemaCode:i,it:n}=t,s=n.opts.multipleOfPrecision,a=e.let("res"),o=s?(0,Fr._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${s}`:(0,Fr._)`${a} !== parseInt(${a})`;t.fail$data((0,Fr._)`(${i} === 0 || (${a} = ${r}/${i}, ${o}))`)}};hs.default=Tc;var ps={},ms={};Object.defineProperty(ms,"__esModule",{value:!0});function ja(t){const e=t.length;let r=0,i=0,n;for(;i<e;)r++,n=t.charCodeAt(i++),n>=55296&&n<=56319&&i<e&&(n=t.charCodeAt(i),(n&64512)===56320&&i++);return r}ms.default=ja;ja.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(ps,"__esModule",{value:!0});const nr=Pe,Dc=Ne,jc=ms,zc={message({keyword:t,schemaCode:e}){const r=t==="maxLength"?"more":"fewer";return(0,nr.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,nr._)`{limit: ${t}}`},Uc={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:zc,code(t){const{keyword:e,data:r,schemaCode:i,it:n}=t,s=e==="maxLength"?nr.operators.GT:nr.operators.LT,a=n.opts.unicode===!1?(0,nr._)`${r}.length`:(0,nr._)`${(0,Dc.useFunc)(t.gen,jc.default)}(${r})`;t.fail$data((0,nr._)`${a} ${s} ${i}`)}};ps.default=Uc;var _s={};Object.defineProperty(_s,"__esModule",{value:!0});const Fc=Ie,$n=Pe,Bc={message:({schemaCode:t})=>(0,$n.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,$n._)`{pattern: ${t}}`},Mc={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Bc,code(t){const{data:e,$data:r,schema:i,schemaCode:n,it:s}=t,a=s.opts.unicodeRegExp?"u":"",o=r?(0,$n._)`(new RegExp(${n}, ${a}))`:(0,Fc.usePattern)(t,i);t.fail$data((0,$n._)`!${o}.test(${e})`)}};_s.default=Mc;var gs={};Object.defineProperty(gs,"__esModule",{value:!0});const Br=Pe,Lc={message({keyword:t,schemaCode:e}){const r=t==="maxProperties"?"more":"fewer";return(0,Br.str)`must NOT have ${r} than ${e} properties`},params:({schemaCode:t})=>(0,Br._)`{limit: ${t}}`},Vc={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Lc,code(t){const{keyword:e,data:r,schemaCode:i}=t,n=e==="maxProperties"?Br.operators.GT:Br.operators.LT;t.fail$data((0,Br._)`Object.keys(${r}).length ${n} ${i}`)}};gs.default=Vc;var vs={};Object.defineProperty(vs,"__esModule",{value:!0});const Nr=Ie,Mr=Pe,xc=Ne,Kc={message:({params:{missingProperty:t}})=>(0,Mr.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,Mr._)`{missingProperty: ${t}}`},Hc={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Kc,code(t){const{gen:e,schema:r,schemaCode:i,data:n,$data:s,it:a}=t,{opts:o}=a;if(!s&&r.length===0)return;const c=r.length>=o.loopRequired;if(a.allErrors?l():m(),o.strictRequired){const u=t.parentSchema.properties,{definedProperties:_}=t.it;for(const d of r)if((u==null?void 0:u[d])===void 0&&!_.has(d)){const p=a.schemaEnv.baseId+a.errSchemaPath,f=`required property "${d}" is not defined at "${p}" (strictRequired)`;(0,xc.checkStrictMode)(a,f,a.opts.strictRequired)}}function l(){if(c||s)t.block$data(Mr.nil,h);else for(const u of r)(0,Nr.checkReportMissingProp)(t,u)}function m(){const u=e.let("missing");if(c||s){const _=e.let("valid",!0);t.block$data(_,()=>y(u,_)),t.ok(_)}else e.if((0,Nr.checkMissingProp)(t,r,u)),(0,Nr.reportMissingProp)(t,u),e.else()}function h(){e.forOf("prop",i,u=>{t.setParams({missingProperty:u}),e.if((0,Nr.noPropertyInData)(e,n,u,o.ownProperties),()=>t.error())})}function y(u,_){t.setParams({missingProperty:u}),e.forOf(u,i,()=>{e.assign(_,(0,Nr.propertyInData)(e,n,u,o.ownProperties)),e.if((0,Mr.not)(_),()=>{t.error(),e.break()})},Mr.nil)}}};vs.default=Hc;var ys={};Object.defineProperty(ys,"__esModule",{value:!0});const Lr=Pe,Wc={message({keyword:t,schemaCode:e}){const r=t==="maxItems"?"more":"fewer";return(0,Lr.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,Lr._)`{limit: ${t}}`},Zc={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:Wc,code(t){const{keyword:e,data:r,schemaCode:i}=t,n=e==="maxItems"?Lr.operators.GT:Lr.operators.LT;t.fail$data((0,Lr._)`${r}.length ${n} ${i}`)}};ys.default=Zc;var bs={},Jr={};Object.defineProperty(Jr,"__esModule",{value:!0});const za=ga;za.code='require("ajv/dist/runtime/equal").default';Jr.default=za;Object.defineProperty(bs,"__esModule",{value:!0});const Un=Zr,Ye=Pe,qc=Ne,Gc=Jr,Jc={message:({params:{i:t,j:e}})=>(0,Ye.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,Ye._)`{i: ${t}, j: ${e}}`},Qc={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Jc,code(t){const{gen:e,data:r,$data:i,schema:n,parentSchema:s,schemaCode:a,it:o}=t;if(!i&&!n)return;const c=e.let("valid"),l=s.items?(0,Un.getSchemaTypes)(s.items):[];t.block$data(c,m,(0,Ye._)`${a} === false`),t.ok(c);function m(){const _=e.let("i",(0,Ye._)`${r}.length`),d=e.let("j");t.setParams({i:_,j:d}),e.assign(c,!0),e.if((0,Ye._)`${_} > 1`,()=>(h()?y:u)(_,d))}function h(){return l.length>0&&!l.some(_=>_==="object"||_==="array")}function y(_,d){const p=e.name("item"),f=(0,Un.checkDataTypes)(l,p,o.opts.strictNumbers,Un.DataType.Wrong),v=e.const("indices",(0,Ye._)`{}`);e.for((0,Ye._)`;${_}--;`,()=>{e.let(p,(0,Ye._)`${r}[${_}]`),e.if(f,(0,Ye._)`continue`),l.length>1&&e.if((0,Ye._)`typeof ${p} == "string"`,(0,Ye._)`${p} += "_"`),e.if((0,Ye._)`typeof ${v}[${p}] == "number"`,()=>{e.assign(d,(0,Ye._)`${v}[${p}]`),t.error(),e.assign(c,!1).break()}).code((0,Ye._)`${v}[${p}] = ${_}`)})}function u(_,d){const p=(0,qc.useFunc)(e,Gc.default),f=e.name("outer");e.label(f).for((0,Ye._)`;${_}--;`,()=>e.for((0,Ye._)`${d} = ${_}; ${d}--;`,()=>e.if((0,Ye._)`${p}(${r}[${_}], ${r}[${d}])`,()=>{t.error(),e.assign(c,!1).break(f)})))}}};bs.default=Qc;var ws={};Object.defineProperty(ws,"__esModule",{value:!0});const qn=Pe,Yc=Ne,Xc=Jr,eu={message:"must be equal to constant",params:({schemaCode:t})=>(0,qn._)`{allowedValue: ${t}}`},tu={keyword:"const",$data:!0,error:eu,code(t){const{gen:e,data:r,$data:i,schemaCode:n,schema:s}=t;i||s&&typeof s=="object"?t.fail$data((0,qn._)`!${(0,Yc.useFunc)(e,Xc.default)}(${r}, ${n})`):t.fail((0,qn._)`${s} !== ${r}`)}};ws.default=tu;var $s={};Object.defineProperty($s,"__esModule",{value:!0});const Dr=Pe,ru=Ne,nu=Jr,su={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,Dr._)`{allowedValues: ${t}}`},iu={keyword:"enum",schemaType:"array",$data:!0,error:su,code(t){const{gen:e,data:r,$data:i,schema:n,schemaCode:s,it:a}=t;if(!i&&n.length===0)throw new Error("enum must have non-empty array");const o=n.length>=a.opts.loopEnum;let c;const l=()=>c??(c=(0,ru.useFunc)(e,nu.default));let m;if(o||i)m=e.let("valid"),t.block$data(m,h);else{if(!Array.isArray(n))throw new Error("ajv implementation error");const u=e.const("vSchema",s);m=(0,Dr.or)(...n.map((_,d)=>y(u,d)))}t.pass(m);function h(){e.assign(m,!1),e.forOf("v",s,u=>e.if((0,Dr._)`${l()}(${r}, ${u})`,()=>e.assign(m,!0).break()))}function y(u,_){const d=n[_];return typeof d=="object"&&d!==null?(0,Dr._)`${l()}(${r}, ${u}[${_}])`:(0,Dr._)`${r} === ${d}`}}};$s.default=iu;Object.defineProperty(fs,"__esModule",{value:!0});const au=ds,ou=hs,lu=ps,cu=_s,uu=gs,fu=vs,du=ys,hu=bs,pu=ws,mu=$s,_u=[au.default,ou.default,lu.default,cu.default,uu.default,fu.default,du.default,hu.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},pu.default,mu.default];fs.default=_u;var ks={},Er={};Object.defineProperty(Er,"__esModule",{value:!0});Er.validateAdditionalItems=void 0;const sr=Pe,Gn=Ne,gu={message:({params:{len:t}})=>(0,sr.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,sr._)`{limit: ${t}}`},vu={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:gu,code(t){const{parentSchema:e,it:r}=t,{items:i}=e;if(!Array.isArray(i)){(0,Gn.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}Ua(t,i)}};function Ua(t,e){const{gen:r,schema:i,data:n,keyword:s,it:a}=t;a.items=!0;const o=r.const("len",(0,sr._)`${n}.length`);if(i===!1)t.setParams({len:e.length}),t.pass((0,sr._)`${o} <= ${e.length}`);else if(typeof i=="object"&&!(0,Gn.alwaysValidSchema)(a,i)){const l=r.var("valid",(0,sr._)`${o} <= ${e.length}`);r.if((0,sr.not)(l),()=>c(l)),t.ok(l)}function c(l){r.forRange("i",e.length,o,m=>{t.subschema({keyword:s,dataProp:m,dataPropType:Gn.Type.Num},l),a.allErrors||r.if((0,sr.not)(l),()=>r.break())})}}Er.validateAdditionalItems=Ua;Er.default=vu;var As={},Sr={};Object.defineProperty(Sr,"__esModule",{value:!0});Sr.validateTuple=void 0;const bi=Pe,hn=Ne,yu=Ie,bu={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){const{schema:e,it:r}=t;if(Array.isArray(e))return Fa(t,"additionalItems",e);r.items=!0,!(0,hn.alwaysValidSchema)(r,e)&&t.ok((0,yu.validateArray)(t))}};function Fa(t,e,r=t.schema){const{gen:i,parentSchema:n,data:s,keyword:a,it:o}=t;m(n),o.opts.unevaluated&&r.length&&o.items!==!0&&(o.items=hn.mergeEvaluated.items(i,r.length,o.items));const c=i.name("valid"),l=i.const("len",(0,bi._)`${s}.length`);r.forEach((h,y)=>{(0,hn.alwaysValidSchema)(o,h)||(i.if((0,bi._)`${l} > ${y}`,()=>t.subschema({keyword:a,schemaProp:y,dataProp:y},c)),t.ok(c))});function m(h){const{opts:y,errSchemaPath:u}=o,_=r.length,d=_===h.minItems&&(_===h.maxItems||h[e]===!1);if(y.strictTuples&&!d){const p=`"${a}" is ${_}-tuple, but minItems or maxItems/${e} are not specified or different at path "${u}"`;(0,hn.checkStrictMode)(o,p,y.strictTuples)}}}Sr.validateTuple=Fa;Sr.default=bu;Object.defineProperty(As,"__esModule",{value:!0});const wu=Sr,$u={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,wu.validateTuple)(t,"items")};As.default=$u;var Es={};Object.defineProperty(Es,"__esModule",{value:!0});const wi=Pe,ku=Ne,Au=Ie,Eu=Er,Su={message:({params:{len:t}})=>(0,wi.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,wi._)`{limit: ${t}}`},Cu={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Su,code(t){const{schema:e,parentSchema:r,it:i}=t,{prefixItems:n}=r;i.items=!0,!(0,ku.alwaysValidSchema)(i,e)&&(n?(0,Eu.validateAdditionalItems)(t,n):t.ok((0,Au.validateArray)(t)))}};Es.default=Cu;var Ss={};Object.defineProperty(Ss,"__esModule",{value:!0});const mt=Pe,sn=Ne,Iu={message:({params:{min:t,max:e}})=>e===void 0?(0,mt.str)`must contain at least ${t} valid item(s)`:(0,mt.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,mt._)`{minContains: ${t}}`:(0,mt._)`{minContains: ${t}, maxContains: ${e}}`},Pu={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Iu,code(t){const{gen:e,schema:r,parentSchema:i,data:n,it:s}=t;let a,o;const{minContains:c,maxContains:l}=i;s.opts.next?(a=c===void 0?1:c,o=l):a=1;const m=e.const("len",(0,mt._)`${n}.length`);if(t.setParams({min:a,max:o}),o===void 0&&a===0){(0,sn.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(o!==void 0&&a>o){(0,sn.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,sn.alwaysValidSchema)(s,r)){let d=(0,mt._)`${m} >= ${a}`;o!==void 0&&(d=(0,mt._)`${d} && ${m} <= ${o}`),t.pass(d);return}s.items=!0;const h=e.name("valid");o===void 0&&a===1?u(h,()=>e.if(h,()=>e.break())):a===0?(e.let(h,!0),o!==void 0&&e.if((0,mt._)`${n}.length > 0`,y)):(e.let(h,!1),y()),t.result(h,()=>t.reset());function y(){const d=e.name("_valid"),p=e.let("count",0);u(d,()=>e.if(d,()=>_(p)))}function u(d,p){e.forRange("i",0,m,f=>{t.subschema({keyword:"contains",dataProp:f,dataPropType:sn.Type.Num,compositeRule:!0},d),p()})}function _(d){e.code((0,mt._)`${d}++`),o===void 0?e.if((0,mt._)`${d} >= ${a}`,()=>e.assign(h,!0).break()):(e.if((0,mt._)`${d} > ${o}`,()=>e.assign(h,!1).break()),a===1?e.assign(h,!0):e.if((0,mt._)`${d} >= ${a}`,()=>e.assign(h,!0)))}}};Ss.default=Pu;var Ba={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=Pe,r=Ne,i=Ie;t.error={message:({params:{property:c,depsCount:l,deps:m}})=>{const h=l===1?"property":"properties";return(0,e.str)`must have ${h} ${m} when property ${c} is present`},params:({params:{property:c,depsCount:l,deps:m,missingProperty:h}})=>(0,e._)`{property: ${c},
    missingProperty: ${h},
    depsCount: ${l},
    deps: ${m}}`};const n={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(c){const[l,m]=s(c);a(c,l),o(c,m)}};function s({schema:c}){const l={},m={};for(const h in c){if(h==="__proto__")continue;const y=Array.isArray(c[h])?l:m;y[h]=c[h]}return[l,m]}function a(c,l=c.schema){const{gen:m,data:h,it:y}=c;if(Object.keys(l).length===0)return;const u=m.let("missing");for(const _ in l){const d=l[_];if(d.length===0)continue;const p=(0,i.propertyInData)(m,h,_,y.opts.ownProperties);c.setParams({property:_,depsCount:d.length,deps:d.join(", ")}),y.allErrors?m.if(p,()=>{for(const f of d)(0,i.checkReportMissingProp)(c,f)}):(m.if((0,e._)`${p} && (${(0,i.checkMissingProp)(c,d,u)})`),(0,i.reportMissingProp)(c,u),m.else())}}t.validatePropertyDeps=a;function o(c,l=c.schema){const{gen:m,data:h,keyword:y,it:u}=c,_=m.name("valid");for(const d in l)(0,r.alwaysValidSchema)(u,l[d])||(m.if((0,i.propertyInData)(m,h,d,u.opts.ownProperties),()=>{const p=c.subschema({keyword:y,schemaProp:d},_);c.mergeValidEvaluated(p,_)},()=>m.var(_,!0)),c.ok(_))}t.validateSchemaDeps=o,t.default=n})(Ba);var Cs={};Object.defineProperty(Cs,"__esModule",{value:!0});const Ma=Pe,Ou=Ne,Ru={message:"property name must be valid",params:({params:t})=>(0,Ma._)`{propertyName: ${t.propertyName}}`},Nu={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Ru,code(t){const{gen:e,schema:r,data:i,it:n}=t;if((0,Ou.alwaysValidSchema)(n,r))return;const s=e.name("valid");e.forIn("key",i,a=>{t.setParams({propertyName:a}),t.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},s),e.if((0,Ma.not)(s),()=>{t.error(!0),n.allErrors||e.break()})}),t.ok(s)}};Cs.default=Nu;var In={};Object.defineProperty(In,"__esModule",{value:!0});const an=Ie,bt=Pe,Tu=jt,on=Ne,Du={message:"must NOT have additional properties",params:({params:t})=>(0,bt._)`{additionalProperty: ${t.additionalProperty}}`},ju={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Du,code(t){const{gen:e,schema:r,parentSchema:i,data:n,errsCount:s,it:a}=t;if(!s)throw new Error("ajv implementation error");const{allErrors:o,opts:c}=a;if(a.props=!0,c.removeAdditional!=="all"&&(0,on.alwaysValidSchema)(a,r))return;const l=(0,an.allSchemaProperties)(i.properties),m=(0,an.allSchemaProperties)(i.patternProperties);h(),t.ok((0,bt._)`${s} === ${Tu.default.errors}`);function h(){e.forIn("key",n,p=>{!l.length&&!m.length?_(p):e.if(y(p),()=>_(p))})}function y(p){let f;if(l.length>8){const v=(0,on.schemaRefOrVal)(a,i.properties,"properties");f=(0,an.isOwnProperty)(e,v,p)}else l.length?f=(0,bt.or)(...l.map(v=>(0,bt._)`${p} === ${v}`)):f=bt.nil;return m.length&&(f=(0,bt.or)(f,...m.map(v=>(0,bt._)`${(0,an.usePattern)(t,v)}.test(${p})`))),(0,bt.not)(f)}function u(p){e.code((0,bt._)`delete ${n}[${p}]`)}function _(p){if(c.removeAdditional==="all"||c.removeAdditional&&r===!1){u(p);return}if(r===!1){t.setParams({additionalProperty:p}),t.error(),o||e.break();return}if(typeof r=="object"&&!(0,on.alwaysValidSchema)(a,r)){const f=e.name("valid");c.removeAdditional==="failing"?(d(p,f,!1),e.if((0,bt.not)(f),()=>{t.reset(),u(p)})):(d(p,f),o||e.if((0,bt.not)(f),()=>e.break()))}}function d(p,f,v){const w={keyword:"additionalProperties",dataProp:p,dataPropType:on.Type.Str};v===!1&&Object.assign(w,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(w,f)}}};In.default=ju;var Is={};Object.defineProperty(Is,"__esModule",{value:!0});const zu=Et,$i=Ie,Fn=Ne,ki=In,Uu={keyword:"properties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,parentSchema:i,data:n,it:s}=t;s.opts.removeAdditional==="all"&&i.additionalProperties===void 0&&ki.default.code(new zu.KeywordCxt(s,ki.default,"additionalProperties"));const a=(0,$i.allSchemaProperties)(r);for(const h of a)s.definedProperties.add(h);s.opts.unevaluated&&a.length&&s.props!==!0&&(s.props=Fn.mergeEvaluated.props(e,(0,Fn.toHash)(a),s.props));const o=a.filter(h=>!(0,Fn.alwaysValidSchema)(s,r[h]));if(o.length===0)return;const c=e.name("valid");for(const h of o)l(h)?m(h):(e.if((0,$i.propertyInData)(e,n,h,s.opts.ownProperties)),m(h),s.allErrors||e.else().var(c,!0),e.endIf()),t.it.definedProperties.add(h),t.ok(c);function l(h){return s.opts.useDefaults&&!s.compositeRule&&r[h].default!==void 0}function m(h){t.subschema({keyword:"properties",schemaProp:h,dataProp:h},c)}}};Is.default=Uu;var Ps={};Object.defineProperty(Ps,"__esModule",{value:!0});const Ai=Ie,ln=Pe,Ei=Ne,Si=Ne,Fu={keyword:"patternProperties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,data:i,parentSchema:n,it:s}=t,{opts:a}=s,o=(0,Ai.allSchemaProperties)(r),c=o.filter(d=>(0,Ei.alwaysValidSchema)(s,r[d]));if(o.length===0||c.length===o.length&&(!s.opts.unevaluated||s.props===!0))return;const l=a.strictSchema&&!a.allowMatchingProperties&&n.properties,m=e.name("valid");s.props!==!0&&!(s.props instanceof ln.Name)&&(s.props=(0,Si.evaluatedPropsToName)(e,s.props));const{props:h}=s;y();function y(){for(const d of o)l&&u(d),s.allErrors?_(d):(e.var(m,!0),_(d),e.if(m))}function u(d){for(const p in l)new RegExp(d).test(p)&&(0,Ei.checkStrictMode)(s,`property ${p} matches pattern ${d} (use allowMatchingProperties)`)}function _(d){e.forIn("key",i,p=>{e.if((0,ln._)`${(0,Ai.usePattern)(t,d)}.test(${p})`,()=>{const f=c.includes(d);f||t.subschema({keyword:"patternProperties",schemaProp:d,dataProp:p,dataPropType:Si.Type.Str},m),s.opts.unevaluated&&h!==!0?e.assign((0,ln._)`${h}[${p}]`,!0):!f&&!s.allErrors&&e.if((0,ln.not)(m),()=>e.break())})})}}};Ps.default=Fu;var Os={};Object.defineProperty(Os,"__esModule",{value:!0});const Bu=Ne,Mu={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){const{gen:e,schema:r,it:i}=t;if((0,Bu.alwaysValidSchema)(i,r)){t.fail();return}const n=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},n),t.failResult(n,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};Os.default=Mu;var Rs={};Object.defineProperty(Rs,"__esModule",{value:!0});const Lu=Ie,Vu={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Lu.validateUnion,error:{message:"must match a schema in anyOf"}};Rs.default=Vu;var Ns={};Object.defineProperty(Ns,"__esModule",{value:!0});const pn=Pe,xu=Ne,Ku={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,pn._)`{passingSchemas: ${t.passing}}`},Hu={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Ku,code(t){const{gen:e,schema:r,parentSchema:i,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(n.opts.discriminator&&i.discriminator)return;const s=r,a=e.let("valid",!1),o=e.let("passing",null),c=e.name("_valid");t.setParams({passing:o}),e.block(l),t.result(a,()=>t.reset(),()=>t.error(!0));function l(){s.forEach((m,h)=>{let y;(0,xu.alwaysValidSchema)(n,m)?e.var(c,!0):y=t.subschema({keyword:"oneOf",schemaProp:h,compositeRule:!0},c),h>0&&e.if((0,pn._)`${c} && ${a}`).assign(a,!1).assign(o,(0,pn._)`[${o}, ${h}]`).else(),e.if(c,()=>{e.assign(a,!0),e.assign(o,h),y&&t.mergeEvaluated(y,pn.Name)})})}}};Ns.default=Hu;var Ts={};Object.defineProperty(Ts,"__esModule",{value:!0});const Wu=Ne,Zu={keyword:"allOf",schemaType:"array",code(t){const{gen:e,schema:r,it:i}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");const n=e.name("valid");r.forEach((s,a)=>{if((0,Wu.alwaysValidSchema)(i,s))return;const o=t.subschema({keyword:"allOf",schemaProp:a},n);t.ok(n),t.mergeEvaluated(o)})}};Ts.default=Zu;var Ds={};Object.defineProperty(Ds,"__esModule",{value:!0});const kn=Pe,La=Ne,qu={message:({params:t})=>(0,kn.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,kn._)`{failingKeyword: ${t.ifClause}}`},Gu={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:qu,code(t){const{gen:e,parentSchema:r,it:i}=t;r.then===void 0&&r.else===void 0&&(0,La.checkStrictMode)(i,'"if" without "then" and "else" is ignored');const n=Ci(i,"then"),s=Ci(i,"else");if(!n&&!s)return;const a=e.let("valid",!0),o=e.name("_valid");if(c(),t.reset(),n&&s){const m=e.let("ifClause");t.setParams({ifClause:m}),e.if(o,l("then",m),l("else",m))}else n?e.if(o,l("then")):e.if((0,kn.not)(o),l("else"));t.pass(a,()=>t.error(!0));function c(){const m=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},o);t.mergeEvaluated(m)}function l(m,h){return()=>{const y=t.subschema({keyword:m},o);e.assign(a,o),t.mergeValidEvaluated(y,a),h?e.assign(h,(0,kn._)`${m}`):t.setParams({ifClause:m})}}}};function Ci(t,e){const r=t.schema[e];return r!==void 0&&!(0,La.alwaysValidSchema)(t,r)}Ds.default=Gu;var js={};Object.defineProperty(js,"__esModule",{value:!0});const Ju=Ne,Qu={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,Ju.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};js.default=Qu;Object.defineProperty(ks,"__esModule",{value:!0});const Yu=Er,Xu=As,ef=Sr,tf=Es,rf=Ss,nf=Ba,sf=Cs,af=In,of=Is,lf=Ps,cf=Os,uf=Rs,ff=Ns,df=Ts,hf=Ds,pf=js;function mf(t=!1){const e=[cf.default,uf.default,ff.default,df.default,hf.default,pf.default,sf.default,af.default,nf.default,of.default,lf.default];return t?e.push(Xu.default,tf.default):e.push(Yu.default,ef.default),e.push(rf.default),e}ks.default=mf;var zs={},Us={};Object.defineProperty(Us,"__esModule",{value:!0});const Ze=Pe,_f={message:({schemaCode:t})=>(0,Ze.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,Ze._)`{format: ${t}}`},gf={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:_f,code(t,e){const{gen:r,data:i,$data:n,schema:s,schemaCode:a,it:o}=t,{opts:c,errSchemaPath:l,schemaEnv:m,self:h}=o;if(!c.validateFormats)return;n?y():u();function y(){const _=r.scopeValue("formats",{ref:h.formats,code:c.code.formats}),d=r.const("fDef",(0,Ze._)`${_}[${a}]`),p=r.let("fType"),f=r.let("format");r.if((0,Ze._)`typeof ${d} == "object" && !(${d} instanceof RegExp)`,()=>r.assign(p,(0,Ze._)`${d}.type || "string"`).assign(f,(0,Ze._)`${d}.validate`),()=>r.assign(p,(0,Ze._)`"string"`).assign(f,d)),t.fail$data((0,Ze.or)(v(),w()));function v(){return c.strictSchema===!1?Ze.nil:(0,Ze._)`${a} && !${f}`}function w(){const $=m.$async?(0,Ze._)`(${d}.async ? await ${f}(${i}) : ${f}(${i}))`:(0,Ze._)`${f}(${i})`,A=(0,Ze._)`(typeof ${f} == "function" ? ${$} : ${f}.test(${i}))`;return(0,Ze._)`${f} && ${f} !== true && ${p} === ${e} && !${A}`}}function u(){const _=h.formats[s];if(!_){v();return}if(_===!0)return;const[d,p,f]=w(_);d===e&&t.pass($());function v(){if(c.strictSchema===!1){h.logger.warn(A());return}throw new Error(A());function A(){return`unknown format "${s}" ignored in schema at path "${l}"`}}function w(A){const I=A instanceof RegExp?(0,Ze.regexpCode)(A):c.code.formats?(0,Ze._)`${c.code.formats}${(0,Ze.getProperty)(s)}`:void 0,S=r.scopeValue("formats",{key:s,ref:A,code:I});return typeof A=="object"&&!(A instanceof RegExp)?[A.type||"string",A.validate,(0,Ze._)`${S}.validate`]:["string",A,S]}function $(){if(typeof _=="object"&&!(_ instanceof RegExp)&&_.async){if(!m.$async)throw new Error("async format in sync schema");return(0,Ze._)`await ${f}(${i})`}return typeof p=="function"?(0,Ze._)`${f}(${i})`:(0,Ze._)`${f}.test(${i})`}}}};Us.default=gf;Object.defineProperty(zs,"__esModule",{value:!0});const vf=Us,yf=[vf.default];zs.default=yf;var $r={};Object.defineProperty($r,"__esModule",{value:!0});$r.contentVocabulary=$r.metadataVocabulary=void 0;$r.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];$r.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(ls,"__esModule",{value:!0});const bf=cs,wf=fs,$f=ks,kf=zs,Ii=$r,Af=[bf.default,wf.default,(0,$f.default)(),kf.default,Ii.metadataVocabulary,Ii.contentVocabulary];ls.default=Af;var Fs={},Va={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(t.DiscrError||(t.DiscrError={}))})(Va);Object.defineProperty(Fs,"__esModule",{value:!0});const _r=Pe,Jn=Va,Pi=at,Ef=Ne,Sf={message:({params:{discrError:t,tagName:e}})=>t===Jn.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,_r._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},Cf={keyword:"discriminator",type:"object",schemaType:"object",error:Sf,code(t){const{gen:e,data:r,schema:i,parentSchema:n,it:s}=t,{oneOf:a}=n;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const o=i.propertyName;if(typeof o!="string")throw new Error("discriminator: requires propertyName");if(i.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");const c=e.let("valid",!1),l=e.const("tag",(0,_r._)`${r}${(0,_r.getProperty)(o)}`);e.if((0,_r._)`typeof ${l} == "string"`,()=>m(),()=>t.error(!1,{discrError:Jn.DiscrError.Tag,tag:l,tagName:o})),t.ok(c);function m(){const u=y();e.if(!1);for(const _ in u)e.elseIf((0,_r._)`${l} === ${_}`),e.assign(c,h(u[_]));e.else(),t.error(!1,{discrError:Jn.DiscrError.Mapping,tag:l,tagName:o}),e.endIf()}function h(u){const _=e.name("valid"),d=t.subschema({keyword:"oneOf",schemaProp:u},_);return t.mergeEvaluated(d,_r.Name),_}function y(){var u;const _={},d=f(n);let p=!0;for(let $=0;$<a.length;$++){let A=a[$];A!=null&&A.$ref&&!(0,Ef.schemaHasRulesButRef)(A,s.self.RULES)&&(A=Pi.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,A==null?void 0:A.$ref),A instanceof Pi.SchemaEnv&&(A=A.schema));const I=(u=A==null?void 0:A.properties)===null||u===void 0?void 0:u[o];if(typeof I!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${o}"`);p=p&&(d||f(A)),v(I,$)}if(!p)throw new Error(`discriminator: "${o}" must be required`);return _;function f({required:$}){return Array.isArray($)&&$.includes(o)}function v($,A){if($.const)w($.const,A);else if($.enum)for(const I of $.enum)w(I,A);else throw new Error(`discriminator: "properties/${o}" must have "const" or "enum"`)}function w($,A){if(typeof $!="string"||$ in _)throw new Error(`discriminator: "${o}" values must be unique strings`);_[$]=A}}}};Fs.default=Cf;const If="http://json-schema.org/draft-07/schema#",Pf="http://json-schema.org/draft-07/schema#",Of="Core schema meta-schema",Rf={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Nf=["object","boolean"],Tf={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Df={$schema:If,$id:Pf,title:Of,definitions:Rf,type:Nf,properties:Tf,default:!0};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;const r=ca,i=ls,n=Fs,s=Df,a=["/properties"],o="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),i.default.forEach(_=>this.addVocabulary(_)),this.opts.discriminator&&this.addKeyword(n.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const _=this.opts.$data?this.$dataMetaSchema(s,a):s;this.addMetaSchema(_,o,!1),this.refs["http://json-schema.org/schema"]=o}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}t.exports=e=c,Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var l=Et;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return l.KeywordCxt}});var m=Pe;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return m._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return m.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return m.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return m.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return m.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return m.CodeGen}});var h=qr;Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return h.default}});var y=Gr;Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return y.default}})})(xo,gn);const jf=Lo(gn),xa=async t=>(await zr.loadAsync(t)).file("pack.mcmeta")!==null,zf=async t=>{const e=await t.text(),r={type:"array",items:{type:"object",properties:{title:{type:"string"},author:{type:"string"},"disc-namespace":{type:"string"},"model-data":{type:"integer"},"creeper-drop":{type:"boolean"},lores:{type:"array",items:{type:"string"}},"loot-tables":{type:"array",items:{type:"string"}}},required:["author","creeper-drop","disc-namespace","lores","model-data","title"]}};return new jf().compile(r)(JSON.parse(e))},Uf=async(t,e)=>{const r=await t.text(),i=JSON.parse(r),n=await new zr().loadAsync(e),s=await Promise.all(i.map(async a=>{const o=a["disc-namespace"].substring(a["disc-namespace"].indexOf(".")+1),c=await n.file(`assets/minecraft/sounds/records/${o}.ogg`).async("blob"),l=await n.file(`assets/minecraft/textures/item/music_disc_${o}.png`).async("blob"),m=await n.file(`assets/minecraft/textures/item/fragment_${o}.png`).async("blob");return{name:a.title,author:a.author,namespace:a["disc-namespace"],creeperDrop:a["creeper-drop"],isMono:!0,normalize:!0,lores:a.lores.join(`
`),lootTables:Oi(a["loot-tables"]??[]),fragmentLootTables:Oi(a["fragment-loot-tables"]??[]),uploadedFile:new File([c],`music_disc.${o}.ogg`),oggFile:c,monoFile:c,texture:l,fragmentTexture:m}}));ir.set(s)},Oi=t=>{const e=[];return t.forEach(r=>{xr.every(i=>i.source.includes(r))&&(e.includes(r)||e.push(r))}),e};function Ri(t){let e,r,i=`url(${An})`,n,s,a;return{c(){e=oe("div"),B(e,"class","popupbackground svelte-j32blb"),gt(e,"background-image",i)},m(o,c){he(o,e,c),n=!0,s||(a=[we(e,"click",t[9]),we(e,"keydown",null)],s=!0)},p:Se,i(o){n||(dt(()=>{r||(r=Gt(e,St,{},!0)),r.run(1)}),n=!0)},o(o){r||(r=Gt(e,St,{},!1)),r.run(0),n=!1},d(o){o&&de(e),o&&r&&r.end(),s=!1,De(a)}}}function Ni(t){let e,r,i,n,s,a,o,c,l,m,h,y,u,_,d,p,f,v,w,$,A,I,S,j,z,L,ne,T,q,b,J,me,X,fe,H,x;return{c(){e=oe("div"),r=oe("div"),i=oe("div"),n=oe("img"),a=Ee(),o=oe("p"),o.textContent="Not Valid",c=Ee(),l=oe("p"),m=ft(t[3]),u=Ee(),_=oe("div"),d=oe("input"),p=Ee(),f=oe("img"),w=Ee(),$=oe("p"),$.textContent="Not Valid",A=Ee(),I=oe("p"),S=ft(t[4]),L=Ee(),ne=oe("p"),ne.textContent="Warning: Importing a resource pack will overwrite any existing resource pack in the tool!",T=Ee(),q=oe("div"),b=oe("div"),J=oe("p"),J.textContent="Import",X=Ee(),fe=oe("div"),fe.innerHTML='<p id="generate_text" class="noselect svelte-j32blb">Discard</p>',tt(n.src,s=es)||B(n,"src",s),B(n,"alt",""),B(n,"class","svelte-j32blb"),B(o,"id","error"),B(o,"class","svelte-j32blb"),B(i,"class",h=_t(t[1])+" svelte-j32blb"),B(d,"type","file"),B(d,"name","discs_input"),B(d,"id","discs_input"),B(d,"accept",".json"),B(d,"class","svelte-j32blb"),tt(f.src,v=na)||B(f,"src",v),B(f,"alt",""),B(f,"class","svelte-j32blb"),B($,"id","error"),B($,"class","svelte-j32blb"),B(_,"class",j=_t(t[2])+" svelte-j32blb"),B(r,"class","popupcontainer svelte-j32blb"),gt(ne,"color","red"),gt(ne,"margin-bottom","0"),B(J,"id","generate_text"),B(J,"class","noselect svelte-j32blb"),B(b,"id","messagepopupconfirm"),B(b,"class",me="popupconfirm "+t[5]+" svelte-j32blb"),B(fe,"id","messagepopupconfirm"),B(fe,"class","popupconfirm svelte-j32blb"),B(q,"id","input"),B(q,"class","svelte-j32blb"),B(e,"class","popup svelte-j32blb")},m(E,R){he(E,e,R),ae(e,r),ae(r,i),ae(i,n),ae(i,a),ae(i,o),ae(i,c),ae(i,l),ae(l,m),ae(r,u),ae(r,_),ae(_,d),ae(_,p),ae(_,f),ae(_,w),ae(_,$),ae(_,A),ae(_,I),ae(I,S),ae(e,L),ae(e,ne),ae(e,T),ae(e,q),ae(q,b),ae(b,J),ae(q,X),ae(q,fe),H||(x=[Qe(yr.call(null,i,{accept:".zip",cb:t[6]})),we(i,"keydown",null),Qe(yr.call(null,_,{accept:".json",cb:t[7]})),we(_,"keydown",null),we(b,"click",t[10]),we(b,"keydown",null),we(fe,"click",t[9]),we(fe,"keydown",null)],H=!0)},p(E,R){R&8&&Lt(m,E[3]),R&2&&h!==(h=_t(E[1])+" svelte-j32blb")&&B(i,"class",h),R&16&&Lt(S,E[4]),R&4&&j!==(j=_t(E[2])+" svelte-j32blb")&&B(_,"class",j),R&32&&me!==(me="popupconfirm "+E[5]+" svelte-j32blb")&&B(b,"class",me)},i(E){y||dt(()=>{y=xn(i,St,{}),y.start()}),z||dt(()=>{z=xn(_,St,{}),z.start()})},o:Se,d(E){E&&de(e),H=!1,De(x)}}}function Ff(t){let e,r,i,n=t[0]&&Ri(t),s=t[0]&&Ni(t);return{c(){n&&n.c(),e=Ee(),s&&s.c(),r=Ar()},m(a,o){n&&n.m(a,o),he(a,e,o),s&&s.m(a,o),he(a,r,o),i=!0},p(a,[o]){a[0]?n?(n.p(a,o),o&1&&ce(n,1)):(n=Ri(a),n.c(),ce(n,1),n.m(e.parentNode,e)):n&&(nt(),be(n,1,1,()=>{n=null}),st()),a[0]?s?(s.p(a,o),o&1&&ce(s,1)):(s=Ni(a),s.c(),ce(s,1),s.m(r.parentNode,r)):s&&(s.d(1),s=null)},i(a){i||(ce(n),ce(s),i=!0)},o(a){be(n),i=!1},d(a){n&&n.d(a),a&&de(e),s&&s.d(a),a&&de(r)}}}function Bf(t,e,r){let i,{active:n}=e,s="ready",a="Resource pack",o,c="ready",l="discs.json",m,h=!1;const y=async f=>{if(!f||f.length===0)return;const v=f[0];v.name.length>13?r(3,a=v.name.substring(0,10)+"..."):r(3,a=v.name),await xa(v)?r(1,s="success"):r(1,s="error"),o=v},u=async f=>{if(!f||f.length===0)return;const v=f[0];v.name.length>13?r(4,l=v.name.substring(0,10)+"..."):r(4,l=v.name),await zf(v)?r(2,c="success"):r(2,c="error"),m=v},_=async()=>{s==="success"&&c==="success"&&!h&&(h=!0,await Uf(m,o),d())},d=()=>r(0,n=!1),p=()=>_();return t.$$set=f=>{"active"in f&&r(0,n=f.active)},t.$$.update=()=>{t.$$.dirty&6&&r(5,i=s!=="success"||c!=="success"?"forbid":"")},[n,s,c,a,l,i,y,u,_,d,p]}class Mf extends It{constructor(e){super(),Ct(this,e,Bf,Ff,vt,{active:0})}}function Bs(){return new Worker("/jext-reborn/assets/worker-377d6e3d.js")}const Lf=t=>new Promise(e=>{const r=Vf(t);e(new Blob([r],{type:"image/png"}))}),Vf=t=>{const e=t.split(",")[1],r=window.atob(e),i=new ArrayBuffer(r.length),n=new Uint8Array(i);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return i},xf=(t,e)=>{const r=document.createElement("a");r.href=URL.createObjectURL(t),r.download=e,r.click()};Array.prototype.mapAsync=async function(t){const e=this.map(t);return await Promise.all(e)};Array.prototype.forEachParallel=async function(t){await Promise.all(this.map(t))};const Kf=async t=>t.type=="audio/ogg"?new Blob([t],{type:"audio/ogg"}):await new Promise(e=>{const r=new FileReader,i=new Blob([t]);r.readAsArrayBuffer(i),r.onload=async()=>{const n=r.result,s=new Bs;s.onmessage=a=>{e(new Blob([a.data],{type:"audio/ogg"}))},s.postMessage({audio:n,args:["-acodec","libvorbis"]})}}),Hf=async t=>await new Promise(e=>{const r=new FileReader;r.readAsArrayBuffer(t),r.onload=async()=>{const i=r.result,n=new Bs;n.onmessage=s=>{e(new Blob([s.data],{type:"audio/ogg"}))},n.postMessage({audio:i,args:["-af","loudnorm"]})}}),Wf=async t=>await new Promise(e=>{const r=new FileReader;r.readAsArrayBuffer(t),r.onload=async()=>{const i=r.result,n=new Bs;n.onmessage=s=>{e(new Blob([s.data],{type:"audio/ogg"}))},n.postMessage({audio:i,args:["-ac","1"]})}}),Ti=async(t,e,r)=>await new Promise(i=>{const n=new Image;n.src=URL.createObjectURL(t),n.onload=()=>{const s=document.createElement("canvas");s.width=e,s.height=r,s.getContext("2d").drawImage(n,0,0,e,r);const o=s.toDataURL("image/png");i(Lf(o))}});function Zf(t){return{c:Se,m:Se,p:Se,i:Se,o:Se,d:Se}}function qf(t){let e,r,i,n,s,a,o,c,l,m,h,y,u,_,d,p,f,v,w,$,A,I,S,j,z,L,ne,T;r=new wt({props:{text:"Changes the disc icon",$$slots:{default:[Gf]},$$scope:{ctx:t}}}),s=new wt({props:{text:"Toggles Creeper drops",$$slots:{default:[Jf]},$$scope:{ctx:t}}}),o=new wt({props:{text:"Selects structures in which the disc can be found",$$slots:{default:[Qf]},$$scope:{ctx:t}}});const q=[Xf,Yf],b=[];function J(H,x){return H[4]>=9?0:1}l=J(t),m=b[l]=q[l](t),y=new wt({props:{text:"(M)ono: single audio channel but music fading<br>(S)tereo: multiple audio channels but no music fading",width:"22em",$$slots:{default:[rd]},$$scope:{ctx:t}}}),_=new wt({props:{text:"Enabled: Normalizes the audio<br>Disabled: Keeps the song as is",width:"15em",$$slots:{default:[nd]},$$scope:{ctx:t}}}),p=new wt({props:{text:"Removes the disc",$$slots:{default:[sd]},$$scope:{ctx:t}}});function me(H,x){return H[0].namespace.length>90?ad:id}let X=me(t),fe=X(t);return{c(){e=oe("div"),qe(r.$$.fragment),i=Ee(),n=oe("div"),qe(s.$$.fragment),a=Ee(),qe(o.$$.fragment),c=Ee(),m.c(),h=Ee(),qe(y.$$.fragment),u=Ee(),qe(_.$$.fragment),d=Ee(),qe(p.$$.fragment),f=Ee(),v=oe("div"),w=oe("input"),$=Ee(),A=oe("input"),I=Ee(),S=oe("p"),fe.c(),j=Ee(),z=oe("textarea"),B(n,"id","buttons"),B(n,"class","svelte-cnucw0"),B(e,"id","icons"),B(e,"class","svelte-cnucw0"),B(w,"type","text"),B(w,"name","song_name"),B(w,"id","song_name_input"),B(w,"class","svelte-cnucw0"),B(A,"type","text"),B(A,"name","song_author"),B(A,"id","song_author_input"),B(A,"class","svelte-cnucw0"),B(S,"id","disknamespace"),B(S,"class","svelte-cnucw0"),B(v,"id","names"),B(v,"class","svelte-cnucw0"),B(z,"name","song_lore"),B(z,"id","song_lore_input"),B(z,"cols","30"),B(z,"rows","6"),B(z,"class","svelte-cnucw0")},m(H,x){he(H,e,x),Ve(r,e,null),ae(e,i),ae(e,n),Ve(s,n,null),ae(n,a),Ve(o,n,null),ae(n,c),b[l].m(n,null),ae(n,h),Ve(y,n,null),ae(n,u),Ve(_,n,null),ae(n,d),Ve(p,n,null),he(H,f,x),he(H,v,x),ae(v,w),Wt(w,t[0].name),ae(v,$),ae(v,A),Wt(A,t[0].author),ae(v,I),ae(v,S),fe.m(S,null),he(H,j,x),he(H,z,x),Wt(z,t[0].lores),L=!0,ne||(T=[we(w,"input",t[19]),we(w,"input",t[5]),we(A,"input",t[20]),we(A,"input",t[5]),we(z,"input",t[21])],ne=!0)},p(H,x){const E={};x&16777217&&(E.$$scope={dirty:x,ctx:H}),r.$set(E);const R={};x&16777217&&(R.$$scope={dirty:x,ctx:H}),s.$set(R);const F={};x&16777220&&(F.$$scope={dirty:x,ctx:H}),o.$set(F);let k=l;l=J(H),l===k?b[l].p(H,x):(nt(),be(b[k],1,1,()=>{b[k]=null}),st(),m=b[l],m?m.p(H,x):(m=b[l]=q[l](H),m.c()),ce(m,1),m.m(n,h));const C={};x&16777217&&(C.$$scope={dirty:x,ctx:H}),y.$set(C);const K={};x&16777217&&(K.$$scope={dirty:x,ctx:H}),_.$set(K);const se={};x&16777218&&(se.$$scope={dirty:x,ctx:H}),p.$set(se),x&1&&w.value!==H[0].name&&Wt(w,H[0].name),x&1&&A.value!==H[0].author&&Wt(A,H[0].author),X===(X=me(H))&&fe?fe.p(H,x):(fe.d(1),fe=X(H),fe&&(fe.c(),fe.m(S,null))),x&1&&Wt(z,H[0].lores)},i(H){L||(ce(r.$$.fragment,H),ce(s.$$.fragment,H),ce(o.$$.fragment,H),ce(m),ce(y.$$.fragment,H),ce(_.$$.fragment,H),ce(p.$$.fragment,H),L=!0)},o(H){be(r.$$.fragment,H),be(s.$$.fragment,H),be(o.$$.fragment,H),be(m),be(y.$$.fragment,H),be(_.$$.fragment,H),be(p.$$.fragment,H),L=!1},d(H){H&&de(e),xe(r),xe(s),xe(o),b[l].d(),xe(y),xe(_),xe(p),H&&de(f),H&&de(v),fe.d(),H&&de(j),H&&de(z),ne=!1,De(T)}}}function Gf(t){let e,r,i,n;return{c(){e=oe("img"),B(e,"id","disc_texture"),tt(e.src,r=URL.createObjectURL(t[0].texture))||B(e,"src",r),B(e,"height","64"),B(e,"width","64"),B(e,"alt","disc icon"),B(e,"class","svelte-cnucw0")},m(s,a){he(s,e,a),i||(n=[Qe(Dt.call(null,e)),Qe(yr.call(null,e,{accept:"image/*",cb:t[7]})),we(e,"keydown",null)],i=!0)},p(s,a){a&1&&!tt(e.src,r=URL.createObjectURL(s[0].texture))&&B(e,"src",r)},d(s){s&&de(e),i=!1,De(n)}}}function Jf(t){let e,r,i,n,s;return{c(){e=oe("img"),B(e,"id","toggle_creeper"),tt(e.src,r=bo)||B(e,"src",r),B(e,"alt","creeper icon"),B(e,"class",i=_t(t[0].creeperDrop?"":"grayscale")+" svelte-cnucw0")},m(a,o){he(a,e,o),n||(s=[Qe(Dt.call(null,e)),we(e,"click",t[14]),we(e,"keydown",null)],n=!0)},p(a,o){o&1&&i!==(i=_t(a[0].creeperDrop?"":"grayscale")+" svelte-cnucw0")&&B(e,"class",i)},d(a){a&&de(e),n=!1,De(s)}}}function Qf(t){let e,r,i,n;return{c(){e=oe("img"),B(e,"id","loot_selector"),tt(e.src,r=yo)||B(e,"src",r),B(e,"alt","chest icon"),B(e,"class","svelte-cnucw0")},m(s,a){he(s,e,a),i||(n=[Qe(Dt.call(null,e)),we(e,"click",t[15]),we(e,"keydown",null)],i=!0)},p:Se,d(s){s&&de(e),i=!1,De(n)}}}function Yf(t){let e,r;return e=new wt({props:{text:"Not avaiable in versions lower than 1.19",$$slots:{default:[ed]},$$scope:{ctx:t}}}),{c(){qe(e.$$.fragment)},m(i,n){Ve(e,i,n),r=!0},p(i,n){const s={};n&16777216&&(s.$$scope={dirty:n,ctx:i}),e.$set(s)},i(i){r||(ce(e.$$.fragment,i),r=!0)},o(i){be(e.$$.fragment,i),r=!1},d(i){xe(e,i)}}}function Xf(t){let e,r;return e=new wt({props:{text:"Selects structures in which the disc fragments can be found",$$slots:{default:[td]},$$scope:{ctx:t}}}),{c(){qe(e.$$.fragment)},m(i,n){Ve(e,i,n),r=!0},p(i,n){const s={};n&16777224&&(s.$$scope={dirty:n,ctx:i}),e.$set(s)},i(i){r||(ce(e.$$.fragment,i),r=!0)},o(i){be(e.$$.fragment,i),r=!1},d(i){xe(e,i)}}}function ed(t){let e,r,i,n;return{c(){e=oe("img"),B(e,"id","loot_fragment_selector"),tt(e.src,r=ia)||B(e,"src",r),B(e,"alt","fragment icon"),B(e,"class","disabled svelte-cnucw0")},m(s,a){he(s,e,a),i||(n=Qe(Dt.call(null,e)),i=!0)},p:Se,d(s){s&&de(e),i=!1,n()}}}function td(t){let e,r,i,n;return{c(){e=oe("img"),B(e,"id","loot_fragment_selector"),tt(e.src,r=ia)||B(e,"src",r),B(e,"alt","fragment icon"),B(e,"class","svelte-cnucw0")},m(s,a){he(s,e,a),i||(n=[Qe(Dt.call(null,e)),we(e,"click",t[16]),we(e,"keydown",null)],i=!0)},p:Se,d(s){s&&de(e),i=!1,De(n)}}}function rd(t){let e,r=t[0].isMono?"M":"S",i,n,s;return{c(){e=oe("p"),i=ft(r),B(e,"id","toggle_mono"),B(e,"class","svelte-cnucw0")},m(a,o){he(a,e,o),ae(e,i),n||(s=[Qe(Dt.call(null,e)),we(e,"click",t[17]),we(e,"keydown",null)],n=!0)},p(a,o){o&1&&r!==(r=a[0].isMono?"M":"S")&&Lt(i,r)},d(a){a&&de(e),n=!1,De(s)}}}function nd(t){let e,r,i,n;return{c(){e=oe("img"),tt(e.src,r=t[0].normalize?Ys:Xs)||B(e,"src",r),B(e,"id","audio_normalize"),B(e,"alt","audio icon"),B(e,"class","svelte-cnucw0")},m(s,a){he(s,e,a),i||(n=[Qe(Dt.call(null,e)),we(e,"click",t[18]),we(e,"keydown",null)],i=!0)},p(s,a){a&1&&!tt(e.src,r=s[0].normalize?Ys:Xs)&&B(e,"src",r)},d(s){s&&de(e),i=!1,De(n)}}}function sd(t){let e,r,i;return{c(){e=oe("img"),B(e,"id","song_delete"),B(e,"alt","delete icon"),B(e,"class","svelte-cnucw0")},m(n,s){he(n,e,s),r||(i=[Qe(Dt.call(null,e)),Qe(ho.call(null,e,{src:$o,hover:wo})),we(e,"click",function(){Jt(t[1])&&t[1].apply(this,arguments)}),we(e,"keydown",null)],r=!0)},p(n,s){t=n},d(n){n&&de(e),r=!1,De(i)}}}function id(t){let e=t[0].namespace+"",r;return{c(){r=ft(e)},m(i,n){he(i,r,n)},p(i,n){n&1&&e!==(e=i[0].namespace+"")&&Lt(r,e)},d(i){i&&de(r)}}}function ad(t){let e=t[0].namespace.substring(0,90)+"",r,i;return{c(){r=ft(e),i=ft("...")},m(n,s){he(n,r,s),he(n,i,s)},p(n,s){s&1&&e!==(e=n[0].namespace.substring(0,90)+"")&&Lt(r,e)},d(n){n&&de(r),n&&de(i)}}}function od(t){let e,r,i,n;return{c(){e=oe("div"),r=oe("img"),B(r,"alt","loading"),B(r,"class","svelte-cnucw0"),B(e,"id","loading"),B(e,"class","svelte-cnucw0")},m(s,a){he(s,e,a),ae(e,r),i||(n=Qe(po.call(null,r,ko)),i=!0)},p:Se,i:Se,o:Se,d(s){s&&de(e),i=!1,n()}}}function ld(t){let e,r,i,n,s,a,o,c,l,m,h;function y($){t[9]($)}function u($){t[10]($)}let _={};t[0].lootTables!==void 0&&(_.selectedDungeons=t[0].lootTables),t[2]!==void 0&&(_.active=t[2]),e=new jo({props:_}),ut.push(()=>kt(e,"selectedDungeons",y)),ut.push(()=>kt(e,"active",u));function d($){t[11]($)}function p($){t[12]($)}function f($){t[13]($)}let v={};t[0].fragmentLootTables!==void 0&&(v.selectedDungeons=t[0].fragmentLootTables),t[3]!==void 0&&(v.active=t[3]),t[0].fragmentTexture!==void 0&&(v.texture=t[0].fragmentTexture),s=new wd({props:v}),ut.push(()=>kt(s,"selectedDungeons",d)),ut.push(()=>kt(s,"active",p)),ut.push(()=>kt(s,"texture",f));let w={ctx:t,current:null,token:null,hasCatch:!1,pending:od,then:qf,catch:Zf,value:23,blocks:[,,,]};return ea(t[6],w),{c(){qe(e.$$.fragment),n=Ee(),qe(s.$$.fragment),l=Ee(),m=oe("div"),w.block.c(),B(m,"id","song"),B(m,"class","svelte-cnucw0")},m($,A){Ve(e,$,A),he($,n,A),Ve(s,$,A),he($,l,A),he($,m,A),w.block.m(m,w.anchor=null),w.mount=()=>m,w.anchor=null,h=!0},p($,[A]){t=$;const I={};!r&&A&1&&(r=!0,I.selectedDungeons=t[0].lootTables,$t(()=>r=!1)),!i&&A&4&&(i=!0,I.active=t[2],$t(()=>i=!1)),e.$set(I);const S={};!a&&A&1&&(a=!0,S.selectedDungeons=t[0].fragmentLootTables,$t(()=>a=!1)),!o&&A&8&&(o=!0,S.active=t[3],$t(()=>o=!1)),!c&&A&1&&(c=!0,S.texture=t[0].fragmentTexture,$t(()=>c=!1)),s.$set(S),ta(w,t,A)},i($){h||(ce(e.$$.fragment,$),ce(s.$$.fragment,$),ce(w.block),h=!0)},o($){be(e.$$.fragment,$),be(s.$$.fragment,$);for(let A=0;A<3;A+=1){const I=w.blocks[A];be(I)}h=!1},d($){xe(e,$),$&&de(n),xe(s,$),$&&de(l),$&&de(m),w.block.d(),w.token=null,w=null}}}function cd(t,e,r){let i;kr(t,br,L=>r(4,i=L));let{song:n}=e,{id:s}=e,{onRemove:a=()=>{}}=e,o=!1,c=!1;const l=()=>{r(0,n.namespace=`${n.name}${n.author}${s}`.replace(/[^a-zA-Z0-9]/g,"").replaceAll("1","one").replaceAll("2","two").replaceAll("3","three").replaceAll("4","four").replaceAll("5","five").replaceAll("6","six").replaceAll("7","seven").replaceAll("8","eight").replaceAll("9","nine").replaceAll("0","zero").toLowerCase(),n)},h=(async()=>{const L=n.uploadedFile.name.replace(/(\.mp3)|(\.ogg)|(\.wav)/g,"").split(/ ?- ?/g);L.length>=1&&r(0,n.name=L.shift(),n),L.length>=1&&r(0,n.author=L.join(),n),l(),r(0,n.oggFile=await Kf(n.uploadedFile),n),r(0,n.fragmentTexture=await(await fetch(sa)).blob(),n),r(0,n.texture=await(await fetch(na)).blob(),n)})(),y=L=>{const ne=L[0];ne&&r(0,n.texture=ne,n)};function u(L){t.$$.not_equal(n.lootTables,L)&&(n.lootTables=L,r(0,n))}function _(L){o=L,r(2,o)}function d(L){t.$$.not_equal(n.fragmentLootTables,L)&&(n.fragmentLootTables=L,r(0,n))}function p(L){c=L,r(3,c)}function f(L){t.$$.not_equal(n.fragmentTexture,L)&&(n.fragmentTexture=L,r(0,n))}const v=()=>r(0,n.creeperDrop=!n.creeperDrop,n),w=()=>r(2,o=!0),$=()=>r(3,c=!0),A=()=>r(0,n.isMono=!n.isMono,n),I=()=>r(0,n.normalize=!n.normalize,n);function S(){n.name=this.value,r(0,n)}function j(){n.author=this.value,r(0,n)}function z(){n.lores=this.value,r(0,n)}return t.$$set=L=>{"song"in L&&r(0,n=L.song),"id"in L&&r(8,s=L.id),"onRemove"in L&&r(1,a=L.onRemove)},[n,a,o,c,i,l,h,y,s,u,_,d,p,f,v,w,$,A,I,S,j,z]}class ud extends It{constructor(e){super(),Ct(this,e,cd,ld,vt,{song:0,id:8,onRemove:1})}}function Di(t){let e,r,i,n,s;return{c(){e=oe("div"),B(e,"class","popupbackground svelte-14i2kdi"),gt(e,"background-image","url("+An+")")},m(a,o){he(a,e,o),i=!0,n||(s=[we(e,"click",t[2]),we(e,"keydown",null)],n=!0)},p:Se,i(a){i||(dt(()=>{r||(r=Gt(e,St,{},!0)),r.run(1)}),i=!0)},o(a){r||(r=Gt(e,St,{},!1)),r.run(0),i=!1},d(a){a&&de(e),a&&r&&r.end(),n=!1,De(s)}}}function ji(t){let e,r,i,n,s,a,o;return{c(){e=oe("div"),r=oe("div"),i=ft(t[1]),n=Ee(),s=oe("div"),s.innerHTML='<div id="content" class="svelte-14i2kdi"><p id="generate_text" class="noselect svelte-14i2kdi">OK</p></div>',B(r,"class","popupcontainer svelte-14i2kdi"),B(r,"id","messagepopupcontainer"),B(s,"id","messagepopupconfirm"),B(s,"class","popupconfirm svelte-14i2kdi"),B(e,"class","popup svelte-14i2kdi")},m(c,l){he(c,e,l),ae(e,r),ae(r,i),ae(e,n),ae(e,s),a||(o=[we(s,"click",t[2]),we(s,"keydown",null)],a=!0)},p(c,l){l&2&&Lt(i,c[1])},d(c){c&&de(e),a=!1,De(o)}}}function fd(t){let e,r,i,n=t[0]&&Di(t),s=t[0]&&ji(t);return{c(){n&&n.c(),e=Ee(),s&&s.c(),r=Ar()},m(a,o){n&&n.m(a,o),he(a,e,o),s&&s.m(a,o),he(a,r,o),i=!0},p(a,[o]){a[0]?n?(n.p(a,o),o&1&&ce(n,1)):(n=Di(a),n.c(),ce(n,1),n.m(e.parentNode,e)):n&&(nt(),be(n,1,1,()=>{n=null}),st()),a[0]?s?s.p(a,o):(s=ji(a),s.c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null)},i(a){i||(ce(n),i=!0)},o(a){be(n),i=!1},d(a){n&&n.d(a),a&&de(e),s&&s.d(a),a&&de(r)}}}function dd(t,e,r){let{text:i}=e,{active:n}=e;const s=()=>r(0,n=!1);return t.$$set=a=>{"text"in a&&r(1,i=a.text),"active"in a&&r(0,n=a.active)},[n,i,s]}class hd extends It{constructor(e){super(),Ct(this,e,dd,fd,vt,{text:1,active:0})}}function pd(t){let e,r,i;const n=t[4].default,s=Vi(n,t,t[3],null);return{c(){s&&s.c(),e=Ee(),r=oe("span"),B(r,"id","tooltiptext"),B(r,"class","left svelte-i4awrz"),gt(r,"width",t[1])},m(a,o){s&&s.m(a,o),he(a,e,o),he(a,r,o),r.innerHTML=t[0],i=!0},p(a,o){s&&s.p&&(!i||o&8)&&Hi(s,n,a,a[3],i?Ki(n,a[3],o,null):Wi(a[3]),null),(!i||o&1)&&(r.innerHTML=a[0]),(!i||o&2)&&gt(r,"width",a[1])},i(a){i||(ce(s,a),i=!0)},o(a){be(s,a),i=!1},d(a){s&&s.d(a),a&&de(e),a&&de(r)}}}function md(t){let e,r,i;const n=t[4].default,s=Vi(n,t,t[3],null);return{c(){e=oe("span"),r=Ee(),s&&s.c(),B(e,"id","tooltiptext"),B(e,"class","right svelte-i4awrz"),gt(e,"width",t[1])},m(a,o){he(a,e,o),e.innerHTML=t[0],he(a,r,o),s&&s.m(a,o),i=!0},p(a,o){(!i||o&1)&&(e.innerHTML=a[0]),(!i||o&2)&&gt(e,"width",a[1]),s&&s.p&&(!i||o&8)&&Hi(s,n,a,a[3],i?Ki(n,a[3],o,null):Wi(a[3]),null)},i(a){i||(ce(s,a),i=!0)},o(a){be(s,a),i=!1},d(a){a&&de(e),a&&de(r),s&&s.d(a)}}}function _d(t){let e,r,i,n;const s=[md,pd],a=[];function o(c,l){return c[2]?0:1}return r=o(t),i=a[r]=s[r](t),{c(){e=oe("div"),i.c(),B(e,"id","container"),B(e,"class","svelte-i4awrz")},m(c,l){he(c,e,l),a[r].m(e,null),n=!0},p(c,[l]){let m=r;r=o(c),r===m?a[r].p(c,l):(nt(),be(a[m],1,1,()=>{a[m]=null}),st(),i=a[r],i?i.p(c,l):(i=a[r]=s[r](c),i.c()),ce(i,1),i.m(e,null))},i(c){n||(ce(i),n=!0)},o(c){be(i),n=!1},d(c){c&&de(e),a[r].d()}}}function gd(t,e,r){let{$$slots:i={},$$scope:n}=e,{text:s}=e,{width:a="120px"}=e,{right:o=!0}=e;return t.$$set=c=>{"text"in c&&r(0,s=c.text),"width"in c&&r(1,a=c.width),"right"in c&&r(2,o=c.right),"$$scope"in c&&r(3,n=c.$$scope)},[s,a,o,n,i]}class wt extends It{constructor(e){super(),Ct(this,e,gd,_d,vt,{text:0,width:1,right:2})}}function zi(t,e,r){const i=t.slice();return i[8]=e[r],i}function Ui(t){let e,r,i=`url(${An})`,n,s,a;return{c(){e=oe("div"),B(e,"class","popupbackground svelte-1w6xa2d"),gt(e,"background-image",i)},m(o,c){he(o,e,c),n=!0,s||(a=[we(e,"click",t[5]),we(e,"keydown",null)],s=!0)},p:Se,i(o){n||(dt(()=>{r||(r=Gt(e,St,{},!0)),r.run(1)}),n=!0)},o(o){r||(r=Gt(e,St,{},!1)),r.run(0),n=!1},d(o){o&&de(e),o&&r&&r.end(),s=!1,De(a)}}}function Fi(t){let e,r,i,n,s,a,o,c,l,m,h,y=xr,u=[];for(let d=0;d<y.length;d+=1)u[d]=Mi(zi(t,y,d));const _=d=>be(u[d],1,1,()=>{u[d]=null});return a=new wt({props:{text:"Selects a texture for the disc fragment",$$slots:{default:[vd]},$$scope:{ctx:t}}}),{c(){e=oe("div"),r=oe("div");for(let d=0;d<u.length;d+=1)u[d].c();i=Ee(),n=oe("div"),s=oe("div"),qe(a.$$.fragment),o=Ee(),c=oe("div"),c.innerHTML='<div id="content" class="svelte-1w6xa2d"><p id="generate_text" class="noselect svelte-1w6xa2d">OK</p></div>',B(r,"class","popupcontainer svelte-1w6xa2d"),B(c,"id","messagepopupconfirm"),B(c,"class","popupconfirm svelte-1w6xa2d"),B(n,"id","out"),B(n,"class","svelte-1w6xa2d"),B(e,"class","popup svelte-1w6xa2d")},m(d,p){he(d,e,p),ae(e,r);for(let f=0;f<u.length;f+=1)u[f].m(r,null);ae(e,i),ae(e,n),ae(n,s),Ve(a,s,null),ae(n,o),ae(n,c),l=!0,m||(h=[we(c,"click",t[5]),we(c,"keydown",null)],m=!0)},p(d,p){if(p&13){y=xr;let v;for(v=0;v<y.length;v+=1){const w=zi(d,y,v);u[v]?(u[v].p(w,p),ce(u[v],1)):(u[v]=Mi(w),u[v].c(),ce(u[v],1),u[v].m(r,null))}for(nt(),v=y.length;v<u.length;v+=1)_(v);st()}const f={};p&2048&&(f.$$scope={dirty:p,ctx:d}),a.$set(f)},i(d){if(!l){for(let p=0;p<y.length;p+=1)ce(u[p]);ce(a.$$.fragment,d),l=!0}},o(d){u=u.filter(Boolean);for(let p=0;p<u.length;p+=1)be(u[p]);be(a.$$.fragment,d),l=!1},d(d){d&&de(e),Hr(u,d),xe(a),m=!1,De(h)}}}function Bi(t){let e,r;function i(){return t[7](t[8])}return e=new la({props:{image:t[8].img,name:t[8].name,value:t[0].includes(t[8].source),onClick:i}}),{c(){qe(e.$$.fragment)},m(n,s){Ve(e,n,s),r=!0},p(n,s){t=n;const a={};s&1&&(a.value=t[0].includes(t[8].source)),e.$set(a)},i(n){r||(ce(e.$$.fragment,n),r=!0)},o(n){be(e.$$.fragment,n),r=!1},d(n){xe(e,n)}}}function Mi(t){let e,r,i=t[8].minVersion&&t[8].minVersion<=t[2]&&Bi(t);return{c(){i&&i.c(),e=Ar()},m(n,s){i&&i.m(n,s),he(n,e,s),r=!0},p(n,s){n[8].minVersion&&n[8].minVersion<=n[2]?i?(i.p(n,s),s&4&&ce(i,1)):(i=Bi(n),i.c(),ce(i,1),i.m(e.parentNode,e)):i&&(nt(),be(i,1,1,()=>{i=null}),st())},i(n){r||(ce(i),r=!0)},o(n){be(i),r=!1},d(n){i&&i.d(n),n&&de(e)}}}function vd(t){let e,r,i,n;return{c(){e=oe("img"),tt(e.src,r=sa)||B(e,"src",r),B(e,"alt","fragment icon"),B(e,"id","fragment_icon"),B(e,"class","noselect svelte-1w6xa2d")},m(s,a){he(s,e,a),i||(n=[Qe(Dt.call(null,e)),Qe(yr.call(null,e,{accept:"image/png",cb:t[4]})),we(e,"keypress",null)],i=!0)},p:Se,d(s){s&&de(e),i=!1,De(n)}}}function yd(t){let e,r,i,n=t[1]&&Ui(t),s=t[1]&&Fi(t);return{c(){n&&n.c(),e=Ee(),s&&s.c(),r=Ar()},m(a,o){n&&n.m(a,o),he(a,e,o),s&&s.m(a,o),he(a,r,o),i=!0},p(a,[o]){a[1]?n?(n.p(a,o),o&2&&ce(n,1)):(n=Ui(a),n.c(),ce(n,1),n.m(e.parentNode,e)):n&&(nt(),be(n,1,1,()=>{n=null}),st()),a[1]?s?(s.p(a,o),o&2&&ce(s,1)):(s=Fi(a),s.c(),ce(s,1),s.m(r.parentNode,r)):s&&(nt(),be(s,1,1,()=>{s=null}),st())},i(a){i||(ce(n),ce(s),i=!0)},o(a){be(n),be(s),i=!1},d(a){n&&n.d(a),a&&de(e),s&&s.d(a),a&&de(r)}}}function bd(t,e,r){let i;kr(t,br,h=>r(2,i=h));let{selectedDungeons:n}=e,{texture:s}=e,{active:a=!0}=e;const o=h=>{n.includes(h)?r(0,n=n.filter(y=>y!=h)):r(0,n=[...n,h])},c=h=>{const y=h[0];y&&r(6,s=y)},l=()=>r(1,a=!1),m=h=>o(h.source);return t.$$set=h=>{"selectedDungeons"in h&&r(0,n=h.selectedDungeons),"texture"in h&&r(6,s=h.texture),"active"in h&&r(1,a=h.active)},[n,a,i,o,c,l,s,m]}class wd extends It{constructor(e){super(),Ct(this,e,bd,yd,vt,{selectedDungeons:0,texture:6,active:1})}}let Ka;br.subscribe(t=>Ka=t);const $d=async(t,e,r,i)=>new Promise(async n=>{const s=new zr,a=`
			{"pack": {"pack_format": ${Ka},"description": "Adds custom musics discs"}}
		`;s.file("pack.mcmeta",a);const c=await(await(await fetch(e)).blob()).arrayBuffer();s.file("pack.png",c);const l=s.folder("assets").folder("minecraft"),m={};t.forEach(p=>{m[`music_disc.${p.namespace}`]={sounds:[{name:`records/${p.namespace}`,stream:!0}]}}),l.file("sounds.json",JSON.stringify(m,null,2));const h=l.folder("models").folder("item"),y=l.folder("sounds").folder("records"),u=l.folder("textures").folder("item"),_={parent:"item/generated",textures:{layer0:"item/music_disc_11"},overrides:t.map((p,f)=>({predicate:{custom_model_data:f+1},model:`item/music_disc_${p.namespace}`}))},d={parent:"item/generated",textures:{layer0:"item/disc_fragment_5"},overrides:t.map((p,f)=>({predicate:{custom_model_data:f+1},model:`item/fragment_${p.namespace}`}))};h.file("music_disc_11.json",JSON.stringify(_,null,2)),h.file("disc_fragment_5.json",JSON.stringify(d,null,2)),await t.forEachParallel(async p=>{p.isMono&&!p.monoFile&&(p.monoFile=await Wf(p.oggFile))});for(let p=0;p<t.length;p++){const f=t[p],v=await(await Ti(f.texture,16,16)).arrayBuffer();u.file(`music_disc_${f.namespace}.png`,v);const w=await(await Ti(f.fragmentTexture,16,16)).arrayBuffer();u.file(`fragment_${f.namespace}.png`,w);const $=f.isMono?f.monoFile:f.oggFile,I=await(f.normalize?await Hf($):$).arrayBuffer();y.file(`${f.namespace}.ogg`,I),h.file(`music_disc_${f.namespace}.json`,JSON.stringify({parent:"item/generated",textures:{layer0:`item/music_disc_${f.namespace}`}},null,2)),h.file(`fragment_${f.namespace}.json`,JSON.stringify({parent:"item/generated",textures:{layer0:`item/fragment_${f.namespace}`}},null,2))}if(i){const p=document.createElement("input");p.type="file",p.accept=".zip",p.click(),await new Promise((f,v)=>{p.onchange=async()=>{(!p.files||p.files.length==0)&&v("No file was selected"),await xa(p.files[0])||v("The selected file is not a valid resource pack");const w=p.files[0];await(await zr.loadAsync(w)).forEach(async(A,I)=>{A!="pack.mcmeta"&&A!="pack.png"&&(I.dir?s.folder(A)||s.folder(A):s.file(A)?v("Cannot merge resource pack manually as there are conflicting files"):s.file(A,await I.async("arraybuffer")))}),f()}}).catch(f=>{alert(f),n()})}s.generateAsync({type:"blob"}).then(async p=>{const f=new zr,v=await Promise.all(t.map(async(w,$)=>({title:w.name,author:w.author,duration:await kd(w.isMono?w.monoFile:w.oggFile),"disc-namespace":`music_disc.${w.namespace}`,"model-data":$+1,"creeper-drop":w.creeperDrop,lores:w.lores.split(`
`).length==1&&w.lores.split(`
`)[0]==""?[]:w.lores.split(`
`),"loot-tables":w.lootTables.join(",").split(",").filter(A=>A!=""),"fragment-loot-tables":w.fragmentLootTables.join(",").split(",").filter(A=>A!="")})));f.file("README.md",await(await fetch(Ao)).arrayBuffer()),f.file(`${r}.zip`,await p.arrayBuffer()),f.file("discs.json",JSON.stringify(v,null,2)),f.generateAsync({type:"blob"}).then(async w=>{xf(w,"open me.zip"),n()})})}),kd=async t=>new Promise(e=>{const r=document.createElement("audio");r.src=URL.createObjectURL(t),r.onloadedmetadata=()=>{URL.revokeObjectURL(r.src),e(Math.ceil(r.duration))}});function Ad(t){let e,r,i=`url(${aa})`,n,s,a,o,c,l;function m(y){t[12](y)}let h={options:["Generate","Merge"]};return t[3]!==void 0&&(h.selected=t[3]),s=new Co({props:h}),ut.push(()=>kt(s,"selected",m)),{c(){e=oe("div"),n=Ee(),qe(s.$$.fragment),B(e,"id","generate_button"),B(e,"class",r=_t(t[4]?"":"grayscale")+" svelte-t4a3jn"),gt(e,"background-image",i)},m(y,u){he(y,e,u),he(y,n,u),Ve(s,y,u),o=!0,c||(l=[we(e,"click",function(){Jt(t[4]?t[7]:t[11])&&(t[4]?t[7]:t[11]).apply(this,arguments)}),we(e,"keydown",null)],c=!0)},p(y,u){t=y,(!o||u&16&&r!==(r=_t(t[4]?"":"grayscale")+" svelte-t4a3jn"))&&B(e,"class",r);const _={};!a&&u&8&&(a=!0,_.selected=t[3],$t(()=>a=!1)),s.$set(_)},i(y){o||(ce(s.$$.fragment,y),o=!0)},o(y){be(s.$$.fragment,y),o=!1},d(y){y&&de(e),y&&de(n),xe(s,y),c=!1,De(l)}}}function Ed(t){let e,r,i;return{c(){e=oe("div"),r=oe("img"),tt(r.src,i=oa)||B(r,"src",i),B(r,"alt","loading"),B(r,"height","32"),B(r,"width","32"),B(e,"id","generate_button"),gt(e,"background-image","url("+aa+")"),B(e,"class","svelte-t4a3jn")},m(n,s){he(n,e,s),ae(e,r)},p:Se,i:Se,o:Se,d(n){n&&de(e)}}}function Sd(t){let e,r,i,n,s,a,o,c,l,m,h,y,u,_;function d(S){t[8](S)}let p={text:t[6].length>0?"Can't generate discs while adding one":"Add at least a disc"};t[2]!==void 0&&(p.active=t[2]),r=new hd({props:p}),ut.push(()=>kt(r,"active",d));function f(S){t[9](S)}function v(S){t[10](S)}let w={};t[1]!==void 0&&(w.packname=t[1]),t[0]!==void 0&&(w.imagesrc=t[0]),s=new Mo({props:w}),ut.push(()=>kt(s,"packname",f)),ut.push(()=>kt(s,"imagesrc",v)),l=new go({});const $=[Ed,Ad],A=[];function I(S,j){return S[5]?0:1}return y=I(t),u=A[y]=$[y](t),{c(){e=oe("main"),qe(r.$$.fragment),n=Ee(),qe(s.$$.fragment),c=Ee(),qe(l.$$.fragment),m=Ee(),h=oe("div"),u.c(),B(h,"id","footer"),B(h,"class","svelte-t4a3jn"),B(e,"class","svelte-t4a3jn")},m(S,j){he(S,e,j),Ve(r,e,null),ae(e,n),Ve(s,e,null),ae(e,c),Ve(l,e,null),ae(e,m),ae(e,h),A[y].m(h,null),_=!0},p(S,[j]){const z={};j&64&&(z.text=S[6].length>0?"Can't generate discs while adding one":"Add at least a disc"),!i&&j&4&&(i=!0,z.active=S[2],$t(()=>i=!1)),r.$set(z);const L={};!a&&j&2&&(a=!0,L.packname=S[1],$t(()=>a=!1)),!o&&j&1&&(o=!0,L.imagesrc=S[0],$t(()=>o=!1)),s.$set(L);let ne=y;y=I(S),y===ne?A[y].p(S,j):(nt(),be(A[ne],1,1,()=>{A[ne]=null}),st(),u=A[y],u?u.p(S,j):(u=A[y]=$[y](S),u.c()),ce(u,1),u.m(h,null))},i(S){_||(ce(r.$$.fragment,S),ce(s.$$.fragment,S),ce(l.$$.fragment,S),ce(u),_=!0)},o(S){be(r.$$.fragment,S),be(s.$$.fragment,S),be(l.$$.fragment,S),be(u),_=!1},d(S){S&&de(e),xe(r),xe(s),xe(l),A[y].d()}}}function Cd(t,e,r){let i;kr(t,ir,p=>r(6,i=p));let n,s,a=!1,o="Generate",c=!1,l=!1;ir.subscribe(p=>{r(4,c=p.every(f=>f.texture!=null)&&p.length>0)});const m=async()=>{l||(r(5,l=!0),await $d(i,n,s,o=="Merge"),r(5,l=!1))};function h(p){a=p,r(2,a)}function y(p){s=p,r(1,s)}function u(p){n=p,r(0,n)}const _=()=>r(2,a=!0);function d(p){o=p,r(3,o)}return[n,s,a,o,c,l,i,m,h,y,u,_,d]}class Id extends It{constructor(e){super(),Ct(this,e,Cd,Sd,vt,{})}}new Id({target:document.getElementById("app")});
