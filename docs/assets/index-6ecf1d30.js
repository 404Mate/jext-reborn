(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerpolicy&&(s.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?s.credentials="include":n.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();function ke(){}const Hn=t=>t;function Ga(t,e){for(const r in e)t[r]=e[r];return t}function xa(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function zs(t){return t()}function Zi(){return Object.create(null)}function Re(t){t.forEach(zs)}function pt(t){return typeof t=="function"}function kt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Yr;function Ve(t,e){return Yr||(Yr=document.createElement("a")),Yr.href=e,t===Yr.href}function Ha(t){return Object.keys(t).length===0}function Za(t,...e){if(t==null)return ke;const r=t.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}function Fs(t,e,r){t.$$.on_destroy.push(Za(e,r))}function Us(t,e,r,i){if(t){const n=Ms(t,e,r,i);return t[0](n)}}function Ms(t,e,r,i){return t[1]&&i?Ga(r.ctx.slice(),t[1](i(e))):r.ctx}function Bs(t,e,r,i){if(t[2]&&i){const n=t[2](i(r));if(e.dirty===void 0)return n;if(typeof n=="object"){const s=[],a=Math.max(e.dirty.length,n.length);for(let o=0;o<a;o+=1)s[o]=e.dirty[o]|n[o];return s}return e.dirty|n}return e.dirty}function Ls(t,e,r,i,n,s){if(n){const a=Ms(e,r,i,s);t.p(a,n)}}function Vs(t){if(t.ctx.length>32){const e=[],r=t.ctx.length/32;for(let i=0;i<r;i++)e[i]=-1;return e}return-1}function gr(t){return t??""}const qs=typeof window<"u";let Ks=qs?()=>window.performance.now():()=>Date.now(),Zn=qs?t=>requestAnimationFrame(t):ke;const _r=new Set;function Ws(t){_r.forEach(e=>{e.c(t)||(_r.delete(e),e.f())}),_r.size!==0&&Zn(Ws)}function Gs(t){let e;return _r.size===0&&Zn(Ws),{promise:new Promise(r=>{_r.add(e={c:t,f:r})}),abort(){_r.delete(e)}}}function ie(t,e){t.appendChild(e)}function xs(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Ja(t){const e=ae("style");return Ya(xs(t),e),e.sheet}function Ya(t,e){return ie(t.head||t,e),e.sheet}function pe(t,e,r){t.insertBefore(e,r||null)}function de(t){t.parentNode&&t.parentNode.removeChild(t)}function wn(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function ae(t){return document.createElement(t)}function rt(t){return document.createTextNode(t)}function Ee(){return rt(" ")}function mt(){return rt("")}function fe(t,e,r,i){return t.addEventListener(e,r,i),()=>t.removeEventListener(e,r,i)}function z(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function Qa(t){return Array.from(t.childNodes)}function wt(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Gt(t,e){t.value=e??""}function dt(t,e,r,i){r===null?t.style.removeProperty(e):t.style.setProperty(e,r,i?"important":"")}function Ji(t,e){for(let r=0;r<t.options.length;r+=1){const i=t.options[r];if(i.__value===e){i.selected=!0;return}}t.selectedIndex=-1}function Xa(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function eo(t,e,{bubbles:r=!1,cancelable:i=!1}={}){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,r,i,e),n}const fn=new Map;let dn=0;function to(t){let e=5381,r=t.length;for(;r--;)e=(e<<5)-e^t.charCodeAt(r);return e>>>0}function ro(t,e){const r={stylesheet:Ja(e),rules:{}};return fn.set(t,r),r}function Fn(t,e,r,i,n,s,a,o=0){const l=16.666/i;let c=`{
`;for(let m=0;m<=1;m+=l){const d=e+(r-e)*s(m);c+=m*100+`%{${a(d,1-d)}}
`}const h=c+`100% {${a(r,1-r)}}
}`,p=`__svelte_${to(h)}_${o}`,k=xs(t),{stylesheet:f,rules:g}=fn.get(k)||ro(k,t);g[p]||(g[p]=!0,f.insertRule(`@keyframes ${p} ${h}`,f.cssRules.length));const u=t.style.animation||"";return t.style.animation=`${u?`${u}, `:""}${p} ${i}ms linear ${n}ms 1 both`,dn+=1,p}function Un(t,e){const r=(t.style.animation||"").split(", "),i=r.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),n=r.length-i.length;n&&(t.style.animation=i.join(", "),dn-=n,dn||no())}function no(){Zn(()=>{dn||(fn.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&de(e)}),fn.clear())})}let Br;function zt(t){Br=t}function io(){if(!Br)throw new Error("Function called outside component initialization");return Br}const pr=[],yt=[],sn=[],Mn=[],so=Promise.resolve();let Bn=!1;function ao(){Bn||(Bn=!0,so.then(Jn))}function nt(t){sn.push(t)}function Ut(t){Mn.push(t)}const In=new Set;let cr=0;function Jn(){if(cr!==0)return;const t=Br;do{try{for(;cr<pr.length;){const e=pr[cr];cr++,zt(e),oo(e.$$)}}catch(e){throw pr.length=0,cr=0,e}for(zt(null),pr.length=0,cr=0;yt.length;)yt.pop()();for(let e=0;e<sn.length;e+=1){const r=sn[e];In.has(r)||(In.add(r),r())}sn.length=0}while(pr.length);for(;Mn.length;)Mn.pop()();Bn=!1,In.clear(),zt(t)}function oo(t){if(t.fragment!==null){t.update(),Re(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(nt)}}let Pr;function Hs(){return Pr||(Pr=Promise.resolve(),Pr.then(()=>{Pr=null})),Pr}function Tr(t,e,r){t.dispatchEvent(eo(`${e?"intro":"outro"}${r}`))}const an=new Set;let Ft;function Ot(){Ft={r:0,c:[],p:Ft}}function It(){Ft.r||Re(Ft.c),Ft=Ft.p}function be(t,e){t&&t.i&&(an.delete(t),t.i(e))}function Ce(t,e,r,i){if(t&&t.o){if(an.has(t))return;an.add(t),Ft.c.push(()=>{an.delete(t),i&&(r&&t.d(1),i())}),t.o(e)}else i&&i()}const Zs={duration:0};function yr(t,e,r){const i={direction:"in"};let n=e(t,r,i),s=!1,a,o,l=0;function c(){a&&Un(t,a)}function h(){const{delay:k=0,duration:f=300,easing:g=Hn,tick:u=ke,css:m}=n||Zs;m&&(a=Fn(t,0,1,f,k,g,m,l++)),u(0,1);const d=Ks()+k,y=d+f;o&&o.abort(),s=!0,nt(()=>Tr(t,!0,"start")),o=Gs(w=>{if(s){if(w>=y)return u(1,0),Tr(t,!0,"end"),c(),s=!1;if(w>=d){const E=g((w-d)/f);u(E,1-E)}}return s})}let p=!1;return{start(){p||(p=!0,Un(t),pt(n)?(n=n(i),Hs().then(h)):h())},invalidate(){p=!1},end(){s&&(c(),s=!1)}}}function br(t,e,r,i){const n={direction:"both"};let s=e(t,r,n),a=i?0:1,o=null,l=null,c=null;function h(){c&&Un(t,c)}function p(f,g){const u=f.b-a;return g*=Math.abs(u),{a,b:f.b,d:u,duration:g,start:f.start,end:f.start+g,group:f.group}}function k(f){const{delay:g=0,duration:u=300,easing:m=Hn,tick:d=ke,css:y}=s||Zs,w={start:Ks()+g,b:f};f||(w.group=Ft,Ft.r+=1),o||l?l=w:(y&&(h(),c=Fn(t,a,f,u,g,m,y)),f&&d(0,1),o=p(w,u),nt(()=>Tr(t,f,"start")),Gs(E=>{if(l&&E>l.start&&(o=p(l,u),l=null,Tr(t,o.b,"start"),y&&(h(),c=Fn(t,a,o.b,o.duration,0,m,s.css))),o){if(E>=o.end)d(a=o.b,1-a),Tr(t,o.b,"end"),l||(o.b?h():--o.group.r||Re(o.group.c)),o=null;else if(E>=o.start){const O=E-o.start;a=o.a+o.d*m(O/o.duration),d(a,1-a)}}return!!(o||l)}))}return{run(f){pt(s)?Hs().then(()=>{s=s(n),k(f)}):k(f)},end(){h(),o=l=null}}}function Yn(t,e){const r=e.token={};function i(n,s,a,o){if(e.token!==r)return;e.resolved=o;let l=e.ctx;a!==void 0&&(l=l.slice(),l[a]=o);const c=n&&(e.current=n)(l);let h=!1;e.block&&(e.blocks?e.blocks.forEach((p,k)=>{k!==s&&p&&(Ot(),Ce(p,1,1,()=>{e.blocks[k]===p&&(e.blocks[k]=null)}),It())}):e.block.d(1),c.c(),be(c,1),c.m(e.mount(),e.anchor),h=!0),e.block=c,e.blocks&&(e.blocks[s]=c),h&&Jn()}if(xa(t)){const n=io();if(t.then(s=>{zt(n),i(e.then,1,e.value,s),zt(null)},s=>{if(zt(n),i(e.catch,2,e.error,s),zt(null),!e.hasCatch)throw s}),e.current!==e.pending)return i(e.pending,0),!0}else{if(e.current!==e.then)return i(e.then,1,e.value,t),!0;e.resolved=t}}function Qn(t,e,r){const i=e.slice(),{resolved:n}=t;t.current===t.then&&(i[t.value]=n),t.current===t.catch&&(i[t.error]=n),t.block.p(i,r)}function Mt(t,e,r){const i=t.$$.props[e];i!==void 0&&(t.$$.bound[i]=r,r(t.$$.ctx[i]))}function Qe(t){t&&t.c()}function Ze(t,e,r,i){const{fragment:n,after_update:s}=t.$$;n&&n.m(e,r),i||nt(()=>{const a=t.$$.on_mount.map(zs).filter(pt);t.$$.on_destroy?t.$$.on_destroy.push(...a):Re(a),t.$$.on_mount=[]}),s.forEach(nt)}function Je(t,e){const r=t.$$;r.fragment!==null&&(Re(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function lo(t,e){t.$$.dirty[0]===-1&&(pr.push(t),ao(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Rt(t,e,r,i,n,s,a,o=[-1]){const l=Br;zt(t);const c=t.$$={fragment:null,ctx:[],props:s,update:ke,not_equal:n,bound:Zi(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Zi(),dirty:o,skip_bound:!1,root:e.target||l.$$.root};a&&a(c.root);let h=!1;if(c.ctx=r?r(t,e.props||{},(p,k,...f)=>{const g=f.length?f[0]:k;return c.ctx&&n(c.ctx[p],c.ctx[p]=g)&&(!c.skip_bound&&c.bound[p]&&c.bound[p](g),h&&lo(t,p)),k}):[],c.update(),h=!0,Re(c.before_update),c.fragment=i?i(c.ctx):!1,e.target){if(e.hydrate){const p=Qa(e.target);c.fragment&&c.fragment.l(p),p.forEach(de)}else c.fragment&&c.fragment.c();e.intro&&be(t.$$.fragment),Ze(t,e.target,e.anchor,e.customElement),Jn()}zt(l)}class Nt{$destroy(){Je(this,1),this.$destroy=ke}$on(e,r){if(!pt(r))return ke;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(r),()=>{const n=i.indexOf(r);n!==-1&&i.splice(n,1)}}$set(e){this.$$set&&!Ha(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ur=[];function Js(t,e=ke){let r;const i=new Set;function n(o){if(kt(t,o)&&(t=o,r)){const l=!ur.length;for(const c of i)c[1](),ur.push(c,t);if(l){for(let c=0;c<ur.length;c+=2)ur[c][0](ur[c+1]);ur.length=0}}}function s(o){n(o(t))}function a(o,l=ke){const c=[o,l];return i.add(c),i.size===1&&(r=e(n)||ke),o(t),()=>{i.delete(c),i.size===0&&(r(),r=null)}}return{set:n,update:s,subscribe:a}}const hn=Js(9),Ys=Js([]);var Rr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function co(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function uo(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function i(){if(this instanceof i){var n=[null];n.push.apply(n,arguments);var s=Function.bind.apply(e,n);return new s}return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var n=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(r,i,n.get?n:{enumerable:!0,get:function(){return t[i]}})}),r}var Yi={},fo={get exports(){return Yi},set exports(t){Yi=t}};(function(t){var e=function(r){var i=Object.prototype,n=i.hasOwnProperty,s=Object.defineProperty||function(L,D,$){L[D]=$.value},a,o=typeof Symbol=="function"?Symbol:{},l=o.iterator||"@@iterator",c=o.asyncIterator||"@@asyncIterator",h=o.toStringTag||"@@toStringTag";function p(L,D,$){return Object.defineProperty(L,D,{value:$,enumerable:!0,configurable:!0,writable:!0}),L[D]}try{p({},"")}catch{p=function(D,$,C){return D[$]=C}}function k(L,D,$,C){var A=D&&D.prototype instanceof w?D:w,b=Object.create(A.prototype),P=new se(C||[]);return s(b,"_invoke",{value:T(L,$,P)}),b}r.wrap=k;function f(L,D,$){try{return{type:"normal",arg:L.call(D,$)}}catch(C){return{type:"throw",arg:C}}}var g="suspendedStart",u="suspendedYield",m="executing",d="completed",y={};function w(){}function E(){}function O(){}var I={};p(I,l,function(){return this});var S=Object.getPrototypeOf,F=S&&S(S(Y([])));F&&F!==i&&n.call(F,l)&&(I=F);var B=O.prototype=w.prototype=Object.create(I);E.prototype=O,s(B,"constructor",{value:O,configurable:!0}),s(O,"constructor",{value:E,configurable:!0}),E.displayName=p(O,h,"GeneratorFunction");function x(L){["next","throw","return"].forEach(function(D){p(L,D,function($){return this._invoke(D,$)})})}r.isGeneratorFunction=function(L){var D=typeof L=="function"&&L.constructor;return D?D===E||(D.displayName||D.name)==="GeneratorFunction":!1},r.mark=function(L){return Object.setPrototypeOf?Object.setPrototypeOf(L,O):(L.__proto__=O,p(L,h,"GeneratorFunction")),L.prototype=Object.create(B),L},r.awrap=function(L){return{__await:L}};function oe(L,D){function $(b,P,q,re){var X=f(L[b],L,P);if(X.type==="throw")re(X.arg);else{var ce=X.arg,me=ce.value;return me&&typeof me=="object"&&n.call(me,"__await")?D.resolve(me.__await).then(function(ye){$("next",ye,q,re)},function(ye){$("throw",ye,q,re)}):D.resolve(me).then(function(ye){ce.value=ye,q(ce)},function(ye){return $("throw",ye,q,re)})}}var C;function A(b,P){function q(){return new D(function(re,X){$(b,P,re,X)})}return C=C?C.then(q,q):q()}s(this,"_invoke",{value:A})}x(oe.prototype),p(oe.prototype,c,function(){return this}),r.AsyncIterator=oe,r.async=function(L,D,$,C,A){A===void 0&&(A=Promise);var b=new oe(k(L,D,$,C),A);return r.isGeneratorFunction(D)?b:b.next().then(function(P){return P.done?P.value:b.next()})};function T(L,D,$){var C=g;return function(b,P){if(C===m)throw new Error("Generator is already running");if(C===d){if(b==="throw")throw P;return he()}for($.method=b,$.arg=P;;){var q=$.delegate;if(q){var re=H(q,$);if(re){if(re===y)continue;return re}}if($.method==="next")$.sent=$._sent=$.arg;else if($.method==="throw"){if(C===g)throw C=d,$.arg;$.dispatchException($.arg)}else $.method==="return"&&$.abrupt("return",$.arg);C=m;var X=f(L,D,$);if(X.type==="normal"){if(C=$.done?d:u,X.arg===y)continue;return{value:X.arg,done:$.done}}else X.type==="throw"&&(C=d,$.method="throw",$.arg=X.arg)}}}function H(L,D){var $=D.method,C=L.iterator[$];if(C===a)return D.delegate=null,$==="throw"&&L.iterator.return&&(D.method="return",D.arg=a,H(L,D),D.method==="throw")||$!=="return"&&(D.method="throw",D.arg=new TypeError("The iterator does not provide a '"+$+"' method")),y;var A=f(C,L.iterator,D.arg);if(A.type==="throw")return D.method="throw",D.arg=A.arg,D.delegate=null,y;var b=A.arg;if(!b)return D.method="throw",D.arg=new TypeError("iterator result is not an object"),D.delegate=null,y;if(b.done)D[L.resultName]=b.value,D.next=L.nextLoc,D.method!=="return"&&(D.method="next",D.arg=a);else return b;return D.delegate=null,y}x(B),p(B,h,"Generator"),p(B,l,function(){return this}),p(B,"toString",function(){return"[object Generator]"});function v(L){var D={tryLoc:L[0]};1 in L&&(D.catchLoc=L[1]),2 in L&&(D.finallyLoc=L[2],D.afterLoc=L[3]),this.tryEntries.push(D)}function W(L){var D=L.completion||{};D.type="normal",delete D.arg,L.completion=D}function se(L){this.tryEntries=[{tryLoc:"root"}],L.forEach(v,this),this.reset(!0)}r.keys=function(L){var D=Object(L),$=[];for(var C in D)$.push(C);return $.reverse(),function A(){for(;$.length;){var b=$.pop();if(b in D)return A.value=b,A.done=!1,A}return A.done=!0,A}};function Y(L){if(L){var D=L[l];if(D)return D.call(L);if(typeof L.next=="function")return L;if(!isNaN(L.length)){var $=-1,C=function A(){for(;++$<L.length;)if(n.call(L,$))return A.value=L[$],A.done=!1,A;return A.value=a,A.done=!0,A};return C.next=C}}return{next:he}}r.values=Y;function he(){return{value:a,done:!0}}return se.prototype={constructor:se,reset:function(L){if(this.prev=0,this.next=0,this.sent=this._sent=a,this.done=!1,this.delegate=null,this.method="next",this.arg=a,this.tryEntries.forEach(W),!L)for(var D in this)D.charAt(0)==="t"&&n.call(this,D)&&!isNaN(+D.slice(1))&&(this[D]=a)},stop:function(){this.done=!0;var L=this.tryEntries[0],D=L.completion;if(D.type==="throw")throw D.arg;return this.rval},dispatchException:function(L){if(this.done)throw L;var D=this;function $(re,X){return b.type="throw",b.arg=L,D.next=re,X&&(D.method="next",D.arg=a),!!X}for(var C=this.tryEntries.length-1;C>=0;--C){var A=this.tryEntries[C],b=A.completion;if(A.tryLoc==="root")return $("end");if(A.tryLoc<=this.prev){var P=n.call(A,"catchLoc"),q=n.call(A,"finallyLoc");if(P&&q){if(this.prev<A.catchLoc)return $(A.catchLoc,!0);if(this.prev<A.finallyLoc)return $(A.finallyLoc)}else if(P){if(this.prev<A.catchLoc)return $(A.catchLoc,!0)}else if(q){if(this.prev<A.finallyLoc)return $(A.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(L,D){for(var $=this.tryEntries.length-1;$>=0;--$){var C=this.tryEntries[$];if(C.tryLoc<=this.prev&&n.call(C,"finallyLoc")&&this.prev<C.finallyLoc){var A=C;break}}A&&(L==="break"||L==="continue")&&A.tryLoc<=D&&D<=A.finallyLoc&&(A=null);var b=A?A.completion:{};return b.type=L,b.arg=D,A?(this.method="next",this.next=A.finallyLoc,y):this.complete(b)},complete:function(L,D){if(L.type==="throw")throw L.arg;return L.type==="break"||L.type==="continue"?this.next=L.arg:L.type==="return"?(this.rval=this.arg=L.arg,this.method="return",this.next="end"):L.type==="normal"&&D&&(this.next=D),y},finish:function(L){for(var D=this.tryEntries.length-1;D>=0;--D){var $=this.tryEntries[D];if($.finallyLoc===L)return this.complete($.completion,$.afterLoc),W($),y}},catch:function(L){for(var D=this.tryEntries.length-1;D>=0;--D){var $=this.tryEntries[D];if($.tryLoc===L){var C=$.completion;if(C.type==="throw"){var A=C.arg;W($)}return A}}throw new Error("illegal catch attempt")},delegateYield:function(L,D,$){return this.delegate={iterator:Y(L),resultName:D,nextLoc:$},this.method==="next"&&(this.arg=a),y}},r}(t.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(fo);var ho={defaultArgs:["./ffmpeg","-nostdin","-y"],baseOptions:{log:!1,logger:()=>{},progress:()=>{},corePath:""}},po=(t,e)=>{const r=t._malloc(e.length*Uint32Array.BYTES_PER_ELEMENT);return e.forEach((i,n)=>{const s=t.lengthBytesUTF8(i)+1,a=t._malloc(s);t.stringToUTF8(i,a,s),t.setValue(r+Uint32Array.BYTES_PER_ELEMENT*n,a,"i32")}),[e.length,r]};const mo="@ffmpeg/ffmpeg",go="0.11.6",_o="FFmpeg WebAssembly version",vo="src/index.js",yo="src/index.d.ts",bo={example:"examples"},wo={start:"node scripts/server.js","start:worker":"node scripts/worker-server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js","build:worker":"rimraf dist && webpack --config scripts/webpack.config.worker.prod.js",prepublishOnly:"npm run build",lint:"eslint src",wait:"rimraf dist && wait-on http://localhost:3000/dist/ffmpeg.dev.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:ffmpeg test:node:all","test:node":"node node_modules/mocha/bin/_mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser":"mocha-headless-chrome -a allow-file-access-from-files -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:ffmpeg":"npm run test:browser -- -f ./tests/ffmpeg.test.html"},ko={"./src/node/index.js":"./src/browser/index.js"},$o={type:"git",url:"git+https://github.com/ffmpegwasm/ffmpeg.wasm.git"},Eo=["ffmpeg","WebAssembly","video"],So="Jerome Wu <jeromewus@gmail.com>",Ao="MIT",Co={url:"https://github.com/ffmpegwasm/ffmpeg.wasm/issues"},Po={node:">=12.16.1"},Oo="https://github.com/ffmpegwasm/ffmpeg.wasm#readme",Io={"is-url":"^1.2.4","node-fetch":"^2.6.1","regenerator-runtime":"^0.13.7","resolve-url":"^0.2.1"},Ro={"@babel/core":"^7.12.3","@babel/preset-env":"^7.12.1","@ffmpeg/core":"^0.11.0","@types/emscripten":"^1.39.4","babel-eslint":"^10.1.0","babel-loader":"^8.1.0",chai:"^4.2.0",cors:"^2.8.5",eslint:"^7.12.1","eslint-config-airbnb-base":"^14.1.0","eslint-plugin-import":"^2.22.1",express:"^4.17.1",mocha:"^8.2.1","mocha-headless-chrome":"^2.0.3","npm-run-all":"^4.1.5","wait-on":"^5.3.0",webpack:"^5.3.2","webpack-cli":"^4.1.0","webpack-dev-middleware":"^4.0.0"},Qs={name:mo,version:go,description:_o,main:vo,types:yo,directories:bo,scripts:wo,browser:ko,repository:$o,keywords:Eo,author:So,license:Ao,bugs:Co,engines:Po,homepage:Oo,dependencies:Io,devDependencies:Ro},No=(typeof process<"u",`https://unpkg.com/@ffmpeg/core@${Qs.devDependencies["@ffmpeg/core"].substring(1)}/dist/ffmpeg-core.js`),To={corePath:No};let Xn=!1,Xs=()=>{};const jo=t=>{Xn=t},Do=t=>{Xs=t},zo=(t,e)=>{Xs({type:t,message:e}),Xn&&console.log(`[${t}] ${e}`)};var nr={logging:Xn,setLogging:jo,setCustomLogger:Do,log:zo};const Fo=t=>`
createFFmpegCore is not defined. ffmpeg.wasm is unable to find createFFmpegCore after loading ffmpeg-core.js from ${t}. Use another URL when calling createFFmpeg():

const ffmpeg = createFFmpeg({
  corePath: 'http://localhost:3000/ffmpeg-core.js',
});
`;var Qi={CREATE_FFMPEG_CORE_IS_NOT_DEFINED:Fo};const fr=async(t,e)=>{nr.log("info",`fetch ${t}`);const r=await(await fetch(t)).arrayBuffer();nr.log("info",`${t} file size = ${r.byteLength} bytes`);const i=new Blob([r],{type:e}),n=URL.createObjectURL(i);return nr.log("info",`${t} blob URL = ${n}`),n},Uo=async({corePath:t,workerPath:e,wasmPath:r})=>{if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope){if(typeof t!="string")throw Error("corePath should be a string!");const o=new URL(t,import.meta.url).href,l=await fr(o,"application/javascript"),c=await fr(r!==void 0?r:o.replace("ffmpeg-core.js","ffmpeg-core.wasm"),"application/wasm"),h=await fr(e!==void 0?e:o.replace("ffmpeg-core.js","ffmpeg-core.worker.js"),"application/javascript");return typeof createFFmpegCore>"u"?new Promise(p=>{if(globalThis.importScripts(l),typeof createFFmpegCore>"u")throw Error(Qi.CREATE_FFMPEG_CORE_IS_NOT_DEFINED(o));nr.log("info","ffmpeg-core.js script loaded"),p({createFFmpegCore,corePath:l,wasmPath:c,workerPath:h})}):(nr.log("info","ffmpeg-core.js script is loaded already"),Promise.resolve({createFFmpegCore,corePath:l,wasmPath:c,workerPath:h}))}if(typeof t!="string")throw Error("corePath should be a string!");const i=new URL(t,import.meta.url).href,n=await fr(i,"application/javascript"),s=await fr(r!==void 0?r:i.replace("ffmpeg-core.js","ffmpeg-core.wasm"),"application/wasm"),a=await fr(e!==void 0?e:i.replace("ffmpeg-core.js","ffmpeg-core.worker.js"),"application/javascript");return typeof createFFmpegCore>"u"?new Promise(o=>{const l=document.createElement("script"),c=()=>{if(l.removeEventListener("load",c),typeof createFFmpegCore>"u")throw Error(Qi.CREATE_FFMPEG_CORE_IS_NOT_DEFINED(i));nr.log("info","ffmpeg-core.js script loaded"),o({createFFmpegCore,corePath:n,wasmPath:s,workerPath:a})};l.src=n,l.type="text/javascript",l.addEventListener("load",c),document.getElementsByTagName("head")[0].appendChild(l)}):(nr.log("info","ffmpeg-core.js script is loaded already"),Promise.resolve({createFFmpegCore,corePath:n,wasmPath:s,workerPath:a}))},Mo=t=>new Promise((e,r)=>{const i=new FileReader;i.onload=()=>{e(i.result)},i.onerror=({target:{error:{code:n}}})=>{r(Error(`File could not be read! Code=${n}`))},i.readAsArrayBuffer(t)}),Bo=async t=>{let e=t;return typeof t>"u"?new Uint8Array:(typeof t=="string"?/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(t)?e=atob(t.split(",")[1]).split("").map(r=>r.charCodeAt(0)):e=await(await fetch(new URL(t,import.meta.url).href)).arrayBuffer():(t instanceof File||t instanceof Blob)&&(e=await Mo(t)),new Uint8Array(e))},Lo=Object.freeze(Object.defineProperty({__proto__:null,defaultOptions:To,fetchFile:Bo,getCreateFFmpegCore:Uo},Symbol.toStringTag,{value:"Module"})),ea=uo(Lo),{defaultArgs:Vo,baseOptions:qo}=ho,Ko=po,{defaultOptions:Wo,getCreateFFmpegCore:Go}=ea,{version:xo}=Qs,Rn=Error("ffmpeg.wasm is not ready, make sure you have completed load().");var Ho=(t={})=>{const{log:e,logger:r,progress:i,...n}={...qo,...Wo,...t};let s=null,a=null,o=null,l=null,c=!1,h=()=>{},p=e,k=i,f=0,g=0,u=!1,m=0;const d=v=>{v==="FFMPEG_END"&&o!==null&&(o(),o=null,l=null,c=!1)},y=(v,W)=>{h({type:v,message:W}),p&&console.log(`[${v}] ${W}`)},w=v=>{const[W,se,Y]=v.split(":");return parseFloat(W)*60*60+parseFloat(se)*60+parseFloat(Y)},E=(v,W)=>{if(typeof v=="string")if(v.startsWith("  Duration")){const se=v.split(", ")[0].split(": ")[1],Y=w(se);W({duration:Y,ratio:m}),(f===0||f>Y)&&(f=Y,u=!0)}else if(u&&v.startsWith("    Stream")){const se=v.match(/([\d.]+) fps/);if(se){const Y=parseFloat(se[1]);g=f*Y}else g=0;u=!1}else if(v.startsWith("frame")||v.startsWith("size")){const se=v.split("time=")[1].split(" ")[0],Y=w(se),he=v.match(/frame=\s*(\d+)/);if(g&&he){const L=parseFloat(he[1]);m=Math.min(L/g,1)}else m=Y/f;W({ratio:m,time:Y})}else v.startsWith("video:")&&(W({ratio:1}),f=0)},O=({type:v,message:W})=>{y(v,W),E(W,k),d(W)},I=async()=>{if(y("info","load ffmpeg-core"),s===null){y("info","loading ffmpeg-core");const{createFFmpegCore:v,corePath:W,workerPath:se,wasmPath:Y}=await Go(n);s=await v({mainScriptUrlOrBlob:W,printErr:he=>O({type:"fferr",message:he}),print:he=>O({type:"ffout",message:he}),locateFile:(he,L)=>{if(typeof window<"u"||typeof WorkerGlobalScope<"u"){if(typeof Y<"u"&&he.endsWith("ffmpeg-core.wasm"))return Y;if(typeof se<"u"&&he.endsWith("ffmpeg-core.worker.js"))return se}return L+he}}),a=s.cwrap(n.mainName||"proxy_main","number",["number","number"]),y("info","ffmpeg-core loaded")}else throw Error("ffmpeg.wasm was loaded, you should not load it again, use ffmpeg.isLoaded() to check next time.")},S=()=>s!==null,F=(...v)=>{if(y("info",`run ffmpeg command: ${v.join(" ")}`),s===null)throw Rn;if(c)throw Error("ffmpeg.wasm can only run one command at a time");return c=!0,new Promise((W,se)=>{const Y=[...Vo,...v].filter(he=>he.length!==0);o=W,l=se,a(...Ko(s,Y))})},B=(v,...W)=>{if(y("info",`run FS.${v} ${W.map(se=>typeof se=="string"?se:`<${se.length} bytes binary file>`).join(" ")}`),s===null)throw Rn;{let se=null;try{se=s.FS[v](...W)}catch{throw Error(v==="readdir"?`ffmpeg.FS('readdir', '${W[0]}') error. Check if the path exists, ex: ffmpeg.FS('readdir', '/')`:v==="readFile"?`ffmpeg.FS('readFile', '${W[0]}') error. Check if the path exists`:"Oops, something went wrong in FS operation.")}return se}},x=()=>{if(s===null)throw Rn;l&&l("ffmpeg has exited"),c=!1;try{s.exit(1)}catch(v){y(v.message),l&&l(v)}finally{s=null,a=null,o=null,l=null}},oe=v=>{k=v},T=v=>{h=v},H=v=>{p=v};return y("info",`use ffmpeg.wasm v${xo}`),{setProgress:oe,setLogger:T,setLogging:H,load:I,isLoaded:S,run:F,exit:x,FS:B}};const Zo=Ho,{fetchFile:Jo}=ea;var Yo={createFFmpeg:Zo,fetchFile:Jo};const At=Yo.createFFmpeg({corePath:"../ffmpeg-core/ffmpeg-core.js",mainName:"main"}),Qo=async t=>t.type=="audio/ogg"?new Blob([t],{type:"audio/ogg"}):await new Promise(e=>{const r=new FileReader,i=new Blob([t]);r.readAsArrayBuffer(i),r.onload=async()=>{const n=r.result;await At.load(),At.FS("writeFile","audio",new Uint8Array(n)),await At.run("-i","audio","-acodec","libvorbis","/output.ogg");const s=At.FS("readFile","/output.ogg");At.exit(),e(new Blob([s],{type:"audio/ogg"}))}}),Xo=async t=>await new Promise(e=>{const r=new FileReader;r.readAsArrayBuffer(t),r.onload=async()=>{const i=r.result;await At.load(),At.FS("writeFile","audio",new Uint8Array(i)),await At.run("-i","audio","-ac","1","/output.ogg");const n=At.FS("readFile","/output.ogg");At.exit(),e(new Blob([n],{type:"audio/ogg"}))}}),el=async(t,e,r)=>await new Promise(i=>{const n=new Image;n.src=URL.createObjectURL(t),n.onload=()=>{const s=document.createElement("canvas");s.width=e,s.height=r,s.getContext("2d").drawImage(n,0,0,e,r);const o=s.toDataURL("image/png");i(tl(o))}}),tl=t=>new Promise(e=>{const r=rl(t);e(new Blob([r],{type:"image/png"}))}),rl=t=>{const e=t.split(",")[1],r=window.atob(e),i=new ArrayBuffer(r.length),n=new Uint8Array(i);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return i},nl=(t,e)=>{const r=document.createElement("a");r.href=URL.createObjectURL(t),r.download=e,r.click()};function il(t){let e,r,i;const n=t[4].default,s=Us(n,t,t[3],null);return{c(){s&&s.c(),e=Ee(),r=ae("span"),z(r,"id","tooltiptext"),z(r,"class","left svelte-i4awrz"),dt(r,"width",t[1])},m(a,o){s&&s.m(a,o),pe(a,e,o),pe(a,r,o),r.innerHTML=t[0],i=!0},p(a,o){s&&s.p&&(!i||o&8)&&Ls(s,n,a,a[3],i?Bs(n,a[3],o,null):Vs(a[3]),null),(!i||o&1)&&(r.innerHTML=a[0]),(!i||o&2)&&dt(r,"width",a[1])},i(a){i||(be(s,a),i=!0)},o(a){Ce(s,a),i=!1},d(a){s&&s.d(a),a&&de(e),a&&de(r)}}}function sl(t){let e,r,i;const n=t[4].default,s=Us(n,t,t[3],null);return{c(){e=ae("span"),r=Ee(),s&&s.c(),z(e,"id","tooltiptext"),z(e,"class","right svelte-i4awrz"),dt(e,"width",t[1])},m(a,o){pe(a,e,o),e.innerHTML=t[0],pe(a,r,o),s&&s.m(a,o),i=!0},p(a,o){(!i||o&1)&&(e.innerHTML=a[0]),(!i||o&2)&&dt(e,"width",a[1]),s&&s.p&&(!i||o&8)&&Ls(s,n,a,a[3],i?Bs(n,a[3],o,null):Vs(a[3]),null)},i(a){i||(be(s,a),i=!0)},o(a){Ce(s,a),i=!1},d(a){a&&de(e),a&&de(r),s&&s.d(a)}}}function al(t){let e,r,i,n;const s=[sl,il],a=[];function o(l,c){return l[2]?0:1}return r=o(t),i=a[r]=s[r](t),{c(){e=ae("div"),i.c(),z(e,"id","container"),z(e,"class","svelte-i4awrz")},m(l,c){pe(l,e,c),a[r].m(e,null),n=!0},p(l,[c]){let h=r;r=o(l),r===h?a[r].p(l,c):(Ot(),Ce(a[h],1,1,()=>{a[h]=null}),It(),i=a[r],i?i.p(l,c):(i=a[r]=s[r](l),i.c()),be(i,1),i.m(e,null))},i(l){n||(be(i),n=!0)},o(l){Ce(i),n=!1},d(l){l&&de(e),a[r].d()}}}function ol(t,e,r){let{$$slots:i={},$$scope:n}=e,{text:s}=e,{width:a="120px"}=e,{right:o=!0}=e;return t.$$set=l=>{"text"in l&&r(0,s=l.text),"width"in l&&r(1,a=l.width),"right"in l&&r(2,o=l.right),"$$scope"in l&&r(3,n=l.$$scope)},[s,a,o,n,i]}class Dt extends Nt{constructor(e){super(),Rt(this,e,ol,al,kt,{text:0,width:1,right:2})}}const ta="/jext-reborn/assets/default_disk-59365372.png",ra="/jext-reborn/assets/loading-9ab4977f.webp",na="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAFxnpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjarVdZkuQoDP3nFHMEkBDLcVgj5gZz/Hkshsyq6umqjrHDNinL4klPSKRq//zd1V84iLxWVnxw0TmNw0YbKWEQ9DrivBtt530dzzvzLlfnBUHEePL66dPWT5DL/eDYye9yFfYbCtuQOYbnwWPmMa6vICGnJTd2G4ptDVwM/hVq3oaKfXFpX/a6N4/xW70JPKJUBRMxUWPDet7DQsDjIk5DjrvmAD0zJcxR4SFstjEE5M2956nfAv0e/D1SH6N/Rh+CT2nL+UMs3cOa+/qFkQ9yPtPQ68R8ENH7i+S1/+TOvnqvofe2vEvWIaJuZ9QM9hOhoZgRcp6fOZwel2Ds5xlxBp10AeVVF51xFhMNIfpdGWuqSaabNp/FFEC01MjjSVSIpyywp0iFB092nKaT58iVA3gr1BSos0wHi5nzxjlfMQEzVwNVMjBmJv2/ONV/vfzJqXovI0RGhxMr4KKR14AxmBt3aIEQ0zdvMgP8nJt+/ZI/SFUwKDPMAQ4mnZeJLObmFk+eGXqC51pCRvm6DSBEmFsAxjAY0M6wGGe0R7UxBnEMICgBObGlDAaMCFWAJMvsSHnCksHc+MabqUtCjoYYtQlECDv24CZyAlnWCvLH24AcSsJiRcSJl6AkSnLsrBPnnHejyCXP3nrxznsffPQpcLBBggs+hBBDihQZNVCiiz6GGGNKpBImSrCVoJ8gyZQ52yzZZZ9DjjkVpE+xRYorvoQSS6pUuaJMVFd9DTXW1IxqqBTNNmmu+RZabKkj1zp326W77nvosafD2mb10/kD1sxmjSZTQ88f1iBV3j8mzCgnMjgDY2QNGPeDASQ0Dc50MNbSYG5wpiNhUQgBpAxuVDWDMVBomyHp5nB3mfsWb0rCt3ij3zGnBnX/B3MK1H3m7QvW6uhzZTK2VuGIqWasvtYpII8CcgCoxzhAt1MbA8rNlx6dnj+CRjWaCi1xpSNMfenWwFXJJ93C6IWPULcp7LFxOVKK1VgBWwjwGFhtirJLVukKW5wDgasvQqlTOIB2KksDraLJ+l5Zn+wj9dKXckbrT590A/YDR2gWgM7FhyFVUyw8QaeSj08hLv+TzdejZbE45P2DtC437Sj+zySy9AJK9aOW84JoY3UHNwrSFuZrT5UFsblYrkm7TOZYjy/ex/V51bH1GzraYlWw2PmqO79GckBFWZEfLflE7WHosqFMCY/UtTv9Rh+TN9fkIdMeWd1MdGXJ52sgPnJyvkR9uc+HzkyPttTNB5JNq4elWnY+Wg7hyfOm0xxlc4Pil/MS85kHpX3S75I7CeaRmWtyZEq4SOPvkKpfQf0pUvUrqN9EWh6kClDDDYD1G6pDITrqei+zRK/rCcK9+krsrG4W6pXrCMHjVvN515RoO3Zgp3xscSiNH6Hi2pe/KE/IzCcKZetGxOMYKGEXFVe6P6rNpFXYurXdnjgOs7sERW7uyIuZ5mI83KCg7EBUikjIm42y5SaWu0JzX+FEpjZ36HBrshbYbrxKP+6UcIODLrAToR4PUM/c4pxPBTbrJa7h2vbItqfS5vsx2WWxoIDlT7W6JC79IpL1GULV2q3VP4WpvsT5BzDVlzjRUh6idXe3V/FOCvyJOUI0xenaaFX5YmBZqlm38lj9+OS8e18pFxJiVJPbGWnRZ85ET/IlwpRn/rRThEy56zDWatTIkYhefqRmtyQx9UU11aclnWR6f6pRLp+ccygwdwHXp9ySjzdBn2VdDWa8FSitCpmxk7orqm7qbXMv69ftPk9c5YvoqS/D+Sm8WP7P3sJ2NKlHblZ4W2aVbn5I2hlXXjLzu/jUN/B8C596B3jxtbyTYmwuT/fvi7xsbrPunGRuIqRlbNKu3MpSLhYbplM29lKpnG7yYqO+F2S5q7+Vrepem0XbHYT5brKWV0mHd5jqS5x/AFN9ifOnMLl3VSP+R/wLwQRCBdriyuEAAAGFaUNDUElDQyBwcm9maWxlAAB4nH2RPUjDUBSFT1ulpVQc2kHEIUPVxYKoiKNWoQgVQq3QqoPJS/+gSUOS4uIouBYc/FmsOrg46+rgKgiCPyCOTk6KLlLifUmhRYwPLu/jvHcO990H+JtVppo944CqWUYmlRRy+VUh+IowQlSjiErM1OdEMQ3P9XUPH9/vEjzL+96fq08pmAzwCcSzTDcs4g3i6U1L57xPHGNlSSE+Jx4zqEHiR67LLr9xLjns55kxI5uZJ44RC6UulruYlQ2VeIo4rqga5ftzLiuctzir1Tpr98lfGCloK8tcpxpCCotYgggBMuqooAoLCdo1Ukxk6Dzp4R90/CK5ZHJVwMixgBpUSI4f/A9+z9YsTk64SZEk0Pti2x/DQHAXaDVs+/vYtlsnQOAZuNI6/loTmPkkvdHR4kdA/zZwcd3R5D3gcgcYeNIlQ3KkAJW/WATez+ib8kD0FgivuXNrn+P0AcjSrNI3wMEhMFKi7HWPd4e65/bvnfb8fgBGIXKVL4xNQwAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+YKCAonM+tPNNQAAAELSURBVBjTNcE9SAJhAIDh9w5L+gSRMDUlIeiHhhAuTAocg6CWNgfnoKGIppaWyCgaAt1CCCvhIBCqrSCEIi4olKvxKjuzHBpEkA6PsKnnkfKPh50VY5UpobDgTRJ1RbkQR1iNNuVbA2ksM9KZVCYwmy+M90Z41aoMzfXRqlgs+zaQw4qH4v41PzmbYfcoLqebwtoVT1kDIQRyV7eTTltCU0s8W/c0glXM8zpvZpVscw9H3DlD/1KQyG6MnfVtpF+ZG71I6jLFp1zDESKAVnngJHfMx9k3AMmeBLObcRL2InLYM4hPBNDUEv/eT+tYNZv0XRo53zogFBf4p71k9C0KZZWBeR+G/oU/JvgD3DRc8fJrLSwAAAAASUVORK5CYII=",ll="/jext-reborn/assets/chest-dc4b25ff.png",ia="/jext-reborn/assets/delete_btn-871175bc.png",sa="/jext-reborn/assets/delete_btn_hover-386c7405.png";function ht(t,{delay:e=0,duration:r=400,easing:i=Hn}={}){const n=+getComputedStyle(t).opacity;return{delay:e,duration:r,easing:i,css:s=>`opacity: ${s*n}`}}function cl(t){return{c:ke,m:ke,p:ke,i:ke,o:ke,d:ke}}function ul(t){let e;function r(s,a){return s[0]?dl:fl}let i=r(t),n=i(t);return{c(){n.c(),e=mt()},m(s,a){n.m(s,a),pe(s,e,a)},p(s,a){i===(i=r(s))&&n?n.p(s,a):(n.d(1),n=i(s),n&&(n.c(),be(n,1),n.m(e.parentNode,e)))},i(s){be(n)},o:ke,d(s){n.d(s),s&&de(e)}}}function fl(t){let e,r,i,n,s,a,o,l,c;return{c(){e=ae("div"),r=ae("img"),n=Ee(),s=ae("p"),a=rt(t[2]),Ve(r.src,i=t[1])||z(r,"src",i),z(r,"alt",t[2]),z(r,"class","svelte-72nmcc"),z(e,"class","svelte-72nmcc")},m(h,p){pe(h,e,p),ie(e,r),ie(e,n),ie(e,s),ie(s,a),l||(c=[fe(e,"click",function(){pt(t[3])&&t[3].apply(this,arguments)}),fe(e,"keydown",null)],l=!0)},p(h,p){t=h,p&2&&!Ve(r.src,i=t[1])&&z(r,"src",i),p&4&&z(r,"alt",t[2]),p&4&&wt(a,t[2])},i(h){o||nt(()=>{o=yr(e,ht,{}),o.start()})},o:ke,d(h){h&&de(e),l=!1,Re(c)}}}function dl(t){let e,r,i,n,s,a,o,l,c;return{c(){e=ae("div"),r=ae("img"),n=Ee(),s=ae("p"),a=rt(t[2]),Ve(r.src,i=t[6])||z(r,"src",i),z(r,"alt",t[2]),z(r,"class","svelte-72nmcc"),z(e,"class","selected svelte-72nmcc")},m(h,p){pe(h,e,p),ie(e,r),ie(e,n),ie(e,s),ie(s,a),l||(c=[fe(e,"click",function(){pt(t[3])&&t[3].apply(this,arguments)}),fe(e,"keydown",null)],l=!0)},p(h,p){t=h,p&4&&z(r,"alt",t[2]),p&4&&wt(a,t[2])},i(h){o||nt(()=>{o=yr(e,ht,{}),o.start()})},o:ke,d(h){h&&de(e),l=!1,Re(c)}}}function hl(t){let e;function r(s,a){return s[0]?ml:pl}let i=r(t),n=i(t);return{c(){n.c(),e=mt()},m(s,a){n.m(s,a),pe(s,e,a)},p(s,a){i===(i=r(s))&&n?n.p(s,a):(n.d(1),n=i(s),n&&(n.c(),be(n,1),n.m(e.parentNode,e)))},i(s){be(n)},o:ke,d(s){n.d(s),s&&de(e)}}}function pl(t){let e,r,i,n,s,a,o,l,c;return{c(){e=ae("div"),r=ae("img"),n=Ee(),s=ae("p"),a=rt(t[2]),Ve(r.src,i=t[1])||z(r,"src",i),z(r,"alt",t[2]),z(r,"class","svelte-72nmcc"),z(e,"class","svelte-72nmcc")},m(h,p){pe(h,e,p),ie(e,r),ie(e,n),ie(e,s),ie(s,a),l||(c=[fe(e,"click",function(){pt(t[3])&&t[3].apply(this,arguments)}),fe(e,"keydown",null)],l=!0)},p(h,p){t=h,p&2&&!Ve(r.src,i=t[1])&&z(r,"src",i),p&4&&z(r,"alt",t[2]),p&4&&wt(a,t[2])},i(h){o||nt(()=>{o=yr(e,ht,{}),o.start()})},o:ke,d(h){h&&de(e),l=!1,Re(c)}}}function ml(t){let e,r,i,n,s,a,o,l,c;return{c(){e=ae("div"),r=ae("img"),n=Ee(),s=ae("p"),a=rt(t[2]),Ve(r.src,i=ra)||z(r,"src",i),z(r,"alt",t[2]),z(r,"class","svelte-72nmcc"),z(e,"class","selected svelte-72nmcc")},m(h,p){pe(h,e,p),ie(e,r),ie(e,n),ie(e,s),ie(s,a),l||(c=[fe(e,"click",function(){pt(t[3])&&t[3].apply(this,arguments)}),fe(e,"keydown",null)],l=!0)},p(h,p){t=h,p&4&&z(r,"alt",t[2]),p&4&&wt(a,t[2])},i(h){o||nt(()=>{o=yr(e,ht,{}),o.start()})},o:ke,d(h){h&&de(e),l=!1,Re(c)}}}function gl(t){let e,r={ctx:t,current:null,token:null,hasCatch:!1,pending:hl,then:ul,catch:cl,value:6};return Yn(t[4],r),{c(){e=mt(),r.block.c()},m(i,n){pe(i,e,n),r.block.m(i,r.anchor=n),r.mount=()=>e.parentNode,r.anchor=e},p(i,[n]){t=i,Qn(r,t,n)},i(i){be(r.block)},o:ke,d(i){i&&de(e),r.block.d(i),r.token=null,r=null}}}function _l(t,e,r){let{value:i=!1}=e,{image:n}=e,{name:s}=e,{onClick:a=()=>{}}=e;const l=(async c=>{const p=await(await fetch(c)).blob();return URL.createObjectURL(p)})(n);return t.$$set=c=>{"value"in c&&r(0,i=c.value),"image"in c&&r(1,n=c.image),"name"in c&&r(2,s=c.name),"onClick"in c&&r(3,a=c.onClick)},[i,n,s,a,l]}class vl extends Nt{constructor(e){super(),Rt(this,e,_l,gl,kt,{value:0,image:1,name:2,onClick:3})}}const ei="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA0UlEQVR42nWSsQ1CMQxEvQ4rINFR0SOBxAgpaRgA/Q3YhelAF+mi9+/nF1YS2zn7zq7v+/H7tEu31/XYbea7nw6ruM/SRYlM0HtZluEzIO+KycporsI3qzGHeSW01tpwsJukkl0MAAcV0GdyJ6AKpa/cVlZyq9SG9yFicpR4TKDipOmzMjnH525m/g6QTp5uOT8zNt2D5J68SaVyPORsYPtJxVrVjBcraHSkwDH3TUxnguyZu1pRkD1v541wpjHb0MokKkz+WWgDkDtgkfbm7wJ/9oUoq3qXqFkAAAAASUVORK5CYII=",Xi=new Map([[4,"1.14 - 1.14.4"],[5,"1.15 - 1.16.1"],[6,"1.16.2-1.16.5"],[7,"1.17 - 1.17.1"],[8,"1.18 - 1.18.2"],[9,"1.19 - 1.19.2"]]),es=[{source:"chests/ancient_city,chests/ancient_city_ice_box",img:"loottable_icons/Ancient_City.webp",name:"Ancient City",minVersion:9},{source:"chests/bastion_bridge,chests/bastion_hoglin_treasure,chests/bastion_other,chests/bastion_treasure",img:"loottable_icons/Bastion_Remnant.webp",name:"Bastion Remnant",minVersion:5},{source:"chests/desert_pyramid",img:"loottable_icons/Desert_pyramid.webp",name:"Desert Pyramid",minVersion:4},{source:"chests/simple_dungeon",img:"loottable_icons/Dungeon.webp",name:"Dungeon",minVersion:4},{source:"chests/end_city_treasure",img:"loottable_icons/End_City.webp",name:"End City",minVersion:4},{source:"chests/igloo_chest",img:"loottable_icons/Igloo.webp",name:"Igloo",minVersion:4},{source:"chests/jungle_temple",img:"loottable_icons/Jungle_pyramid.webp",name:"Jungle Temple",minVersion:4},{source:"chests/nether_bridge",img:"loottable_icons/Nether_Fortress.webp",name:"Nether Fortress",minVersion:4},{source:"chests/ruined_portal",img:"loottable_icons/Nether_portal.webp",name:"Ruined Portal",minVersion:5},{source:"chests/pillager_outpost",img:"loottable_icons/Pillager_outpost.webp",name:"Pillager Outpost",minVersion:4},{source:"chests/shipwreck_map,chests/shipwreck_supply,chests/shipwreck_treasure",img:"loottable_icons/Shipwreck.webp",name:"Shipwreck",minVersion:4},{source:"chests/stronghold_corridor,chests/stronghold_crossing",img:"loottable_icons/Stronghold.webp",name:"Stronghold",minVersion:4},{source:"chests/underwater_ruin_big,chests/underwater_ruin_small",img:"loottable_icons/Underwater_ruin.webp",name:"Underwater Ruins",minVersion:4},{source:"chests/village/village_plains_house,chests/village/village_savanna_house,chests/village/village_desert_house,chests/village/village_snowy_house,chests/village/village_taiga_house",img:"loottable_icons/Village.webp",name:"Village",minVersion:4},{source:"chests/woodland_mansion",img:"loottable_icons/Woodland_Mansion.webp",name:"Woodland Mansion",minVersion:4},{source:"chests/abandoned_mineshaft",img:"loottable_icons/Mineshaft.webp",name:"Mineshaft",minVersion:4}];function ts(t,e,r){const i=t.slice();return i[6]=e[r],i}function rs(t){let e,r,i,n,s,a,o,l=es,c=[];for(let p=0;p<l.length;p+=1)c[p]=is(ts(t,l,p));const h=p=>Ce(c[p],1,1,()=>{c[p]=null});return{c(){e=ae("div"),r=ae("div");for(let p=0;p<c.length;p+=1)c[p].c();i=Ee(),n=ae("div"),n.innerHTML='<div id="content" class="svelte-1xo6dv0"><p id="generate_text" class="noselect svelte-1xo6dv0">OK</p></div>',z(r,"class","popupcontainer svelte-1xo6dv0"),z(n,"id","messagepopupconfirm"),z(n,"class","popupconfirm svelte-1xo6dv0"),z(e,"class","popup svelte-1xo6dv0")},m(p,k){pe(p,e,k),ie(e,r);for(let f=0;f<c.length;f+=1)c[f].m(r,null);ie(e,i),ie(e,n),s=!0,a||(o=[fe(n,"click",t[4]),fe(n,"keydown",null)],a=!0)},p(p,k){if(k&13){l=es;let f;for(f=0;f<l.length;f+=1){const g=ts(p,l,f);c[f]?(c[f].p(g,k),be(c[f],1)):(c[f]=is(g),c[f].c(),be(c[f],1),c[f].m(r,null))}for(Ot(),f=l.length;f<c.length;f+=1)h(f);It()}},i(p){if(!s){for(let k=0;k<l.length;k+=1)be(c[k]);s=!0}},o(p){c=c.filter(Boolean);for(let k=0;k<c.length;k+=1)Ce(c[k]);s=!1},d(p){p&&de(e),wn(c,p),a=!1,Re(o)}}}function ns(t){let e,r;function i(){return t[5](t[6])}return e=new vl({props:{image:t[6].img,name:t[6].name,value:t[0].includes(t[6].source),onClick:i}}),{c(){Qe(e.$$.fragment)},m(n,s){Ze(e,n,s),r=!0},p(n,s){t=n;const a={};s&1&&(a.value=t[0].includes(t[6].source)),e.$set(a)},i(n){r||(be(e.$$.fragment,n),r=!0)},o(n){Ce(e.$$.fragment,n),r=!1},d(n){Je(e,n)}}}function is(t){let e,r,i=t[6].minVersion&&t[6].minVersion<=t[2]&&ns(t);return{c(){i&&i.c(),e=mt()},m(n,s){i&&i.m(n,s),pe(n,e,s),r=!0},p(n,s){n[6].minVersion&&n[6].minVersion<=n[2]?i?(i.p(n,s),s&4&&be(i,1)):(i=ns(n),i.c(),be(i,1),i.m(e.parentNode,e)):i&&(Ot(),Ce(i,1,1,()=>{i=null}),It())},i(n){r||(be(i),r=!0)},o(n){Ce(i),r=!1},d(n){i&&i.d(n),n&&de(e)}}}function yl(t){let e,r,i,n,s,a,o,l=t[1]&&rs(t);return{c(){e=ae("div"),i=Ee(),l&&l.c(),n=mt(),z(e,"class","popupbackground svelte-1xo6dv0"),dt(e,"background-image","url("+ei+")")},m(c,h){pe(c,e,h),pe(c,i,h),l&&l.m(c,h),pe(c,n,h),s=!0,a||(o=[fe(e,"click",t[4]),fe(e,"keydown",null)],a=!0)},p(c,[h]){c[1]?l?(l.p(c,h),h&2&&be(l,1)):(l=rs(c),l.c(),be(l,1),l.m(n.parentNode,n)):l&&(Ot(),Ce(l,1,1,()=>{l=null}),It())},i(c){s||(nt(()=>{r||(r=br(e,ht,{},!0)),r.run(1)}),be(l),s=!0)},o(c){r||(r=br(e,ht,{},!1)),r.run(0),Ce(l),s=!1},d(c){c&&de(e),c&&r&&r.end(),c&&de(i),l&&l.d(c),c&&de(n),a=!1,Re(o)}}}function bl(t,e,r){let i;Fs(t,hn,c=>r(2,i=c));let{selectedDungeons:n=[]}=e,{closePopup:s}=e;const a=c=>{n.includes(c)?r(0,n=n.filter(h=>h!=c)):r(0,n=[...n,c])},o=()=>{r(1,s=!1),document.querySelector(".popup").style.display="none"},l=c=>a(c.source);return t.$$set=c=>{"selectedDungeons"in c&&r(0,n=c.selectedDungeons),"closePopup"in c&&r(1,s=c.closePopup)},[n,s,i,a,o,l]}class wl extends Nt{constructor(e){super(),Rt(this,e,bl,yl,kt,{selectedDungeons:0,closePopup:1})}}const kl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAAXNSR0IArs4c6QAAAFJJREFUGJWNjsENwDAIA6/jZADW8XCswwCMQz9tVZREiiUe4JMNHOgCkFQA7t7u37IAphDMrIDtvCFbUFI9HkvwD7QHzazGGABkJhHR/Aa2ilPdhC8vkoVxguIAAAAASUVORK5CYII=";function ss(t){let e,r,i,n;function s(l){t[13](l)}function a(l){t[14](l)}let o={};return t[0].lootTables!==void 0&&(o.selectedDungeons=t[0].lootTables),t[3]!==void 0&&(o.closePopup=t[3]),e=new wl({props:o}),yt.push(()=>Mt(e,"selectedDungeons",s)),yt.push(()=>Mt(e,"closePopup",a)),{c(){Qe(e.$$.fragment)},m(l,c){Ze(e,l,c),n=!0},p(l,c){const h={};!r&&c&1&&(r=!0,h.selectedDungeons=l[0].lootTables,Ut(()=>r=!1)),!i&&c&8&&(i=!0,h.closePopup=l[3],Ut(()=>i=!1)),e.$set(h)},i(l){n||(be(e.$$.fragment,l),n=!0)},o(l){Ce(e.$$.fragment,l),n=!1},d(l){Je(e,l)}}}function $l(t){return{c:ke,m:ke,p:ke,i:ke,o:ke,d:ke}}function El(t){let e,r,i,n,s,a,o,l,c,h,p,k,f,g,u,m,d,y,w,E,O,I,S,F,B,x,oe,T,H,v,W,se,Y,he,L;r=new Dt({props:{text:"Changes the disc icon",$$slots:{default:[Sl]},$$scope:{ctx:t}}}),o=new Dt({props:{text:"Toggles Creeper drops",$$slots:{default:[Pl]},$$scope:{ctx:t}}}),h=new Dt({props:{text:"Selects structures in which the disc can be found",$$slots:{default:[Ol]},$$scope:{ctx:t}}}),f=new Dt({props:{text:"Removes the disc",$$slots:{default:[Nl]},$$scope:{ctx:t}}}),d=new Dt({props:{text:"(M)ono: single audio channel but music fading<br>(S)tereo: multiple audio channels but no music fading",width:"22em",$$slots:{default:[Dl]},$$scope:{ctx:t}}}),E=new Dt({props:{text:"Selects structures in which the disc fragments can be found",$$slots:{default:[zl]},$$scope:{ctx:t}}}),S=new Dt({props:{text:"Removes the disc",$$slots:{default:[Ml]},$$scope:{ctx:t}}});function D(A,b){return A[0].namespace.length>90?Ll:Bl}let $=D(t),C=$(t);return{c(){e=ae("div"),Qe(r.$$.fragment),i=Ee(),n=ae("div"),s=ae("div"),a=ae("div"),Qe(o.$$.fragment),l=Ee(),c=ae("div"),Qe(h.$$.fragment),p=Ee(),k=ae("div"),Qe(f.$$.fragment),g=Ee(),u=ae("div"),m=ae("div"),Qe(d.$$.fragment),y=Ee(),w=ae("div"),Qe(E.$$.fragment),O=Ee(),I=ae("div"),Qe(S.$$.fragment),F=Ee(),B=ae("div"),x=ae("input"),oe=Ee(),T=ae("input"),H=Ee(),v=ae("p"),C.c(),W=Ee(),se=ae("textarea"),z(a,"id","wrapper"),z(a,"class","svelte-1nzkyqc"),z(c,"id","wrapper"),z(c,"class","svelte-1nzkyqc"),z(k,"id","wrapper"),z(k,"class","svelte-1nzkyqc"),z(s,"id","buttonscol"),z(s,"class","svelte-1nzkyqc"),z(m,"id","wrapper"),z(m,"class","svelte-1nzkyqc"),z(w,"id","wrapper"),z(w,"class","svelte-1nzkyqc"),z(I,"id","wrapper"),z(I,"class","svelte-1nzkyqc"),z(u,"id","buttonscol"),z(u,"class","svelte-1nzkyqc"),z(n,"id","buttons"),z(n,"class","svelte-1nzkyqc"),z(e,"id","icons"),z(e,"class","svelte-1nzkyqc"),z(x,"type","text"),z(x,"name","song_name"),z(x,"id","song_name_input"),z(x,"class","svelte-1nzkyqc"),z(T,"type","text"),z(T,"name","song_author"),z(T,"id","song_author_input"),z(T,"class","svelte-1nzkyqc"),z(v,"id","disknamespace"),z(v,"class","svelte-1nzkyqc"),z(B,"id","names"),z(B,"class","svelte-1nzkyqc"),z(se,"name","song_lore"),z(se,"id","song_lore_input"),z(se,"cols","30"),z(se,"rows","6"),z(se,"class","svelte-1nzkyqc")},m(A,b){pe(A,e,b),Ze(r,e,null),ie(e,i),ie(e,n),ie(n,s),ie(s,a),Ze(o,a,null),ie(s,l),ie(s,c),Ze(h,c,null),ie(s,p),ie(s,k),Ze(f,k,null),ie(n,g),ie(n,u),ie(u,m),Ze(d,m,null),ie(u,y),ie(u,w),Ze(E,w,null),ie(u,O),ie(u,I),Ze(S,I,null),pe(A,F,b),pe(A,B,b),ie(B,x),Gt(x,t[0].name),ie(B,oe),ie(B,T),Gt(T,t[0].author),ie(B,H),ie(B,v),C.m(v,null),pe(A,W,b),pe(A,se,b),Gt(se,t[0].lores),Y=!0,he||(L=[fe(x,"input",t[15]),fe(x,"input",t[4]),fe(T,"input",t[16]),fe(T,"input",t[4]),fe(se,"input",t[17])],he=!0)},p(A,b){const P={};b&2097153&&(P.$$scope={dirty:b,ctx:A}),r.$set(P);const q={};b&2097153&&(q.$$scope={dirty:b,ctx:A}),o.$set(q);const re={};b&2097152&&(re.$$scope={dirty:b,ctx:A}),h.$set(re);const X={};b&2097158&&(X.$$scope={dirty:b,ctx:A}),f.$set(X);const ce={};b&2097153&&(ce.$$scope={dirty:b,ctx:A}),d.$set(ce);const me={};b&2097152&&(me.$$scope={dirty:b,ctx:A}),E.$set(me);const ye={};b&2097158&&(ye.$$scope={dirty:b,ctx:A}),S.$set(ye),b&1&&x.value!==A[0].name&&Gt(x,A[0].name),b&1&&T.value!==A[0].author&&Gt(T,A[0].author),$===($=D(A))&&C?C.p(A,b):(C.d(1),C=$(A),C&&(C.c(),C.m(v,null))),b&1&&Gt(se,A[0].lores)},i(A){Y||(be(r.$$.fragment,A),be(o.$$.fragment,A),be(h.$$.fragment,A),be(f.$$.fragment,A),be(d.$$.fragment,A),be(E.$$.fragment,A),be(S.$$.fragment,A),Y=!0)},o(A){Ce(r.$$.fragment,A),Ce(o.$$.fragment,A),Ce(h.$$.fragment,A),Ce(f.$$.fragment,A),Ce(d.$$.fragment,A),Ce(E.$$.fragment,A),Ce(S.$$.fragment,A),Y=!1},d(A){A&&de(e),Je(r),Je(o),Je(h),Je(f),Je(d),Je(E),Je(S),A&&de(F),A&&de(B),C.d(),A&&de(W),A&&de(se),he=!1,Re(L)}}}function Sl(t){let e,r,i,n;return{c(){e=ae("img"),z(e,"id","disc_texture"),Ve(e.src,r=URL.createObjectURL(t[0].texture))||z(e,"src",r),z(e,"height","64"),z(e,"width","64"),z(e,"alt","disc icon"),z(e,"class","svelte-1nzkyqc")},m(s,a){pe(s,e,a),i||(n=[fe(e,"click",t[9]),fe(e,"keydown",null)],i=!0)},p(s,a){a&1&&!Ve(e.src,r=URL.createObjectURL(s[0].texture))&&z(e,"src",r)},d(s){s&&de(e),i=!1,Re(n)}}}function Al(t){let e,r,i,n;return{c(){e=ae("img"),z(e,"id","toggle_creeper"),Ve(e.src,r=na)||z(e,"src",r),z(e,"alt","creeper icon"),z(e,"class","svelte-1nzkyqc")},m(s,a){pe(s,e,a),i||(n=[fe(e,"click",t[7]),fe(e,"keydown",null)],i=!0)},p:ke,d(s){s&&de(e),i=!1,Re(n)}}}function Cl(t){let e,r,i,n;return{c(){e=ae("img"),z(e,"id","toggle_creeper"),Ve(e.src,r=na)||z(e,"src",r),z(e,"alt","creeper icon"),z(e,"class","grayscale svelte-1nzkyqc")},m(s,a){pe(s,e,a),i||(n=[fe(e,"click",t[7]),fe(e,"keydown",null)],i=!0)},p:ke,d(s){s&&de(e),i=!1,Re(n)}}}function Pl(t){let e;function r(s,a){return s[0].creeperDrop?Al:Cl}let i=r(t),n=i(t);return{c(){n.c(),e=mt()},m(s,a){n.m(s,a),pe(s,e,a)},p(s,a){i===(i=r(s))&&n?n.p(s,a):(n.d(1),n=i(s),n&&(n.c(),n.m(e.parentNode,e)))},d(s){n.d(s),s&&de(e)}}}function Ol(t){let e,r,i,n;return{c(){e=ae("img"),z(e,"id","loot_selector"),Ve(e.src,r=ll)||z(e,"src",r),z(e,"alt","chest icon"),z(e,"class","svelte-1nzkyqc")},m(s,a){pe(s,e,a),i||(n=[fe(e,"click",t[10]),fe(e,"keydown",null)],i=!0)},p:ke,d(s){s&&de(e),i=!1,Re(n)}}}function Il(t){let e,r,i,n;return{c(){e=ae("img"),z(e,"id","song_delete"),Ve(e.src,r=sa)||z(e,"src",r),z(e,"alt","delete icon"),z(e,"class","svelte-1nzkyqc")},m(s,a){pe(s,e,a),i||(n=[fe(e,"mouseleave",t[8]),fe(e,"click",function(){pt(t[1])&&t[1].apply(this,arguments)}),fe(e,"keydown",null)],i=!0)},p(s,a){t=s},d(s){s&&de(e),i=!1,Re(n)}}}function Rl(t){let e,r,i,n;return{c(){e=ae("img"),z(e,"id","song_delete"),Ve(e.src,r=ia)||z(e,"src",r),z(e,"alt","delete icon"),z(e,"class","svelte-1nzkyqc")},m(s,a){pe(s,e,a),i||(n=[fe(e,"mouseenter",t[8]),fe(e,"click",function(){pt(t[1])&&t[1].apply(this,arguments)}),fe(e,"keydown",null)],i=!0)},p(s,a){t=s},d(s){s&&de(e),i=!1,Re(n)}}}function Nl(t){let e;function r(s,a){return s[2]?Il:Rl}let i=r(t),n=i(t);return{c(){n.c(),e=mt()},m(s,a){n.m(s,a),pe(s,e,a)},p(s,a){i===(i=r(s))&&n?n.p(s,a):(n.d(1),n=i(s),n&&(n.c(),n.m(e.parentNode,e)))},d(s){n.d(s),s&&de(e)}}}function Tl(t){let e,r,i;return{c(){e=ae("p"),e.textContent="S",z(e,"id","toggle_mono"),z(e,"class","svelte-1nzkyqc")},m(n,s){pe(n,e,s),r||(i=[fe(e,"click",t[11]),fe(e,"keydown",null)],r=!0)},p:ke,d(n){n&&de(e),r=!1,Re(i)}}}function jl(t){let e,r,i;return{c(){e=ae("p"),e.textContent="M",z(e,"id","toggle_mono"),z(e,"class","svelte-1nzkyqc")},m(n,s){pe(n,e,s),r||(i=[fe(e,"click",t[11]),fe(e,"keydown",null)],r=!0)},p:ke,d(n){n&&de(e),r=!1,Re(i)}}}function Dl(t){let e;function r(s,a){return s[0].isMono?jl:Tl}let i=r(t),n=i(t);return{c(){n.c(),e=mt()},m(s,a){n.m(s,a),pe(s,e,a)},p(s,a){i===(i=r(s))&&n?n.p(s,a):(n.d(1),n=i(s),n&&(n.c(),n.m(e.parentNode,e)))},d(s){n.d(s),s&&de(e)}}}function zl(t){let e,r,i,n;return{c(){e=ae("img"),z(e,"id","loot_selector"),Ve(e.src,r=kl)||z(e,"src",r),z(e,"alt","fragment icon"),z(e,"class","svelte-1nzkyqc")},m(s,a){pe(s,e,a),i||(n=[fe(e,"click",t[10]),fe(e,"keydown",null)],i=!0)},p:ke,d(s){s&&de(e),i=!1,Re(n)}}}function Fl(t){let e,r,i,n;return{c(){e=ae("img"),z(e,"id","song_delete"),Ve(e.src,r=sa)||z(e,"src",r),z(e,"alt","delete icon"),z(e,"class","svelte-1nzkyqc")},m(s,a){pe(s,e,a),i||(n=[fe(e,"mouseleave",t[8]),fe(e,"click",function(){pt(t[1])&&t[1].apply(this,arguments)}),fe(e,"keydown",null)],i=!0)},p(s,a){t=s},d(s){s&&de(e),i=!1,Re(n)}}}function Ul(t){let e,r,i,n;return{c(){e=ae("img"),z(e,"id","song_delete"),Ve(e.src,r=ia)||z(e,"src",r),z(e,"alt","delete icon"),z(e,"class","svelte-1nzkyqc")},m(s,a){pe(s,e,a),i||(n=[fe(e,"mouseenter",t[8]),fe(e,"click",function(){pt(t[1])&&t[1].apply(this,arguments)}),fe(e,"keydown",null)],i=!0)},p(s,a){t=s},d(s){s&&de(e),i=!1,Re(n)}}}function Ml(t){let e;function r(s,a){return s[2]?Fl:Ul}let i=r(t),n=i(t);return{c(){n.c(),e=mt()},m(s,a){n.m(s,a),pe(s,e,a)},p(s,a){i===(i=r(s))&&n?n.p(s,a):(n.d(1),n=i(s),n&&(n.c(),n.m(e.parentNode,e)))},d(s){n.d(s),s&&de(e)}}}function Bl(t){let e=t[0].namespace+"",r;return{c(){r=rt(e)},m(i,n){pe(i,r,n)},p(i,n){n&1&&e!==(e=i[0].namespace+"")&&wt(r,e)},d(i){i&&de(r)}}}function Ll(t){let e=t[0].namespace.substring(0,90)+"",r,i;return{c(){r=rt(e),i=rt("...")},m(n,s){pe(n,r,s),pe(n,i,s)},p(n,s){s&1&&e!==(e=n[0].namespace.substring(0,90)+"")&&wt(r,e)},d(n){n&&de(r),n&&de(i)}}}function Vl(t){let e,r={ctx:t,current:null,token:null,hasCatch:!1,pending:Wl,then:Kl,catch:ql,value:20};return Yn(t[6],r),{c(){e=mt(),r.block.c()},m(i,n){pe(i,e,n),r.block.m(i,r.anchor=n),r.mount=()=>e.parentNode,r.anchor=e},p(i,n){t=i,Qn(r,t,n)},i:ke,o:ke,d(i){i&&de(e),r.block.d(i),r.token=null,r=null}}}function ql(t){return{c:ke,m:ke,p:ke,d:ke}}function Kl(t){let e,r,i;return{c(){e=ae("div"),r=ae("img"),Ve(r.src,i=ra)||z(r,"src",i),z(r,"alt","loading"),z(r,"class","svelte-1nzkyqc"),z(e,"id","loading"),z(e,"class","svelte-1nzkyqc")},m(n,s){pe(n,e,s),ie(e,r)},p:ke,d(n){n&&de(e)}}}function Wl(t){let e;return{c(){e=ae("div"),e.innerHTML='<img src="" alt="loading" class="svelte-1nzkyqc"/>',z(e,"id","loading"),z(e,"class","svelte-1nzkyqc")},m(r,i){pe(r,e,i)},p:ke,d(r){r&&de(e)}}}function Gl(t){let e,r,i,n=t[3]&&ss(t),s={ctx:t,current:null,token:null,hasCatch:!1,pending:Vl,then:El,catch:$l,value:20,blocks:[,,,]};return Yn(t[5],s),{c(){n&&n.c(),e=Ee(),r=ae("div"),s.block.c(),z(r,"id","song"),z(r,"class","svelte-1nzkyqc")},m(a,o){n&&n.m(a,o),pe(a,e,o),pe(a,r,o),s.block.m(r,s.anchor=null),s.mount=()=>r,s.anchor=null,i=!0},p(a,[o]){t=a,t[3]?n?(n.p(t,o),o&8&&be(n,1)):(n=ss(t),n.c(),be(n,1),n.m(e.parentNode,e)):n&&(Ot(),Ce(n,1,1,()=>{n=null}),It()),Qn(s,t,o)},i(a){i||(be(n),be(s.block),i=!0)},o(a){Ce(n);for(let o=0;o<3;o+=1){const l=s.blocks[o];Ce(l)}i=!1},d(a){n&&n.d(a),a&&de(e),a&&de(r),s.block.d(),s.token=null,s=null}}}function xl(t,e,r){let{song:i}=e,{id:n}=e,{onRemove:s=()=>{}}=e;const a=()=>{r(0,i.namespace=`${i.name}${i.author}${n}`.replace(/[^a-zA-Z0-9]/g,"").replaceAll("1","one").replaceAll("2","two").replaceAll("3","three").replaceAll("4","four").replaceAll("5","five").replaceAll("6","six").replaceAll("7","seven").replaceAll("8","eight").replaceAll("9","nine").replaceAll("0","zero").toLowerCase(),i)},o=async()=>{const S=i.uploadedFile.name.replace(/(\.mp3)|(\.ogg)|(\.wav)/g,"").split(/ ?- ?/g);S.length>=1&&r(0,i.name=S.shift(),i),S.length>=1&&r(0,i.author=S.join(),i),a(),r(0,i.oggFile=await Qo(i.uploadedFile),i),r(0,i.texture=await(await fetch(ta)).blob(),i)},l=async()=>await new Promise(S=>{setTimeout(()=>{S()},1)}),c=o(),h=l(),p=()=>{r(0,i.creeperDrop=!i.creeperDrop,i)};let k=!1;const f=()=>{r(2,k=!k)},g=()=>{const S=document.createElement("input");S.type="file",S.accept="image/*",S.addEventListener("change",()=>{const F=S.files[0];F&&r(0,i.texture=F,i)}),S.click()};let u=!1;const m=()=>{r(3,u=!0)},d=()=>{r(0,i.isMono=!i.isMono,i)};function y(S){t.$$.not_equal(i.lootTables,S)&&(i.lootTables=S,r(0,i))}function w(S){u=S,r(3,u)}function E(){i.name=this.value,r(0,i)}function O(){i.author=this.value,r(0,i)}function I(){i.lores=this.value,r(0,i)}return t.$$set=S=>{"song"in S&&r(0,i=S.song),"id"in S&&r(12,n=S.id),"onRemove"in S&&r(1,s=S.onRemove)},[i,s,k,u,a,c,h,p,f,g,m,d,n,y,w,E,O,I]}class Hl extends Nt{constructor(e){super(),Rt(this,e,xl,Gl,kt,{song:0,id:12,onRemove:1})}}function as(t,e,r){const i=t.slice();return i[5]=e[r],i[6]=e,i[7]=r,i}function os(t){let e,r,i;function n(){return t[3](t[5])}function s(o){t[4](o,t[5],t[6],t[7])}let a={id:t[7],onRemove:n};return t[5]!==void 0&&(a.song=t[5]),e=new Hl({props:a}),yt.push(()=>Mt(e,"song",s)),{c(){Qe(e.$$.fragment)},m(o,l){Ze(e,o,l),i=!0},p(o,l){t=o;const c={};l&1&&(c.onRemove=n),!r&&l&1&&(r=!0,c.song=t[5],Ut(()=>r=!1)),e.$set(c)},i(o){i||(be(e.$$.fragment,o),i=!0)},o(o){Ce(e.$$.fragment,o),i=!1},d(o){Je(e,o)}}}function Zl(t){let e,r,i,n,s,a,o,l,c,h=t[0],p=[];for(let f=0;f<h.length;f+=1)p[f]=os(as(t,h,f));const k=f=>Ce(p[f],1,1,()=>{p[f]=null});return{c(){e=ae("div"),r=ae("div");for(let f=0;f<p.length;f+=1)p[f].c();i=Ee(),n=ae("hr"),s=Ee(),a=ae("div"),a.innerHTML='<h1 class="noselect svelte-15f98v0">+</h1>',z(r,"id","songscontainer"),z(n,"class","hidden"),z(a,"id","addsongsbtn"),z(a,"class","svelte-15f98v0"),z(e,"id","content"),z(e,"class","svelte-15f98v0")},m(f,g){pe(f,e,g),ie(e,r);for(let u=0;u<p.length;u+=1)p[u].m(r,null);ie(e,i),ie(e,n),ie(e,s),ie(e,a),o=!0,l||(c=[fe(a,"click",t[1]),fe(a,"keydown",null)],l=!0)},p(f,[g]){if(g&5){h=f[0];let u;for(u=0;u<h.length;u+=1){const m=as(f,h,u);p[u]?(p[u].p(m,g),be(p[u],1)):(p[u]=os(m),p[u].c(),be(p[u],1),p[u].m(r,null))}for(Ot(),u=h.length;u<p.length;u+=1)k(u);It()}},i(f){if(!o){for(let g=0;g<h.length;g+=1)be(p[g]);o=!0}},o(f){p=p.filter(Boolean);for(let g=0;g<p.length;g+=1)Ce(p[g]);o=!1},d(f){f&&de(e),wn(p,f),l=!1,Re(c)}}}function Jl(t,e,r){let{discData:i=[]}=e;Ys.subscribe(l=>{r(0,i=l)});const n=()=>{const l=document.createElement("input");l.type="file",l.multiple=!0,l.accept="audio/*",l.click(),l.addEventListener("change",async()=>{if(!l.files||l.files.length===0)return;const c=[];for(let h=0;h<l.files.length;h++)c.push({uploadedFile:l.files[h],name:"Disc Name",author:"Disc Author",lores:`This is the lore of the disc

You can have multiple lines

If you don't want any lores you can leave this empty`,texture:null,isMono:!0,creeperDrop:!0,lootTables:[],monoFile:null,namespace:"",oggFile:null});r(0,i=[...i,...c])})},s=l=>{r(0,i=i.filter(c=>c!=l))},a=l=>s(l);function o(l,c,h,p){h[p]=l,r(0,i)}return t.$$set=l=>{"discData"in l&&r(0,i=l.discData)},[i,n,s,a,o]}class Yl extends Nt{constructor(e){super(),Rt(this,e,Jl,Zl,kt,{discData:0})}}const ti="/jext-reborn/assets/pack_icon-57c0be34.png";function Qr(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ln={},Ql={get exports(){return Ln},set exports(t){Ln=t}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(r){t.exports=r()})(function(){return function r(i,n,s){function a(c,h){if(!n[c]){if(!i[c]){var p=typeof Qr=="function"&&Qr;if(!h&&p)return p(c,!0);if(o)return o(c,!0);var k=new Error("Cannot find module '"+c+"'");throw k.code="MODULE_NOT_FOUND",k}var f=n[c]={exports:{}};i[c][0].call(f.exports,function(g){var u=i[c][1][g];return a(u||g)},f,f.exports,r,i,n,s)}return n[c].exports}for(var o=typeof Qr=="function"&&Qr,l=0;l<s.length;l++)a(s[l]);return a}({1:[function(r,i,n){var s=r("./utils"),a=r("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(l){for(var c,h,p,k,f,g,u,m=[],d=0,y=l.length,w=y,E=s.getTypeOf(l)!=="string";d<l.length;)w=y-d,p=E?(c=l[d++],h=d<y?l[d++]:0,d<y?l[d++]:0):(c=l.charCodeAt(d++),h=d<y?l.charCodeAt(d++):0,d<y?l.charCodeAt(d++):0),k=c>>2,f=(3&c)<<4|h>>4,g=1<w?(15&h)<<2|p>>6:64,u=2<w?63&p:64,m.push(o.charAt(k)+o.charAt(f)+o.charAt(g)+o.charAt(u));return m.join("")},n.decode=function(l){var c,h,p,k,f,g,u=0,m=0,d="data:";if(l.substr(0,d.length)===d)throw new Error("Invalid base64 input, it looks like a data url.");var y,w=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&w--,l.charAt(l.length-2)===o.charAt(64)&&w--,w%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=a.uint8array?new Uint8Array(0|w):new Array(0|w);u<l.length;)c=o.indexOf(l.charAt(u++))<<2|(k=o.indexOf(l.charAt(u++)))>>4,h=(15&k)<<4|(f=o.indexOf(l.charAt(u++)))>>2,p=(3&f)<<6|(g=o.indexOf(l.charAt(u++))),y[m++]=c,f!==64&&(y[m++]=h),g!==64&&(y[m++]=p);return y}},{"./support":30,"./utils":32}],2:[function(r,i,n){var s=r("./external"),a=r("./stream/DataWorker"),o=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function c(h,p,k,f,g){this.compressedSize=h,this.uncompressedSize=p,this.crc32=k,this.compression=f,this.compressedContent=g}c.prototype={getContentWorker:function(){var h=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),p=this;return h.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(h,p,k){return h.pipe(new o).pipe(new l("uncompressedSize")).pipe(p.compressWorker(k)).pipe(new l("compressedSize")).withStreamInfo("compression",p)},i.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,i,n){var s=r("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},n.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,i,n){var s=r("./utils"),a=function(){for(var o,l=[],c=0;c<256;c++){o=c;for(var h=0;h<8;h++)o=1&o?3988292384^o>>>1:o>>>1;l[c]=o}return l}();i.exports=function(o,l){return o!==void 0&&o.length?s.getTypeOf(o)!=="string"?function(c,h,p,k){var f=a,g=k+p;c^=-1;for(var u=k;u<g;u++)c=c>>>8^f[255&(c^h[u])];return-1^c}(0|l,o,o.length,0):function(c,h,p,k){var f=a,g=k+p;c^=-1;for(var u=k;u<g;u++)c=c>>>8^f[255&(c^h.charCodeAt(u))];return-1^c}(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(r,i,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(r,i,n){var s=null;s=typeof Promise<"u"?Promise:r("lie"),i.exports={Promise:s}},{lie:37}],7:[function(r,i,n){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=r("pako"),o=r("./utils"),l=r("./stream/GenericWorker"),c=s?"uint8array":"array";function h(p,k){l.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=k,this.meta={}}n.magic="\b\0",o.inherits(h,l),h.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(c,p.data),!1)},h.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(k){p.push({data:k,meta:p.meta})}},n.compressWorker=function(p){return new h("Deflate",p)},n.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,i,n){function s(f,g){var u,m="";for(u=0;u<g;u++)m+=String.fromCharCode(255&f),f>>>=8;return m}function a(f,g,u,m,d,y){var w,E,O=f.file,I=f.compression,S=y!==c.utf8encode,F=o.transformTo("string",y(O.name)),B=o.transformTo("string",c.utf8encode(O.name)),x=O.comment,oe=o.transformTo("string",y(x)),T=o.transformTo("string",c.utf8encode(x)),H=B.length!==O.name.length,v=T.length!==x.length,W="",se="",Y="",he=O.dir,L=O.date,D={crc32:0,compressedSize:0,uncompressedSize:0};g&&!u||(D.crc32=f.crc32,D.compressedSize=f.compressedSize,D.uncompressedSize=f.uncompressedSize);var $=0;g&&($|=8),S||!H&&!v||($|=2048);var C=0,A=0;he&&(C|=16),d==="UNIX"?(A=798,C|=function(P,q){var re=P;return P||(re=q?16893:33204),(65535&re)<<16}(O.unixPermissions,he)):(A=20,C|=function(P){return 63&(P||0)}(O.dosPermissions)),w=L.getUTCHours(),w<<=6,w|=L.getUTCMinutes(),w<<=5,w|=L.getUTCSeconds()/2,E=L.getUTCFullYear()-1980,E<<=4,E|=L.getUTCMonth()+1,E<<=5,E|=L.getUTCDate(),H&&(se=s(1,1)+s(h(F),4)+B,W+="up"+s(se.length,2)+se),v&&(Y=s(1,1)+s(h(oe),4)+T,W+="uc"+s(Y.length,2)+Y);var b="";return b+=`
\0`,b+=s($,2),b+=I.magic,b+=s(w,2),b+=s(E,2),b+=s(D.crc32,4),b+=s(D.compressedSize,4),b+=s(D.uncompressedSize,4),b+=s(F.length,2),b+=s(W.length,2),{fileRecord:p.LOCAL_FILE_HEADER+b+F+W,dirRecord:p.CENTRAL_FILE_HEADER+s(A,2)+b+s(oe.length,2)+"\0\0\0\0"+s(C,4)+s(m,4)+F+W+oe}}var o=r("../utils"),l=r("../stream/GenericWorker"),c=r("../utf8"),h=r("../crc32"),p=r("../signature");function k(f,g,u,m){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=u,this.encodeFileName=m,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(k,l),k.prototype.push=function(f){var g=f.meta.percent||0,u=this.entriesCount,m=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,l.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:u?(g+100*(u-m-1))/u:100}}))},k.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var g=this.streamFiles&&!f.file.dir;if(g){var u=a(f,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:u.fileRecord,meta:{percent:0}})}else this.accumulate=!0},k.prototype.closedSource=function(f){this.accumulate=!1;var g=this.streamFiles&&!f.file.dir,u=a(f,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(u.dirRecord),g)this.push({data:function(m){return p.DATA_DESCRIPTOR+s(m.crc32,4)+s(m.compressedSize,4)+s(m.uncompressedSize,4)}(f),meta:{percent:100}});else for(this.push({data:u.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},k.prototype.flush=function(){for(var f=this.bytesWritten,g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var u=this.bytesWritten-f,m=function(d,y,w,E,O){var I=o.transformTo("string",O(E));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(d,2)+s(d,2)+s(y,4)+s(w,4)+s(I.length,2)+I}(this.dirRecords.length,u,f,this.zipComment,this.encodeFileName);this.push({data:m,meta:{percent:100}})},k.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},k.prototype.registerPrevious=function(f){this._sources.push(f);var g=this;return f.on("data",function(u){g.processChunk(u)}),f.on("end",function(){g.closedSource(g.previous.streamInfo),g._sources.length?g.prepareNextSource():g.end()}),f.on("error",function(u){g.error(u)}),this},k.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},k.prototype.error=function(f){var g=this._sources;if(!l.prototype.error.call(this,f))return!1;for(var u=0;u<g.length;u++)try{g[u].error(f)}catch{}return!0},k.prototype.lock=function(){l.prototype.lock.call(this);for(var f=this._sources,g=0;g<f.length;g++)f[g].lock()},i.exports=k},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,i,n){var s=r("../compressions"),a=r("./ZipFileWorker");n.generateWorker=function(o,l,c){var h=new a(l.streamFiles,c,l.platform,l.encodeFileName),p=0;try{o.forEach(function(k,f){p++;var g=function(y,w){var E=y||w,O=s[E];if(!O)throw new Error(E+" is not a valid compression method !");return O}(f.options.compression,l.compression),u=f.options.compressionOptions||l.compressionOptions||{},m=f.dir,d=f.date;f._compressWorker(g,u).withStreamInfo("file",{name:k,dir:m,date:d,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(h)}),h.entriesCount=p}catch(k){h.error(k)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,i,n){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(s.prototype=r("./object")).loadAsync=r("./load"),s.support=r("./support"),s.defaults=r("./defaults"),s.version="3.10.1",s.loadAsync=function(a,o){return new s().loadAsync(a,o)},s.external=r("./external"),i.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,i,n){var s=r("./utils"),a=r("./external"),o=r("./utf8"),l=r("./zipEntries"),c=r("./stream/Crc32Probe"),h=r("./nodejsUtils");function p(k){return new a.Promise(function(f,g){var u=k.decompressed.getContentWorker().pipe(new c);u.on("error",function(m){g(m)}).on("end",function(){u.streamInfo.crc32!==k.decompressed.crc32?g(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}i.exports=function(k,f){var g=this;return f=s.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),h.isNode&&h.isStream(k)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",k,!0,f.optimizedBinaryString,f.base64).then(function(u){var m=new l(f);return m.load(u),m}).then(function(u){var m=[a.Promise.resolve(u)],d=u.files;if(f.checkCRC32)for(var y=0;y<d.length;y++)m.push(p(d[y]));return a.Promise.all(m)}).then(function(u){for(var m=u.shift(),d=m.files,y=0;y<d.length;y++){var w=d[y],E=w.fileNameStr,O=s.resolve(w.fileNameStr);g.file(O,w.decompressed,{binary:!0,optimizedBinaryString:!0,date:w.date,dir:w.dir,comment:w.fileCommentStr.length?w.fileCommentStr:null,unixPermissions:w.unixPermissions,dosPermissions:w.dosPermissions,createFolders:f.createFolders}),w.dir||(g.file(O).unsafeOriginalName=E)}return m.zipComment.length&&(g.comment=m.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,i,n){var s=r("../utils"),a=r("../stream/GenericWorker");function o(l,c){a.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}s.inherits(o,a),o.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(h){c.push({data:h,meta:{percent:0}})}).on("error",function(h){c.isPaused?this.generatedError=h:c.error(h)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,i,n){var s=r("readable-stream").Readable;function a(o,l,c){s.call(this,l),this._helper=o;var h=this;o.on("data",function(p,k){h.push(p)||h._helper.pause(),c&&c(k)}).on("error",function(p){h.emit("error",p)}).on("end",function(){h.push(null)})}r("../utils").inherits(a,s),a.prototype._read=function(){this._helper.resume()},i.exports=a},{"../utils":32,"readable-stream":16}],14:[function(r,i,n){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(r,i,n){function s(O,I,S){var F,B=o.getTypeOf(I),x=o.extend(S||{},h);x.date=x.date||new Date,x.compression!==null&&(x.compression=x.compression.toUpperCase()),typeof x.unixPermissions=="string"&&(x.unixPermissions=parseInt(x.unixPermissions,8)),x.unixPermissions&&16384&x.unixPermissions&&(x.dir=!0),x.dosPermissions&&16&x.dosPermissions&&(x.dir=!0),x.dir&&(O=d(O)),x.createFolders&&(F=m(O))&&y.call(this,F,!0);var oe=B==="string"&&x.binary===!1&&x.base64===!1;S&&S.binary!==void 0||(x.binary=!oe),(I instanceof p&&I.uncompressedSize===0||x.dir||!I||I.length===0)&&(x.base64=!1,x.binary=!0,I="",x.compression="STORE",B="string");var T=null;T=I instanceof p||I instanceof l?I:g.isNode&&g.isStream(I)?new u(O,I):o.prepareContent(O,I,x.binary,x.optimizedBinaryString,x.base64);var H=new k(O,T,x);this.files[O]=H}var a=r("./utf8"),o=r("./utils"),l=r("./stream/GenericWorker"),c=r("./stream/StreamHelper"),h=r("./defaults"),p=r("./compressedObject"),k=r("./zipObject"),f=r("./generate"),g=r("./nodejsUtils"),u=r("./nodejs/NodejsStreamInputAdapter"),m=function(O){O.slice(-1)==="/"&&(O=O.substring(0,O.length-1));var I=O.lastIndexOf("/");return 0<I?O.substring(0,I):""},d=function(O){return O.slice(-1)!=="/"&&(O+="/"),O},y=function(O,I){return I=I!==void 0?I:h.createFolders,O=d(O),this.files[O]||s.call(this,O,null,{dir:!0,createFolders:I}),this.files[O]};function w(O){return Object.prototype.toString.call(O)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(O){var I,S,F;for(I in this.files)F=this.files[I],(S=I.slice(this.root.length,I.length))&&I.slice(0,this.root.length)===this.root&&O(S,F)},filter:function(O){var I=[];return this.forEach(function(S,F){O(S,F)&&I.push(F)}),I},file:function(O,I,S){if(arguments.length!==1)return O=this.root+O,s.call(this,O,I,S),this;if(w(O)){var F=O;return this.filter(function(x,oe){return!oe.dir&&F.test(x)})}var B=this.files[this.root+O];return B&&!B.dir?B:null},folder:function(O){if(!O)return this;if(w(O))return this.filter(function(B,x){return x.dir&&O.test(B)});var I=this.root+O,S=y.call(this,I),F=this.clone();return F.root=S.name,F},remove:function(O){O=this.root+O;var I=this.files[O];if(I||(O.slice(-1)!=="/"&&(O+="/"),I=this.files[O]),I&&!I.dir)delete this.files[O];else for(var S=this.filter(function(B,x){return x.name.slice(0,O.length)===O}),F=0;F<S.length;F++)delete this.files[S[F].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(O){var I,S={};try{if((S=o.extend(O||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=S.type.toLowerCase(),S.compression=S.compression.toUpperCase(),S.type==="binarystring"&&(S.type="string"),!S.type)throw new Error("No output type specified.");o.checkSupport(S.type),S.platform!=="darwin"&&S.platform!=="freebsd"&&S.platform!=="linux"&&S.platform!=="sunos"||(S.platform="UNIX"),S.platform==="win32"&&(S.platform="DOS");var F=S.comment||this.comment||"";I=f.generateWorker(this,S,F)}catch(B){(I=new l("error")).error(B)}return new c(I,S.type||"string",S.mimeType)},generateAsync:function(O,I){return this.generateInternalStream(O).accumulate(I)},generateNodeStream:function(O,I){return(O=O||{}).type||(O.type="nodebuffer"),this.generateInternalStream(O).toNodejsStream(I)}};i.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,i,n){i.exports=r("stream")},{stream:void 0}],17:[function(r,i,n){var s=r("./DataReader");function a(o){s.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}r("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),c=o.charCodeAt(1),h=o.charCodeAt(2),p=o.charCodeAt(3),k=this.length-4;0<=k;--k)if(this.data[k]===l&&this.data[k+1]===c&&this.data[k+2]===h&&this.data[k+3]===p)return k-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),c=o.charCodeAt(1),h=o.charCodeAt(2),p=o.charCodeAt(3),k=this.readData(4);return l===k[0]&&c===k[1]&&h===k[2]&&p===k[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},i.exports=a},{"../utils":32,"./DataReader":18}],18:[function(r,i,n){var s=r("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,c=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=o,c},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},i.exports=a},{"../utils":32}],19:[function(r,i,n){var s=r("./Uint8ArrayReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},i.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,i,n){var s=r("./DataReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},i.exports=a},{"../utils":32,"./DataReader":18}],21:[function(r,i,n){var s=r("./ArrayReader");function a(o){s.call(this,o)}r("../utils").inherits(a,s),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},i.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(r,i,n){var s=r("../utils"),a=r("../support"),o=r("./ArrayReader"),l=r("./StringReader"),c=r("./NodeBufferReader"),h=r("./Uint8ArrayReader");i.exports=function(p){var k=s.getTypeOf(p);return s.checkSupport(k),k!=="string"||a.uint8array?k==="nodebuffer"?new c(p):a.uint8array?new h(s.transformTo("uint8array",p)):new o(s.transformTo("array",p)):new l(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,i,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,i,n){var s=r("./GenericWorker"),a=r("../utils");function o(l){s.call(this,"ConvertWorker to "+l),this.destType=l}a.inherits(o,s),o.prototype.processChunk=function(l){this.push({data:a.transformTo(this.destType,l.data),meta:l.meta})},i.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(r,i,n){var s=r("./GenericWorker"),a=r("../crc32");function o(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(o,s),o.prototype.processChunk=function(l){this.streamInfo.crc32=a(l.data,this.streamInfo.crc32||0),this.push(l)},i.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,i,n){var s=r("../utils"),a=r("./GenericWorker");function o(l){a.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(o,a),o.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}a.prototype.processChunk.call(this,l)},i.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(r,i,n){var s=r("../utils"),a=r("./GenericWorker");function o(l){a.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(h){c.dataIsReady=!0,c.data=h,c.max=h&&h.length||0,c.type=s.getTypeOf(h),c.isPaused||c._tickAndRepeat()},function(h){c.error(h)})}s.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(r,i,n){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var l=0;l<this._listeners[a].length;l++)this._listeners[a][l].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(l){o.processChunk(l)}),a.on("end",function(){o.end()}),a.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},i.exports=s},{}],29:[function(r,i,n){var s=r("../utils"),a=r("./ConvertWorker"),o=r("./GenericWorker"),l=r("../base64"),c=r("../support"),h=r("../external"),p=null;if(c.nodestream)try{p=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function k(g,u){return new h.Promise(function(m,d){var y=[],w=g._internalType,E=g._outputType,O=g._mimeType;g.on("data",function(I,S){y.push(I),u&&u(S)}).on("error",function(I){y=[],d(I)}).on("end",function(){try{var I=function(S,F,B){switch(S){case"blob":return s.newBlob(s.transformTo("arraybuffer",F),B);case"base64":return l.encode(F);default:return s.transformTo(S,F)}}(E,function(S,F){var B,x=0,oe=null,T=0;for(B=0;B<F.length;B++)T+=F[B].length;switch(S){case"string":return F.join("");case"array":return Array.prototype.concat.apply([],F);case"uint8array":for(oe=new Uint8Array(T),B=0;B<F.length;B++)oe.set(F[B],x),x+=F[B].length;return oe;case"nodebuffer":return Buffer.concat(F);default:throw new Error("concat : unsupported type '"+S+"'")}}(w,y),O);m(I)}catch(S){d(S)}y=[]}).resume()})}function f(g,u,m){var d=u;switch(u){case"blob":case"arraybuffer":d="uint8array";break;case"base64":d="string"}try{this._internalType=d,this._outputType=u,this._mimeType=m,s.checkSupport(d),this._worker=g.pipe(new a(d)),g.lock()}catch(y){this._worker=new o("error"),this._worker.error(y)}}f.prototype={accumulate:function(g){return k(this,g)},on:function(g,u){var m=this;return g==="data"?this._worker.on(g,function(d){u.call(m,d.data,d.meta)}):this._worker.on(g,function(){s.delay(u,arguments,m)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},g)}},i.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,i,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",n.nodebuffer=typeof Buffer<"u",n.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")n.blob=!1;else{var s=new ArrayBuffer(0);try{n.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(s),n.blob=a.getBlob("application/zip").size===0}catch{n.blob=!1}}}try{n.nodestream=!!r("readable-stream").Readable}catch{n.nodestream=!1}},{"readable-stream":16}],31:[function(r,i,n){for(var s=r("./utils"),a=r("./support"),o=r("./nodejsUtils"),l=r("./stream/GenericWorker"),c=new Array(256),h=0;h<256;h++)c[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;c[254]=c[254]=1;function p(){l.call(this,"utf-8 decode"),this.leftOver=null}function k(){l.call(this,"utf-8 encode")}n.utf8encode=function(f){return a.nodebuffer?o.newBufferFrom(f,"utf-8"):function(g){var u,m,d,y,w,E=g.length,O=0;for(y=0;y<E;y++)(64512&(m=g.charCodeAt(y)))==55296&&y+1<E&&(64512&(d=g.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(d-56320),y++),O+=m<128?1:m<2048?2:m<65536?3:4;for(u=a.uint8array?new Uint8Array(O):new Array(O),y=w=0;w<O;y++)(64512&(m=g.charCodeAt(y)))==55296&&y+1<E&&(64512&(d=g.charCodeAt(y+1)))==56320&&(m=65536+(m-55296<<10)+(d-56320),y++),m<128?u[w++]=m:(m<2048?u[w++]=192|m>>>6:(m<65536?u[w++]=224|m>>>12:(u[w++]=240|m>>>18,u[w++]=128|m>>>12&63),u[w++]=128|m>>>6&63),u[w++]=128|63&m);return u}(f)},n.utf8decode=function(f){return a.nodebuffer?s.transformTo("nodebuffer",f).toString("utf-8"):function(g){var u,m,d,y,w=g.length,E=new Array(2*w);for(u=m=0;u<w;)if((d=g[u++])<128)E[m++]=d;else if(4<(y=c[d]))E[m++]=65533,u+=y-1;else{for(d&=y===2?31:y===3?15:7;1<y&&u<w;)d=d<<6|63&g[u++],y--;1<y?E[m++]=65533:d<65536?E[m++]=d:(d-=65536,E[m++]=55296|d>>10&1023,E[m++]=56320|1023&d)}return E.length!==m&&(E.subarray?E=E.subarray(0,m):E.length=m),s.applyFromCharCode(E)}(f=s.transformTo(a.uint8array?"uint8array":"array",f))},s.inherits(p,l),p.prototype.processChunk=function(f){var g=s.transformTo(a.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var u=g;(g=new Uint8Array(u.length+this.leftOver.length)).set(this.leftOver,0),g.set(u,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var m=function(y,w){var E;for((w=w||y.length)>y.length&&(w=y.length),E=w-1;0<=E&&(192&y[E])==128;)E--;return E<0||E===0?w:E+c[y[E]]>w?E:w}(g),d=g;m!==g.length&&(a.uint8array?(d=g.subarray(0,m),this.leftOver=g.subarray(m,g.length)):(d=g.slice(0,m),this.leftOver=g.slice(m,g.length))),this.push({data:n.utf8decode(d),meta:f.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=p,s.inherits(k,l),k.prototype.processChunk=function(f){this.push({data:n.utf8encode(f.data),meta:f.meta})},n.Utf8EncodeWorker=k},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,i,n){var s=r("./support"),a=r("./base64"),o=r("./nodejsUtils"),l=r("./external");function c(u){return u}function h(u,m){for(var d=0;d<u.length;++d)m[d]=255&u.charCodeAt(d);return m}r("setimmediate"),n.newBlob=function(u,m){n.checkSupport("blob");try{return new Blob([u],{type:m})}catch{try{var d=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return d.append(u),d.getBlob(m)}catch{throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(u,m,d){var y=[],w=0,E=u.length;if(E<=d)return String.fromCharCode.apply(null,u);for(;w<E;)m==="array"||m==="nodebuffer"?y.push(String.fromCharCode.apply(null,u.slice(w,Math.min(w+d,E)))):y.push(String.fromCharCode.apply(null,u.subarray(w,Math.min(w+d,E)))),w+=d;return y.join("")},stringifyByChar:function(u){for(var m="",d=0;d<u.length;d++)m+=String.fromCharCode(u[d]);return m},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function k(u){var m=65536,d=n.getTypeOf(u),y=!0;if(d==="uint8array"?y=p.applyCanBeUsed.uint8array:d==="nodebuffer"&&(y=p.applyCanBeUsed.nodebuffer),y)for(;1<m;)try{return p.stringifyByChunk(u,d,m)}catch{m=Math.floor(m/2)}return p.stringifyByChar(u)}function f(u,m){for(var d=0;d<u.length;d++)m[d]=u[d];return m}n.applyFromCharCode=k;var g={};g.string={string:c,array:function(u){return h(u,new Array(u.length))},arraybuffer:function(u){return g.string.uint8array(u).buffer},uint8array:function(u){return h(u,new Uint8Array(u.length))},nodebuffer:function(u){return h(u,o.allocBuffer(u.length))}},g.array={string:k,array:c,arraybuffer:function(u){return new Uint8Array(u).buffer},uint8array:function(u){return new Uint8Array(u)},nodebuffer:function(u){return o.newBufferFrom(u)}},g.arraybuffer={string:function(u){return k(new Uint8Array(u))},array:function(u){return f(new Uint8Array(u),new Array(u.byteLength))},arraybuffer:c,uint8array:function(u){return new Uint8Array(u)},nodebuffer:function(u){return o.newBufferFrom(new Uint8Array(u))}},g.uint8array={string:k,array:function(u){return f(u,new Array(u.length))},arraybuffer:function(u){return u.buffer},uint8array:c,nodebuffer:function(u){return o.newBufferFrom(u)}},g.nodebuffer={string:k,array:function(u){return f(u,new Array(u.length))},arraybuffer:function(u){return g.nodebuffer.uint8array(u).buffer},uint8array:function(u){return f(u,new Uint8Array(u.length))},nodebuffer:c},n.transformTo=function(u,m){if(m=m||"",!u)return m;n.checkSupport(u);var d=n.getTypeOf(m);return g[d][u](m)},n.resolve=function(u){for(var m=u.split("/"),d=[],y=0;y<m.length;y++){var w=m[y];w==="."||w===""&&y!==0&&y!==m.length-1||(w===".."?d.pop():d.push(w))}return d.join("/")},n.getTypeOf=function(u){return typeof u=="string"?"string":Object.prototype.toString.call(u)==="[object Array]"?"array":s.nodebuffer&&o.isBuffer(u)?"nodebuffer":s.uint8array&&u instanceof Uint8Array?"uint8array":s.arraybuffer&&u instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(u){if(!s[u.toLowerCase()])throw new Error(u+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(u){var m,d,y="";for(d=0;d<(u||"").length;d++)y+="\\x"+((m=u.charCodeAt(d))<16?"0":"")+m.toString(16).toUpperCase();return y},n.delay=function(u,m,d){setImmediate(function(){u.apply(d||null,m||[])})},n.inherits=function(u,m){function d(){}d.prototype=m.prototype,u.prototype=new d},n.extend=function(){var u,m,d={};for(u=0;u<arguments.length;u++)for(m in arguments[u])Object.prototype.hasOwnProperty.call(arguments[u],m)&&d[m]===void 0&&(d[m]=arguments[u][m]);return d},n.prepareContent=function(u,m,d,y,w){return l.Promise.resolve(m).then(function(E){return s.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader<"u"?new l.Promise(function(O,I){var S=new FileReader;S.onload=function(F){O(F.target.result)},S.onerror=function(F){I(F.target.error)},S.readAsArrayBuffer(E)}):E}).then(function(E){var O=n.getTypeOf(E);return O?(O==="arraybuffer"?E=n.transformTo("uint8array",E):O==="string"&&(w?E=a.decode(E):d&&y!==!0&&(E=function(I){return h(I,s.uint8array?new Uint8Array(I.length):new Array(I.length))}(E))),E):l.Promise.reject(new Error("Can't read the data of '"+u+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,i,n){var s=r("./reader/readerFor"),a=r("./utils"),o=r("./signature"),l=r("./zipEntry"),c=r("./support");function h(p){this.files=[],this.loadOptions=p}h.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var k=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(k)+", expected "+a.pretty(p)+")")}},isSignature:function(p,k){var f=this.reader.index;this.reader.setIndex(p);var g=this.reader.readString(4)===k;return this.reader.setIndex(f),g},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),k=c.uint8array?"uint8array":"array",f=a.transformTo(k,p);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,k,f,g=this.zip64EndOfCentralSize-44;0<g;)p=this.reader.readInt(2),k=this.reader.readInt(4),f=this.reader.readData(k),this.zip64ExtensibleData[p]={id:p,length:k,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,k;for(p=0;p<this.files.length;p++)k=this.files[p],this.reader.setIndex(k.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),k.readLocalPart(this.reader),k.handleUTF8(),k.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(p=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var k=p;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var g=k-f;if(0<g)this.isSignature(k,o.CENTRAL_FILE_HEADER)||(this.reader.zero=g);else if(g<0)throw new Error("Corrupted zip: missing "+Math.abs(g)+" bytes.")},prepareReader:function(p){this.reader=s(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,i,n){var s=r("./reader/readerFor"),a=r("./utils"),o=r("./compressedObject"),l=r("./crc32"),c=r("./utf8"),h=r("./compressions"),p=r("./support");function k(f,g){this.options=f,this.loadOptions=g}k.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var g,u;if(f.skip(22),this.fileNameLength=f.readInt(2),u=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(u),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((g=function(m){for(var d in h)if(Object.prototype.hasOwnProperty.call(h,d)&&h[d].magic===m)return h[d];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,g,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var g=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(g),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var g,u,m,d=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<d;)g=f.readInt(2),u=f.readInt(2),m=f.readData(u),this.extraFields[g]={id:g,length:u,value:m};f.setIndex(d)},handleUTF8:function(){var f=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var u=a.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(u)}var m=this.findExtraFieldUnicodeComment();if(m!==null)this.fileCommentStr=m;else{var d=a.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(d)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var g=s(f.value);return g.readInt(1)!==1||l(this.fileName)!==g.readInt(4)?null:c.utf8decode(g.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var g=s(f.value);return g.readInt(1)!==1||l(this.fileComment)!==g.readInt(4)?null:c.utf8decode(g.readData(f.length-5))}return null}},i.exports=k},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,i,n){function s(g,u,m){this.name=g,this.dir=m.dir,this.date=m.date,this.comment=m.comment,this.unixPermissions=m.unixPermissions,this.dosPermissions=m.dosPermissions,this._data=u,this._dataBinary=m.binary,this.options={compression:m.compression,compressionOptions:m.compressionOptions}}var a=r("./stream/StreamHelper"),o=r("./stream/DataWorker"),l=r("./utf8"),c=r("./compressedObject"),h=r("./stream/GenericWorker");s.prototype={internalStream:function(g){var u=null,m="string";try{if(!g)throw new Error("No output type specified.");var d=(m=g.toLowerCase())==="string"||m==="text";m!=="binarystring"&&m!=="text"||(m="string"),u=this._decompressWorker();var y=!this._dataBinary;y&&!d&&(u=u.pipe(new l.Utf8EncodeWorker)),!y&&d&&(u=u.pipe(new l.Utf8DecodeWorker))}catch(w){(u=new h("error")).error(w)}return new a(u,m,"")},async:function(g,u){return this.internalStream(g).accumulate(u)},nodeStream:function(g,u){return this.internalStream(g||"nodebuffer").toNodejsStream(u)},_compressWorker:function(g,u){if(this._data instanceof c&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var m=this._decompressWorker();return this._dataBinary||(m=m.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(m,g,u)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof h?this._data:new o(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],k=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<p.length;f++)s.prototype[p[f]]=k;i.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,i,n){(function(s){var a,o,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var c=0,h=new l(g),p=s.document.createTextNode("");h.observe(p,{characterData:!0}),a=function(){p.data=c=++c%2}}else if(s.setImmediate||s.MessageChannel===void 0)a="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var u=s.document.createElement("script");u.onreadystatechange=function(){g(),u.onreadystatechange=null,u.parentNode.removeChild(u),u=null},s.document.documentElement.appendChild(u)}:function(){setTimeout(g,0)};else{var k=new s.MessageChannel;k.port1.onmessage=g,a=function(){k.port2.postMessage(0)}}var f=[];function g(){var u,m;o=!0;for(var d=f.length;d;){for(m=f,f=[],u=-1;++u<d;)m[u]();d=f.length}o=!1}i.exports=function(u){f.push(u)!==1||o||a()}}).call(this,typeof Rr<"u"?Rr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,i,n){var s=r("immediate");function a(){}var o={},l=["REJECTED"],c=["FULFILLED"],h=["PENDING"];function p(d){if(typeof d!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,d!==a&&u(this,d)}function k(d,y,w){this.promise=d,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof w=="function"&&(this.onRejected=w,this.callRejected=this.otherCallRejected)}function f(d,y,w){s(function(){var E;try{E=y(w)}catch(O){return o.reject(d,O)}E===d?o.reject(d,new TypeError("Cannot resolve promise with itself")):o.resolve(d,E)})}function g(d){var y=d&&d.then;if(d&&(typeof d=="object"||typeof d=="function")&&typeof y=="function")return function(){y.apply(d,arguments)}}function u(d,y){var w=!1;function E(S){w||(w=!0,o.reject(d,S))}function O(S){w||(w=!0,o.resolve(d,S))}var I=m(function(){y(O,E)});I.status==="error"&&E(I.value)}function m(d,y){var w={};try{w.value=d(y),w.status="success"}catch(E){w.status="error",w.value=E}return w}(i.exports=p).prototype.finally=function(d){if(typeof d!="function")return this;var y=this.constructor;return this.then(function(w){return y.resolve(d()).then(function(){return w})},function(w){return y.resolve(d()).then(function(){throw w})})},p.prototype.catch=function(d){return this.then(null,d)},p.prototype.then=function(d,y){if(typeof d!="function"&&this.state===c||typeof y!="function"&&this.state===l)return this;var w=new this.constructor(a);return this.state!==h?f(w,this.state===c?d:y,this.outcome):this.queue.push(new k(w,d,y)),w},k.prototype.callFulfilled=function(d){o.resolve(this.promise,d)},k.prototype.otherCallFulfilled=function(d){f(this.promise,this.onFulfilled,d)},k.prototype.callRejected=function(d){o.reject(this.promise,d)},k.prototype.otherCallRejected=function(d){f(this.promise,this.onRejected,d)},o.resolve=function(d,y){var w=m(g,y);if(w.status==="error")return o.reject(d,w.value);var E=w.value;if(E)u(d,E);else{d.state=c,d.outcome=y;for(var O=-1,I=d.queue.length;++O<I;)d.queue[O].callFulfilled(y)}return d},o.reject=function(d,y){d.state=l,d.outcome=y;for(var w=-1,E=d.queue.length;++w<E;)d.queue[w].callRejected(y);return d},p.resolve=function(d){return d instanceof this?d:o.resolve(new this(a),d)},p.reject=function(d){var y=new this(a);return o.reject(y,d)},p.all=function(d){var y=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=d.length,E=!1;if(!w)return this.resolve([]);for(var O=new Array(w),I=0,S=-1,F=new this(a);++S<w;)B(d[S],S);return F;function B(x,oe){y.resolve(x).then(function(T){O[oe]=T,++I!==w||E||(E=!0,o.resolve(F,O))},function(T){E||(E=!0,o.reject(F,T))})}},p.race=function(d){var y=this;if(Object.prototype.toString.call(d)!=="[object Array]")return this.reject(new TypeError("must be an array"));var w=d.length,E=!1;if(!w)return this.resolve([]);for(var O=-1,I=new this(a);++O<w;)S=d[O],y.resolve(S).then(function(F){E||(E=!0,o.resolve(I,F))},function(F){E||(E=!0,o.reject(I,F))});var S;return I}},{immediate:36}],38:[function(r,i,n){var s={};(0,r("./lib/utils/common").assign)(s,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),i.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,i,n){var s=r("./zlib/deflate"),a=r("./utils/common"),o=r("./utils/strings"),l=r("./zlib/messages"),c=r("./zlib/zstream"),h=Object.prototype.toString,p=0,k=-1,f=0,g=8;function u(d){if(!(this instanceof u))return new u(d);this.options=a.assign({level:k,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},d||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var w=s.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(w!==p)throw new Error(l[w]);if(y.header&&s.deflateSetHeader(this.strm,y.header),y.dictionary){var E;if(E=typeof y.dictionary=="string"?o.string2buf(y.dictionary):h.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(w=s.deflateSetDictionary(this.strm,E))!==p)throw new Error(l[w]);this._dict_set=!0}}function m(d,y){var w=new u(y);if(w.push(d,!0),w.err)throw w.msg||l[w.err];return w.result}u.prototype.push=function(d,y){var w,E,O=this.strm,I=this.options.chunkSize;if(this.ended)return!1;E=y===~~y?y:y===!0?4:0,typeof d=="string"?O.input=o.string2buf(d):h.call(d)==="[object ArrayBuffer]"?O.input=new Uint8Array(d):O.input=d,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new a.Buf8(I),O.next_out=0,O.avail_out=I),(w=s.deflate(O,E))!==1&&w!==p)return this.onEnd(w),!(this.ended=!0);O.avail_out!==0&&(O.avail_in!==0||E!==4&&E!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(O.output,O.next_out))):this.onData(a.shrinkBuf(O.output,O.next_out)))}while((0<O.avail_in||O.avail_out===0)&&w!==1);return E===4?(w=s.deflateEnd(this.strm),this.onEnd(w),this.ended=!0,w===p):E!==2||(this.onEnd(p),!(O.avail_out=0))},u.prototype.onData=function(d){this.chunks.push(d)},u.prototype.onEnd=function(d){d===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},n.Deflate=u,n.deflate=m,n.deflateRaw=function(d,y){return(y=y||{}).raw=!0,m(d,y)},n.gzip=function(d,y){return(y=y||{}).gzip=!0,m(d,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,i,n){var s=r("./zlib/inflate"),a=r("./utils/common"),o=r("./utils/strings"),l=r("./zlib/constants"),c=r("./zlib/messages"),h=r("./zlib/zstream"),p=r("./zlib/gzheader"),k=Object.prototype.toString;function f(u){if(!(this instanceof f))return new f(u);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},u||{});var m=this.options;m.raw&&0<=m.windowBits&&m.windowBits<16&&(m.windowBits=-m.windowBits,m.windowBits===0&&(m.windowBits=-15)),!(0<=m.windowBits&&m.windowBits<16)||u&&u.windowBits||(m.windowBits+=32),15<m.windowBits&&m.windowBits<48&&!(15&m.windowBits)&&(m.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var d=s.inflateInit2(this.strm,m.windowBits);if(d!==l.Z_OK)throw new Error(c[d]);this.header=new p,s.inflateGetHeader(this.strm,this.header)}function g(u,m){var d=new f(m);if(d.push(u,!0),d.err)throw d.msg||c[d.err];return d.result}f.prototype.push=function(u,m){var d,y,w,E,O,I,S=this.strm,F=this.options.chunkSize,B=this.options.dictionary,x=!1;if(this.ended)return!1;y=m===~~m?m:m===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof u=="string"?S.input=o.binstring2buf(u):k.call(u)==="[object ArrayBuffer]"?S.input=new Uint8Array(u):S.input=u,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new a.Buf8(F),S.next_out=0,S.avail_out=F),(d=s.inflate(S,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&B&&(I=typeof B=="string"?o.string2buf(B):k.call(B)==="[object ArrayBuffer]"?new Uint8Array(B):B,d=s.inflateSetDictionary(this.strm,I)),d===l.Z_BUF_ERROR&&x===!0&&(d=l.Z_OK,x=!1),d!==l.Z_STREAM_END&&d!==l.Z_OK)return this.onEnd(d),!(this.ended=!0);S.next_out&&(S.avail_out!==0&&d!==l.Z_STREAM_END&&(S.avail_in!==0||y!==l.Z_FINISH&&y!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(w=o.utf8border(S.output,S.next_out),E=S.next_out-w,O=o.buf2string(S.output,w),S.next_out=E,S.avail_out=F-E,E&&a.arraySet(S.output,S.output,w,E,0),this.onData(O)):this.onData(a.shrinkBuf(S.output,S.next_out)))),S.avail_in===0&&S.avail_out===0&&(x=!0)}while((0<S.avail_in||S.avail_out===0)&&d!==l.Z_STREAM_END);return d===l.Z_STREAM_END&&(y=l.Z_FINISH),y===l.Z_FINISH?(d=s.inflateEnd(this.strm),this.onEnd(d),this.ended=!0,d===l.Z_OK):y!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(S.avail_out=0))},f.prototype.onData=function(u){this.chunks.push(u)},f.prototype.onEnd=function(u){u===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=u,this.msg=this.strm.msg},n.Inflate=f,n.inflate=g,n.inflateRaw=function(u,m){return(m=m||{}).raw=!0,g(u,m)},n.ungzip=g},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,i,n){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";n.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var h=c.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var p in h)h.hasOwnProperty(p)&&(l[p]=h[p])}}return l},n.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var a={arraySet:function(l,c,h,p,k){if(c.subarray&&l.subarray)l.set(c.subarray(h,h+p),k);else for(var f=0;f<p;f++)l[k+f]=c[h+f]},flattenChunks:function(l){var c,h,p,k,f,g;for(c=p=0,h=l.length;c<h;c++)p+=l[c].length;for(g=new Uint8Array(p),c=k=0,h=l.length;c<h;c++)f=l[c],g.set(f,k),k+=f.length;return g}},o={arraySet:function(l,c,h,p,k){for(var f=0;f<p;f++)l[k+f]=c[h+f]},flattenChunks:function(l){return[].concat.apply([],l)}};n.setTyped=function(l){l?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,a)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(s)},{}],42:[function(r,i,n){var s=r("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new s.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function h(p,k){if(k<65537&&(p.subarray&&o||!p.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(p,k));for(var f="",g=0;g<k;g++)f+=String.fromCharCode(p[g]);return f}l[254]=l[254]=1,n.string2buf=function(p){var k,f,g,u,m,d=p.length,y=0;for(u=0;u<d;u++)(64512&(f=p.charCodeAt(u)))==55296&&u+1<d&&(64512&(g=p.charCodeAt(u+1)))==56320&&(f=65536+(f-55296<<10)+(g-56320),u++),y+=f<128?1:f<2048?2:f<65536?3:4;for(k=new s.Buf8(y),u=m=0;m<y;u++)(64512&(f=p.charCodeAt(u)))==55296&&u+1<d&&(64512&(g=p.charCodeAt(u+1)))==56320&&(f=65536+(f-55296<<10)+(g-56320),u++),f<128?k[m++]=f:(f<2048?k[m++]=192|f>>>6:(f<65536?k[m++]=224|f>>>12:(k[m++]=240|f>>>18,k[m++]=128|f>>>12&63),k[m++]=128|f>>>6&63),k[m++]=128|63&f);return k},n.buf2binstring=function(p){return h(p,p.length)},n.binstring2buf=function(p){for(var k=new s.Buf8(p.length),f=0,g=k.length;f<g;f++)k[f]=p.charCodeAt(f);return k},n.buf2string=function(p,k){var f,g,u,m,d=k||p.length,y=new Array(2*d);for(f=g=0;f<d;)if((u=p[f++])<128)y[g++]=u;else if(4<(m=l[u]))y[g++]=65533,f+=m-1;else{for(u&=m===2?31:m===3?15:7;1<m&&f<d;)u=u<<6|63&p[f++],m--;1<m?y[g++]=65533:u<65536?y[g++]=u:(u-=65536,y[g++]=55296|u>>10&1023,y[g++]=56320|1023&u)}return h(y,g)},n.utf8border=function(p,k){var f;for((k=k||p.length)>p.length&&(k=p.length),f=k-1;0<=f&&(192&p[f])==128;)f--;return f<0||f===0?k:f+l[p[f]]>k?f:k}},{"./common":41}],43:[function(r,i,n){i.exports=function(s,a,o,l){for(var c=65535&s|0,h=s>>>16&65535|0,p=0;o!==0;){for(o-=p=2e3<o?2e3:o;h=h+(c=c+a[l++]|0)|0,--p;);c%=65521,h%=65521}return c|h<<16|0}},{}],44:[function(r,i,n){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,i,n){var s=function(){for(var a,o=[],l=0;l<256;l++){a=l;for(var c=0;c<8;c++)a=1&a?3988292384^a>>>1:a>>>1;o[l]=a}return o}();i.exports=function(a,o,l,c){var h=s,p=c+l;a^=-1;for(var k=c;k<p;k++)a=a>>>8^h[255&(a^o[k])];return-1^a}},{}],46:[function(r,i,n){var s,a=r("../utils/common"),o=r("./trees"),l=r("./adler32"),c=r("./crc32"),h=r("./messages"),p=0,k=4,f=0,g=-2,u=-1,m=4,d=2,y=8,w=9,E=286,O=30,I=19,S=2*E+1,F=15,B=3,x=258,oe=x+B+1,T=42,H=113,v=1,W=2,se=3,Y=4;function he(_,Q){return _.msg=h[Q],Q}function L(_){return(_<<1)-(4<_?9:0)}function D(_){for(var Q=_.length;0<=--Q;)_[Q]=0}function $(_){var Q=_.state,G=Q.pending;G>_.avail_out&&(G=_.avail_out),G!==0&&(a.arraySet(_.output,Q.pending_buf,Q.pending_out,G,_.next_out),_.next_out+=G,Q.pending_out+=G,_.total_out+=G,_.avail_out-=G,Q.pending-=G,Q.pending===0&&(Q.pending_out=0))}function C(_,Q){o._tr_flush_block(_,0<=_.block_start?_.block_start:-1,_.strstart-_.block_start,Q),_.block_start=_.strstart,$(_.strm)}function A(_,Q){_.pending_buf[_.pending++]=Q}function b(_,Q){_.pending_buf[_.pending++]=Q>>>8&255,_.pending_buf[_.pending++]=255&Q}function P(_,Q){var G,j,R=_.max_chain_length,V=_.strstart,ee=_.prev_length,te=_.nice_match,K=_.strstart>_.w_size-oe?_.strstart-(_.w_size-oe):0,ne=_.window,ue=_.w_mask,le=_.prev,ge=_.strstart+x,je=ne[V+ee-1],Ae=ne[V+ee];_.prev_length>=_.good_match&&(R>>=2),te>_.lookahead&&(te=_.lookahead);do if(ne[(G=Q)+ee]===Ae&&ne[G+ee-1]===je&&ne[G]===ne[V]&&ne[++G]===ne[V+1]){V+=2,G++;do;while(ne[++V]===ne[++G]&&ne[++V]===ne[++G]&&ne[++V]===ne[++G]&&ne[++V]===ne[++G]&&ne[++V]===ne[++G]&&ne[++V]===ne[++G]&&ne[++V]===ne[++G]&&ne[++V]===ne[++G]&&V<ge);if(j=x-(ge-V),V=ge-x,ee<j){if(_.match_start=Q,te<=(ee=j))break;je=ne[V+ee-1],Ae=ne[V+ee]}}while((Q=le[Q&ue])>K&&--R!=0);return ee<=_.lookahead?ee:_.lookahead}function q(_){var Q,G,j,R,V,ee,te,K,ne,ue,le=_.w_size;do{if(R=_.window_size-_.lookahead-_.strstart,_.strstart>=le+(le-oe)){for(a.arraySet(_.window,_.window,le,le,0),_.match_start-=le,_.strstart-=le,_.block_start-=le,Q=G=_.hash_size;j=_.head[--Q],_.head[Q]=le<=j?j-le:0,--G;);for(Q=G=le;j=_.prev[--Q],_.prev[Q]=le<=j?j-le:0,--G;);R+=le}if(_.strm.avail_in===0)break;if(ee=_.strm,te=_.window,K=_.strstart+_.lookahead,ne=R,ue=void 0,ue=ee.avail_in,ne<ue&&(ue=ne),G=ue===0?0:(ee.avail_in-=ue,a.arraySet(te,ee.input,ee.next_in,ue,K),ee.state.wrap===1?ee.adler=l(ee.adler,te,ue,K):ee.state.wrap===2&&(ee.adler=c(ee.adler,te,ue,K)),ee.next_in+=ue,ee.total_in+=ue,ue),_.lookahead+=G,_.lookahead+_.insert>=B)for(V=_.strstart-_.insert,_.ins_h=_.window[V],_.ins_h=(_.ins_h<<_.hash_shift^_.window[V+1])&_.hash_mask;_.insert&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[V+B-1])&_.hash_mask,_.prev[V&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=V,V++,_.insert--,!(_.lookahead+_.insert<B)););}while(_.lookahead<oe&&_.strm.avail_in!==0)}function re(_,Q){for(var G,j;;){if(_.lookahead<oe){if(q(_),_.lookahead<oe&&Q===p)return v;if(_.lookahead===0)break}if(G=0,_.lookahead>=B&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+B-1])&_.hash_mask,G=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),G!==0&&_.strstart-G<=_.w_size-oe&&(_.match_length=P(_,G)),_.match_length>=B)if(j=o._tr_tally(_,_.strstart-_.match_start,_.match_length-B),_.lookahead-=_.match_length,_.match_length<=_.max_lazy_match&&_.lookahead>=B){for(_.match_length--;_.strstart++,_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+B-1])&_.hash_mask,G=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart,--_.match_length!=0;);_.strstart++}else _.strstart+=_.match_length,_.match_length=0,_.ins_h=_.window[_.strstart],_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+1])&_.hash_mask;else j=o._tr_tally(_,0,_.window[_.strstart]),_.lookahead--,_.strstart++;if(j&&(C(_,!1),_.strm.avail_out===0))return v}return _.insert=_.strstart<B-1?_.strstart:B-1,Q===k?(C(_,!0),_.strm.avail_out===0?se:Y):_.last_lit&&(C(_,!1),_.strm.avail_out===0)?v:W}function X(_,Q){for(var G,j,R;;){if(_.lookahead<oe){if(q(_),_.lookahead<oe&&Q===p)return v;if(_.lookahead===0)break}if(G=0,_.lookahead>=B&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+B-1])&_.hash_mask,G=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),_.prev_length=_.match_length,_.prev_match=_.match_start,_.match_length=B-1,G!==0&&_.prev_length<_.max_lazy_match&&_.strstart-G<=_.w_size-oe&&(_.match_length=P(_,G),_.match_length<=5&&(_.strategy===1||_.match_length===B&&4096<_.strstart-_.match_start)&&(_.match_length=B-1)),_.prev_length>=B&&_.match_length<=_.prev_length){for(R=_.strstart+_.lookahead-B,j=o._tr_tally(_,_.strstart-1-_.prev_match,_.prev_length-B),_.lookahead-=_.prev_length-1,_.prev_length-=2;++_.strstart<=R&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+B-1])&_.hash_mask,G=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),--_.prev_length!=0;);if(_.match_available=0,_.match_length=B-1,_.strstart++,j&&(C(_,!1),_.strm.avail_out===0))return v}else if(_.match_available){if((j=o._tr_tally(_,0,_.window[_.strstart-1]))&&C(_,!1),_.strstart++,_.lookahead--,_.strm.avail_out===0)return v}else _.match_available=1,_.strstart++,_.lookahead--}return _.match_available&&(j=o._tr_tally(_,0,_.window[_.strstart-1]),_.match_available=0),_.insert=_.strstart<B-1?_.strstart:B-1,Q===k?(C(_,!0),_.strm.avail_out===0?se:Y):_.last_lit&&(C(_,!1),_.strm.avail_out===0)?v:W}function ce(_,Q,G,j,R){this.good_length=_,this.max_lazy=Q,this.nice_length=G,this.max_chain=j,this.func=R}function me(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*S),this.dyn_dtree=new a.Buf16(2*(2*O+1)),this.bl_tree=new a.Buf16(2*(2*I+1)),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(F+1),this.heap=new a.Buf16(2*E+1),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*E+1),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ye(_){var Q;return _&&_.state?(_.total_in=_.total_out=0,_.data_type=d,(Q=_.state).pending=0,Q.pending_out=0,Q.wrap<0&&(Q.wrap=-Q.wrap),Q.status=Q.wrap?T:H,_.adler=Q.wrap===2?0:1,Q.last_flush=p,o._tr_init(Q),f):he(_,g)}function qe(_){var Q=ye(_);return Q===f&&function(G){G.window_size=2*G.w_size,D(G.head),G.max_lazy_match=s[G.level].max_lazy,G.good_match=s[G.level].good_length,G.nice_match=s[G.level].nice_length,G.max_chain_length=s[G.level].max_chain,G.strstart=0,G.block_start=0,G.lookahead=0,G.insert=0,G.match_length=G.prev_length=B-1,G.match_available=0,G.ins_h=0}(_.state),Q}function He(_,Q,G,j,R,V){if(!_)return g;var ee=1;if(Q===u&&(Q=6),j<0?(ee=0,j=-j):15<j&&(ee=2,j-=16),R<1||w<R||G!==y||j<8||15<j||Q<0||9<Q||V<0||m<V)return he(_,g);j===8&&(j=9);var te=new me;return(_.state=te).strm=_,te.wrap=ee,te.gzhead=null,te.w_bits=j,te.w_size=1<<te.w_bits,te.w_mask=te.w_size-1,te.hash_bits=R+7,te.hash_size=1<<te.hash_bits,te.hash_mask=te.hash_size-1,te.hash_shift=~~((te.hash_bits+B-1)/B),te.window=new a.Buf8(2*te.w_size),te.head=new a.Buf16(te.hash_size),te.prev=new a.Buf16(te.w_size),te.lit_bufsize=1<<R+6,te.pending_buf_size=4*te.lit_bufsize,te.pending_buf=new a.Buf8(te.pending_buf_size),te.d_buf=1*te.lit_bufsize,te.l_buf=3*te.lit_bufsize,te.level=Q,te.strategy=V,te.method=G,qe(_)}s=[new ce(0,0,0,0,function(_,Q){var G=65535;for(G>_.pending_buf_size-5&&(G=_.pending_buf_size-5);;){if(_.lookahead<=1){if(q(_),_.lookahead===0&&Q===p)return v;if(_.lookahead===0)break}_.strstart+=_.lookahead,_.lookahead=0;var j=_.block_start+G;if((_.strstart===0||_.strstart>=j)&&(_.lookahead=_.strstart-j,_.strstart=j,C(_,!1),_.strm.avail_out===0)||_.strstart-_.block_start>=_.w_size-oe&&(C(_,!1),_.strm.avail_out===0))return v}return _.insert=0,Q===k?(C(_,!0),_.strm.avail_out===0?se:Y):(_.strstart>_.block_start&&(C(_,!1),_.strm.avail_out),v)}),new ce(4,4,8,4,re),new ce(4,5,16,8,re),new ce(4,6,32,32,re),new ce(4,4,16,16,X),new ce(8,16,32,32,X),new ce(8,16,128,128,X),new ce(8,32,128,256,X),new ce(32,128,258,1024,X),new ce(32,258,258,4096,X)],n.deflateInit=function(_,Q){return He(_,Q,y,15,8,0)},n.deflateInit2=He,n.deflateReset=qe,n.deflateResetKeep=ye,n.deflateSetHeader=function(_,Q){return _&&_.state?_.state.wrap!==2?g:(_.state.gzhead=Q,f):g},n.deflate=function(_,Q){var G,j,R,V;if(!_||!_.state||5<Q||Q<0)return _?he(_,g):g;if(j=_.state,!_.output||!_.input&&_.avail_in!==0||j.status===666&&Q!==k)return he(_,_.avail_out===0?-5:g);if(j.strm=_,G=j.last_flush,j.last_flush=Q,j.status===T)if(j.wrap===2)_.adler=0,A(j,31),A(j,139),A(j,8),j.gzhead?(A(j,(j.gzhead.text?1:0)+(j.gzhead.hcrc?2:0)+(j.gzhead.extra?4:0)+(j.gzhead.name?8:0)+(j.gzhead.comment?16:0)),A(j,255&j.gzhead.time),A(j,j.gzhead.time>>8&255),A(j,j.gzhead.time>>16&255),A(j,j.gzhead.time>>24&255),A(j,j.level===9?2:2<=j.strategy||j.level<2?4:0),A(j,255&j.gzhead.os),j.gzhead.extra&&j.gzhead.extra.length&&(A(j,255&j.gzhead.extra.length),A(j,j.gzhead.extra.length>>8&255)),j.gzhead.hcrc&&(_.adler=c(_.adler,j.pending_buf,j.pending,0)),j.gzindex=0,j.status=69):(A(j,0),A(j,0),A(j,0),A(j,0),A(j,0),A(j,j.level===9?2:2<=j.strategy||j.level<2?4:0),A(j,3),j.status=H);else{var ee=y+(j.w_bits-8<<4)<<8;ee|=(2<=j.strategy||j.level<2?0:j.level<6?1:j.level===6?2:3)<<6,j.strstart!==0&&(ee|=32),ee+=31-ee%31,j.status=H,b(j,ee),j.strstart!==0&&(b(j,_.adler>>>16),b(j,65535&_.adler)),_.adler=1}if(j.status===69)if(j.gzhead.extra){for(R=j.pending;j.gzindex<(65535&j.gzhead.extra.length)&&(j.pending!==j.pending_buf_size||(j.gzhead.hcrc&&j.pending>R&&(_.adler=c(_.adler,j.pending_buf,j.pending-R,R)),$(_),R=j.pending,j.pending!==j.pending_buf_size));)A(j,255&j.gzhead.extra[j.gzindex]),j.gzindex++;j.gzhead.hcrc&&j.pending>R&&(_.adler=c(_.adler,j.pending_buf,j.pending-R,R)),j.gzindex===j.gzhead.extra.length&&(j.gzindex=0,j.status=73)}else j.status=73;if(j.status===73)if(j.gzhead.name){R=j.pending;do{if(j.pending===j.pending_buf_size&&(j.gzhead.hcrc&&j.pending>R&&(_.adler=c(_.adler,j.pending_buf,j.pending-R,R)),$(_),R=j.pending,j.pending===j.pending_buf_size)){V=1;break}V=j.gzindex<j.gzhead.name.length?255&j.gzhead.name.charCodeAt(j.gzindex++):0,A(j,V)}while(V!==0);j.gzhead.hcrc&&j.pending>R&&(_.adler=c(_.adler,j.pending_buf,j.pending-R,R)),V===0&&(j.gzindex=0,j.status=91)}else j.status=91;if(j.status===91)if(j.gzhead.comment){R=j.pending;do{if(j.pending===j.pending_buf_size&&(j.gzhead.hcrc&&j.pending>R&&(_.adler=c(_.adler,j.pending_buf,j.pending-R,R)),$(_),R=j.pending,j.pending===j.pending_buf_size)){V=1;break}V=j.gzindex<j.gzhead.comment.length?255&j.gzhead.comment.charCodeAt(j.gzindex++):0,A(j,V)}while(V!==0);j.gzhead.hcrc&&j.pending>R&&(_.adler=c(_.adler,j.pending_buf,j.pending-R,R)),V===0&&(j.status=103)}else j.status=103;if(j.status===103&&(j.gzhead.hcrc?(j.pending+2>j.pending_buf_size&&$(_),j.pending+2<=j.pending_buf_size&&(A(j,255&_.adler),A(j,_.adler>>8&255),_.adler=0,j.status=H)):j.status=H),j.pending!==0){if($(_),_.avail_out===0)return j.last_flush=-1,f}else if(_.avail_in===0&&L(Q)<=L(G)&&Q!==k)return he(_,-5);if(j.status===666&&_.avail_in!==0)return he(_,-5);if(_.avail_in!==0||j.lookahead!==0||Q!==p&&j.status!==666){var te=j.strategy===2?function(K,ne){for(var ue;;){if(K.lookahead===0&&(q(K),K.lookahead===0)){if(ne===p)return v;break}if(K.match_length=0,ue=o._tr_tally(K,0,K.window[K.strstart]),K.lookahead--,K.strstart++,ue&&(C(K,!1),K.strm.avail_out===0))return v}return K.insert=0,ne===k?(C(K,!0),K.strm.avail_out===0?se:Y):K.last_lit&&(C(K,!1),K.strm.avail_out===0)?v:W}(j,Q):j.strategy===3?function(K,ne){for(var ue,le,ge,je,Ae=K.window;;){if(K.lookahead<=x){if(q(K),K.lookahead<=x&&ne===p)return v;if(K.lookahead===0)break}if(K.match_length=0,K.lookahead>=B&&0<K.strstart&&(le=Ae[ge=K.strstart-1])===Ae[++ge]&&le===Ae[++ge]&&le===Ae[++ge]){je=K.strstart+x;do;while(le===Ae[++ge]&&le===Ae[++ge]&&le===Ae[++ge]&&le===Ae[++ge]&&le===Ae[++ge]&&le===Ae[++ge]&&le===Ae[++ge]&&le===Ae[++ge]&&ge<je);K.match_length=x-(je-ge),K.match_length>K.lookahead&&(K.match_length=K.lookahead)}if(K.match_length>=B?(ue=o._tr_tally(K,1,K.match_length-B),K.lookahead-=K.match_length,K.strstart+=K.match_length,K.match_length=0):(ue=o._tr_tally(K,0,K.window[K.strstart]),K.lookahead--,K.strstart++),ue&&(C(K,!1),K.strm.avail_out===0))return v}return K.insert=0,ne===k?(C(K,!0),K.strm.avail_out===0?se:Y):K.last_lit&&(C(K,!1),K.strm.avail_out===0)?v:W}(j,Q):s[j.level].func(j,Q);if(te!==se&&te!==Y||(j.status=666),te===v||te===se)return _.avail_out===0&&(j.last_flush=-1),f;if(te===W&&(Q===1?o._tr_align(j):Q!==5&&(o._tr_stored_block(j,0,0,!1),Q===3&&(D(j.head),j.lookahead===0&&(j.strstart=0,j.block_start=0,j.insert=0))),$(_),_.avail_out===0))return j.last_flush=-1,f}return Q!==k?f:j.wrap<=0?1:(j.wrap===2?(A(j,255&_.adler),A(j,_.adler>>8&255),A(j,_.adler>>16&255),A(j,_.adler>>24&255),A(j,255&_.total_in),A(j,_.total_in>>8&255),A(j,_.total_in>>16&255),A(j,_.total_in>>24&255)):(b(j,_.adler>>>16),b(j,65535&_.adler)),$(_),0<j.wrap&&(j.wrap=-j.wrap),j.pending!==0?f:1)},n.deflateEnd=function(_){var Q;return _&&_.state?(Q=_.state.status)!==T&&Q!==69&&Q!==73&&Q!==91&&Q!==103&&Q!==H&&Q!==666?he(_,g):(_.state=null,Q===H?he(_,-3):f):g},n.deflateSetDictionary=function(_,Q){var G,j,R,V,ee,te,K,ne,ue=Q.length;if(!_||!_.state||(V=(G=_.state).wrap)===2||V===1&&G.status!==T||G.lookahead)return g;for(V===1&&(_.adler=l(_.adler,Q,ue,0)),G.wrap=0,ue>=G.w_size&&(V===0&&(D(G.head),G.strstart=0,G.block_start=0,G.insert=0),ne=new a.Buf8(G.w_size),a.arraySet(ne,Q,ue-G.w_size,G.w_size,0),Q=ne,ue=G.w_size),ee=_.avail_in,te=_.next_in,K=_.input,_.avail_in=ue,_.next_in=0,_.input=Q,q(G);G.lookahead>=B;){for(j=G.strstart,R=G.lookahead-(B-1);G.ins_h=(G.ins_h<<G.hash_shift^G.window[j+B-1])&G.hash_mask,G.prev[j&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=j,j++,--R;);G.strstart=j,G.lookahead=B-1,q(G)}return G.strstart+=G.lookahead,G.block_start=G.strstart,G.insert=G.lookahead,G.lookahead=0,G.match_length=G.prev_length=B-1,G.match_available=0,_.next_in=te,_.input=K,_.avail_in=ee,G.wrap=V,f},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,i,n){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,i,n){i.exports=function(s,a){var o,l,c,h,p,k,f,g,u,m,d,y,w,E,O,I,S,F,B,x,oe,T,H,v,W;o=s.state,l=s.next_in,v=s.input,c=l+(s.avail_in-5),h=s.next_out,W=s.output,p=h-(a-s.avail_out),k=h+(s.avail_out-257),f=o.dmax,g=o.wsize,u=o.whave,m=o.wnext,d=o.window,y=o.hold,w=o.bits,E=o.lencode,O=o.distcode,I=(1<<o.lenbits)-1,S=(1<<o.distbits)-1;e:do{w<15&&(y+=v[l++]<<w,w+=8,y+=v[l++]<<w,w+=8),F=E[y&I];t:for(;;){if(y>>>=B=F>>>24,w-=B,(B=F>>>16&255)===0)W[h++]=65535&F;else{if(!(16&B)){if(!(64&B)){F=E[(65535&F)+(y&(1<<B)-1)];continue t}if(32&B){o.mode=12;break e}s.msg="invalid literal/length code",o.mode=30;break e}x=65535&F,(B&=15)&&(w<B&&(y+=v[l++]<<w,w+=8),x+=y&(1<<B)-1,y>>>=B,w-=B),w<15&&(y+=v[l++]<<w,w+=8,y+=v[l++]<<w,w+=8),F=O[y&S];r:for(;;){if(y>>>=B=F>>>24,w-=B,!(16&(B=F>>>16&255))){if(!(64&B)){F=O[(65535&F)+(y&(1<<B)-1)];continue r}s.msg="invalid distance code",o.mode=30;break e}if(oe=65535&F,w<(B&=15)&&(y+=v[l++]<<w,(w+=8)<B&&(y+=v[l++]<<w,w+=8)),f<(oe+=y&(1<<B)-1)){s.msg="invalid distance too far back",o.mode=30;break e}if(y>>>=B,w-=B,(B=h-p)<oe){if(u<(B=oe-B)&&o.sane){s.msg="invalid distance too far back",o.mode=30;break e}if(H=d,(T=0)===m){if(T+=g-B,B<x){for(x-=B;W[h++]=d[T++],--B;);T=h-oe,H=W}}else if(m<B){if(T+=g+m-B,(B-=m)<x){for(x-=B;W[h++]=d[T++],--B;);if(T=0,m<x){for(x-=B=m;W[h++]=d[T++],--B;);T=h-oe,H=W}}}else if(T+=m-B,B<x){for(x-=B;W[h++]=d[T++],--B;);T=h-oe,H=W}for(;2<x;)W[h++]=H[T++],W[h++]=H[T++],W[h++]=H[T++],x-=3;x&&(W[h++]=H[T++],1<x&&(W[h++]=H[T++]))}else{for(T=h-oe;W[h++]=W[T++],W[h++]=W[T++],W[h++]=W[T++],2<(x-=3););x&&(W[h++]=W[T++],1<x&&(W[h++]=W[T++]))}break}}break}}while(l<c&&h<k);l-=x=w>>3,y&=(1<<(w-=x<<3))-1,s.next_in=l,s.next_out=h,s.avail_in=l<c?c-l+5:5-(l-c),s.avail_out=h<k?k-h+257:257-(h-k),o.hold=y,o.bits=w}},{}],49:[function(r,i,n){var s=r("../utils/common"),a=r("./adler32"),o=r("./crc32"),l=r("./inffast"),c=r("./inftrees"),h=1,p=2,k=0,f=-2,g=1,u=852,m=592;function d(T){return(T>>>24&255)+(T>>>8&65280)+((65280&T)<<8)+((255&T)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function w(T){var H;return T&&T.state?(H=T.state,T.total_in=T.total_out=H.total=0,T.msg="",H.wrap&&(T.adler=1&H.wrap),H.mode=g,H.last=0,H.havedict=0,H.dmax=32768,H.head=null,H.hold=0,H.bits=0,H.lencode=H.lendyn=new s.Buf32(u),H.distcode=H.distdyn=new s.Buf32(m),H.sane=1,H.back=-1,k):f}function E(T){var H;return T&&T.state?((H=T.state).wsize=0,H.whave=0,H.wnext=0,w(T)):f}function O(T,H){var v,W;return T&&T.state?(W=T.state,H<0?(v=0,H=-H):(v=1+(H>>4),H<48&&(H&=15)),H&&(H<8||15<H)?f:(W.window!==null&&W.wbits!==H&&(W.window=null),W.wrap=v,W.wbits=H,E(T))):f}function I(T,H){var v,W;return T?(W=new y,(T.state=W).window=null,(v=O(T,H))!==k&&(T.state=null),v):f}var S,F,B=!0;function x(T){if(B){var H;for(S=new s.Buf32(512),F=new s.Buf32(32),H=0;H<144;)T.lens[H++]=8;for(;H<256;)T.lens[H++]=9;for(;H<280;)T.lens[H++]=7;for(;H<288;)T.lens[H++]=8;for(c(h,T.lens,0,288,S,0,T.work,{bits:9}),H=0;H<32;)T.lens[H++]=5;c(p,T.lens,0,32,F,0,T.work,{bits:5}),B=!1}T.lencode=S,T.lenbits=9,T.distcode=F,T.distbits=5}function oe(T,H,v,W){var se,Y=T.state;return Y.window===null&&(Y.wsize=1<<Y.wbits,Y.wnext=0,Y.whave=0,Y.window=new s.Buf8(Y.wsize)),W>=Y.wsize?(s.arraySet(Y.window,H,v-Y.wsize,Y.wsize,0),Y.wnext=0,Y.whave=Y.wsize):(W<(se=Y.wsize-Y.wnext)&&(se=W),s.arraySet(Y.window,H,v-W,se,Y.wnext),(W-=se)?(s.arraySet(Y.window,H,v-W,W,0),Y.wnext=W,Y.whave=Y.wsize):(Y.wnext+=se,Y.wnext===Y.wsize&&(Y.wnext=0),Y.whave<Y.wsize&&(Y.whave+=se))),0}n.inflateReset=E,n.inflateReset2=O,n.inflateResetKeep=w,n.inflateInit=function(T){return I(T,15)},n.inflateInit2=I,n.inflate=function(T,H){var v,W,se,Y,he,L,D,$,C,A,b,P,q,re,X,ce,me,ye,qe,He,_,Q,G,j,R=0,V=new s.Buf8(4),ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!T||!T.state||!T.output||!T.input&&T.avail_in!==0)return f;(v=T.state).mode===12&&(v.mode=13),he=T.next_out,se=T.output,D=T.avail_out,Y=T.next_in,W=T.input,L=T.avail_in,$=v.hold,C=v.bits,A=L,b=D,Q=k;e:for(;;)switch(v.mode){case g:if(v.wrap===0){v.mode=13;break}for(;C<16;){if(L===0)break e;L--,$+=W[Y++]<<C,C+=8}if(2&v.wrap&&$===35615){V[v.check=0]=255&$,V[1]=$>>>8&255,v.check=o(v.check,V,2,0),C=$=0,v.mode=2;break}if(v.flags=0,v.head&&(v.head.done=!1),!(1&v.wrap)||(((255&$)<<8)+($>>8))%31){T.msg="incorrect header check",v.mode=30;break}if((15&$)!=8){T.msg="unknown compression method",v.mode=30;break}if(C-=4,_=8+(15&($>>>=4)),v.wbits===0)v.wbits=_;else if(_>v.wbits){T.msg="invalid window size",v.mode=30;break}v.dmax=1<<_,T.adler=v.check=1,v.mode=512&$?10:12,C=$=0;break;case 2:for(;C<16;){if(L===0)break e;L--,$+=W[Y++]<<C,C+=8}if(v.flags=$,(255&v.flags)!=8){T.msg="unknown compression method",v.mode=30;break}if(57344&v.flags){T.msg="unknown header flags set",v.mode=30;break}v.head&&(v.head.text=$>>8&1),512&v.flags&&(V[0]=255&$,V[1]=$>>>8&255,v.check=o(v.check,V,2,0)),C=$=0,v.mode=3;case 3:for(;C<32;){if(L===0)break e;L--,$+=W[Y++]<<C,C+=8}v.head&&(v.head.time=$),512&v.flags&&(V[0]=255&$,V[1]=$>>>8&255,V[2]=$>>>16&255,V[3]=$>>>24&255,v.check=o(v.check,V,4,0)),C=$=0,v.mode=4;case 4:for(;C<16;){if(L===0)break e;L--,$+=W[Y++]<<C,C+=8}v.head&&(v.head.xflags=255&$,v.head.os=$>>8),512&v.flags&&(V[0]=255&$,V[1]=$>>>8&255,v.check=o(v.check,V,2,0)),C=$=0,v.mode=5;case 5:if(1024&v.flags){for(;C<16;){if(L===0)break e;L--,$+=W[Y++]<<C,C+=8}v.length=$,v.head&&(v.head.extra_len=$),512&v.flags&&(V[0]=255&$,V[1]=$>>>8&255,v.check=o(v.check,V,2,0)),C=$=0}else v.head&&(v.head.extra=null);v.mode=6;case 6:if(1024&v.flags&&(L<(P=v.length)&&(P=L),P&&(v.head&&(_=v.head.extra_len-v.length,v.head.extra||(v.head.extra=new Array(v.head.extra_len)),s.arraySet(v.head.extra,W,Y,P,_)),512&v.flags&&(v.check=o(v.check,W,P,Y)),L-=P,Y+=P,v.length-=P),v.length))break e;v.length=0,v.mode=7;case 7:if(2048&v.flags){if(L===0)break e;for(P=0;_=W[Y+P++],v.head&&_&&v.length<65536&&(v.head.name+=String.fromCharCode(_)),_&&P<L;);if(512&v.flags&&(v.check=o(v.check,W,P,Y)),L-=P,Y+=P,_)break e}else v.head&&(v.head.name=null);v.length=0,v.mode=8;case 8:if(4096&v.flags){if(L===0)break e;for(P=0;_=W[Y+P++],v.head&&_&&v.length<65536&&(v.head.comment+=String.fromCharCode(_)),_&&P<L;);if(512&v.flags&&(v.check=o(v.check,W,P,Y)),L-=P,Y+=P,_)break e}else v.head&&(v.head.comment=null);v.mode=9;case 9:if(512&v.flags){for(;C<16;){if(L===0)break e;L--,$+=W[Y++]<<C,C+=8}if($!==(65535&v.check)){T.msg="header crc mismatch",v.mode=30;break}C=$=0}v.head&&(v.head.hcrc=v.flags>>9&1,v.head.done=!0),T.adler=v.check=0,v.mode=12;break;case 10:for(;C<32;){if(L===0)break e;L--,$+=W[Y++]<<C,C+=8}T.adler=v.check=d($),C=$=0,v.mode=11;case 11:if(v.havedict===0)return T.next_out=he,T.avail_out=D,T.next_in=Y,T.avail_in=L,v.hold=$,v.bits=C,2;T.adler=v.check=1,v.mode=12;case 12:if(H===5||H===6)break e;case 13:if(v.last){$>>>=7&C,C-=7&C,v.mode=27;break}for(;C<3;){if(L===0)break e;L--,$+=W[Y++]<<C,C+=8}switch(v.last=1&$,C-=1,3&($>>>=1)){case 0:v.mode=14;break;case 1:if(x(v),v.mode=20,H!==6)break;$>>>=2,C-=2;break e;case 2:v.mode=17;break;case 3:T.msg="invalid block type",v.mode=30}$>>>=2,C-=2;break;case 14:for($>>>=7&C,C-=7&C;C<32;){if(L===0)break e;L--,$+=W[Y++]<<C,C+=8}if((65535&$)!=($>>>16^65535)){T.msg="invalid stored block lengths",v.mode=30;break}if(v.length=65535&$,C=$=0,v.mode=15,H===6)break e;case 15:v.mode=16;case 16:if(P=v.length){if(L<P&&(P=L),D<P&&(P=D),P===0)break e;s.arraySet(se,W,Y,P,he),L-=P,Y+=P,D-=P,he+=P,v.length-=P;break}v.mode=12;break;case 17:for(;C<14;){if(L===0)break e;L--,$+=W[Y++]<<C,C+=8}if(v.nlen=257+(31&$),$>>>=5,C-=5,v.ndist=1+(31&$),$>>>=5,C-=5,v.ncode=4+(15&$),$>>>=4,C-=4,286<v.nlen||30<v.ndist){T.msg="too many length or distance symbols",v.mode=30;break}v.have=0,v.mode=18;case 18:for(;v.have<v.ncode;){for(;C<3;){if(L===0)break e;L--,$+=W[Y++]<<C,C+=8}v.lens[ee[v.have++]]=7&$,$>>>=3,C-=3}for(;v.have<19;)v.lens[ee[v.have++]]=0;if(v.lencode=v.lendyn,v.lenbits=7,G={bits:v.lenbits},Q=c(0,v.lens,0,19,v.lencode,0,v.work,G),v.lenbits=G.bits,Q){T.msg="invalid code lengths set",v.mode=30;break}v.have=0,v.mode=19;case 19:for(;v.have<v.nlen+v.ndist;){for(;ce=(R=v.lencode[$&(1<<v.lenbits)-1])>>>16&255,me=65535&R,!((X=R>>>24)<=C);){if(L===0)break e;L--,$+=W[Y++]<<C,C+=8}if(me<16)$>>>=X,C-=X,v.lens[v.have++]=me;else{if(me===16){for(j=X+2;C<j;){if(L===0)break e;L--,$+=W[Y++]<<C,C+=8}if($>>>=X,C-=X,v.have===0){T.msg="invalid bit length repeat",v.mode=30;break}_=v.lens[v.have-1],P=3+(3&$),$>>>=2,C-=2}else if(me===17){for(j=X+3;C<j;){if(L===0)break e;L--,$+=W[Y++]<<C,C+=8}C-=X,_=0,P=3+(7&($>>>=X)),$>>>=3,C-=3}else{for(j=X+7;C<j;){if(L===0)break e;L--,$+=W[Y++]<<C,C+=8}C-=X,_=0,P=11+(127&($>>>=X)),$>>>=7,C-=7}if(v.have+P>v.nlen+v.ndist){T.msg="invalid bit length repeat",v.mode=30;break}for(;P--;)v.lens[v.have++]=_}}if(v.mode===30)break;if(v.lens[256]===0){T.msg="invalid code -- missing end-of-block",v.mode=30;break}if(v.lenbits=9,G={bits:v.lenbits},Q=c(h,v.lens,0,v.nlen,v.lencode,0,v.work,G),v.lenbits=G.bits,Q){T.msg="invalid literal/lengths set",v.mode=30;break}if(v.distbits=6,v.distcode=v.distdyn,G={bits:v.distbits},Q=c(p,v.lens,v.nlen,v.ndist,v.distcode,0,v.work,G),v.distbits=G.bits,Q){T.msg="invalid distances set",v.mode=30;break}if(v.mode=20,H===6)break e;case 20:v.mode=21;case 21:if(6<=L&&258<=D){T.next_out=he,T.avail_out=D,T.next_in=Y,T.avail_in=L,v.hold=$,v.bits=C,l(T,b),he=T.next_out,se=T.output,D=T.avail_out,Y=T.next_in,W=T.input,L=T.avail_in,$=v.hold,C=v.bits,v.mode===12&&(v.back=-1);break}for(v.back=0;ce=(R=v.lencode[$&(1<<v.lenbits)-1])>>>16&255,me=65535&R,!((X=R>>>24)<=C);){if(L===0)break e;L--,$+=W[Y++]<<C,C+=8}if(ce&&!(240&ce)){for(ye=X,qe=ce,He=me;ce=(R=v.lencode[He+(($&(1<<ye+qe)-1)>>ye)])>>>16&255,me=65535&R,!(ye+(X=R>>>24)<=C);){if(L===0)break e;L--,$+=W[Y++]<<C,C+=8}$>>>=ye,C-=ye,v.back+=ye}if($>>>=X,C-=X,v.back+=X,v.length=me,ce===0){v.mode=26;break}if(32&ce){v.back=-1,v.mode=12;break}if(64&ce){T.msg="invalid literal/length code",v.mode=30;break}v.extra=15&ce,v.mode=22;case 22:if(v.extra){for(j=v.extra;C<j;){if(L===0)break e;L--,$+=W[Y++]<<C,C+=8}v.length+=$&(1<<v.extra)-1,$>>>=v.extra,C-=v.extra,v.back+=v.extra}v.was=v.length,v.mode=23;case 23:for(;ce=(R=v.distcode[$&(1<<v.distbits)-1])>>>16&255,me=65535&R,!((X=R>>>24)<=C);){if(L===0)break e;L--,$+=W[Y++]<<C,C+=8}if(!(240&ce)){for(ye=X,qe=ce,He=me;ce=(R=v.distcode[He+(($&(1<<ye+qe)-1)>>ye)])>>>16&255,me=65535&R,!(ye+(X=R>>>24)<=C);){if(L===0)break e;L--,$+=W[Y++]<<C,C+=8}$>>>=ye,C-=ye,v.back+=ye}if($>>>=X,C-=X,v.back+=X,64&ce){T.msg="invalid distance code",v.mode=30;break}v.offset=me,v.extra=15&ce,v.mode=24;case 24:if(v.extra){for(j=v.extra;C<j;){if(L===0)break e;L--,$+=W[Y++]<<C,C+=8}v.offset+=$&(1<<v.extra)-1,$>>>=v.extra,C-=v.extra,v.back+=v.extra}if(v.offset>v.dmax){T.msg="invalid distance too far back",v.mode=30;break}v.mode=25;case 25:if(D===0)break e;if(P=b-D,v.offset>P){if((P=v.offset-P)>v.whave&&v.sane){T.msg="invalid distance too far back",v.mode=30;break}q=P>v.wnext?(P-=v.wnext,v.wsize-P):v.wnext-P,P>v.length&&(P=v.length),re=v.window}else re=se,q=he-v.offset,P=v.length;for(D<P&&(P=D),D-=P,v.length-=P;se[he++]=re[q++],--P;);v.length===0&&(v.mode=21);break;case 26:if(D===0)break e;se[he++]=v.length,D--,v.mode=21;break;case 27:if(v.wrap){for(;C<32;){if(L===0)break e;L--,$|=W[Y++]<<C,C+=8}if(b-=D,T.total_out+=b,v.total+=b,b&&(T.adler=v.check=v.flags?o(v.check,se,b,he-b):a(v.check,se,b,he-b)),b=D,(v.flags?$:d($))!==v.check){T.msg="incorrect data check",v.mode=30;break}C=$=0}v.mode=28;case 28:if(v.wrap&&v.flags){for(;C<32;){if(L===0)break e;L--,$+=W[Y++]<<C,C+=8}if($!==(4294967295&v.total)){T.msg="incorrect length check",v.mode=30;break}C=$=0}v.mode=29;case 29:Q=1;break e;case 30:Q=-3;break e;case 31:return-4;case 32:default:return f}return T.next_out=he,T.avail_out=D,T.next_in=Y,T.avail_in=L,v.hold=$,v.bits=C,(v.wsize||b!==T.avail_out&&v.mode<30&&(v.mode<27||H!==4))&&oe(T,T.output,T.next_out,b-T.avail_out)?(v.mode=31,-4):(A-=T.avail_in,b-=T.avail_out,T.total_in+=A,T.total_out+=b,v.total+=b,v.wrap&&b&&(T.adler=v.check=v.flags?o(v.check,se,b,T.next_out-b):a(v.check,se,b,T.next_out-b)),T.data_type=v.bits+(v.last?64:0)+(v.mode===12?128:0)+(v.mode===20||v.mode===15?256:0),(A==0&&b===0||H===4)&&Q===k&&(Q=-5),Q)},n.inflateEnd=function(T){if(!T||!T.state)return f;var H=T.state;return H.window&&(H.window=null),T.state=null,k},n.inflateGetHeader=function(T,H){var v;return T&&T.state&&2&(v=T.state).wrap?((v.head=H).done=!1,k):f},n.inflateSetDictionary=function(T,H){var v,W=H.length;return T&&T.state?(v=T.state).wrap!==0&&v.mode!==11?f:v.mode===11&&a(1,H,W,0)!==v.check?-3:oe(T,H,W,W)?(v.mode=31,-4):(v.havedict=1,k):f},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,i,n){var s=r("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(h,p,k,f,g,u,m,d){var y,w,E,O,I,S,F,B,x,oe=d.bits,T=0,H=0,v=0,W=0,se=0,Y=0,he=0,L=0,D=0,$=0,C=null,A=0,b=new s.Buf16(16),P=new s.Buf16(16),q=null,re=0;for(T=0;T<=15;T++)b[T]=0;for(H=0;H<f;H++)b[p[k+H]]++;for(se=oe,W=15;1<=W&&b[W]===0;W--);if(W<se&&(se=W),W===0)return g[u++]=20971520,g[u++]=20971520,d.bits=1,0;for(v=1;v<W&&b[v]===0;v++);for(se<v&&(se=v),T=L=1;T<=15;T++)if(L<<=1,(L-=b[T])<0)return-1;if(0<L&&(h===0||W!==1))return-1;for(P[1]=0,T=1;T<15;T++)P[T+1]=P[T]+b[T];for(H=0;H<f;H++)p[k+H]!==0&&(m[P[p[k+H]]++]=H);if(S=h===0?(C=q=m,19):h===1?(C=a,A-=257,q=o,re-=257,256):(C=l,q=c,-1),T=v,I=u,he=H=$=0,E=-1,O=(D=1<<(Y=se))-1,h===1&&852<D||h===2&&592<D)return 1;for(;;){for(F=T-he,x=m[H]<S?(B=0,m[H]):m[H]>S?(B=q[re+m[H]],C[A+m[H]]):(B=96,0),y=1<<T-he,v=w=1<<Y;g[I+($>>he)+(w-=y)]=F<<24|B<<16|x|0,w!==0;);for(y=1<<T-1;$&y;)y>>=1;if(y!==0?($&=y-1,$+=y):$=0,H++,--b[T]==0){if(T===W)break;T=p[k+m[H]]}if(se<T&&($&O)!==E){for(he===0&&(he=se),I+=v,L=1<<(Y=T-he);Y+he<W&&!((L-=b[Y+he])<=0);)Y++,L<<=1;if(D+=1<<Y,h===1&&852<D||h===2&&592<D)return 1;g[E=$&O]=se<<24|Y<<16|I-u|0}}return $!==0&&(g[I+$]=T-he<<24|64<<16|0),d.bits=se,0}},{"../utils/common":41}],51:[function(r,i,n){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,i,n){var s=r("../utils/common"),a=0,o=1;function l(R){for(var V=R.length;0<=--V;)R[V]=0}var c=0,h=29,p=256,k=p+1+h,f=30,g=19,u=2*k+1,m=15,d=16,y=7,w=256,E=16,O=17,I=18,S=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],F=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],x=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],oe=new Array(2*(k+2));l(oe);var T=new Array(2*f);l(T);var H=new Array(512);l(H);var v=new Array(256);l(v);var W=new Array(h);l(W);var se,Y,he,L=new Array(f);function D(R,V,ee,te,K){this.static_tree=R,this.extra_bits=V,this.extra_base=ee,this.elems=te,this.max_length=K,this.has_stree=R&&R.length}function $(R,V){this.dyn_tree=R,this.max_code=0,this.stat_desc=V}function C(R){return R<256?H[R]:H[256+(R>>>7)]}function A(R,V){R.pending_buf[R.pending++]=255&V,R.pending_buf[R.pending++]=V>>>8&255}function b(R,V,ee){R.bi_valid>d-ee?(R.bi_buf|=V<<R.bi_valid&65535,A(R,R.bi_buf),R.bi_buf=V>>d-R.bi_valid,R.bi_valid+=ee-d):(R.bi_buf|=V<<R.bi_valid&65535,R.bi_valid+=ee)}function P(R,V,ee){b(R,ee[2*V],ee[2*V+1])}function q(R,V){for(var ee=0;ee|=1&R,R>>>=1,ee<<=1,0<--V;);return ee>>>1}function re(R,V,ee){var te,K,ne=new Array(m+1),ue=0;for(te=1;te<=m;te++)ne[te]=ue=ue+ee[te-1]<<1;for(K=0;K<=V;K++){var le=R[2*K+1];le!==0&&(R[2*K]=q(ne[le]++,le))}}function X(R){var V;for(V=0;V<k;V++)R.dyn_ltree[2*V]=0;for(V=0;V<f;V++)R.dyn_dtree[2*V]=0;for(V=0;V<g;V++)R.bl_tree[2*V]=0;R.dyn_ltree[2*w]=1,R.opt_len=R.static_len=0,R.last_lit=R.matches=0}function ce(R){8<R.bi_valid?A(R,R.bi_buf):0<R.bi_valid&&(R.pending_buf[R.pending++]=R.bi_buf),R.bi_buf=0,R.bi_valid=0}function me(R,V,ee,te){var K=2*V,ne=2*ee;return R[K]<R[ne]||R[K]===R[ne]&&te[V]<=te[ee]}function ye(R,V,ee){for(var te=R.heap[ee],K=ee<<1;K<=R.heap_len&&(K<R.heap_len&&me(V,R.heap[K+1],R.heap[K],R.depth)&&K++,!me(V,te,R.heap[K],R.depth));)R.heap[ee]=R.heap[K],ee=K,K<<=1;R.heap[ee]=te}function qe(R,V,ee){var te,K,ne,ue,le=0;if(R.last_lit!==0)for(;te=R.pending_buf[R.d_buf+2*le]<<8|R.pending_buf[R.d_buf+2*le+1],K=R.pending_buf[R.l_buf+le],le++,te===0?P(R,K,V):(P(R,(ne=v[K])+p+1,V),(ue=S[ne])!==0&&b(R,K-=W[ne],ue),P(R,ne=C(--te),ee),(ue=F[ne])!==0&&b(R,te-=L[ne],ue)),le<R.last_lit;);P(R,w,V)}function He(R,V){var ee,te,K,ne=V.dyn_tree,ue=V.stat_desc.static_tree,le=V.stat_desc.has_stree,ge=V.stat_desc.elems,je=-1;for(R.heap_len=0,R.heap_max=u,ee=0;ee<ge;ee++)ne[2*ee]!==0?(R.heap[++R.heap_len]=je=ee,R.depth[ee]=0):ne[2*ee+1]=0;for(;R.heap_len<2;)ne[2*(K=R.heap[++R.heap_len]=je<2?++je:0)]=1,R.depth[K]=0,R.opt_len--,le&&(R.static_len-=ue[2*K+1]);for(V.max_code=je,ee=R.heap_len>>1;1<=ee;ee--)ye(R,ne,ee);for(K=ge;ee=R.heap[1],R.heap[1]=R.heap[R.heap_len--],ye(R,ne,1),te=R.heap[1],R.heap[--R.heap_max]=ee,R.heap[--R.heap_max]=te,ne[2*K]=ne[2*ee]+ne[2*te],R.depth[K]=(R.depth[ee]>=R.depth[te]?R.depth[ee]:R.depth[te])+1,ne[2*ee+1]=ne[2*te+1]=K,R.heap[1]=K++,ye(R,ne,1),2<=R.heap_len;);R.heap[--R.heap_max]=R.heap[1],function(Ae,Fe){var at,ot,Vt,De,Zt,Sr,ct=Fe.dyn_tree,lt=Fe.max_code,An=Fe.stat_desc.static_tree,Cn=Fe.stat_desc.has_stree,Pn=Fe.stat_desc.extra_bits,xr=Fe.stat_desc.extra_base,Jt=Fe.stat_desc.max_length,ar=0;for(De=0;De<=m;De++)Ae.bl_count[De]=0;for(ct[2*Ae.heap[Ae.heap_max]+1]=0,at=Ae.heap_max+1;at<u;at++)Jt<(De=ct[2*ct[2*(ot=Ae.heap[at])+1]+1]+1)&&(De=Jt,ar++),ct[2*ot+1]=De,lt<ot||(Ae.bl_count[De]++,Zt=0,xr<=ot&&(Zt=Pn[ot-xr]),Sr=ct[2*ot],Ae.opt_len+=Sr*(De+Zt),Cn&&(Ae.static_len+=Sr*(An[2*ot+1]+Zt)));if(ar!==0){do{for(De=Jt-1;Ae.bl_count[De]===0;)De--;Ae.bl_count[De]--,Ae.bl_count[De+1]+=2,Ae.bl_count[Jt]--,ar-=2}while(0<ar);for(De=Jt;De!==0;De--)for(ot=Ae.bl_count[De];ot!==0;)lt<(Vt=Ae.heap[--at])||(ct[2*Vt+1]!==De&&(Ae.opt_len+=(De-ct[2*Vt+1])*ct[2*Vt],ct[2*Vt+1]=De),ot--)}}(R,V),re(ne,je,R.bl_count)}function _(R,V,ee){var te,K,ne=-1,ue=V[1],le=0,ge=7,je=4;for(ue===0&&(ge=138,je=3),V[2*(ee+1)+1]=65535,te=0;te<=ee;te++)K=ue,ue=V[2*(te+1)+1],++le<ge&&K===ue||(le<je?R.bl_tree[2*K]+=le:K!==0?(K!==ne&&R.bl_tree[2*K]++,R.bl_tree[2*E]++):le<=10?R.bl_tree[2*O]++:R.bl_tree[2*I]++,ne=K,je=(le=0)===ue?(ge=138,3):K===ue?(ge=6,3):(ge=7,4))}function Q(R,V,ee){var te,K,ne=-1,ue=V[1],le=0,ge=7,je=4;for(ue===0&&(ge=138,je=3),te=0;te<=ee;te++)if(K=ue,ue=V[2*(te+1)+1],!(++le<ge&&K===ue)){if(le<je)for(;P(R,K,R.bl_tree),--le!=0;);else K!==0?(K!==ne&&(P(R,K,R.bl_tree),le--),P(R,E,R.bl_tree),b(R,le-3,2)):le<=10?(P(R,O,R.bl_tree),b(R,le-3,3)):(P(R,I,R.bl_tree),b(R,le-11,7));ne=K,je=(le=0)===ue?(ge=138,3):K===ue?(ge=6,3):(ge=7,4)}}l(L);var G=!1;function j(R,V,ee,te){b(R,(c<<1)+(te?1:0),3),function(K,ne,ue,le){ce(K),le&&(A(K,ue),A(K,~ue)),s.arraySet(K.pending_buf,K.window,ne,ue,K.pending),K.pending+=ue}(R,V,ee,!0)}n._tr_init=function(R){G||(function(){var V,ee,te,K,ne,ue=new Array(m+1);for(K=te=0;K<h-1;K++)for(W[K]=te,V=0;V<1<<S[K];V++)v[te++]=K;for(v[te-1]=K,K=ne=0;K<16;K++)for(L[K]=ne,V=0;V<1<<F[K];V++)H[ne++]=K;for(ne>>=7;K<f;K++)for(L[K]=ne<<7,V=0;V<1<<F[K]-7;V++)H[256+ne++]=K;for(ee=0;ee<=m;ee++)ue[ee]=0;for(V=0;V<=143;)oe[2*V+1]=8,V++,ue[8]++;for(;V<=255;)oe[2*V+1]=9,V++,ue[9]++;for(;V<=279;)oe[2*V+1]=7,V++,ue[7]++;for(;V<=287;)oe[2*V+1]=8,V++,ue[8]++;for(re(oe,k+1,ue),V=0;V<f;V++)T[2*V+1]=5,T[2*V]=q(V,5);se=new D(oe,S,p+1,k,m),Y=new D(T,F,0,f,m),he=new D(new Array(0),B,0,g,y)}(),G=!0),R.l_desc=new $(R.dyn_ltree,se),R.d_desc=new $(R.dyn_dtree,Y),R.bl_desc=new $(R.bl_tree,he),R.bi_buf=0,R.bi_valid=0,X(R)},n._tr_stored_block=j,n._tr_flush_block=function(R,V,ee,te){var K,ne,ue=0;0<R.level?(R.strm.data_type===2&&(R.strm.data_type=function(le){var ge,je=4093624447;for(ge=0;ge<=31;ge++,je>>>=1)if(1&je&&le.dyn_ltree[2*ge]!==0)return a;if(le.dyn_ltree[18]!==0||le.dyn_ltree[20]!==0||le.dyn_ltree[26]!==0)return o;for(ge=32;ge<p;ge++)if(le.dyn_ltree[2*ge]!==0)return o;return a}(R)),He(R,R.l_desc),He(R,R.d_desc),ue=function(le){var ge;for(_(le,le.dyn_ltree,le.l_desc.max_code),_(le,le.dyn_dtree,le.d_desc.max_code),He(le,le.bl_desc),ge=g-1;3<=ge&&le.bl_tree[2*x[ge]+1]===0;ge--);return le.opt_len+=3*(ge+1)+5+5+4,ge}(R),K=R.opt_len+3+7>>>3,(ne=R.static_len+3+7>>>3)<=K&&(K=ne)):K=ne=ee+5,ee+4<=K&&V!==-1?j(R,V,ee,te):R.strategy===4||ne===K?(b(R,2+(te?1:0),3),qe(R,oe,T)):(b(R,4+(te?1:0),3),function(le,ge,je,Ae){var Fe;for(b(le,ge-257,5),b(le,je-1,5),b(le,Ae-4,4),Fe=0;Fe<Ae;Fe++)b(le,le.bl_tree[2*x[Fe]+1],3);Q(le,le.dyn_ltree,ge-1),Q(le,le.dyn_dtree,je-1)}(R,R.l_desc.max_code+1,R.d_desc.max_code+1,ue+1),qe(R,R.dyn_ltree,R.dyn_dtree)),X(R),te&&ce(R)},n._tr_tally=function(R,V,ee){return R.pending_buf[R.d_buf+2*R.last_lit]=V>>>8&255,R.pending_buf[R.d_buf+2*R.last_lit+1]=255&V,R.pending_buf[R.l_buf+R.last_lit]=255&ee,R.last_lit++,V===0?R.dyn_ltree[2*ee]++:(R.matches++,V--,R.dyn_ltree[2*(v[ee]+p+1)]++,R.dyn_dtree[2*C(V)]++),R.last_lit===R.lit_bufsize-1},n._tr_align=function(R){b(R,2,3),P(R,w,oe),function(V){V.bi_valid===16?(A(V,V.bi_buf),V.bi_buf=0,V.bi_valid=0):8<=V.bi_valid&&(V.pending_buf[V.pending++]=255&V.bi_buf,V.bi_buf>>=8,V.bi_valid-=8)}(R)}},{"../utils/common":41}],53:[function(r,i,n){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,i,n){(function(s){(function(a,o){if(!a.setImmediate){var l,c,h,p,k=1,f={},g=!1,u=a.document,m=Object.getPrototypeOf&&Object.getPrototypeOf(a);m=m&&m.setTimeout?m:a,l={}.toString.call(a.process)==="[object process]"?function(E){process.nextTick(function(){y(E)})}:function(){if(a.postMessage&&!a.importScripts){var E=!0,O=a.onmessage;return a.onmessage=function(){E=!1},a.postMessage("","*"),a.onmessage=O,E}}()?(p="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",w,!1):a.attachEvent("onmessage",w),function(E){a.postMessage(p+E,"*")}):a.MessageChannel?((h=new MessageChannel).port1.onmessage=function(E){y(E.data)},function(E){h.port2.postMessage(E)}):u&&"onreadystatechange"in u.createElement("script")?(c=u.documentElement,function(E){var O=u.createElement("script");O.onreadystatechange=function(){y(E),O.onreadystatechange=null,c.removeChild(O),O=null},c.appendChild(O)}):function(E){setTimeout(y,0,E)},m.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var O=new Array(arguments.length-1),I=0;I<O.length;I++)O[I]=arguments[I+1];var S={callback:E,args:O};return f[k]=S,l(k),k++},m.clearImmediate=d}function d(E){delete f[E]}function y(E){if(g)setTimeout(y,0,E);else{var O=f[E];if(O){g=!0;try{(function(I){var S=I.callback,F=I.args;switch(F.length){case 0:S();break;case 1:S(F[0]);break;case 2:S(F[0],F[1]);break;case 3:S(F[0],F[1],F[2]);break;default:S.apply(o,F)}})(O)}finally{d(E),g=!1}}}}function w(E){E.source===a&&typeof E.data=="string"&&E.data.indexOf(p)===0&&y(+E.data.slice(p.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Rr<"u"?Rr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Ql);const jr=Ln;var pn={},Xl={get exports(){return pn},set exports(t){pn=t}},aa={},bt={},wr={},Vr={},Oe={},Lr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends e{constructor(y){if(super(),!t.IDENTIFIER.test(y))throw new Error("CodeGen: name must be a valid identifier");this.str=y}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class i extends e{constructor(y){super(),this._items=typeof y=="string"?[y]:y}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const y=this._items[0];return y===""||y==='""'}get str(){var y;return(y=this._str)!==null&&y!==void 0?y:this._str=this._items.reduce((w,E)=>`${w}${E}`,"")}get names(){var y;return(y=this._names)!==null&&y!==void 0?y:this._names=this._items.reduce((w,E)=>(E instanceof r&&(w[E.str]=(w[E.str]||0)+1),w),{})}}t._Code=i,t.nil=new i("");function n(d,...y){const w=[d[0]];let E=0;for(;E<y.length;)o(w,y[E]),w.push(d[++E]);return new i(w)}t._=n;const s=new i("+");function a(d,...y){const w=[f(d[0])];let E=0;for(;E<y.length;)w.push(s),o(w,y[E]),w.push(s,f(d[++E]));return l(w),new i(w)}t.str=a;function o(d,y){y instanceof i?d.push(...y._items):y instanceof r?d.push(y):d.push(p(y))}t.addCodeArg=o;function l(d){let y=1;for(;y<d.length-1;){if(d[y]===s){const w=c(d[y-1],d[y+1]);if(w!==void 0){d.splice(y-1,3,w);continue}d[y++]="+"}y++}}function c(d,y){if(y==='""')return d;if(d==='""')return y;if(typeof d=="string")return y instanceof r||d[d.length-1]!=='"'?void 0:typeof y!="string"?`${d.slice(0,-1)}${y}"`:y[0]==='"'?d.slice(0,-1)+y.slice(1):void 0;if(typeof y=="string"&&y[0]==='"'&&!(d instanceof r))return`"${d}${y.slice(1)}`}function h(d,y){return y.emptyStr()?d:d.emptyStr()?y:a`${d}${y}`}t.strConcat=h;function p(d){return typeof d=="number"||typeof d=="boolean"||d===null?d:f(Array.isArray(d)?d.join(","):d)}function k(d){return new i(f(d))}t.stringify=k;function f(d){return JSON.stringify(d).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=f;function g(d){return typeof d=="string"&&t.IDENTIFIER.test(d)?new i(`.${d}`):n`[${d}]`}t.getProperty=g;function u(d){if(typeof d=="string"&&t.IDENTIFIER.test(d))return new i(`${d}`);throw new Error(`CodeGen: invalid export name: ${d}, use explicit $id name mapping`)}t.getEsmExportName=u;function m(d){return new i(d.toString())}t.regexpCode=m})(Lr);var Vn={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=Lr;class r extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var i;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(i=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class n{constructor({prefixes:c,parent:h}={}){this._names={},this._prefixes=c,this._parent=h}toName(c){return c instanceof e.Name?c:this.name(c)}name(c){return new e.Name(this._newName(c))}_newName(c){const h=this._names[c]||this._nameGroup(c);return`${c}${h.index++}`}_nameGroup(c){var h,p;if(!((p=(h=this._parent)===null||h===void 0?void 0:h._prefixes)===null||p===void 0)&&p.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}t.Scope=n;class s extends e.Name{constructor(c,h){super(h),this.prefix=c}setValue(c,{property:h,itemIndex:p}){this.value=c,this.scopePath=(0,e._)`.${new e.Name(h)}[${p}]`}}t.ValueScopeName=s;const a=(0,e._)`\n`;class o extends n{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?a:e.nil}}get(){return this._scope}name(c){return new s(c,this._newName(c))}value(c,h){var p;if(h.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const k=this.toName(c),{prefix:f}=k,g=(p=h.key)!==null&&p!==void 0?p:h.ref;let u=this._values[f];if(u){const y=u.get(g);if(y)return y}else u=this._values[f]=new Map;u.set(g,k);const m=this._scope[f]||(this._scope[f]=[]),d=m.length;return m[d]=h.ref,k.setValue(h,{property:f,itemIndex:d}),k}getValue(c,h){const p=this._values[c];if(p)return p.get(h)}scopeRefs(c,h=this._values){return this._reduceValues(h,p=>{if(p.scopePath===void 0)throw new Error(`CodeGen: name "${p}" has no value`);return(0,e._)`${c}${p.scopePath}`})}scopeCode(c=this._values,h,p){return this._reduceValues(c,k=>{if(k.value===void 0)throw new Error(`CodeGen: name "${k}" has no value`);return k.value.code},h,p)}_reduceValues(c,h,p={},k){let f=e.nil;for(const g in c){const u=c[g];if(!u)continue;const m=p[g]=p[g]||new Map;u.forEach(d=>{if(m.has(d))return;m.set(d,i.Started);let y=h(d);if(y){const w=this.opts.es5?t.varKinds.var:t.varKinds.const;f=(0,e._)`${f}${w} ${d} = ${y};${this.opts._n}`}else if(y=k==null?void 0:k(d))f=(0,e._)`${f}${y}${this.opts._n}`;else throw new r(d);m.set(d,i.Completed)})}return f}}t.ValueScope=o})(Vn);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=Lr,r=Vn;var i=Lr;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return i._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return i.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return i.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return i.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return i.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return i.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return i.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return i.Name}});var n=Vn;Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return n.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return n.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return n.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return n.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class s{optimizeNodes(){return this}optimizeNames(b,P){return this}}class a extends s{constructor(b,P,q){super(),this.varKind=b,this.name=P,this.rhs=q}render({es5:b,_n:P}){const q=b?r.varKinds.var:this.varKind,re=this.rhs===void 0?"":` = ${this.rhs}`;return`${q} ${this.name}${re};`+P}optimizeNames(b,P){if(b[this.name.str])return this.rhs&&(this.rhs=v(this.rhs,b,P)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class o extends s{constructor(b,P,q){super(),this.lhs=b,this.rhs=P,this.sideEffects=q}render({_n:b}){return`${this.lhs} = ${this.rhs};`+b}optimizeNames(b,P){if(!(this.lhs instanceof e.Name&&!b[this.lhs.str]&&!this.sideEffects))return this.rhs=v(this.rhs,b,P),this}get names(){const b=this.lhs instanceof e.Name?{}:{...this.lhs.names};return H(b,this.rhs)}}class l extends o{constructor(b,P,q,re){super(b,q,re),this.op=P}render({_n:b}){return`${this.lhs} ${this.op}= ${this.rhs};`+b}}class c extends s{constructor(b){super(),this.label=b,this.names={}}render({_n:b}){return`${this.label}:`+b}}class h extends s{constructor(b){super(),this.label=b,this.names={}}render({_n:b}){return`break${this.label?` ${this.label}`:""};`+b}}class p extends s{constructor(b){super(),this.error=b}render({_n:b}){return`throw ${this.error};`+b}get names(){return this.error.names}}class k extends s{constructor(b){super(),this.code=b}render({_n:b}){return`${this.code};`+b}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(b,P){return this.code=v(this.code,b,P),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class f extends s{constructor(b=[]){super(),this.nodes=b}render(b){return this.nodes.reduce((P,q)=>P+q.render(b),"")}optimizeNodes(){const{nodes:b}=this;let P=b.length;for(;P--;){const q=b[P].optimizeNodes();Array.isArray(q)?b.splice(P,1,...q):q?b[P]=q:b.splice(P,1)}return b.length>0?this:void 0}optimizeNames(b,P){const{nodes:q}=this;let re=q.length;for(;re--;){const X=q[re];X.optimizeNames(b,P)||(W(b,X.names),q.splice(re,1))}return q.length>0?this:void 0}get names(){return this.nodes.reduce((b,P)=>T(b,P.names),{})}}class g extends f{render(b){return"{"+b._n+super.render(b)+"}"+b._n}}class u extends f{}class m extends g{}m.kind="else";class d extends g{constructor(b,P){super(P),this.condition=b}render(b){let P=`if(${this.condition})`+super.render(b);return this.else&&(P+="else "+this.else.render(b)),P}optimizeNodes(){super.optimizeNodes();const b=this.condition;if(b===!0)return this.nodes;let P=this.else;if(P){const q=P.optimizeNodes();P=this.else=Array.isArray(q)?new m(q):q}if(P)return b===!1?P instanceof d?P:P.nodes:this.nodes.length?this:new d(se(b),P instanceof d?[P]:P.nodes);if(!(b===!1||!this.nodes.length))return this}optimizeNames(b,P){var q;if(this.else=(q=this.else)===null||q===void 0?void 0:q.optimizeNames(b,P),!!(super.optimizeNames(b,P)||this.else))return this.condition=v(this.condition,b,P),this}get names(){const b=super.names;return H(b,this.condition),this.else&&T(b,this.else.names),b}}d.kind="if";class y extends g{}y.kind="for";class w extends y{constructor(b){super(),this.iteration=b}render(b){return`for(${this.iteration})`+super.render(b)}optimizeNames(b,P){if(super.optimizeNames(b,P))return this.iteration=v(this.iteration,b,P),this}get names(){return T(super.names,this.iteration.names)}}class E extends y{constructor(b,P,q,re){super(),this.varKind=b,this.name=P,this.from=q,this.to=re}render(b){const P=b.es5?r.varKinds.var:this.varKind,{name:q,from:re,to:X}=this;return`for(${P} ${q}=${re}; ${q}<${X}; ${q}++)`+super.render(b)}get names(){const b=H(super.names,this.from);return H(b,this.to)}}class O extends y{constructor(b,P,q,re){super(),this.loop=b,this.varKind=P,this.name=q,this.iterable=re}render(b){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(b)}optimizeNames(b,P){if(super.optimizeNames(b,P))return this.iterable=v(this.iterable,b,P),this}get names(){return T(super.names,this.iterable.names)}}class I extends g{constructor(b,P,q){super(),this.name=b,this.args=P,this.async=q}render(b){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(b)}}I.kind="func";class S extends f{render(b){return"return "+super.render(b)}}S.kind="return";class F extends g{render(b){let P="try"+super.render(b);return this.catch&&(P+=this.catch.render(b)),this.finally&&(P+=this.finally.render(b)),P}optimizeNodes(){var b,P;return super.optimizeNodes(),(b=this.catch)===null||b===void 0||b.optimizeNodes(),(P=this.finally)===null||P===void 0||P.optimizeNodes(),this}optimizeNames(b,P){var q,re;return super.optimizeNames(b,P),(q=this.catch)===null||q===void 0||q.optimizeNames(b,P),(re=this.finally)===null||re===void 0||re.optimizeNames(b,P),this}get names(){const b=super.names;return this.catch&&T(b,this.catch.names),this.finally&&T(b,this.finally.names),b}}class B extends g{constructor(b){super(),this.error=b}render(b){return`catch(${this.error})`+super.render(b)}}B.kind="catch";class x extends g{render(b){return"finally"+super.render(b)}}x.kind="finally";class oe{constructor(b,P={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...P,_n:P.lines?`
`:""},this._extScope=b,this._scope=new r.Scope({parent:b}),this._nodes=[new u]}toString(){return this._root.render(this.opts)}name(b){return this._scope.name(b)}scopeName(b){return this._extScope.name(b)}scopeValue(b,P){const q=this._extScope.value(b,P);return(this._values[q.prefix]||(this._values[q.prefix]=new Set)).add(q),q}getScopeValue(b,P){return this._extScope.getValue(b,P)}scopeRefs(b){return this._extScope.scopeRefs(b,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(b,P,q,re){const X=this._scope.toName(P);return q!==void 0&&re&&(this._constants[X.str]=q),this._leafNode(new a(b,X,q)),X}const(b,P,q){return this._def(r.varKinds.const,b,P,q)}let(b,P,q){return this._def(r.varKinds.let,b,P,q)}var(b,P,q){return this._def(r.varKinds.var,b,P,q)}assign(b,P,q){return this._leafNode(new o(b,P,q))}add(b,P){return this._leafNode(new l(b,t.operators.ADD,P))}code(b){return typeof b=="function"?b():b!==e.nil&&this._leafNode(new k(b)),this}object(...b){const P=["{"];for(const[q,re]of b)P.length>1&&P.push(","),P.push(q),(q!==re||this.opts.es5)&&(P.push(":"),(0,e.addCodeArg)(P,re));return P.push("}"),new e._Code(P)}if(b,P,q){if(this._blockNode(new d(b)),P&&q)this.code(P).else().code(q).endIf();else if(P)this.code(P).endIf();else if(q)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(b){return this._elseNode(new d(b))}else(){return this._elseNode(new m)}endIf(){return this._endBlockNode(d,m)}_for(b,P){return this._blockNode(b),P&&this.code(P).endFor(),this}for(b,P){return this._for(new w(b),P)}forRange(b,P,q,re,X=this.opts.es5?r.varKinds.var:r.varKinds.let){const ce=this._scope.toName(b);return this._for(new E(X,ce,P,q),()=>re(ce))}forOf(b,P,q,re=r.varKinds.const){const X=this._scope.toName(b);if(this.opts.es5){const ce=P instanceof e.Name?P:this.var("_arr",P);return this.forRange("_i",0,(0,e._)`${ce}.length`,me=>{this.var(X,(0,e._)`${ce}[${me}]`),q(X)})}return this._for(new O("of",re,X,P),()=>q(X))}forIn(b,P,q,re=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(b,(0,e._)`Object.keys(${P})`,q);const X=this._scope.toName(b);return this._for(new O("in",re,X,P),()=>q(X))}endFor(){return this._endBlockNode(y)}label(b){return this._leafNode(new c(b))}break(b){return this._leafNode(new h(b))}return(b){const P=new S;if(this._blockNode(P),this.code(b),P.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(S)}try(b,P,q){if(!P&&!q)throw new Error('CodeGen: "try" without "catch" and "finally"');const re=new F;if(this._blockNode(re),this.code(b),P){const X=this.name("e");this._currNode=re.catch=new B(X),P(X)}return q&&(this._currNode=re.finally=new x,this.code(q)),this._endBlockNode(B,x)}throw(b){return this._leafNode(new p(b))}block(b,P){return this._blockStarts.push(this._nodes.length),b&&this.code(b).endBlock(P),this}endBlock(b){const P=this._blockStarts.pop();if(P===void 0)throw new Error("CodeGen: not in self-balancing block");const q=this._nodes.length-P;if(q<0||b!==void 0&&q!==b)throw new Error(`CodeGen: wrong number of nodes: ${q} vs ${b} expected`);return this._nodes.length=P,this}func(b,P=e.nil,q,re){return this._blockNode(new I(b,P,q)),re&&this.code(re).endFunc(),this}endFunc(){return this._endBlockNode(I)}optimize(b=1){for(;b-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(b){return this._currNode.nodes.push(b),this}_blockNode(b){this._currNode.nodes.push(b),this._nodes.push(b)}_endBlockNode(b,P){const q=this._currNode;if(q instanceof b||P&&q instanceof P)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${P?`${b.kind}/${P.kind}`:b.kind}"`)}_elseNode(b){const P=this._currNode;if(!(P instanceof d))throw new Error('CodeGen: "else" without "if"');return this._currNode=P.else=b,this}get _root(){return this._nodes[0]}get _currNode(){const b=this._nodes;return b[b.length-1]}set _currNode(b){const P=this._nodes;P[P.length-1]=b}}t.CodeGen=oe;function T(A,b){for(const P in b)A[P]=(A[P]||0)+(b[P]||0);return A}function H(A,b){return b instanceof e._CodeOrName?T(A,b.names):A}function v(A,b,P){if(A instanceof e.Name)return q(A);if(!re(A))return A;return new e._Code(A._items.reduce((X,ce)=>(ce instanceof e.Name&&(ce=q(ce)),ce instanceof e._Code?X.push(...ce._items):X.push(ce),X),[]));function q(X){const ce=P[X.str];return ce===void 0||b[X.str]!==1?X:(delete b[X.str],ce)}function re(X){return X instanceof e._Code&&X._items.some(ce=>ce instanceof e.Name&&b[ce.str]===1&&P[ce.str]!==void 0)}}function W(A,b){for(const P in b)A[P]=(A[P]||0)-(b[P]||0)}function se(A){return typeof A=="boolean"||typeof A=="number"||A===null?!A:(0,e._)`!${C(A)}`}t.not=se;const Y=$(t.operators.AND);function he(...A){return A.reduce(Y)}t.and=he;const L=$(t.operators.OR);function D(...A){return A.reduce(L)}t.or=D;function $(A){return(b,P)=>b===e.nil?P:P===e.nil?b:(0,e._)`${C(b)} ${A} ${C(P)}`}function C(A){return A instanceof e.Name?A:(0,e._)`(${A})`}})(Oe);var Te={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const e=Oe,r=Lr;function i(I){const S={};for(const F of I)S[F]=!0;return S}t.toHash=i;function n(I,S){return typeof S=="boolean"?S:Object.keys(S).length===0?!0:(s(I,S),!a(S,I.self.RULES.all))}t.alwaysValidSchema=n;function s(I,S=I.schema){const{opts:F,self:B}=I;if(!F.strictSchema||typeof S=="boolean")return;const x=B.RULES.keywords;for(const oe in S)x[oe]||O(I,`unknown keyword: "${oe}"`)}t.checkUnknownRules=s;function a(I,S){if(typeof I=="boolean")return!I;for(const F in I)if(S[F])return!0;return!1}t.schemaHasRules=a;function o(I,S){if(typeof I=="boolean")return!I;for(const F in I)if(F!=="$ref"&&S.all[F])return!0;return!1}t.schemaHasRulesButRef=o;function l({topSchemaRef:I,schemaPath:S},F,B,x){if(!x){if(typeof F=="number"||typeof F=="boolean")return F;if(typeof F=="string")return(0,e._)`${F}`}return(0,e._)`${I}${S}${(0,e.getProperty)(B)}`}t.schemaRefOrVal=l;function c(I){return k(decodeURIComponent(I))}t.unescapeFragment=c;function h(I){return encodeURIComponent(p(I))}t.escapeFragment=h;function p(I){return typeof I=="number"?`${I}`:I.replace(/~/g,"~0").replace(/\//g,"~1")}t.escapeJsonPointer=p;function k(I){return I.replace(/~1/g,"/").replace(/~0/g,"~")}t.unescapeJsonPointer=k;function f(I,S){if(Array.isArray(I))for(const F of I)S(F);else S(I)}t.eachItem=f;function g({mergeNames:I,mergeToName:S,mergeValues:F,resultToName:B}){return(x,oe,T,H)=>{const v=T===void 0?oe:T instanceof e.Name?(oe instanceof e.Name?I(x,oe,T):S(x,oe,T),T):oe instanceof e.Name?(S(x,T,oe),oe):F(oe,T);return H===e.Name&&!(v instanceof e.Name)?B(x,v):v}}t.mergeEvaluated={props:g({mergeNames:(I,S,F)=>I.if((0,e._)`${F} !== true && ${S} !== undefined`,()=>{I.if((0,e._)`${S} === true`,()=>I.assign(F,!0),()=>I.assign(F,(0,e._)`${F} || {}`).code((0,e._)`Object.assign(${F}, ${S})`))}),mergeToName:(I,S,F)=>I.if((0,e._)`${F} !== true`,()=>{S===!0?I.assign(F,!0):(I.assign(F,(0,e._)`${F} || {}`),m(I,F,S))}),mergeValues:(I,S)=>I===!0?!0:{...I,...S},resultToName:u}),items:g({mergeNames:(I,S,F)=>I.if((0,e._)`${F} !== true && ${S} !== undefined`,()=>I.assign(F,(0,e._)`${S} === true ? true : ${F} > ${S} ? ${F} : ${S}`)),mergeToName:(I,S,F)=>I.if((0,e._)`${F} !== true`,()=>I.assign(F,S===!0?!0:(0,e._)`${F} > ${S} ? ${F} : ${S}`)),mergeValues:(I,S)=>I===!0?!0:Math.max(I,S),resultToName:(I,S)=>I.var("items",S)})};function u(I,S){if(S===!0)return I.var("props",!0);const F=I.var("props",(0,e._)`{}`);return S!==void 0&&m(I,F,S),F}t.evaluatedPropsToName=u;function m(I,S,F){Object.keys(F).forEach(B=>I.assign((0,e._)`${S}${(0,e.getProperty)(B)}`,!0))}t.setEvaluated=m;const d={};function y(I,S){return I.scopeValue("func",{ref:S,code:d[S.code]||(d[S.code]=new r._Code(S.code))})}t.useFunc=y;var w;(function(I){I[I.Num=0]="Num",I[I.Str=1]="Str"})(w=t.Type||(t.Type={}));function E(I,S,F){if(I instanceof e.Name){const B=S===w.Num;return F?B?(0,e._)`"[" + ${I} + "]"`:(0,e._)`"['" + ${I} + "']"`:B?(0,e._)`"/" + ${I}`:(0,e._)`"/" + ${I}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return F?(0,e.getProperty)(I).toString():"/"+p(I)}t.getErrorPath=E;function O(I,S,F=I.opts.strictSchema){if(F){if(S=`strict mode: ${S}`,F===!0)throw new Error(S);I.self.logger.warn(S)}}t.checkStrictMode=O})(Te);var Tt={};Object.defineProperty(Tt,"__esModule",{value:!0});const et=Oe,ec={data:new et.Name("data"),valCxt:new et.Name("valCxt"),instancePath:new et.Name("instancePath"),parentData:new et.Name("parentData"),parentDataProperty:new et.Name("parentDataProperty"),rootData:new et.Name("rootData"),dynamicAnchors:new et.Name("dynamicAnchors"),vErrors:new et.Name("vErrors"),errors:new et.Name("errors"),this:new et.Name("this"),self:new et.Name("self"),scope:new et.Name("scope"),json:new et.Name("json"),jsonPos:new et.Name("jsonPos"),jsonLen:new et.Name("jsonLen"),jsonPart:new et.Name("jsonPart")};Tt.default=ec;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=Oe,r=Te,i=Tt;t.keywordError={message:({keyword:m})=>(0,e.str)`must pass "${m}" keyword validation`},t.keyword$DataError={message:({keyword:m,schemaType:d})=>d?(0,e.str)`"${m}" keyword must be ${d} ($data)`:(0,e.str)`"${m}" keyword is invalid ($data)`};function n(m,d=t.keywordError,y,w){const{it:E}=m,{gen:O,compositeRule:I,allErrors:S}=E,F=p(m,d,y);w??(I||S)?l(O,F):c(E,(0,e._)`[${F}]`)}t.reportError=n;function s(m,d=t.keywordError,y){const{it:w}=m,{gen:E,compositeRule:O,allErrors:I}=w,S=p(m,d,y);l(E,S),O||I||c(w,i.default.vErrors)}t.reportExtraError=s;function a(m,d){m.assign(i.default.errors,d),m.if((0,e._)`${i.default.vErrors} !== null`,()=>m.if(d,()=>m.assign((0,e._)`${i.default.vErrors}.length`,d),()=>m.assign(i.default.vErrors,null)))}t.resetErrorsCount=a;function o({gen:m,keyword:d,schemaValue:y,data:w,errsCount:E,it:O}){if(E===void 0)throw new Error("ajv implementation error");const I=m.name("err");m.forRange("i",E,i.default.errors,S=>{m.const(I,(0,e._)`${i.default.vErrors}[${S}]`),m.if((0,e._)`${I}.instancePath === undefined`,()=>m.assign((0,e._)`${I}.instancePath`,(0,e.strConcat)(i.default.instancePath,O.errorPath))),m.assign((0,e._)`${I}.schemaPath`,(0,e.str)`${O.errSchemaPath}/${d}`),O.opts.verbose&&(m.assign((0,e._)`${I}.schema`,y),m.assign((0,e._)`${I}.data`,w))})}t.extendErrors=o;function l(m,d){const y=m.const("err",d);m.if((0,e._)`${i.default.vErrors} === null`,()=>m.assign(i.default.vErrors,(0,e._)`[${y}]`),(0,e._)`${i.default.vErrors}.push(${y})`),m.code((0,e._)`${i.default.errors}++`)}function c(m,d){const{gen:y,validateName:w,schemaEnv:E}=m;E.$async?y.throw((0,e._)`new ${m.ValidationError}(${d})`):(y.assign((0,e._)`${w}.errors`,d),y.return(!1))}const h={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function p(m,d,y){const{createErrors:w}=m.it;return w===!1?(0,e._)`{}`:k(m,d,y)}function k(m,d,y={}){const{gen:w,it:E}=m,O=[f(E,y),g(m,y)];return u(m,d,O),w.object(...O)}function f({errorPath:m},{instancePath:d}){const y=d?(0,e.str)`${m}${(0,r.getErrorPath)(d,r.Type.Str)}`:m;return[i.default.instancePath,(0,e.strConcat)(i.default.instancePath,y)]}function g({keyword:m,it:{errSchemaPath:d}},{schemaPath:y,parentSchema:w}){let E=w?d:(0,e.str)`${d}/${m}`;return y&&(E=(0,e.str)`${E}${(0,r.getErrorPath)(y,r.Type.Str)}`),[h.schemaPath,E]}function u(m,{params:d,message:y},w){const{keyword:E,data:O,schemaValue:I,it:S}=m,{opts:F,propertyName:B,topSchemaRef:x,schemaPath:oe}=S;w.push([h.keyword,E],[h.params,typeof d=="function"?d(m):d||(0,e._)`{}`]),F.messages&&w.push([h.message,typeof y=="function"?y(m):y]),F.verbose&&w.push([h.schema,I],[h.parentSchema,(0,e._)`${x}${oe}`],[i.default.data,O]),B&&w.push([h.propertyName,B])}})(Vr);Object.defineProperty(wr,"__esModule",{value:!0});wr.boolOrEmptySchema=wr.topBoolOrEmptySchema=void 0;const tc=Vr,rc=Oe,nc=Tt,ic={message:"boolean schema is false"};function sc(t){const{gen:e,schema:r,validateName:i}=t;r===!1?oa(t,!1):typeof r=="object"&&r.$async===!0?e.return(nc.default.data):(e.assign((0,rc._)`${i}.errors`,null),e.return(!0))}wr.topBoolOrEmptySchema=sc;function ac(t,e){const{gen:r,schema:i}=t;i===!1?(r.var(e,!1),oa(t)):r.var(e,!0)}wr.boolOrEmptySchema=ac;function oa(t,e){const{gen:r,data:i}=t,n={gen:r,keyword:"false schema",data:i,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:t};(0,tc.reportError)(n,ic,void 0,e)}var qr={},ir={};Object.defineProperty(ir,"__esModule",{value:!0});ir.getRules=ir.isJSONType=void 0;const oc=["string","number","integer","boolean","null","object","array"],lc=new Set(oc);function cc(t){return typeof t=="string"&&lc.has(t)}ir.isJSONType=cc;function uc(){const t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}ir.getRules=uc;var Bt={};Object.defineProperty(Bt,"__esModule",{value:!0});Bt.shouldUseRule=Bt.shouldUseGroup=Bt.schemaHasRulesForType=void 0;function fc({schema:t,self:e},r){const i=e.RULES.types[r];return i&&i!==!0&&la(t,i)}Bt.schemaHasRulesForType=fc;function la(t,e){return e.rules.some(r=>ca(t,r))}Bt.shouldUseGroup=la;function ca(t,e){var r;return t[e.keyword]!==void 0||((r=e.definition.implements)===null||r===void 0?void 0:r.some(i=>t[i]!==void 0))}Bt.shouldUseRule=ca;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const e=ir,r=Bt,i=Vr,n=Oe,s=Te;var a;(function(w){w[w.Correct=0]="Correct",w[w.Wrong=1]="Wrong"})(a=t.DataType||(t.DataType={}));function o(w){const E=l(w.type);if(E.includes("null")){if(w.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!E.length&&w.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');w.nullable===!0&&E.push("null")}return E}t.getSchemaTypes=o;function l(w){const E=Array.isArray(w)?w:w?[w]:[];if(E.every(e.isJSONType))return E;throw new Error("type must be JSONType or JSONType[]: "+E.join(","))}t.getJSONTypes=l;function c(w,E){const{gen:O,data:I,opts:S}=w,F=p(E,S.coerceTypes),B=E.length>0&&!(F.length===0&&E.length===1&&(0,r.schemaHasRulesForType)(w,E[0]));if(B){const x=u(E,I,S.strictNumbers,a.Wrong);O.if(x,()=>{F.length?k(w,E,F):d(w)})}return B}t.coerceAndCheckDataType=c;const h=new Set(["string","number","integer","boolean","null"]);function p(w,E){return E?w.filter(O=>h.has(O)||E==="array"&&O==="array"):[]}function k(w,E,O){const{gen:I,data:S,opts:F}=w,B=I.let("dataType",(0,n._)`typeof ${S}`),x=I.let("coerced",(0,n._)`undefined`);F.coerceTypes==="array"&&I.if((0,n._)`${B} == 'object' && Array.isArray(${S}) && ${S}.length == 1`,()=>I.assign(S,(0,n._)`${S}[0]`).assign(B,(0,n._)`typeof ${S}`).if(u(E,S,F.strictNumbers),()=>I.assign(x,S))),I.if((0,n._)`${x} !== undefined`);for(const T of O)(h.has(T)||T==="array"&&F.coerceTypes==="array")&&oe(T);I.else(),d(w),I.endIf(),I.if((0,n._)`${x} !== undefined`,()=>{I.assign(S,x),f(w,x)});function oe(T){switch(T){case"string":I.elseIf((0,n._)`${B} == "number" || ${B} == "boolean"`).assign(x,(0,n._)`"" + ${S}`).elseIf((0,n._)`${S} === null`).assign(x,(0,n._)`""`);return;case"number":I.elseIf((0,n._)`${B} == "boolean" || ${S} === null
              || (${B} == "string" && ${S} && ${S} == +${S})`).assign(x,(0,n._)`+${S}`);return;case"integer":I.elseIf((0,n._)`${B} === "boolean" || ${S} === null
              || (${B} === "string" && ${S} && ${S} == +${S} && !(${S} % 1))`).assign(x,(0,n._)`+${S}`);return;case"boolean":I.elseIf((0,n._)`${S} === "false" || ${S} === 0 || ${S} === null`).assign(x,!1).elseIf((0,n._)`${S} === "true" || ${S} === 1`).assign(x,!0);return;case"null":I.elseIf((0,n._)`${S} === "" || ${S} === 0 || ${S} === false`),I.assign(x,null);return;case"array":I.elseIf((0,n._)`${B} === "string" || ${B} === "number"
              || ${B} === "boolean" || ${S} === null`).assign(x,(0,n._)`[${S}]`)}}}function f({gen:w,parentData:E,parentDataProperty:O},I){w.if((0,n._)`${E} !== undefined`,()=>w.assign((0,n._)`${E}[${O}]`,I))}function g(w,E,O,I=a.Correct){const S=I===a.Correct?n.operators.EQ:n.operators.NEQ;let F;switch(w){case"null":return(0,n._)`${E} ${S} null`;case"array":F=(0,n._)`Array.isArray(${E})`;break;case"object":F=(0,n._)`${E} && typeof ${E} == "object" && !Array.isArray(${E})`;break;case"integer":F=B((0,n._)`!(${E} % 1) && !isNaN(${E})`);break;case"number":F=B();break;default:return(0,n._)`typeof ${E} ${S} ${w}`}return I===a.Correct?F:(0,n.not)(F);function B(x=n.nil){return(0,n.and)((0,n._)`typeof ${E} == "number"`,x,O?(0,n._)`isFinite(${E})`:n.nil)}}t.checkDataType=g;function u(w,E,O,I){if(w.length===1)return g(w[0],E,O,I);let S;const F=(0,s.toHash)(w);if(F.array&&F.object){const B=(0,n._)`typeof ${E} != "object"`;S=F.null?B:(0,n._)`!${E} || ${B}`,delete F.null,delete F.array,delete F.object}else S=n.nil;F.number&&delete F.integer;for(const B in F)S=(0,n.and)(S,g(B,E,O,I));return S}t.checkDataTypes=u;const m={message:({schema:w})=>`must be ${w}`,params:({schema:w,schemaValue:E})=>typeof w=="string"?(0,n._)`{type: ${w}}`:(0,n._)`{type: ${E}}`};function d(w){const E=y(w);(0,i.reportError)(E,m)}t.reportTypeError=d;function y(w){const{gen:E,data:O,schema:I}=w,S=(0,s.schemaRefOrVal)(w,I,"type");return{gen:E,keyword:"type",data:O,schema:I.type,schemaCode:S,schemaValue:S,parentSchema:I,params:{},it:w}}})(qr);var kn={};Object.defineProperty(kn,"__esModule",{value:!0});kn.assignDefaults=void 0;const dr=Oe,dc=Te;function hc(t,e){const{properties:r,items:i}=t.schema;if(e==="object"&&r)for(const n in r)ls(t,n,r[n].default);else e==="array"&&Array.isArray(i)&&i.forEach((n,s)=>ls(t,s,n.default))}kn.assignDefaults=hc;function ls(t,e,r){const{gen:i,compositeRule:n,data:s,opts:a}=t;if(r===void 0)return;const o=(0,dr._)`${s}${(0,dr.getProperty)(e)}`;if(n){(0,dc.checkStrictMode)(t,`default is ignored for: ${o}`);return}let l=(0,dr._)`${o} === undefined`;a.useDefaults==="empty"&&(l=(0,dr._)`${l} || ${o} === null || ${o} === ""`),i.if(l,(0,dr._)`${o} = ${(0,dr.stringify)(r)}`)}var Pt={},Pe={};Object.defineProperty(Pe,"__esModule",{value:!0});Pe.validateUnion=Pe.validateArray=Pe.usePattern=Pe.callValidateCode=Pe.schemaProperties=Pe.allSchemaProperties=Pe.noPropertyInData=Pe.propertyInData=Pe.isOwnProperty=Pe.hasPropFunc=Pe.reportMissingProp=Pe.checkMissingProp=Pe.checkReportMissingProp=void 0;const Me=Oe,ri=Te,Kt=Tt,pc=Te;function mc(t,e){const{gen:r,data:i,it:n}=t;r.if(ii(r,i,e,n.opts.ownProperties),()=>{t.setParams({missingProperty:(0,Me._)`${e}`},!0),t.error()})}Pe.checkReportMissingProp=mc;function gc({gen:t,data:e,it:{opts:r}},i,n){return(0,Me.or)(...i.map(s=>(0,Me.and)(ii(t,e,s,r.ownProperties),(0,Me._)`${n} = ${s}`)))}Pe.checkMissingProp=gc;function _c(t,e){t.setParams({missingProperty:e},!0),t.error()}Pe.reportMissingProp=_c;function ua(t){return t.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,Me._)`Object.prototype.hasOwnProperty`})}Pe.hasPropFunc=ua;function ni(t,e,r){return(0,Me._)`${ua(t)}.call(${e}, ${r})`}Pe.isOwnProperty=ni;function vc(t,e,r,i){const n=(0,Me._)`${e}${(0,Me.getProperty)(r)} !== undefined`;return i?(0,Me._)`${n} && ${ni(t,e,r)}`:n}Pe.propertyInData=vc;function ii(t,e,r,i){const n=(0,Me._)`${e}${(0,Me.getProperty)(r)} === undefined`;return i?(0,Me.or)(n,(0,Me.not)(ni(t,e,r))):n}Pe.noPropertyInData=ii;function fa(t){return t?Object.keys(t).filter(e=>e!=="__proto__"):[]}Pe.allSchemaProperties=fa;function yc(t,e){return fa(e).filter(r=>!(0,ri.alwaysValidSchema)(t,e[r]))}Pe.schemaProperties=yc;function bc({schemaCode:t,data:e,it:{gen:r,topSchemaRef:i,schemaPath:n,errorPath:s},it:a},o,l,c){const h=c?(0,Me._)`${t}, ${e}, ${i}${n}`:e,p=[[Kt.default.instancePath,(0,Me.strConcat)(Kt.default.instancePath,s)],[Kt.default.parentData,a.parentData],[Kt.default.parentDataProperty,a.parentDataProperty],[Kt.default.rootData,Kt.default.rootData]];a.opts.dynamicRef&&p.push([Kt.default.dynamicAnchors,Kt.default.dynamicAnchors]);const k=(0,Me._)`${h}, ${r.object(...p)}`;return l!==Me.nil?(0,Me._)`${o}.call(${l}, ${k})`:(0,Me._)`${o}(${k})`}Pe.callValidateCode=bc;const wc=(0,Me._)`new RegExp`;function kc({gen:t,it:{opts:e}},r){const i=e.unicodeRegExp?"u":"",{regExp:n}=e.code,s=n(r,i);return t.scopeValue("pattern",{key:s.toString(),ref:s,code:(0,Me._)`${n.code==="new RegExp"?wc:(0,pc.useFunc)(t,n)}(${r}, ${i})`})}Pe.usePattern=kc;function $c(t){const{gen:e,data:r,keyword:i,it:n}=t,s=e.name("valid");if(n.allErrors){const o=e.let("valid",!0);return a(()=>e.assign(o,!1)),o}return e.var(s,!0),a(()=>e.break()),s;function a(o){const l=e.const("len",(0,Me._)`${r}.length`);e.forRange("i",0,l,c=>{t.subschema({keyword:i,dataProp:c,dataPropType:ri.Type.Num},s),e.if((0,Me.not)(s),o)})}}Pe.validateArray=$c;function Ec(t){const{gen:e,schema:r,keyword:i,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(r.some(l=>(0,ri.alwaysValidSchema)(n,l))&&!n.opts.unevaluated)return;const a=e.let("valid",!1),o=e.name("_valid");e.block(()=>r.forEach((l,c)=>{const h=t.subschema({keyword:i,schemaProp:c,compositeRule:!0},o);e.assign(a,(0,Me._)`${a} || ${o}`),t.mergeValidEvaluated(h,o)||e.if((0,Me.not)(a))})),t.result(a,()=>t.reset(),()=>t.error(!0))}Pe.validateUnion=Ec;Object.defineProperty(Pt,"__esModule",{value:!0});Pt.validateKeywordUsage=Pt.validSchemaType=Pt.funcKeywordCode=Pt.macroKeywordCode=void 0;const tt=Oe,er=Tt,Sc=Pe,Ac=Vr;function Cc(t,e){const{gen:r,keyword:i,schema:n,parentSchema:s,it:a}=t,o=e.macro.call(a.self,n,s,a),l=da(r,i,o);a.opts.validateSchema!==!1&&a.self.validateSchema(o,!0);const c=r.name("valid");t.subschema({schema:o,schemaPath:tt.nil,errSchemaPath:`${a.errSchemaPath}/${i}`,topSchemaRef:l,compositeRule:!0},c),t.pass(c,()=>t.error(!0))}Pt.macroKeywordCode=Cc;function Pc(t,e){var r;const{gen:i,keyword:n,schema:s,parentSchema:a,$data:o,it:l}=t;Ic(l,e);const c=!o&&e.compile?e.compile.call(l.self,s,a,l):e.validate,h=da(i,n,c),p=i.let("valid");t.block$data(p,k),t.ok((r=e.valid)!==null&&r!==void 0?r:p);function k(){if(e.errors===!1)u(),e.modifying&&cs(t),m(()=>t.error());else{const d=e.async?f():g();e.modifying&&cs(t),m(()=>Oc(t,d))}}function f(){const d=i.let("ruleErrs",null);return i.try(()=>u((0,tt._)`await `),y=>i.assign(p,!1).if((0,tt._)`${y} instanceof ${l.ValidationError}`,()=>i.assign(d,(0,tt._)`${y}.errors`),()=>i.throw(y))),d}function g(){const d=(0,tt._)`${h}.errors`;return i.assign(d,null),u(tt.nil),d}function u(d=e.async?(0,tt._)`await `:tt.nil){const y=l.opts.passContext?er.default.this:er.default.self,w=!("compile"in e&&!o||e.schema===!1);i.assign(p,(0,tt._)`${d}${(0,Sc.callValidateCode)(t,h,y,w)}`,e.modifying)}function m(d){var y;i.if((0,tt.not)((y=e.valid)!==null&&y!==void 0?y:p),d)}}Pt.funcKeywordCode=Pc;function cs(t){const{gen:e,data:r,it:i}=t;e.if(i.parentData,()=>e.assign(r,(0,tt._)`${i.parentData}[${i.parentDataProperty}]`))}function Oc(t,e){const{gen:r}=t;r.if((0,tt._)`Array.isArray(${e})`,()=>{r.assign(er.default.vErrors,(0,tt._)`${er.default.vErrors} === null ? ${e} : ${er.default.vErrors}.concat(${e})`).assign(er.default.errors,(0,tt._)`${er.default.vErrors}.length`),(0,Ac.extendErrors)(t)},()=>t.error())}function Ic({schemaEnv:t},e){if(e.async&&!t.$async)throw new Error("async keyword in sync schema")}function da(t,e,r){if(r===void 0)throw new Error(`keyword "${e}" failed to compile`);return t.scopeValue("keyword",typeof r=="function"?{ref:r}:{ref:r,code:(0,tt.stringify)(r)})}function Rc(t,e,r=!1){return!e.length||e.some(i=>i==="array"?Array.isArray(t):i==="object"?t&&typeof t=="object"&&!Array.isArray(t):typeof t==i||r&&typeof t>"u")}Pt.validSchemaType=Rc;function Nc({schema:t,opts:e,self:r,errSchemaPath:i},n,s){if(Array.isArray(n.keyword)?!n.keyword.includes(s):n.keyword!==s)throw new Error("ajv implementation error");const a=n.dependencies;if(a!=null&&a.some(o=>!Object.prototype.hasOwnProperty.call(t,o)))throw new Error(`parent schema must have dependencies of ${s}: ${a.join(",")}`);if(n.validateSchema&&!n.validateSchema(t[s])){const l=`keyword "${s}" value is invalid at path "${i}": `+r.errorsText(n.validateSchema.errors);if(e.validateSchema==="log")r.logger.error(l);else throw new Error(l)}}Pt.validateKeywordUsage=Nc;var Ht={};Object.defineProperty(Ht,"__esModule",{value:!0});Ht.extendSubschemaMode=Ht.extendSubschemaData=Ht.getSubschema=void 0;const Ct=Oe,ha=Te;function Tc(t,{keyword:e,schemaProp:r,schema:i,schemaPath:n,errSchemaPath:s,topSchemaRef:a}){if(e!==void 0&&i!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(e!==void 0){const o=t.schema[e];return r===void 0?{schema:o,schemaPath:(0,Ct._)`${t.schemaPath}${(0,Ct.getProperty)(e)}`,errSchemaPath:`${t.errSchemaPath}/${e}`}:{schema:o[r],schemaPath:(0,Ct._)`${t.schemaPath}${(0,Ct.getProperty)(e)}${(0,Ct.getProperty)(r)}`,errSchemaPath:`${t.errSchemaPath}/${e}/${(0,ha.escapeFragment)(r)}`}}if(i!==void 0){if(n===void 0||s===void 0||a===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:i,schemaPath:n,topSchemaRef:a,errSchemaPath:s}}throw new Error('either "keyword" or "schema" must be passed')}Ht.getSubschema=Tc;function jc(t,e,{dataProp:r,dataPropType:i,data:n,dataTypes:s,propertyName:a}){if(n!==void 0&&r!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:o}=e;if(r!==void 0){const{errorPath:c,dataPathArr:h,opts:p}=e,k=o.let("data",(0,Ct._)`${e.data}${(0,Ct.getProperty)(r)}`,!0);l(k),t.errorPath=(0,Ct.str)`${c}${(0,ha.getErrorPath)(r,i,p.jsPropertySyntax)}`,t.parentDataProperty=(0,Ct._)`${r}`,t.dataPathArr=[...h,t.parentDataProperty]}if(n!==void 0){const c=n instanceof Ct.Name?n:o.let("data",n,!0);l(c),a!==void 0&&(t.propertyName=a)}s&&(t.dataTypes=s);function l(c){t.data=c,t.dataLevel=e.dataLevel+1,t.dataTypes=[],e.definedProperties=new Set,t.parentData=e.data,t.dataNames=[...e.dataNames,c]}}Ht.extendSubschemaData=jc;function Dc(t,{jtdDiscriminator:e,jtdMetadata:r,compositeRule:i,createErrors:n,allErrors:s}){i!==void 0&&(t.compositeRule=i),n!==void 0&&(t.createErrors=n),s!==void 0&&(t.allErrors=s),t.jtdDiscriminator=e,t.jtdMetadata=r}Ht.extendSubschemaMode=Dc;var Xe={},pa=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var i,n,s;if(Array.isArray(e)){if(i=e.length,i!=r.length)return!1;for(n=i;n--!==0;)if(!t(e[n],r[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(s=Object.keys(e),i=s.length,i!==Object.keys(r).length)return!1;for(n=i;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[n]))return!1;for(n=i;n--!==0;){var a=s[n];if(!t(e[a],r[a]))return!1}return!0}return e!==e&&r!==r},qn={},zc={get exports(){return qn},set exports(t){qn=t}},xt=zc.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var i=typeof r=="function"?r:r.pre||function(){},n=r.post||function(){};on(e,i,n,t,"",t)};xt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};xt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};xt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};xt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function on(t,e,r,i,n,s,a,o,l,c){if(i&&typeof i=="object"&&!Array.isArray(i)){e(i,n,s,a,o,l,c);for(var h in i){var p=i[h];if(Array.isArray(p)){if(h in xt.arrayKeywords)for(var k=0;k<p.length;k++)on(t,e,r,p[k],n+"/"+h+"/"+k,s,n,h,i,k)}else if(h in xt.propsKeywords){if(p&&typeof p=="object")for(var f in p)on(t,e,r,p[f],n+"/"+h+"/"+Fc(f),s,n,h,i,f)}else(h in xt.keywords||t.allKeys&&!(h in xt.skipKeywords))&&on(t,e,r,p,n+"/"+h,s,n,h,i)}r(i,n,s,a,o,l,c)}}function Fc(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}Object.defineProperty(Xe,"__esModule",{value:!0});Xe.getSchemaRefs=Xe.resolveUrl=Xe.normalizeId=Xe._getFullPath=Xe.getFullPath=Xe.inlineRef=void 0;const Uc=Te,Mc=pa,Bc=qn,Lc=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function Vc(t,e=!0){return typeof t=="boolean"?!0:e===!0?!Kn(t):e?ma(t)<=e:!1}Xe.inlineRef=Vc;const qc=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function Kn(t){for(const e in t){if(qc.has(e))return!0;const r=t[e];if(Array.isArray(r)&&r.some(Kn)||typeof r=="object"&&Kn(r))return!0}return!1}function ma(t){let e=0;for(const r in t){if(r==="$ref")return 1/0;if(e++,!Lc.has(r)&&(typeof t[r]=="object"&&(0,Uc.eachItem)(t[r],i=>e+=ma(i)),e===1/0))return 1/0}return e}function ga(t,e="",r){r!==!1&&(e=vr(e));const i=t.parse(e);return _a(t,i)}Xe.getFullPath=ga;function _a(t,e){return t.serialize(e).split("#")[0]+"#"}Xe._getFullPath=_a;const Kc=/#\/?$/;function vr(t){return t?t.replace(Kc,""):""}Xe.normalizeId=vr;function Wc(t,e,r){return r=vr(r),t.resolve(e,r)}Xe.resolveUrl=Wc;const Gc=/^[a-z_][-a-z0-9._]*$/i;function xc(t,e){if(typeof t=="boolean")return{};const{schemaId:r,uriResolver:i}=this.opts,n=vr(t[r]||e),s={"":n},a=ga(i,n,!1),o={},l=new Set;return Bc(t,{allKeys:!0},(p,k,f,g)=>{if(g===void 0)return;const u=a+k;let m=s[g];typeof p[r]=="string"&&(m=d.call(this,p[r])),y.call(this,p.$anchor),y.call(this,p.$dynamicAnchor),s[k]=m;function d(w){const E=this.opts.uriResolver.resolve;if(w=vr(m?E(m,w):w),l.has(w))throw h(w);l.add(w);let O=this.refs[w];return typeof O=="string"&&(O=this.refs[O]),typeof O=="object"?c(p,O.schema,w):w!==vr(u)&&(w[0]==="#"?(c(p,o[w],w),o[w]=p):this.refs[w]=u),w}function y(w){if(typeof w=="string"){if(!Gc.test(w))throw new Error(`invalid anchor "${w}"`);d.call(this,`#${w}`)}}}),o;function c(p,k,f){if(k!==void 0&&!Mc(p,k))throw h(f)}function h(p){return new Error(`reference "${p}" resolves to more than one schema`)}}Xe.getSchemaRefs=xc;Object.defineProperty(bt,"__esModule",{value:!0});bt.getData=bt.KeywordCxt=bt.validateFunctionCode=void 0;const va=wr,us=qr,si=Bt,mn=qr,Hc=kn,Dr=Pt,Nn=Ht,_e=Oe,$e=Tt,Zc=Xe,Lt=Te,Or=Vr;function Jc(t){if(wa(t)&&(ka(t),ba(t))){Xc(t);return}ya(t,()=>(0,va.topBoolOrEmptySchema)(t))}bt.validateFunctionCode=Jc;function ya({gen:t,validateName:e,schema:r,schemaEnv:i,opts:n},s){n.code.es5?t.func(e,(0,_e._)`${$e.default.data}, ${$e.default.valCxt}`,i.$async,()=>{t.code((0,_e._)`"use strict"; ${fs(r,n)}`),Qc(t,n),t.code(s)}):t.func(e,(0,_e._)`${$e.default.data}, ${Yc(n)}`,i.$async,()=>t.code(fs(r,n)).code(s))}function Yc(t){return(0,_e._)`{${$e.default.instancePath}="", ${$e.default.parentData}, ${$e.default.parentDataProperty}, ${$e.default.rootData}=${$e.default.data}${t.dynamicRef?(0,_e._)`, ${$e.default.dynamicAnchors}={}`:_e.nil}}={}`}function Qc(t,e){t.if($e.default.valCxt,()=>{t.var($e.default.instancePath,(0,_e._)`${$e.default.valCxt}.${$e.default.instancePath}`),t.var($e.default.parentData,(0,_e._)`${$e.default.valCxt}.${$e.default.parentData}`),t.var($e.default.parentDataProperty,(0,_e._)`${$e.default.valCxt}.${$e.default.parentDataProperty}`),t.var($e.default.rootData,(0,_e._)`${$e.default.valCxt}.${$e.default.rootData}`),e.dynamicRef&&t.var($e.default.dynamicAnchors,(0,_e._)`${$e.default.valCxt}.${$e.default.dynamicAnchors}`)},()=>{t.var($e.default.instancePath,(0,_e._)`""`),t.var($e.default.parentData,(0,_e._)`undefined`),t.var($e.default.parentDataProperty,(0,_e._)`undefined`),t.var($e.default.rootData,$e.default.data),e.dynamicRef&&t.var($e.default.dynamicAnchors,(0,_e._)`{}`)})}function Xc(t){const{schema:e,opts:r,gen:i}=t;ya(t,()=>{r.$comment&&e.$comment&&Ea(t),iu(t),i.let($e.default.vErrors,null),i.let($e.default.errors,0),r.unevaluated&&eu(t),$a(t),ou(t)})}function eu(t){const{gen:e,validateName:r}=t;t.evaluated=e.const("evaluated",(0,_e._)`${r}.evaluated`),e.if((0,_e._)`${t.evaluated}.dynamicProps`,()=>e.assign((0,_e._)`${t.evaluated}.props`,(0,_e._)`undefined`)),e.if((0,_e._)`${t.evaluated}.dynamicItems`,()=>e.assign((0,_e._)`${t.evaluated}.items`,(0,_e._)`undefined`))}function fs(t,e){const r=typeof t=="object"&&t[e.schemaId];return r&&(e.code.source||e.code.process)?(0,_e._)`/*# sourceURL=${r} */`:_e.nil}function tu(t,e){if(wa(t)&&(ka(t),ba(t))){ru(t,e);return}(0,va.boolOrEmptySchema)(t,e)}function ba({schema:t,self:e}){if(typeof t=="boolean")return!t;for(const r in t)if(e.RULES.all[r])return!0;return!1}function wa(t){return typeof t.schema!="boolean"}function ru(t,e){const{schema:r,gen:i,opts:n}=t;n.$comment&&r.$comment&&Ea(t),su(t),au(t);const s=i.const("_errs",$e.default.errors);$a(t,s),i.var(e,(0,_e._)`${s} === ${$e.default.errors}`)}function ka(t){(0,Lt.checkUnknownRules)(t),nu(t)}function $a(t,e){if(t.opts.jtd)return ds(t,[],!1,e);const r=(0,us.getSchemaTypes)(t.schema),i=(0,us.coerceAndCheckDataType)(t,r);ds(t,r,!i,e)}function nu(t){const{schema:e,errSchemaPath:r,opts:i,self:n}=t;e.$ref&&i.ignoreKeywordsWithRef&&(0,Lt.schemaHasRulesButRef)(e,n.RULES)&&n.logger.warn(`$ref: keywords ignored in schema at path "${r}"`)}function iu(t){const{schema:e,opts:r}=t;e.default!==void 0&&r.useDefaults&&r.strictSchema&&(0,Lt.checkStrictMode)(t,"default is ignored in the schema root")}function su(t){const e=t.schema[t.opts.schemaId];e&&(t.baseId=(0,Zc.resolveUrl)(t.opts.uriResolver,t.baseId,e))}function au(t){if(t.schema.$async&&!t.schemaEnv.$async)throw new Error("async schema in sync schema")}function Ea({gen:t,schemaEnv:e,schema:r,errSchemaPath:i,opts:n}){const s=r.$comment;if(n.$comment===!0)t.code((0,_e._)`${$e.default.self}.logger.log(${s})`);else if(typeof n.$comment=="function"){const a=(0,_e.str)`${i}/$comment`,o=t.scopeValue("root",{ref:e.root});t.code((0,_e._)`${$e.default.self}.opts.$comment(${s}, ${a}, ${o}.schema)`)}}function ou(t){const{gen:e,schemaEnv:r,validateName:i,ValidationError:n,opts:s}=t;r.$async?e.if((0,_e._)`${$e.default.errors} === 0`,()=>e.return($e.default.data),()=>e.throw((0,_e._)`new ${n}(${$e.default.vErrors})`)):(e.assign((0,_e._)`${i}.errors`,$e.default.vErrors),s.unevaluated&&lu(t),e.return((0,_e._)`${$e.default.errors} === 0`))}function lu({gen:t,evaluated:e,props:r,items:i}){r instanceof _e.Name&&t.assign((0,_e._)`${e}.props`,r),i instanceof _e.Name&&t.assign((0,_e._)`${e}.items`,i)}function ds(t,e,r,i){const{gen:n,schema:s,data:a,allErrors:o,opts:l,self:c}=t,{RULES:h}=c;if(s.$ref&&(l.ignoreKeywordsWithRef||!(0,Lt.schemaHasRulesButRef)(s,h))){n.block(()=>Ca(t,"$ref",h.all.$ref.definition));return}l.jtd||cu(t,e),n.block(()=>{for(const k of h.rules)p(k);p(h.post)});function p(k){(0,si.shouldUseGroup)(s,k)&&(k.type?(n.if((0,mn.checkDataType)(k.type,a,l.strictNumbers)),hs(t,k),e.length===1&&e[0]===k.type&&r&&(n.else(),(0,mn.reportTypeError)(t)),n.endIf()):hs(t,k),o||n.if((0,_e._)`${$e.default.errors} === ${i||0}`))}}function hs(t,e){const{gen:r,schema:i,opts:{useDefaults:n}}=t;n&&(0,Hc.assignDefaults)(t,e.type),r.block(()=>{for(const s of e.rules)(0,si.shouldUseRule)(i,s)&&Ca(t,s.keyword,s.definition,e.type)})}function cu(t,e){t.schemaEnv.meta||!t.opts.strictTypes||(uu(t,e),t.opts.allowUnionTypes||fu(t,e),du(t,t.dataTypes))}function uu(t,e){if(e.length){if(!t.dataTypes.length){t.dataTypes=e;return}e.forEach(r=>{Sa(t.dataTypes,r)||ai(t,`type "${r}" not allowed by context "${t.dataTypes.join(",")}"`)}),pu(t,e)}}function fu(t,e){e.length>1&&!(e.length===2&&e.includes("null"))&&ai(t,"use allowUnionTypes to allow union type keyword")}function du(t,e){const r=t.self.RULES.all;for(const i in r){const n=r[i];if(typeof n=="object"&&(0,si.shouldUseRule)(t.schema,n)){const{type:s}=n.definition;s.length&&!s.some(a=>hu(e,a))&&ai(t,`missing type "${s.join(",")}" for keyword "${i}"`)}}}function hu(t,e){return t.includes(e)||e==="number"&&t.includes("integer")}function Sa(t,e){return t.includes(e)||e==="integer"&&t.includes("number")}function pu(t,e){const r=[];for(const i of t.dataTypes)Sa(e,i)?r.push(i):e.includes("integer")&&i==="number"&&r.push("integer");t.dataTypes=r}function ai(t,e){const r=t.schemaEnv.baseId+t.errSchemaPath;e+=` at "${r}" (strictTypes)`,(0,Lt.checkStrictMode)(t,e,t.opts.strictTypes)}class Aa{constructor(e,r,i){if((0,Dr.validateKeywordUsage)(e,r,i),this.gen=e.gen,this.allErrors=e.allErrors,this.keyword=i,this.data=e.data,this.schema=e.schema[i],this.$data=r.$data&&e.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,Lt.schemaRefOrVal)(e,this.schema,i,this.$data),this.schemaType=r.schemaType,this.parentSchema=e.schema,this.params={},this.it=e,this.def=r,this.$data)this.schemaCode=e.gen.const("vSchema",Pa(this.$data,e));else if(this.schemaCode=this.schemaValue,!(0,Dr.validSchemaType)(this.schema,r.schemaType,r.allowUndefined))throw new Error(`${i} value must be ${JSON.stringify(r.schemaType)}`);("code"in r?r.trackErrors:r.errors!==!1)&&(this.errsCount=e.gen.const("_errs",$e.default.errors))}result(e,r,i){this.failResult((0,_e.not)(e),r,i)}failResult(e,r,i){this.gen.if(e),i?i():this.error(),r?(this.gen.else(),r(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(e,r){this.failResult((0,_e.not)(e),void 0,r)}fail(e){if(e===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(e),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(e){if(!this.$data)return this.fail(e);const{schemaCode:r}=this;this.fail((0,_e._)`${r} !== undefined && (${(0,_e.or)(this.invalid$data(),e)})`)}error(e,r,i){if(r){this.setParams(r),this._error(e,i),this.setParams({});return}this._error(e,i)}_error(e,r){(e?Or.reportExtraError:Or.reportError)(this,this.def.error,r)}$dataError(){(0,Or.reportError)(this,this.def.$dataError||Or.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,Or.resetErrorsCount)(this.gen,this.errsCount)}ok(e){this.allErrors||this.gen.if(e)}setParams(e,r){r?Object.assign(this.params,e):this.params=e}block$data(e,r,i=_e.nil){this.gen.block(()=>{this.check$data(e,i),r()})}check$data(e=_e.nil,r=_e.nil){if(!this.$data)return;const{gen:i,schemaCode:n,schemaType:s,def:a}=this;i.if((0,_e.or)((0,_e._)`${n} === undefined`,r)),e!==_e.nil&&i.assign(e,!0),(s.length||a.validateSchema)&&(i.elseIf(this.invalid$data()),this.$dataError(),e!==_e.nil&&i.assign(e,!1)),i.else()}invalid$data(){const{gen:e,schemaCode:r,schemaType:i,def:n,it:s}=this;return(0,_e.or)(a(),o());function a(){if(i.length){if(!(r instanceof _e.Name))throw new Error("ajv implementation error");const l=Array.isArray(i)?i:[i];return(0,_e._)`${(0,mn.checkDataTypes)(l,r,s.opts.strictNumbers,mn.DataType.Wrong)}`}return _e.nil}function o(){if(n.validateSchema){const l=e.scopeValue("validate$data",{ref:n.validateSchema});return(0,_e._)`!${l}(${r})`}return _e.nil}}subschema(e,r){const i=(0,Nn.getSubschema)(this.it,e);(0,Nn.extendSubschemaData)(i,this.it,e),(0,Nn.extendSubschemaMode)(i,e);const n={...this.it,...i,items:void 0,props:void 0};return tu(n,r),n}mergeEvaluated(e,r){const{it:i,gen:n}=this;i.opts.unevaluated&&(i.props!==!0&&e.props!==void 0&&(i.props=Lt.mergeEvaluated.props(n,e.props,i.props,r)),i.items!==!0&&e.items!==void 0&&(i.items=Lt.mergeEvaluated.items(n,e.items,i.items,r)))}mergeValidEvaluated(e,r){const{it:i,gen:n}=this;if(i.opts.unevaluated&&(i.props!==!0||i.items!==!0))return n.if(r,()=>this.mergeEvaluated(e,_e.Name)),!0}}bt.KeywordCxt=Aa;function Ca(t,e,r,i){const n=new Aa(t,r,e);"code"in r?r.code(n,i):n.$data&&r.validate?(0,Dr.funcKeywordCode)(n,r):"macro"in r?(0,Dr.macroKeywordCode)(n,r):(r.compile||r.validate)&&(0,Dr.funcKeywordCode)(n,r)}const mu=/^\/(?:[^~]|~0|~1)*$/,gu=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function Pa(t,{dataLevel:e,dataNames:r,dataPathArr:i}){let n,s;if(t==="")return $e.default.rootData;if(t[0]==="/"){if(!mu.test(t))throw new Error(`Invalid JSON-pointer: ${t}`);n=t,s=$e.default.rootData}else{const c=gu.exec(t);if(!c)throw new Error(`Invalid JSON-pointer: ${t}`);const h=+c[1];if(n=c[2],n==="#"){if(h>=e)throw new Error(l("property/index",h));return i[e-h]}if(h>e)throw new Error(l("data",h));if(s=r[e-h],!n)return s}let a=s;const o=n.split("/");for(const c of o)c&&(s=(0,_e._)`${s}${(0,_e.getProperty)((0,Lt.unescapeJsonPointer)(c))}`,a=(0,_e._)`${a} && ${s}`);return a;function l(c,h){return`Cannot access ${c} ${h} levels up, current level is ${e}`}}bt.getData=Pa;var Kr={};Object.defineProperty(Kr,"__esModule",{value:!0});class _u extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}Kr.default=_u;var Wr={};Object.defineProperty(Wr,"__esModule",{value:!0});const Tn=Xe;class vu extends Error{constructor(e,r,i,n){super(n||`can't resolve reference ${i} from id ${r}`),this.missingRef=(0,Tn.resolveUrl)(e,r,i),this.missingSchema=(0,Tn.normalizeId)((0,Tn.getFullPath)(e,this.missingRef))}}Wr.default=vu;var st={};Object.defineProperty(st,"__esModule",{value:!0});st.resolveSchema=st.getCompilingSchema=st.resolveRef=st.compileSchema=st.SchemaEnv=void 0;const gt=Oe,yu=Kr,Xt=Tt,vt=Xe,ps=Te,bu=bt;class $n{constructor(e){var r;this.refs={},this.dynamicAnchors={};let i;typeof e.schema=="object"&&(i=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,vt.normalizeId)(i==null?void 0:i[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=i==null?void 0:i.$async,this.refs={}}}st.SchemaEnv=$n;function oi(t){const e=Oa.call(this,t);if(e)return e;const r=(0,vt.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:i,lines:n}=this.opts.code,{ownProperties:s}=this.opts,a=new gt.CodeGen(this.scope,{es5:i,lines:n,ownProperties:s});let o;t.$async&&(o=a.scopeValue("Error",{ref:yu.default,code:(0,gt._)`require("ajv/dist/runtime/validation_error").default`}));const l=a.scopeName("validate");t.validateName=l;const c={gen:a,allErrors:this.opts.allErrors,data:Xt.default.data,parentData:Xt.default.parentData,parentDataProperty:Xt.default.parentDataProperty,dataNames:[Xt.default.data],dataPathArr:[gt.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:a.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,gt.stringify)(t.schema)}:{ref:t.schema}),validateName:l,ValidationError:o,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:gt.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,gt._)`""`,opts:this.opts,self:this};let h;try{this._compilations.add(t),(0,bu.validateFunctionCode)(c),a.optimize(this.opts.code.optimize);const p=a.toString();h=`${a.scopeRefs(Xt.default.scope)}return ${p}`,this.opts.code.process&&(h=this.opts.code.process(h,t));const f=new Function(`${Xt.default.self}`,`${Xt.default.scope}`,h)(this,this.scope.get());if(this.scope.value(l,{ref:f}),f.errors=null,f.schema=t.schema,f.schemaEnv=t,t.$async&&(f.$async=!0),this.opts.code.source===!0&&(f.source={validateName:l,validateCode:p,scopeValues:a._values}),this.opts.unevaluated){const{props:g,items:u}=c;f.evaluated={props:g instanceof gt.Name?void 0:g,items:u instanceof gt.Name?void 0:u,dynamicProps:g instanceof gt.Name,dynamicItems:u instanceof gt.Name},f.source&&(f.source.evaluated=(0,gt.stringify)(f.evaluated))}return t.validate=f,t}catch(p){throw delete t.validate,delete t.validateName,h&&this.logger.error("Error compiling schema, function code:",h),p}finally{this._compilations.delete(t)}}st.compileSchema=oi;function wu(t,e,r){var i;r=(0,vt.resolveUrl)(this.opts.uriResolver,e,r);const n=t.refs[r];if(n)return n;let s=Eu.call(this,t,r);if(s===void 0){const a=(i=t.localRefs)===null||i===void 0?void 0:i[r],{schemaId:o}=this.opts;a&&(s=new $n({schema:a,schemaId:o,root:t,baseId:e}))}if(s!==void 0)return t.refs[r]=ku.call(this,s)}st.resolveRef=wu;function ku(t){return(0,vt.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:oi.call(this,t)}function Oa(t){for(const e of this._compilations)if($u(e,t))return e}st.getCompilingSchema=Oa;function $u(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function Eu(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||En.call(this,t,e)}function En(t,e){const r=this.opts.uriResolver.parse(e),i=(0,vt._getFullPath)(this.opts.uriResolver,r);let n=(0,vt.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&i===n)return jn.call(this,r,t);const s=(0,vt.normalizeId)(i),a=this.refs[s]||this.schemas[s];if(typeof a=="string"){const o=En.call(this,t,a);return typeof(o==null?void 0:o.schema)!="object"?void 0:jn.call(this,r,o)}if(typeof(a==null?void 0:a.schema)=="object"){if(a.validate||oi.call(this,a),s===(0,vt.normalizeId)(e)){const{schema:o}=a,{schemaId:l}=this.opts,c=o[l];return c&&(n=(0,vt.resolveUrl)(this.opts.uriResolver,n,c)),new $n({schema:o,schemaId:l,root:t,baseId:n})}return jn.call(this,r,a)}}st.resolveSchema=En;const Su=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function jn(t,{baseId:e,schema:r,root:i}){var n;if(((n=t.fragment)===null||n===void 0?void 0:n[0])!=="/")return;for(const o of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,ps.unescapeFragment)(o)];if(l===void 0)return;r=l;const c=typeof r=="object"&&r[this.opts.schemaId];!Su.has(o)&&c&&(e=(0,vt.resolveUrl)(this.opts.uriResolver,e,c))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,ps.schemaHasRulesButRef)(r,this.RULES)){const o=(0,vt.resolveUrl)(this.opts.uriResolver,e,r.$ref);s=En.call(this,i,o)}const{schemaId:a}=this.opts;if(s=s||new $n({schema:r,schemaId:a,root:i,baseId:e}),s.schema!==s.root.schema)return s}const Au="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Cu="Meta-schema for $data reference (JSON AnySchema extension proposal)",Pu="object",Ou=["$data"],Iu={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Ru=!1,Nu={$id:Au,description:Cu,type:Pu,required:Ou,properties:Iu,additionalProperties:Ru};var li={},gn={},Tu={get exports(){return gn},set exports(t){gn=t}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(t,e){(function(r,i){i(e)})(Rr,function(r){function i(){for(var U=arguments.length,N=Array(U),M=0;M<U;M++)N[M]=arguments[M];if(N.length>1){N[0]=N[0].slice(0,-1);for(var J=N.length-1,Z=1;Z<J;++Z)N[Z]=N[Z].slice(1,-1);return N[J]=N[J].slice(1),N.join("")}else return N[0]}function n(U){return"(?:"+U+")"}function s(U){return U===void 0?"undefined":U===null?"null":Object.prototype.toString.call(U).split(" ").pop().split("]").shift().toLowerCase()}function a(U){return U.toUpperCase()}function o(U){return U!=null?U instanceof Array?U:typeof U.length!="number"||U.split||U.setInterval||U.call?[U]:Array.prototype.slice.call(U):[]}function l(U,N){var M=U;if(N)for(var J in N)M[J]=N[J];return M}function c(U){var N="[A-Za-z]",M="[0-9]",J=i(M,"[A-Fa-f]"),Z=n(n("%[EFef]"+J+"%"+J+J+"%"+J+J)+"|"+n("%[89A-Fa-f]"+J+"%"+J+J)+"|"+n("%"+J+J)),ve="[\\:\\/\\?\\#\\[\\]\\@]",we="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Ne=i(ve,we),Ue=U?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Ke=U?"[\\uE000-\\uF8FF]":"[]",Ie=i(N,M,"[\\-\\.\\_\\~]",Ue);n(N+i(N,M,"[\\+\\-\\.]")+"*"),n(n(Z+"|"+i(Ie,we,"[\\:]"))+"*");var ze=n(n("25[0-5]")+"|"+n("2[0-4]"+M)+"|"+n("1"+M+M)+"|"+n("0?[1-9]"+M)+"|0?0?"+M),We=n(ze+"\\."+ze+"\\."+ze+"\\."+ze),Se=n(J+"{1,4}"),Be=n(n(Se+"\\:"+Se)+"|"+We),xe=n(n(Se+"\\:")+"{6}"+Be),Le=n("\\:\\:"+n(Se+"\\:")+"{5}"+Be),qt=n(n(Se)+"?\\:\\:"+n(Se+"\\:")+"{4}"+Be),$t=n(n(n(Se+"\\:")+"{0,1}"+Se)+"?\\:\\:"+n(Se+"\\:")+"{3}"+Be),Et=n(n(n(Se+"\\:")+"{0,2}"+Se)+"?\\:\\:"+n(Se+"\\:")+"{2}"+Be),lr=n(n(n(Se+"\\:")+"{0,3}"+Se)+"?\\:\\:"+Se+"\\:"+Be),Yt=n(n(n(Se+"\\:")+"{0,4}"+Se)+"?\\:\\:"+Be),ut=n(n(n(Se+"\\:")+"{0,5}"+Se)+"?\\:\\:"+Se),St=n(n(n(Se+"\\:")+"{0,6}"+Se)+"?\\:\\:"),Qt=n([xe,Le,qt,$t,Et,lr,Yt,ut,St].join("|")),jt=n(n(Ie+"|"+Z)+"+");n("[vV]"+J+"+\\."+i(Ie,we,"[\\:]")+"+"),n(n(Z+"|"+i(Ie,we))+"*");var Ar=n(Z+"|"+i(Ie,we,"[\\:\\@]"));return n(n(Z+"|"+i(Ie,we,"[\\@]"))+"+"),n(n(Ar+"|"+i("[\\/\\?]",Ke))+"*"),{NOT_SCHEME:new RegExp(i("[^]",N,M,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(i("[^\\%\\:]",Ie,we),"g"),NOT_HOST:new RegExp(i("[^\\%\\[\\]\\:]",Ie,we),"g"),NOT_PATH:new RegExp(i("[^\\%\\/\\:\\@]",Ie,we),"g"),NOT_PATH_NOSCHEME:new RegExp(i("[^\\%\\/\\@]",Ie,we),"g"),NOT_QUERY:new RegExp(i("[^\\%]",Ie,we,"[\\:\\@\\/\\?]",Ke),"g"),NOT_FRAGMENT:new RegExp(i("[^\\%]",Ie,we,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(i("[^]",Ie,we),"g"),UNRESERVED:new RegExp(Ie,"g"),OTHER_CHARS:new RegExp(i("[^\\%]",Ie,Ne),"g"),PCT_ENCODED:new RegExp(Z,"g"),IPV4ADDRESS:new RegExp("^("+We+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Qt+")"+n(n("\\%25|\\%(?!"+J+"{2})")+"("+jt+")")+"?\\]?$")}}var h=c(!1),p=c(!0),k=function(){function U(N,M){var J=[],Z=!0,ve=!1,we=void 0;try{for(var Ne=N[Symbol.iterator](),Ue;!(Z=(Ue=Ne.next()).done)&&(J.push(Ue.value),!(M&&J.length===M));Z=!0);}catch(Ke){ve=!0,we=Ke}finally{try{!Z&&Ne.return&&Ne.return()}finally{if(ve)throw we}}return J}return function(N,M){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return U(N,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),f=function(U){if(Array.isArray(U)){for(var N=0,M=Array(U.length);N<U.length;N++)M[N]=U[N];return M}else return Array.from(U)},g=2147483647,u=36,m=1,d=26,y=38,w=700,E=72,O=128,I="-",S=/^xn--/,F=/[^\0-\x7E]/,B=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},oe=u-m,T=Math.floor,H=String.fromCharCode;function v(U){throw new RangeError(x[U])}function W(U,N){for(var M=[],J=U.length;J--;)M[J]=N(U[J]);return M}function se(U,N){var M=U.split("@"),J="";M.length>1&&(J=M[0]+"@",U=M[1]),U=U.replace(B,".");var Z=U.split("."),ve=W(Z,N).join(".");return J+ve}function Y(U){for(var N=[],M=0,J=U.length;M<J;){var Z=U.charCodeAt(M++);if(Z>=55296&&Z<=56319&&M<J){var ve=U.charCodeAt(M++);(ve&64512)==56320?N.push(((Z&1023)<<10)+(ve&1023)+65536):(N.push(Z),M--)}else N.push(Z)}return N}var he=function(N){return String.fromCodePoint.apply(String,f(N))},L=function(N){return N-48<10?N-22:N-65<26?N-65:N-97<26?N-97:u},D=function(N,M){return N+22+75*(N<26)-((M!=0)<<5)},$=function(N,M,J){var Z=0;for(N=J?T(N/w):N>>1,N+=T(N/M);N>oe*d>>1;Z+=u)N=T(N/oe);return T(Z+(oe+1)*N/(N+y))},C=function(N){var M=[],J=N.length,Z=0,ve=O,we=E,Ne=N.lastIndexOf(I);Ne<0&&(Ne=0);for(var Ue=0;Ue<Ne;++Ue)N.charCodeAt(Ue)>=128&&v("not-basic"),M.push(N.charCodeAt(Ue));for(var Ke=Ne>0?Ne+1:0;Ke<J;){for(var Ie=Z,ze=1,We=u;;We+=u){Ke>=J&&v("invalid-input");var Se=L(N.charCodeAt(Ke++));(Se>=u||Se>T((g-Z)/ze))&&v("overflow"),Z+=Se*ze;var Be=We<=we?m:We>=we+d?d:We-we;if(Se<Be)break;var xe=u-Be;ze>T(g/xe)&&v("overflow"),ze*=xe}var Le=M.length+1;we=$(Z-Ie,Le,Ie==0),T(Z/Le)>g-ve&&v("overflow"),ve+=T(Z/Le),Z%=Le,M.splice(Z++,0,ve)}return String.fromCodePoint.apply(String,M)},A=function(N){var M=[];N=Y(N);var J=N.length,Z=O,ve=0,we=E,Ne=!0,Ue=!1,Ke=void 0;try{for(var Ie=N[Symbol.iterator](),ze;!(Ne=(ze=Ie.next()).done);Ne=!0){var We=ze.value;We<128&&M.push(H(We))}}catch(Cr){Ue=!0,Ke=Cr}finally{try{!Ne&&Ie.return&&Ie.return()}finally{if(Ue)throw Ke}}var Se=M.length,Be=Se;for(Se&&M.push(I);Be<J;){var xe=g,Le=!0,qt=!1,$t=void 0;try{for(var Et=N[Symbol.iterator](),lr;!(Le=(lr=Et.next()).done);Le=!0){var Yt=lr.value;Yt>=Z&&Yt<xe&&(xe=Yt)}}catch(Cr){qt=!0,$t=Cr}finally{try{!Le&&Et.return&&Et.return()}finally{if(qt)throw $t}}var ut=Be+1;xe-Z>T((g-ve)/ut)&&v("overflow"),ve+=(xe-Z)*ut,Z=xe;var St=!0,Qt=!1,jt=void 0;try{for(var Ar=N[Symbol.iterator](),Wi;!(St=(Wi=Ar.next()).done);St=!0){var Gi=Wi.value;if(Gi<Z&&++ve>g&&v("overflow"),Gi==Z){for(var Hr=ve,Zr=u;;Zr+=u){var Jr=Zr<=we?m:Zr>=we+d?d:Zr-we;if(Hr<Jr)break;var xi=Hr-Jr,Hi=u-Jr;M.push(H(D(Jr+xi%Hi,0))),Hr=T(xi/Hi)}M.push(H(D(Hr,0))),we=$(ve,ut,Be==Se),ve=0,++Be}}}catch(Cr){Qt=!0,jt=Cr}finally{try{!St&&Ar.return&&Ar.return()}finally{if(Qt)throw jt}}++ve,++Z}return M.join("")},b=function(N){return se(N,function(M){return S.test(M)?C(M.slice(4).toLowerCase()):M})},P=function(N){return se(N,function(M){return F.test(M)?"xn--"+A(M):M})},q={version:"2.1.0",ucs2:{decode:Y,encode:he},decode:C,encode:A,toASCII:P,toUnicode:b},re={};function X(U){var N=U.charCodeAt(0),M=void 0;return N<16?M="%0"+N.toString(16).toUpperCase():N<128?M="%"+N.toString(16).toUpperCase():N<2048?M="%"+(N>>6|192).toString(16).toUpperCase()+"%"+(N&63|128).toString(16).toUpperCase():M="%"+(N>>12|224).toString(16).toUpperCase()+"%"+(N>>6&63|128).toString(16).toUpperCase()+"%"+(N&63|128).toString(16).toUpperCase(),M}function ce(U){for(var N="",M=0,J=U.length;M<J;){var Z=parseInt(U.substr(M+1,2),16);if(Z<128)N+=String.fromCharCode(Z),M+=3;else if(Z>=194&&Z<224){if(J-M>=6){var ve=parseInt(U.substr(M+4,2),16);N+=String.fromCharCode((Z&31)<<6|ve&63)}else N+=U.substr(M,6);M+=6}else if(Z>=224){if(J-M>=9){var we=parseInt(U.substr(M+4,2),16),Ne=parseInt(U.substr(M+7,2),16);N+=String.fromCharCode((Z&15)<<12|(we&63)<<6|Ne&63)}else N+=U.substr(M,9);M+=9}else N+=U.substr(M,3),M+=3}return N}function me(U,N){function M(J){var Z=ce(J);return Z.match(N.UNRESERVED)?Z:J}return U.scheme&&(U.scheme=String(U.scheme).replace(N.PCT_ENCODED,M).toLowerCase().replace(N.NOT_SCHEME,"")),U.userinfo!==void 0&&(U.userinfo=String(U.userinfo).replace(N.PCT_ENCODED,M).replace(N.NOT_USERINFO,X).replace(N.PCT_ENCODED,a)),U.host!==void 0&&(U.host=String(U.host).replace(N.PCT_ENCODED,M).toLowerCase().replace(N.NOT_HOST,X).replace(N.PCT_ENCODED,a)),U.path!==void 0&&(U.path=String(U.path).replace(N.PCT_ENCODED,M).replace(U.scheme?N.NOT_PATH:N.NOT_PATH_NOSCHEME,X).replace(N.PCT_ENCODED,a)),U.query!==void 0&&(U.query=String(U.query).replace(N.PCT_ENCODED,M).replace(N.NOT_QUERY,X).replace(N.PCT_ENCODED,a)),U.fragment!==void 0&&(U.fragment=String(U.fragment).replace(N.PCT_ENCODED,M).replace(N.NOT_FRAGMENT,X).replace(N.PCT_ENCODED,a)),U}function ye(U){return U.replace(/^0*(.*)/,"$1")||"0"}function qe(U,N){var M=U.match(N.IPV4ADDRESS)||[],J=k(M,2),Z=J[1];return Z?Z.split(".").map(ye).join("."):U}function He(U,N){var M=U.match(N.IPV6ADDRESS)||[],J=k(M,3),Z=J[1],ve=J[2];if(Z){for(var we=Z.toLowerCase().split("::").reverse(),Ne=k(we,2),Ue=Ne[0],Ke=Ne[1],Ie=Ke?Ke.split(":").map(ye):[],ze=Ue.split(":").map(ye),We=N.IPV4ADDRESS.test(ze[ze.length-1]),Se=We?7:8,Be=ze.length-Se,xe=Array(Se),Le=0;Le<Se;++Le)xe[Le]=Ie[Le]||ze[Be+Le]||"";We&&(xe[Se-1]=qe(xe[Se-1],N));var qt=xe.reduce(function(ut,St,Qt){if(!St||St==="0"){var jt=ut[ut.length-1];jt&&jt.index+jt.length===Qt?jt.length++:ut.push({index:Qt,length:1})}return ut},[]),$t=qt.sort(function(ut,St){return St.length-ut.length})[0],Et=void 0;if($t&&$t.length>1){var lr=xe.slice(0,$t.index),Yt=xe.slice($t.index+$t.length);Et=lr.join(":")+"::"+Yt.join(":")}else Et=xe.join(":");return ve&&(Et+="%"+ve),Et}else return U}var _=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Q="".match(/(){0}/)[1]===void 0;function G(U){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},M={},J=N.iri!==!1?p:h;N.reference==="suffix"&&(U=(N.scheme?N.scheme+":":"")+"//"+U);var Z=U.match(_);if(Z){Q?(M.scheme=Z[1],M.userinfo=Z[3],M.host=Z[4],M.port=parseInt(Z[5],10),M.path=Z[6]||"",M.query=Z[7],M.fragment=Z[8],isNaN(M.port)&&(M.port=Z[5])):(M.scheme=Z[1]||void 0,M.userinfo=U.indexOf("@")!==-1?Z[3]:void 0,M.host=U.indexOf("//")!==-1?Z[4]:void 0,M.port=parseInt(Z[5],10),M.path=Z[6]||"",M.query=U.indexOf("?")!==-1?Z[7]:void 0,M.fragment=U.indexOf("#")!==-1?Z[8]:void 0,isNaN(M.port)&&(M.port=U.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Z[4]:void 0)),M.host&&(M.host=He(qe(M.host,J),J)),M.scheme===void 0&&M.userinfo===void 0&&M.host===void 0&&M.port===void 0&&!M.path&&M.query===void 0?M.reference="same-document":M.scheme===void 0?M.reference="relative":M.fragment===void 0?M.reference="absolute":M.reference="uri",N.reference&&N.reference!=="suffix"&&N.reference!==M.reference&&(M.error=M.error||"URI is not a "+N.reference+" reference.");var ve=re[(N.scheme||M.scheme||"").toLowerCase()];if(!N.unicodeSupport&&(!ve||!ve.unicodeSupport)){if(M.host&&(N.domainHost||ve&&ve.domainHost))try{M.host=q.toASCII(M.host.replace(J.PCT_ENCODED,ce).toLowerCase())}catch(we){M.error=M.error||"Host's domain name can not be converted to ASCII via punycode: "+we}me(M,h)}else me(M,J);ve&&ve.parse&&ve.parse(M,N)}else M.error=M.error||"URI can not be parsed.";return M}function j(U,N){var M=N.iri!==!1?p:h,J=[];return U.userinfo!==void 0&&(J.push(U.userinfo),J.push("@")),U.host!==void 0&&J.push(He(qe(String(U.host),M),M).replace(M.IPV6ADDRESS,function(Z,ve,we){return"["+ve+(we?"%25"+we:"")+"]"})),(typeof U.port=="number"||typeof U.port=="string")&&(J.push(":"),J.push(String(U.port))),J.length?J.join(""):void 0}var R=/^\.\.?\//,V=/^\/\.(\/|$)/,ee=/^\/\.\.(\/|$)/,te=/^\/?(?:.|\n)*?(?=\/|$)/;function K(U){for(var N=[];U.length;)if(U.match(R))U=U.replace(R,"");else if(U.match(V))U=U.replace(V,"/");else if(U.match(ee))U=U.replace(ee,"/"),N.pop();else if(U==="."||U==="..")U="";else{var M=U.match(te);if(M){var J=M[0];U=U.slice(J.length),N.push(J)}else throw new Error("Unexpected dot segment condition")}return N.join("")}function ne(U){var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},M=N.iri?p:h,J=[],Z=re[(N.scheme||U.scheme||"").toLowerCase()];if(Z&&Z.serialize&&Z.serialize(U,N),U.host&&!M.IPV6ADDRESS.test(U.host)){if(N.domainHost||Z&&Z.domainHost)try{U.host=N.iri?q.toUnicode(U.host):q.toASCII(U.host.replace(M.PCT_ENCODED,ce).toLowerCase())}catch(Ne){U.error=U.error||"Host's domain name can not be converted to "+(N.iri?"Unicode":"ASCII")+" via punycode: "+Ne}}me(U,M),N.reference!=="suffix"&&U.scheme&&(J.push(U.scheme),J.push(":"));var ve=j(U,N);if(ve!==void 0&&(N.reference!=="suffix"&&J.push("//"),J.push(ve),U.path&&U.path.charAt(0)!=="/"&&J.push("/")),U.path!==void 0){var we=U.path;!N.absolutePath&&(!Z||!Z.absolutePath)&&(we=K(we)),ve===void 0&&(we=we.replace(/^\/\//,"/%2F")),J.push(we)}return U.query!==void 0&&(J.push("?"),J.push(U.query)),U.fragment!==void 0&&(J.push("#"),J.push(U.fragment)),J.join("")}function ue(U,N){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},J=arguments[3],Z={};return J||(U=G(ne(U,M),M),N=G(ne(N,M),M)),M=M||{},!M.tolerant&&N.scheme?(Z.scheme=N.scheme,Z.userinfo=N.userinfo,Z.host=N.host,Z.port=N.port,Z.path=K(N.path||""),Z.query=N.query):(N.userinfo!==void 0||N.host!==void 0||N.port!==void 0?(Z.userinfo=N.userinfo,Z.host=N.host,Z.port=N.port,Z.path=K(N.path||""),Z.query=N.query):(N.path?(N.path.charAt(0)==="/"?Z.path=K(N.path):((U.userinfo!==void 0||U.host!==void 0||U.port!==void 0)&&!U.path?Z.path="/"+N.path:U.path?Z.path=U.path.slice(0,U.path.lastIndexOf("/")+1)+N.path:Z.path=N.path,Z.path=K(Z.path)),Z.query=N.query):(Z.path=U.path,N.query!==void 0?Z.query=N.query:Z.query=U.query),Z.userinfo=U.userinfo,Z.host=U.host,Z.port=U.port),Z.scheme=U.scheme),Z.fragment=N.fragment,Z}function le(U,N,M){var J=l({scheme:"null"},M);return ne(ue(G(U,J),G(N,J),J,!0),J)}function ge(U,N){return typeof U=="string"?U=ne(G(U,N),N):s(U)==="object"&&(U=G(ne(U,N),N)),U}function je(U,N,M){return typeof U=="string"?U=ne(G(U,M),M):s(U)==="object"&&(U=ne(U,M)),typeof N=="string"?N=ne(G(N,M),M):s(N)==="object"&&(N=ne(N,M)),U===N}function Ae(U,N){return U&&U.toString().replace(!N||!N.iri?h.ESCAPE:p.ESCAPE,X)}function Fe(U,N){return U&&U.toString().replace(!N||!N.iri?h.PCT_ENCODED:p.PCT_ENCODED,ce)}var at={scheme:"http",domainHost:!0,parse:function(N,M){return N.host||(N.error=N.error||"HTTP URIs must have a host."),N},serialize:function(N,M){var J=String(N.scheme).toLowerCase()==="https";return(N.port===(J?443:80)||N.port==="")&&(N.port=void 0),N.path||(N.path="/"),N}},ot={scheme:"https",domainHost:at.domainHost,parse:at.parse,serialize:at.serialize};function Vt(U){return typeof U.secure=="boolean"?U.secure:String(U.scheme).toLowerCase()==="wss"}var De={scheme:"ws",domainHost:!0,parse:function(N,M){var J=N;return J.secure=Vt(J),J.resourceName=(J.path||"/")+(J.query?"?"+J.query:""),J.path=void 0,J.query=void 0,J},serialize:function(N,M){if((N.port===(Vt(N)?443:80)||N.port==="")&&(N.port=void 0),typeof N.secure=="boolean"&&(N.scheme=N.secure?"wss":"ws",N.secure=void 0),N.resourceName){var J=N.resourceName.split("?"),Z=k(J,2),ve=Z[0],we=Z[1];N.path=ve&&ve!=="/"?ve:void 0,N.query=we,N.resourceName=void 0}return N.fragment=void 0,N}},Zt={scheme:"wss",domainHost:De.domainHost,parse:De.parse,serialize:De.serialize},Sr={},ct="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",lt="[0-9A-Fa-f]",An=n(n("%[EFef]"+lt+"%"+lt+lt+"%"+lt+lt)+"|"+n("%[89A-Fa-f]"+lt+"%"+lt+lt)+"|"+n("%"+lt+lt)),Cn="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Pn="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",xr=i(Pn,'[\\"\\\\]'),Jt="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",ar=new RegExp(ct,"g"),or=new RegExp(An,"g"),Va=new RegExp(i("[^]",Cn,"[\\.]",'[\\"]',xr),"g"),Li=new RegExp(i("[^]",ct,Jt),"g"),qa=Li;function On(U){var N=ce(U);return N.match(ar)?N:U}var Vi={scheme:"mailto",parse:function(N,M){var J=N,Z=J.to=J.path?J.path.split(","):[];if(J.path=void 0,J.query){for(var ve=!1,we={},Ne=J.query.split("&"),Ue=0,Ke=Ne.length;Ue<Ke;++Ue){var Ie=Ne[Ue].split("=");switch(Ie[0]){case"to":for(var ze=Ie[1].split(","),We=0,Se=ze.length;We<Se;++We)Z.push(ze[We]);break;case"subject":J.subject=Fe(Ie[1],M);break;case"body":J.body=Fe(Ie[1],M);break;default:ve=!0,we[Fe(Ie[0],M)]=Fe(Ie[1],M);break}}ve&&(J.headers=we)}J.query=void 0;for(var Be=0,xe=Z.length;Be<xe;++Be){var Le=Z[Be].split("@");if(Le[0]=Fe(Le[0]),M.unicodeSupport)Le[1]=Fe(Le[1],M).toLowerCase();else try{Le[1]=q.toASCII(Fe(Le[1],M).toLowerCase())}catch(qt){J.error=J.error||"Email address's domain name can not be converted to ASCII via punycode: "+qt}Z[Be]=Le.join("@")}return J},serialize:function(N,M){var J=N,Z=o(N.to);if(Z){for(var ve=0,we=Z.length;ve<we;++ve){var Ne=String(Z[ve]),Ue=Ne.lastIndexOf("@"),Ke=Ne.slice(0,Ue).replace(or,On).replace(or,a).replace(Va,X),Ie=Ne.slice(Ue+1);try{Ie=M.iri?q.toUnicode(Ie):q.toASCII(Fe(Ie,M).toLowerCase())}catch(Be){J.error=J.error||"Email address's domain name can not be converted to "+(M.iri?"Unicode":"ASCII")+" via punycode: "+Be}Z[ve]=Ke+"@"+Ie}J.path=Z.join(",")}var ze=N.headers=N.headers||{};N.subject&&(ze.subject=N.subject),N.body&&(ze.body=N.body);var We=[];for(var Se in ze)ze[Se]!==Sr[Se]&&We.push(Se.replace(or,On).replace(or,a).replace(Li,X)+"="+ze[Se].replace(or,On).replace(or,a).replace(qa,X));return We.length&&(J.query=We.join("&")),J}},Ka=/^([^\:]+)\:(.*)/,qi={scheme:"urn",parse:function(N,M){var J=N.path&&N.path.match(Ka),Z=N;if(J){var ve=M.scheme||Z.scheme||"urn",we=J[1].toLowerCase(),Ne=J[2],Ue=ve+":"+(M.nid||we),Ke=re[Ue];Z.nid=we,Z.nss=Ne,Z.path=void 0,Ke&&(Z=Ke.parse(Z,M))}else Z.error=Z.error||"URN can not be parsed.";return Z},serialize:function(N,M){var J=M.scheme||N.scheme||"urn",Z=N.nid,ve=J+":"+(M.nid||Z),we=re[ve];we&&(N=we.serialize(N,M));var Ne=N,Ue=N.nss;return Ne.path=(Z||M.nid)+":"+Ue,Ne}},Wa=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Ki={scheme:"urn:uuid",parse:function(N,M){var J=N;return J.uuid=J.nss,J.nss=void 0,!M.tolerant&&(!J.uuid||!J.uuid.match(Wa))&&(J.error=J.error||"UUID is not valid."),J},serialize:function(N,M){var J=N;return J.nss=(N.uuid||"").toLowerCase(),J}};re[at.scheme]=at,re[ot.scheme]=ot,re[De.scheme]=De,re[Zt.scheme]=Zt,re[Vi.scheme]=Vi,re[qi.scheme]=qi,re[Ki.scheme]=Ki,r.SCHEMES=re,r.pctEncChar=X,r.pctDecChars=ce,r.parse=G,r.removeDotSegments=K,r.serialize=ne,r.resolveComponents=ue,r.resolve=le,r.normalize=ge,r.equal=je,r.escapeComponent=Ae,r.unescapeComponent=Fe,Object.defineProperty(r,"__esModule",{value:!0})})})(Tu,gn);Object.defineProperty(li,"__esModule",{value:!0});const Ia=gn;Ia.code='require("ajv/dist/runtime/uri").default';li.default=Ia;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=bt;Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var r=Oe;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const i=Kr,n=Wr,s=ir,a=st,o=Oe,l=Xe,c=qr,h=Te,p=Nu,k=li,f=(D,$)=>new RegExp(D,$);f.code="new RegExp";const g=["removeAdditional","useDefaults","coerceTypes"],u=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),m={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},d={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},y=200;function w(D){var $,C,A,b,P,q,re,X,ce,me,ye,qe,He,_,Q,G,j,R,V,ee,te,K,ne,ue,le;const ge=D.strict,je=($=D.code)===null||$===void 0?void 0:$.optimize,Ae=je===!0||je===void 0?1:je||0,Fe=(A=(C=D.code)===null||C===void 0?void 0:C.regExp)!==null&&A!==void 0?A:f,at=(b=D.uriResolver)!==null&&b!==void 0?b:k.default;return{strictSchema:(q=(P=D.strictSchema)!==null&&P!==void 0?P:ge)!==null&&q!==void 0?q:!0,strictNumbers:(X=(re=D.strictNumbers)!==null&&re!==void 0?re:ge)!==null&&X!==void 0?X:!0,strictTypes:(me=(ce=D.strictTypes)!==null&&ce!==void 0?ce:ge)!==null&&me!==void 0?me:"log",strictTuples:(qe=(ye=D.strictTuples)!==null&&ye!==void 0?ye:ge)!==null&&qe!==void 0?qe:"log",strictRequired:(_=(He=D.strictRequired)!==null&&He!==void 0?He:ge)!==null&&_!==void 0?_:!1,code:D.code?{...D.code,optimize:Ae,regExp:Fe}:{optimize:Ae,regExp:Fe},loopRequired:(Q=D.loopRequired)!==null&&Q!==void 0?Q:y,loopEnum:(G=D.loopEnum)!==null&&G!==void 0?G:y,meta:(j=D.meta)!==null&&j!==void 0?j:!0,messages:(R=D.messages)!==null&&R!==void 0?R:!0,inlineRefs:(V=D.inlineRefs)!==null&&V!==void 0?V:!0,schemaId:(ee=D.schemaId)!==null&&ee!==void 0?ee:"$id",addUsedSchema:(te=D.addUsedSchema)!==null&&te!==void 0?te:!0,validateSchema:(K=D.validateSchema)!==null&&K!==void 0?K:!0,validateFormats:(ne=D.validateFormats)!==null&&ne!==void 0?ne:!0,unicodeRegExp:(ue=D.unicodeRegExp)!==null&&ue!==void 0?ue:!0,int32range:(le=D.int32range)!==null&&le!==void 0?le:!0,uriResolver:at}}class E{constructor($={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,$=this.opts={...$,...w($)};const{es5:C,lines:A}=this.opts.code;this.scope=new o.ValueScope({scope:{},prefixes:u,es5:C,lines:A}),this.logger=T($.logger);const b=$.validateFormats;$.validateFormats=!1,this.RULES=(0,s.getRules)(),O.call(this,m,$,"NOT SUPPORTED"),O.call(this,d,$,"DEPRECATED","warn"),this._metaOpts=x.call(this),$.formats&&F.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),$.keywords&&B.call(this,$.keywords),typeof $.meta=="object"&&this.addMetaSchema($.meta),S.call(this),$.validateFormats=b}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:$,meta:C,schemaId:A}=this.opts;let b=p;A==="id"&&(b={...p},b.id=b.$id,delete b.$id),C&&$&&this.addMetaSchema(b,b[A],!1)}defaultMeta(){const{meta:$,schemaId:C}=this.opts;return this.opts.defaultMeta=typeof $=="object"?$[C]||$:void 0}validate($,C){let A;if(typeof $=="string"){if(A=this.getSchema($),!A)throw new Error(`no schema with key or ref "${$}"`)}else A=this.compile($);const b=A(C);return"$async"in A||(this.errors=A.errors),b}compile($,C){const A=this._addSchema($,C);return A.validate||this._compileSchemaEnv(A)}compileAsync($,C){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:A}=this.opts;return b.call(this,$,C);async function b(me,ye){await P.call(this,me.$schema);const qe=this._addSchema(me,ye);return qe.validate||q.call(this,qe)}async function P(me){me&&!this.getSchema(me)&&await b.call(this,{$ref:me},!0)}async function q(me){try{return this._compileSchemaEnv(me)}catch(ye){if(!(ye instanceof n.default))throw ye;return re.call(this,ye),await X.call(this,ye.missingSchema),q.call(this,me)}}function re({missingSchema:me,missingRef:ye}){if(this.refs[me])throw new Error(`AnySchema ${me} is loaded but ${ye} cannot be resolved`)}async function X(me){const ye=await ce.call(this,me);this.refs[me]||await P.call(this,ye.$schema),this.refs[me]||this.addSchema(ye,me,C)}async function ce(me){const ye=this._loading[me];if(ye)return ye;try{return await(this._loading[me]=A(me))}finally{delete this._loading[me]}}}addSchema($,C,A,b=this.opts.validateSchema){if(Array.isArray($)){for(const q of $)this.addSchema(q,void 0,A,b);return this}let P;if(typeof $=="object"){const{schemaId:q}=this.opts;if(P=$[q],P!==void 0&&typeof P!="string")throw new Error(`schema ${q} must be string`)}return C=(0,l.normalizeId)(C||P),this._checkUnique(C),this.schemas[C]=this._addSchema($,A,C,b,!0),this}addMetaSchema($,C,A=this.opts.validateSchema){return this.addSchema($,C,!0,A),this}validateSchema($,C){if(typeof $=="boolean")return!0;let A;if(A=$.$schema,A!==void 0&&typeof A!="string")throw new Error("$schema must be a string");if(A=A||this.opts.defaultMeta||this.defaultMeta(),!A)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const b=this.validate(A,$);if(!b&&C){const P="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(P);else throw new Error(P)}return b}getSchema($){let C;for(;typeof(C=I.call(this,$))=="string";)$=C;if(C===void 0){const{schemaId:A}=this.opts,b=new a.SchemaEnv({schema:{},schemaId:A});if(C=a.resolveSchema.call(this,b,$),!C)return;this.refs[$]=C}return C.validate||this._compileSchemaEnv(C)}removeSchema($){if($ instanceof RegExp)return this._removeAllSchemas(this.schemas,$),this._removeAllSchemas(this.refs,$),this;switch(typeof $){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const C=I.call(this,$);return typeof C=="object"&&this._cache.delete(C.schema),delete this.schemas[$],delete this.refs[$],this}case"object":{const C=$;this._cache.delete(C);let A=$[this.opts.schemaId];return A&&(A=(0,l.normalizeId)(A),delete this.schemas[A],delete this.refs[A]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary($){for(const C of $)this.addKeyword(C);return this}addKeyword($,C){let A;if(typeof $=="string")A=$,typeof C=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),C.keyword=A);else if(typeof $=="object"&&C===void 0){if(C=$,A=C.keyword,Array.isArray(A)&&!A.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(v.call(this,A,C),!C)return(0,h.eachItem)(A,P=>W.call(this,P)),this;Y.call(this,C);const b={...C,type:(0,c.getJSONTypes)(C.type),schemaType:(0,c.getJSONTypes)(C.schemaType)};return(0,h.eachItem)(A,b.type.length===0?P=>W.call(this,P,b):P=>b.type.forEach(q=>W.call(this,P,b,q))),this}getKeyword($){const C=this.RULES.all[$];return typeof C=="object"?C.definition:!!C}removeKeyword($){const{RULES:C}=this;delete C.keywords[$],delete C.all[$];for(const A of C.rules){const b=A.rules.findIndex(P=>P.keyword===$);b>=0&&A.rules.splice(b,1)}return this}addFormat($,C){return typeof C=="string"&&(C=new RegExp(C)),this.formats[$]=C,this}errorsText($=this.errors,{separator:C=", ",dataVar:A="data"}={}){return!$||$.length===0?"No errors":$.map(b=>`${A}${b.instancePath} ${b.message}`).reduce((b,P)=>b+C+P)}$dataMetaSchema($,C){const A=this.RULES.all;$=JSON.parse(JSON.stringify($));for(const b of C){const P=b.split("/").slice(1);let q=$;for(const re of P)q=q[re];for(const re in A){const X=A[re];if(typeof X!="object")continue;const{$data:ce}=X.definition,me=q[re];ce&&me&&(q[re]=L(me))}}return $}_removeAllSchemas($,C){for(const A in $){const b=$[A];(!C||C.test(A))&&(typeof b=="string"?delete $[A]:b&&!b.meta&&(this._cache.delete(b.schema),delete $[A]))}}_addSchema($,C,A,b=this.opts.validateSchema,P=this.opts.addUsedSchema){let q;const{schemaId:re}=this.opts;if(typeof $=="object")q=$[re];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof $!="boolean")throw new Error("schema must be object or boolean")}let X=this._cache.get($);if(X!==void 0)return X;A=(0,l.normalizeId)(q||A);const ce=l.getSchemaRefs.call(this,$,A);return X=new a.SchemaEnv({schema:$,schemaId:re,meta:C,baseId:A,localRefs:ce}),this._cache.set(X.schema,X),P&&!A.startsWith("#")&&(A&&this._checkUnique(A),this.refs[A]=X),b&&this.validateSchema($,!0),X}_checkUnique($){if(this.schemas[$]||this.refs[$])throw new Error(`schema with key or id "${$}" already exists`)}_compileSchemaEnv($){if($.meta?this._compileMetaSchema($):a.compileSchema.call(this,$),!$.validate)throw new Error("ajv implementation error");return $.validate}_compileMetaSchema($){const C=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,$)}finally{this.opts=C}}}t.default=E,E.ValidationError=i.default,E.MissingRefError=n.default;function O(D,$,C,A="error"){for(const b in D){const P=b;P in $&&this.logger[A](`${C}: option ${b}. ${D[P]}`)}}function I(D){return D=(0,l.normalizeId)(D),this.schemas[D]||this.refs[D]}function S(){const D=this.opts.schemas;if(D)if(Array.isArray(D))this.addSchema(D);else for(const $ in D)this.addSchema(D[$],$)}function F(){for(const D in this.opts.formats){const $=this.opts.formats[D];$&&this.addFormat(D,$)}}function B(D){if(Array.isArray(D)){this.addVocabulary(D);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const $ in D){const C=D[$];C.keyword||(C.keyword=$),this.addKeyword(C)}}function x(){const D={...this.opts};for(const $ of g)delete D[$];return D}const oe={log(){},warn(){},error(){}};function T(D){if(D===!1)return oe;if(D===void 0)return console;if(D.log&&D.warn&&D.error)return D;throw new Error("logger must implement log, warn and error methods")}const H=/^[a-z_$][a-z0-9_$:-]*$/i;function v(D,$){const{RULES:C}=this;if((0,h.eachItem)(D,A=>{if(C.keywords[A])throw new Error(`Keyword ${A} is already defined`);if(!H.test(A))throw new Error(`Keyword ${A} has invalid name`)}),!!$&&$.$data&&!("code"in $||"validate"in $))throw new Error('$data keyword must have "code" or "validate" function')}function W(D,$,C){var A;const b=$==null?void 0:$.post;if(C&&b)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:P}=this;let q=b?P.post:P.rules.find(({type:X})=>X===C);if(q||(q={type:C,rules:[]},P.rules.push(q)),P.keywords[D]=!0,!$)return;const re={keyword:D,definition:{...$,type:(0,c.getJSONTypes)($.type),schemaType:(0,c.getJSONTypes)($.schemaType)}};$.before?se.call(this,q,re,$.before):q.rules.push(re),P.all[D]=re,(A=$.implements)===null||A===void 0||A.forEach(X=>this.addKeyword(X))}function se(D,$,C){const A=D.rules.findIndex(b=>b.keyword===C);A>=0?D.rules.splice(A,0,$):(D.rules.push($),this.logger.warn(`rule ${C} is not defined`))}function Y(D){let{metaSchema:$}=D;$!==void 0&&(D.$data&&this.opts.$data&&($=L($)),D.validateSchema=this.compile($,!0))}const he={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function L(D){return{anyOf:[D,he]}}})(aa);var ci={},ui={},fi={};Object.defineProperty(fi,"__esModule",{value:!0});const ju={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};fi.default=ju;var sr={};Object.defineProperty(sr,"__esModule",{value:!0});sr.callRef=sr.getValidate=void 0;const Du=Wr,ms=Pe,it=Oe,hr=Tt,gs=st,Xr=Te,zu={keyword:"$ref",schemaType:"string",code(t){const{gen:e,schema:r,it:i}=t,{baseId:n,schemaEnv:s,validateName:a,opts:o,self:l}=i,{root:c}=s;if((r==="#"||r==="#/")&&n===c.baseId)return p();const h=gs.resolveRef.call(l,c,n,r);if(h===void 0)throw new Du.default(i.opts.uriResolver,n,r);if(h instanceof gs.SchemaEnv)return k(h);return f(h);function p(){if(s===c)return ln(t,a,s,s.$async);const g=e.scopeValue("root",{ref:c});return ln(t,(0,it._)`${g}.validate`,c,c.$async)}function k(g){const u=Ra(t,g);ln(t,u,g,g.$async)}function f(g){const u=e.scopeValue("schema",o.code.source===!0?{ref:g,code:(0,it.stringify)(g)}:{ref:g}),m=e.name("valid"),d=t.subschema({schema:g,dataTypes:[],schemaPath:it.nil,topSchemaRef:u,errSchemaPath:r},m);t.mergeEvaluated(d),t.ok(m)}}};function Ra(t,e){const{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,it._)`${r.scopeValue("wrapper",{ref:e})}.validate`}sr.getValidate=Ra;function ln(t,e,r,i){const{gen:n,it:s}=t,{allErrors:a,schemaEnv:o,opts:l}=s,c=l.passContext?hr.default.this:it.nil;i?h():p();function h(){if(!o.$async)throw new Error("async schema referenced by sync schema");const g=n.let("valid");n.try(()=>{n.code((0,it._)`await ${(0,ms.callValidateCode)(t,e,c)}`),f(e),a||n.assign(g,!0)},u=>{n.if((0,it._)`!(${u} instanceof ${s.ValidationError})`,()=>n.throw(u)),k(u),a||n.assign(g,!1)}),t.ok(g)}function p(){t.result((0,ms.callValidateCode)(t,e,c),()=>f(e),()=>k(e))}function k(g){const u=(0,it._)`${g}.errors`;n.assign(hr.default.vErrors,(0,it._)`${hr.default.vErrors} === null ? ${u} : ${hr.default.vErrors}.concat(${u})`),n.assign(hr.default.errors,(0,it._)`${hr.default.vErrors}.length`)}function f(g){var u;if(!s.opts.unevaluated)return;const m=(u=r==null?void 0:r.validate)===null||u===void 0?void 0:u.evaluated;if(s.props!==!0)if(m&&!m.dynamicProps)m.props!==void 0&&(s.props=Xr.mergeEvaluated.props(n,m.props,s.props));else{const d=n.var("props",(0,it._)`${g}.evaluated.props`);s.props=Xr.mergeEvaluated.props(n,d,s.props,it.Name)}if(s.items!==!0)if(m&&!m.dynamicItems)m.items!==void 0&&(s.items=Xr.mergeEvaluated.items(n,m.items,s.items));else{const d=n.var("items",(0,it._)`${g}.evaluated.items`);s.items=Xr.mergeEvaluated.items(n,d,s.items,it.Name)}}}sr.callRef=ln;sr.default=zu;Object.defineProperty(ui,"__esModule",{value:!0});const Fu=fi,Uu=sr,Mu=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",Fu.default,Uu.default];ui.default=Mu;var di={},hi={};Object.defineProperty(hi,"__esModule",{value:!0});const _n=Oe,Wt=_n.operators,vn={maximum:{okStr:"<=",ok:Wt.LTE,fail:Wt.GT},minimum:{okStr:">=",ok:Wt.GTE,fail:Wt.LT},exclusiveMaximum:{okStr:"<",ok:Wt.LT,fail:Wt.GTE},exclusiveMinimum:{okStr:">",ok:Wt.GT,fail:Wt.LTE}},Bu={message:({keyword:t,schemaCode:e})=>(0,_n.str)`must be ${vn[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,_n._)`{comparison: ${vn[t].okStr}, limit: ${e}}`},Lu={keyword:Object.keys(vn),type:"number",schemaType:"number",$data:!0,error:Bu,code(t){const{keyword:e,data:r,schemaCode:i}=t;t.fail$data((0,_n._)`${r} ${vn[e].fail} ${i} || isNaN(${r})`)}};hi.default=Lu;var pi={};Object.defineProperty(pi,"__esModule",{value:!0});const zr=Oe,Vu={message:({schemaCode:t})=>(0,zr.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,zr._)`{multipleOf: ${t}}`},qu={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:Vu,code(t){const{gen:e,data:r,schemaCode:i,it:n}=t,s=n.opts.multipleOfPrecision,a=e.let("res"),o=s?(0,zr._)`Math.abs(Math.round(${a}) - ${a}) > 1e-${s}`:(0,zr._)`${a} !== parseInt(${a})`;t.fail$data((0,zr._)`(${i} === 0 || (${a} = ${r}/${i}, ${o}))`)}};pi.default=qu;var mi={},gi={};Object.defineProperty(gi,"__esModule",{value:!0});function Na(t){const e=t.length;let r=0,i=0,n;for(;i<e;)r++,n=t.charCodeAt(i++),n>=55296&&n<=56319&&i<e&&(n=t.charCodeAt(i),(n&64512)===56320&&i++);return r}gi.default=Na;Na.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(mi,"__esModule",{value:!0});const tr=Oe,Ku=Te,Wu=gi,Gu={message({keyword:t,schemaCode:e}){const r=t==="maxLength"?"more":"fewer";return(0,tr.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,tr._)`{limit: ${t}}`},xu={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Gu,code(t){const{keyword:e,data:r,schemaCode:i,it:n}=t,s=e==="maxLength"?tr.operators.GT:tr.operators.LT,a=n.opts.unicode===!1?(0,tr._)`${r}.length`:(0,tr._)`${(0,Ku.useFunc)(t.gen,Wu.default)}(${r})`;t.fail$data((0,tr._)`${a} ${s} ${i}`)}};mi.default=xu;var _i={};Object.defineProperty(_i,"__esModule",{value:!0});const Hu=Pe,yn=Oe,Zu={message:({schemaCode:t})=>(0,yn.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,yn._)`{pattern: ${t}}`},Ju={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Zu,code(t){const{data:e,$data:r,schema:i,schemaCode:n,it:s}=t,a=s.opts.unicodeRegExp?"u":"",o=r?(0,yn._)`(new RegExp(${n}, ${a}))`:(0,Hu.usePattern)(t,i);t.fail$data((0,yn._)`!${o}.test(${e})`)}};_i.default=Ju;var vi={};Object.defineProperty(vi,"__esModule",{value:!0});const Fr=Oe,Yu={message({keyword:t,schemaCode:e}){const r=t==="maxProperties"?"more":"fewer";return(0,Fr.str)`must NOT have ${r} than ${e} properties`},params:({schemaCode:t})=>(0,Fr._)`{limit: ${t}}`},Qu={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Yu,code(t){const{keyword:e,data:r,schemaCode:i}=t,n=e==="maxProperties"?Fr.operators.GT:Fr.operators.LT;t.fail$data((0,Fr._)`Object.keys(${r}).length ${n} ${i}`)}};vi.default=Qu;var yi={};Object.defineProperty(yi,"__esModule",{value:!0});const Ir=Pe,Ur=Oe,Xu=Te,ef={message:({params:{missingProperty:t}})=>(0,Ur.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,Ur._)`{missingProperty: ${t}}`},tf={keyword:"required",type:"object",schemaType:"array",$data:!0,error:ef,code(t){const{gen:e,schema:r,schemaCode:i,data:n,$data:s,it:a}=t,{opts:o}=a;if(!s&&r.length===0)return;const l=r.length>=o.loopRequired;if(a.allErrors?c():h(),o.strictRequired){const f=t.parentSchema.properties,{definedProperties:g}=t.it;for(const u of r)if((f==null?void 0:f[u])===void 0&&!g.has(u)){const m=a.schemaEnv.baseId+a.errSchemaPath,d=`required property "${u}" is not defined at "${m}" (strictRequired)`;(0,Xu.checkStrictMode)(a,d,a.opts.strictRequired)}}function c(){if(l||s)t.block$data(Ur.nil,p);else for(const f of r)(0,Ir.checkReportMissingProp)(t,f)}function h(){const f=e.let("missing");if(l||s){const g=e.let("valid",!0);t.block$data(g,()=>k(f,g)),t.ok(g)}else e.if((0,Ir.checkMissingProp)(t,r,f)),(0,Ir.reportMissingProp)(t,f),e.else()}function p(){e.forOf("prop",i,f=>{t.setParams({missingProperty:f}),e.if((0,Ir.noPropertyInData)(e,n,f,o.ownProperties),()=>t.error())})}function k(f,g){t.setParams({missingProperty:f}),e.forOf(f,i,()=>{e.assign(g,(0,Ir.propertyInData)(e,n,f,o.ownProperties)),e.if((0,Ur.not)(g),()=>{t.error(),e.break()})},Ur.nil)}}};yi.default=tf;var bi={};Object.defineProperty(bi,"__esModule",{value:!0});const Mr=Oe,rf={message({keyword:t,schemaCode:e}){const r=t==="maxItems"?"more":"fewer";return(0,Mr.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,Mr._)`{limit: ${t}}`},nf={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:rf,code(t){const{keyword:e,data:r,schemaCode:i}=t,n=e==="maxItems"?Mr.operators.GT:Mr.operators.LT;t.fail$data((0,Mr._)`${r}.length ${n} ${i}`)}};bi.default=nf;var wi={},Gr={};Object.defineProperty(Gr,"__esModule",{value:!0});const Ta=pa;Ta.code='require("ajv/dist/runtime/equal").default';Gr.default=Ta;Object.defineProperty(wi,"__esModule",{value:!0});const Dn=qr,Ye=Oe,sf=Te,af=Gr,of={message:({params:{i:t,j:e}})=>(0,Ye.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,Ye._)`{i: ${t}, j: ${e}}`},lf={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:of,code(t){const{gen:e,data:r,$data:i,schema:n,parentSchema:s,schemaCode:a,it:o}=t;if(!i&&!n)return;const l=e.let("valid"),c=s.items?(0,Dn.getSchemaTypes)(s.items):[];t.block$data(l,h,(0,Ye._)`${a} === false`),t.ok(l);function h(){const g=e.let("i",(0,Ye._)`${r}.length`),u=e.let("j");t.setParams({i:g,j:u}),e.assign(l,!0),e.if((0,Ye._)`${g} > 1`,()=>(p()?k:f)(g,u))}function p(){return c.length>0&&!c.some(g=>g==="object"||g==="array")}function k(g,u){const m=e.name("item"),d=(0,Dn.checkDataTypes)(c,m,o.opts.strictNumbers,Dn.DataType.Wrong),y=e.const("indices",(0,Ye._)`{}`);e.for((0,Ye._)`;${g}--;`,()=>{e.let(m,(0,Ye._)`${r}[${g}]`),e.if(d,(0,Ye._)`continue`),c.length>1&&e.if((0,Ye._)`typeof ${m} == "string"`,(0,Ye._)`${m} += "_"`),e.if((0,Ye._)`typeof ${y}[${m}] == "number"`,()=>{e.assign(u,(0,Ye._)`${y}[${m}]`),t.error(),e.assign(l,!1).break()}).code((0,Ye._)`${y}[${m}] = ${g}`)})}function f(g,u){const m=(0,sf.useFunc)(e,af.default),d=e.name("outer");e.label(d).for((0,Ye._)`;${g}--;`,()=>e.for((0,Ye._)`${u} = ${g}; ${u}--;`,()=>e.if((0,Ye._)`${m}(${r}[${g}], ${r}[${u}])`,()=>{t.error(),e.assign(l,!1).break(d)})))}}};wi.default=lf;var ki={};Object.defineProperty(ki,"__esModule",{value:!0});const Wn=Oe,cf=Te,uf=Gr,ff={message:"must be equal to constant",params:({schemaCode:t})=>(0,Wn._)`{allowedValue: ${t}}`},df={keyword:"const",$data:!0,error:ff,code(t){const{gen:e,data:r,$data:i,schemaCode:n,schema:s}=t;i||s&&typeof s=="object"?t.fail$data((0,Wn._)`!${(0,cf.useFunc)(e,uf.default)}(${r}, ${n})`):t.fail((0,Wn._)`${s} !== ${r}`)}};ki.default=df;var $i={};Object.defineProperty($i,"__esModule",{value:!0});const Nr=Oe,hf=Te,pf=Gr,mf={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,Nr._)`{allowedValues: ${t}}`},gf={keyword:"enum",schemaType:"array",$data:!0,error:mf,code(t){const{gen:e,data:r,$data:i,schema:n,schemaCode:s,it:a}=t;if(!i&&n.length===0)throw new Error("enum must have non-empty array");const o=n.length>=a.opts.loopEnum;let l;const c=()=>l??(l=(0,hf.useFunc)(e,pf.default));let h;if(o||i)h=e.let("valid"),t.block$data(h,p);else{if(!Array.isArray(n))throw new Error("ajv implementation error");const f=e.const("vSchema",s);h=(0,Nr.or)(...n.map((g,u)=>k(f,u)))}t.pass(h);function p(){e.assign(h,!1),e.forOf("v",s,f=>e.if((0,Nr._)`${c()}(${r}, ${f})`,()=>e.assign(h,!0).break()))}function k(f,g){const u=n[g];return typeof u=="object"&&u!==null?(0,Nr._)`${c()}(${r}, ${f}[${g}])`:(0,Nr._)`${r} === ${u}`}}};$i.default=gf;Object.defineProperty(di,"__esModule",{value:!0});const _f=hi,vf=pi,yf=mi,bf=_i,wf=vi,kf=yi,$f=bi,Ef=wi,Sf=ki,Af=$i,Cf=[_f.default,vf.default,yf.default,bf.default,wf.default,kf.default,$f.default,Ef.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},Sf.default,Af.default];di.default=Cf;var Ei={},$r={};Object.defineProperty($r,"__esModule",{value:!0});$r.validateAdditionalItems=void 0;const rr=Oe,Gn=Te,Pf={message:({params:{len:t}})=>(0,rr.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,rr._)`{limit: ${t}}`},Of={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:Pf,code(t){const{parentSchema:e,it:r}=t,{items:i}=e;if(!Array.isArray(i)){(0,Gn.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}ja(t,i)}};function ja(t,e){const{gen:r,schema:i,data:n,keyword:s,it:a}=t;a.items=!0;const o=r.const("len",(0,rr._)`${n}.length`);if(i===!1)t.setParams({len:e.length}),t.pass((0,rr._)`${o} <= ${e.length}`);else if(typeof i=="object"&&!(0,Gn.alwaysValidSchema)(a,i)){const c=r.var("valid",(0,rr._)`${o} <= ${e.length}`);r.if((0,rr.not)(c),()=>l(c)),t.ok(c)}function l(c){r.forRange("i",e.length,o,h=>{t.subschema({keyword:s,dataProp:h,dataPropType:Gn.Type.Num},c),a.allErrors||r.if((0,rr.not)(c),()=>r.break())})}}$r.validateAdditionalItems=ja;$r.default=Of;var Si={},Er={};Object.defineProperty(Er,"__esModule",{value:!0});Er.validateTuple=void 0;const _s=Oe,cn=Te,If=Pe,Rf={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){const{schema:e,it:r}=t;if(Array.isArray(e))return Da(t,"additionalItems",e);r.items=!0,!(0,cn.alwaysValidSchema)(r,e)&&t.ok((0,If.validateArray)(t))}};function Da(t,e,r=t.schema){const{gen:i,parentSchema:n,data:s,keyword:a,it:o}=t;h(n),o.opts.unevaluated&&r.length&&o.items!==!0&&(o.items=cn.mergeEvaluated.items(i,r.length,o.items));const l=i.name("valid"),c=i.const("len",(0,_s._)`${s}.length`);r.forEach((p,k)=>{(0,cn.alwaysValidSchema)(o,p)||(i.if((0,_s._)`${c} > ${k}`,()=>t.subschema({keyword:a,schemaProp:k,dataProp:k},l)),t.ok(l))});function h(p){const{opts:k,errSchemaPath:f}=o,g=r.length,u=g===p.minItems&&(g===p.maxItems||p[e]===!1);if(k.strictTuples&&!u){const m=`"${a}" is ${g}-tuple, but minItems or maxItems/${e} are not specified or different at path "${f}"`;(0,cn.checkStrictMode)(o,m,k.strictTuples)}}}Er.validateTuple=Da;Er.default=Rf;Object.defineProperty(Si,"__esModule",{value:!0});const Nf=Er,Tf={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,Nf.validateTuple)(t,"items")};Si.default=Tf;var Ai={};Object.defineProperty(Ai,"__esModule",{value:!0});const vs=Oe,jf=Te,Df=Pe,zf=$r,Ff={message:({params:{len:t}})=>(0,vs.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,vs._)`{limit: ${t}}`},Uf={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:Ff,code(t){const{schema:e,parentSchema:r,it:i}=t,{prefixItems:n}=r;i.items=!0,!(0,jf.alwaysValidSchema)(i,e)&&(n?(0,zf.validateAdditionalItems)(t,n):t.ok((0,Df.validateArray)(t)))}};Ai.default=Uf;var Ci={};Object.defineProperty(Ci,"__esModule",{value:!0});const ft=Oe,en=Te,Mf={message:({params:{min:t,max:e}})=>e===void 0?(0,ft.str)`must contain at least ${t} valid item(s)`:(0,ft.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,ft._)`{minContains: ${t}}`:(0,ft._)`{minContains: ${t}, maxContains: ${e}}`},Bf={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:Mf,code(t){const{gen:e,schema:r,parentSchema:i,data:n,it:s}=t;let a,o;const{minContains:l,maxContains:c}=i;s.opts.next?(a=l===void 0?1:l,o=c):a=1;const h=e.const("len",(0,ft._)`${n}.length`);if(t.setParams({min:a,max:o}),o===void 0&&a===0){(0,en.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(o!==void 0&&a>o){(0,en.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,en.alwaysValidSchema)(s,r)){let u=(0,ft._)`${h} >= ${a}`;o!==void 0&&(u=(0,ft._)`${u} && ${h} <= ${o}`),t.pass(u);return}s.items=!0;const p=e.name("valid");o===void 0&&a===1?f(p,()=>e.if(p,()=>e.break())):a===0?(e.let(p,!0),o!==void 0&&e.if((0,ft._)`${n}.length > 0`,k)):(e.let(p,!1),k()),t.result(p,()=>t.reset());function k(){const u=e.name("_valid"),m=e.let("count",0);f(u,()=>e.if(u,()=>g(m)))}function f(u,m){e.forRange("i",0,h,d=>{t.subschema({keyword:"contains",dataProp:d,dataPropType:en.Type.Num,compositeRule:!0},u),m()})}function g(u){e.code((0,ft._)`${u}++`),o===void 0?e.if((0,ft._)`${u} >= ${a}`,()=>e.assign(p,!0).break()):(e.if((0,ft._)`${u} > ${o}`,()=>e.assign(p,!1).break()),a===1?e.assign(p,!0):e.if((0,ft._)`${u} >= ${a}`,()=>e.assign(p,!0)))}}};Ci.default=Bf;var za={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=Oe,r=Te,i=Pe;t.error={message:({params:{property:l,depsCount:c,deps:h}})=>{const p=c===1?"property":"properties";return(0,e.str)`must have ${p} ${h} when property ${l} is present`},params:({params:{property:l,depsCount:c,deps:h,missingProperty:p}})=>(0,e._)`{property: ${l},
    missingProperty: ${p},
    depsCount: ${c},
    deps: ${h}}`};const n={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(l){const[c,h]=s(l);a(l,c),o(l,h)}};function s({schema:l}){const c={},h={};for(const p in l){if(p==="__proto__")continue;const k=Array.isArray(l[p])?c:h;k[p]=l[p]}return[c,h]}function a(l,c=l.schema){const{gen:h,data:p,it:k}=l;if(Object.keys(c).length===0)return;const f=h.let("missing");for(const g in c){const u=c[g];if(u.length===0)continue;const m=(0,i.propertyInData)(h,p,g,k.opts.ownProperties);l.setParams({property:g,depsCount:u.length,deps:u.join(", ")}),k.allErrors?h.if(m,()=>{for(const d of u)(0,i.checkReportMissingProp)(l,d)}):(h.if((0,e._)`${m} && (${(0,i.checkMissingProp)(l,u,f)})`),(0,i.reportMissingProp)(l,f),h.else())}}t.validatePropertyDeps=a;function o(l,c=l.schema){const{gen:h,data:p,keyword:k,it:f}=l,g=h.name("valid");for(const u in c)(0,r.alwaysValidSchema)(f,c[u])||(h.if((0,i.propertyInData)(h,p,u,f.opts.ownProperties),()=>{const m=l.subschema({keyword:k,schemaProp:u},g);l.mergeValidEvaluated(m,g)},()=>h.var(g,!0)),l.ok(g))}t.validateSchemaDeps=o,t.default=n})(za);var Pi={};Object.defineProperty(Pi,"__esModule",{value:!0});const Fa=Oe,Lf=Te,Vf={message:"property name must be valid",params:({params:t})=>(0,Fa._)`{propertyName: ${t.propertyName}}`},qf={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:Vf,code(t){const{gen:e,schema:r,data:i,it:n}=t;if((0,Lf.alwaysValidSchema)(n,r))return;const s=e.name("valid");e.forIn("key",i,a=>{t.setParams({propertyName:a}),t.subschema({keyword:"propertyNames",data:a,dataTypes:["string"],propertyName:a,compositeRule:!0},s),e.if((0,Fa.not)(s),()=>{t.error(!0),n.allErrors||e.break()})}),t.ok(s)}};Pi.default=qf;var Sn={};Object.defineProperty(Sn,"__esModule",{value:!0});const tn=Pe,_t=Oe,Kf=Tt,rn=Te,Wf={message:"must NOT have additional properties",params:({params:t})=>(0,_t._)`{additionalProperty: ${t.additionalProperty}}`},Gf={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Wf,code(t){const{gen:e,schema:r,parentSchema:i,data:n,errsCount:s,it:a}=t;if(!s)throw new Error("ajv implementation error");const{allErrors:o,opts:l}=a;if(a.props=!0,l.removeAdditional!=="all"&&(0,rn.alwaysValidSchema)(a,r))return;const c=(0,tn.allSchemaProperties)(i.properties),h=(0,tn.allSchemaProperties)(i.patternProperties);p(),t.ok((0,_t._)`${s} === ${Kf.default.errors}`);function p(){e.forIn("key",n,m=>{!c.length&&!h.length?g(m):e.if(k(m),()=>g(m))})}function k(m){let d;if(c.length>8){const y=(0,rn.schemaRefOrVal)(a,i.properties,"properties");d=(0,tn.isOwnProperty)(e,y,m)}else c.length?d=(0,_t.or)(...c.map(y=>(0,_t._)`${m} === ${y}`)):d=_t.nil;return h.length&&(d=(0,_t.or)(d,...h.map(y=>(0,_t._)`${(0,tn.usePattern)(t,y)}.test(${m})`))),(0,_t.not)(d)}function f(m){e.code((0,_t._)`delete ${n}[${m}]`)}function g(m){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){f(m);return}if(r===!1){t.setParams({additionalProperty:m}),t.error(),o||e.break();return}if(typeof r=="object"&&!(0,rn.alwaysValidSchema)(a,r)){const d=e.name("valid");l.removeAdditional==="failing"?(u(m,d,!1),e.if((0,_t.not)(d),()=>{t.reset(),f(m)})):(u(m,d),o||e.if((0,_t.not)(d),()=>e.break()))}}function u(m,d,y){const w={keyword:"additionalProperties",dataProp:m,dataPropType:rn.Type.Str};y===!1&&Object.assign(w,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(w,d)}}};Sn.default=Gf;var Oi={};Object.defineProperty(Oi,"__esModule",{value:!0});const xf=bt,ys=Pe,zn=Te,bs=Sn,Hf={keyword:"properties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,parentSchema:i,data:n,it:s}=t;s.opts.removeAdditional==="all"&&i.additionalProperties===void 0&&bs.default.code(new xf.KeywordCxt(s,bs.default,"additionalProperties"));const a=(0,ys.allSchemaProperties)(r);for(const p of a)s.definedProperties.add(p);s.opts.unevaluated&&a.length&&s.props!==!0&&(s.props=zn.mergeEvaluated.props(e,(0,zn.toHash)(a),s.props));const o=a.filter(p=>!(0,zn.alwaysValidSchema)(s,r[p]));if(o.length===0)return;const l=e.name("valid");for(const p of o)c(p)?h(p):(e.if((0,ys.propertyInData)(e,n,p,s.opts.ownProperties)),h(p),s.allErrors||e.else().var(l,!0),e.endIf()),t.it.definedProperties.add(p),t.ok(l);function c(p){return s.opts.useDefaults&&!s.compositeRule&&r[p].default!==void 0}function h(p){t.subschema({keyword:"properties",schemaProp:p,dataProp:p},l)}}};Oi.default=Hf;var Ii={};Object.defineProperty(Ii,"__esModule",{value:!0});const ws=Pe,nn=Oe,ks=Te,$s=Te,Zf={keyword:"patternProperties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,data:i,parentSchema:n,it:s}=t,{opts:a}=s,o=(0,ws.allSchemaProperties)(r),l=o.filter(u=>(0,ks.alwaysValidSchema)(s,r[u]));if(o.length===0||l.length===o.length&&(!s.opts.unevaluated||s.props===!0))return;const c=a.strictSchema&&!a.allowMatchingProperties&&n.properties,h=e.name("valid");s.props!==!0&&!(s.props instanceof nn.Name)&&(s.props=(0,$s.evaluatedPropsToName)(e,s.props));const{props:p}=s;k();function k(){for(const u of o)c&&f(u),s.allErrors?g(u):(e.var(h,!0),g(u),e.if(h))}function f(u){for(const m in c)new RegExp(u).test(m)&&(0,ks.checkStrictMode)(s,`property ${m} matches pattern ${u} (use allowMatchingProperties)`)}function g(u){e.forIn("key",i,m=>{e.if((0,nn._)`${(0,ws.usePattern)(t,u)}.test(${m})`,()=>{const d=l.includes(u);d||t.subschema({keyword:"patternProperties",schemaProp:u,dataProp:m,dataPropType:$s.Type.Str},h),s.opts.unevaluated&&p!==!0?e.assign((0,nn._)`${p}[${m}]`,!0):!d&&!s.allErrors&&e.if((0,nn.not)(h),()=>e.break())})})}}};Ii.default=Zf;var Ri={};Object.defineProperty(Ri,"__esModule",{value:!0});const Jf=Te,Yf={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){const{gen:e,schema:r,it:i}=t;if((0,Jf.alwaysValidSchema)(i,r)){t.fail();return}const n=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},n),t.failResult(n,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};Ri.default=Yf;var Ni={};Object.defineProperty(Ni,"__esModule",{value:!0});const Qf=Pe,Xf={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Qf.validateUnion,error:{message:"must match a schema in anyOf"}};Ni.default=Xf;var Ti={};Object.defineProperty(Ti,"__esModule",{value:!0});const un=Oe,ed=Te,td={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,un._)`{passingSchemas: ${t.passing}}`},rd={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:td,code(t){const{gen:e,schema:r,parentSchema:i,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(n.opts.discriminator&&i.discriminator)return;const s=r,a=e.let("valid",!1),o=e.let("passing",null),l=e.name("_valid");t.setParams({passing:o}),e.block(c),t.result(a,()=>t.reset(),()=>t.error(!0));function c(){s.forEach((h,p)=>{let k;(0,ed.alwaysValidSchema)(n,h)?e.var(l,!0):k=t.subschema({keyword:"oneOf",schemaProp:p,compositeRule:!0},l),p>0&&e.if((0,un._)`${l} && ${a}`).assign(a,!1).assign(o,(0,un._)`[${o}, ${p}]`).else(),e.if(l,()=>{e.assign(a,!0),e.assign(o,p),k&&t.mergeEvaluated(k,un.Name)})})}}};Ti.default=rd;var ji={};Object.defineProperty(ji,"__esModule",{value:!0});const nd=Te,id={keyword:"allOf",schemaType:"array",code(t){const{gen:e,schema:r,it:i}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");const n=e.name("valid");r.forEach((s,a)=>{if((0,nd.alwaysValidSchema)(i,s))return;const o=t.subschema({keyword:"allOf",schemaProp:a},n);t.ok(n),t.mergeEvaluated(o)})}};ji.default=id;var Di={};Object.defineProperty(Di,"__esModule",{value:!0});const bn=Oe,Ua=Te,sd={message:({params:t})=>(0,bn.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,bn._)`{failingKeyword: ${t.ifClause}}`},ad={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:sd,code(t){const{gen:e,parentSchema:r,it:i}=t;r.then===void 0&&r.else===void 0&&(0,Ua.checkStrictMode)(i,'"if" without "then" and "else" is ignored');const n=Es(i,"then"),s=Es(i,"else");if(!n&&!s)return;const a=e.let("valid",!0),o=e.name("_valid");if(l(),t.reset(),n&&s){const h=e.let("ifClause");t.setParams({ifClause:h}),e.if(o,c("then",h),c("else",h))}else n?e.if(o,c("then")):e.if((0,bn.not)(o),c("else"));t.pass(a,()=>t.error(!0));function l(){const h=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},o);t.mergeEvaluated(h)}function c(h,p){return()=>{const k=t.subschema({keyword:h},o);e.assign(a,o),t.mergeValidEvaluated(k,a),p?e.assign(p,(0,bn._)`${h}`):t.setParams({ifClause:h})}}}};function Es(t,e){const r=t.schema[e];return r!==void 0&&!(0,Ua.alwaysValidSchema)(t,r)}Di.default=ad;var zi={};Object.defineProperty(zi,"__esModule",{value:!0});const od=Te,ld={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,od.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};zi.default=ld;Object.defineProperty(Ei,"__esModule",{value:!0});const cd=$r,ud=Si,fd=Er,dd=Ai,hd=Ci,pd=za,md=Pi,gd=Sn,_d=Oi,vd=Ii,yd=Ri,bd=Ni,wd=Ti,kd=ji,$d=Di,Ed=zi;function Sd(t=!1){const e=[yd.default,bd.default,wd.default,kd.default,$d.default,Ed.default,md.default,gd.default,pd.default,_d.default,vd.default];return t?e.push(ud.default,dd.default):e.push(cd.default,fd.default),e.push(hd.default),e}Ei.default=Sd;var Fi={},Ui={};Object.defineProperty(Ui,"__esModule",{value:!0});const Ge=Oe,Ad={message:({schemaCode:t})=>(0,Ge.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,Ge._)`{format: ${t}}`},Cd={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:Ad,code(t,e){const{gen:r,data:i,$data:n,schema:s,schemaCode:a,it:o}=t,{opts:l,errSchemaPath:c,schemaEnv:h,self:p}=o;if(!l.validateFormats)return;n?k():f();function k(){const g=r.scopeValue("formats",{ref:p.formats,code:l.code.formats}),u=r.const("fDef",(0,Ge._)`${g}[${a}]`),m=r.let("fType"),d=r.let("format");r.if((0,Ge._)`typeof ${u} == "object" && !(${u} instanceof RegExp)`,()=>r.assign(m,(0,Ge._)`${u}.type || "string"`).assign(d,(0,Ge._)`${u}.validate`),()=>r.assign(m,(0,Ge._)`"string"`).assign(d,u)),t.fail$data((0,Ge.or)(y(),w()));function y(){return l.strictSchema===!1?Ge.nil:(0,Ge._)`${a} && !${d}`}function w(){const E=h.$async?(0,Ge._)`(${u}.async ? await ${d}(${i}) : ${d}(${i}))`:(0,Ge._)`${d}(${i})`,O=(0,Ge._)`(typeof ${d} == "function" ? ${E} : ${d}.test(${i}))`;return(0,Ge._)`${d} && ${d} !== true && ${m} === ${e} && !${O}`}}function f(){const g=p.formats[s];if(!g){y();return}if(g===!0)return;const[u,m,d]=w(g);u===e&&t.pass(E());function y(){if(l.strictSchema===!1){p.logger.warn(O());return}throw new Error(O());function O(){return`unknown format "${s}" ignored in schema at path "${c}"`}}function w(O){const I=O instanceof RegExp?(0,Ge.regexpCode)(O):l.code.formats?(0,Ge._)`${l.code.formats}${(0,Ge.getProperty)(s)}`:void 0,S=r.scopeValue("formats",{key:s,ref:O,code:I});return typeof O=="object"&&!(O instanceof RegExp)?[O.type||"string",O.validate,(0,Ge._)`${S}.validate`]:["string",O,S]}function E(){if(typeof g=="object"&&!(g instanceof RegExp)&&g.async){if(!h.$async)throw new Error("async format in sync schema");return(0,Ge._)`await ${d}(${i})`}return typeof m=="function"?(0,Ge._)`${d}(${i})`:(0,Ge._)`${d}.test(${i})`}}}};Ui.default=Cd;Object.defineProperty(Fi,"__esModule",{value:!0});const Pd=Ui,Od=[Pd.default];Fi.default=Od;var kr={};Object.defineProperty(kr,"__esModule",{value:!0});kr.contentVocabulary=kr.metadataVocabulary=void 0;kr.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];kr.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(ci,"__esModule",{value:!0});const Id=ui,Rd=di,Nd=Ei,Td=Fi,Ss=kr,jd=[Id.default,Rd.default,(0,Nd.default)(),Td.default,Ss.metadataVocabulary,Ss.contentVocabulary];ci.default=jd;var Mi={},Ma={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(t.DiscrError||(t.DiscrError={}))})(Ma);Object.defineProperty(Mi,"__esModule",{value:!0});const mr=Oe,xn=Ma,As=st,Dd=Te,zd={message:({params:{discrError:t,tagName:e}})=>t===xn.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,mr._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},Fd={keyword:"discriminator",type:"object",schemaType:"object",error:zd,code(t){const{gen:e,data:r,schema:i,parentSchema:n,it:s}=t,{oneOf:a}=n;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const o=i.propertyName;if(typeof o!="string")throw new Error("discriminator: requires propertyName");if(i.mapping)throw new Error("discriminator: mapping is not supported");if(!a)throw new Error("discriminator: requires oneOf keyword");const l=e.let("valid",!1),c=e.const("tag",(0,mr._)`${r}${(0,mr.getProperty)(o)}`);e.if((0,mr._)`typeof ${c} == "string"`,()=>h(),()=>t.error(!1,{discrError:xn.DiscrError.Tag,tag:c,tagName:o})),t.ok(l);function h(){const f=k();e.if(!1);for(const g in f)e.elseIf((0,mr._)`${c} === ${g}`),e.assign(l,p(f[g]));e.else(),t.error(!1,{discrError:xn.DiscrError.Mapping,tag:c,tagName:o}),e.endIf()}function p(f){const g=e.name("valid"),u=t.subschema({keyword:"oneOf",schemaProp:f},g);return t.mergeEvaluated(u,mr.Name),g}function k(){var f;const g={},u=d(n);let m=!0;for(let E=0;E<a.length;E++){let O=a[E];O!=null&&O.$ref&&!(0,Dd.schemaHasRulesButRef)(O,s.self.RULES)&&(O=As.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,O==null?void 0:O.$ref),O instanceof As.SchemaEnv&&(O=O.schema));const I=(f=O==null?void 0:O.properties)===null||f===void 0?void 0:f[o];if(typeof I!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${o}"`);m=m&&(u||d(O)),y(I,E)}if(!m)throw new Error(`discriminator: "${o}" must be required`);return g;function d({required:E}){return Array.isArray(E)&&E.includes(o)}function y(E,O){if(E.const)w(E.const,O);else if(E.enum)for(const I of E.enum)w(I,O);else throw new Error(`discriminator: "properties/${o}" must have "const" or "enum"`)}function w(E,O){if(typeof E!="string"||E in g)throw new Error(`discriminator: "${o}" values must be unique strings`);g[E]=O}}}};Mi.default=Fd;const Ud="http://json-schema.org/draft-07/schema#",Md="http://json-schema.org/draft-07/schema#",Bd="Core schema meta-schema",Ld={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Vd=["object","boolean"],qd={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Kd={$schema:Ud,$id:Md,title:Bd,definitions:Ld,type:Vd,properties:qd,default:!0};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;const r=aa,i=ci,n=Mi,s=Kd,a=["/properties"],o="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),i.default.forEach(g=>this.addVocabulary(g)),this.opts.discriminator&&this.addKeyword(n.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const g=this.opts.$data?this.$dataMetaSchema(s,a):s;this.addMetaSchema(g,o,!1),this.refs["http://json-schema.org/schema"]=o}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}t.exports=e=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var c=bt;Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var h=Oe;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return h._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return h.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return h.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return h.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return h.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return h.CodeGen}});var p=Kr;Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return p.default}});var k=Wr;Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return k.default}})})(Xl,pn);const Wd=co(pn),Ba=async t=>(await jr.loadAsync(t)).file("pack.mcmeta")!==null,Gd=async t=>{const e=await t.text(),r={type:"array",items:{type:"object",properties:{title:{type:"string"},author:{type:"string"},"disc-namespace":{type:"string"},"model-data":{type:"integer"},"creeper-drop":{type:"boolean"},lores:{type:"array",items:{type:"string"}},"loot-tables":{type:"array",items:{type:"string"}}},required:["author","creeper-drop","disc-namespace","lores","model-data","title"]}};return new Wd().compile(r)(JSON.parse(e))},xd=async(t,e)=>{const r=await t.text(),i=JSON.parse(r),n=await new jr().loadAsync(e),s=await Promise.all(i.map(async a=>{const o=a["disc-namespace"].substring(a["disc-namespace"].indexOf(".")+1),l=await n.file(`assets/minecraft/sounds/records/${o}.ogg`).async("blob"),c=await n.file(`assets/minecraft/textures/item/music_disc_${o}.png`).async("blob");return{name:a.title,author:a.author,namespace:a["disc-namespace"],creeperDrop:a["creeper-drop"],isMono:!0,lores:a.lores.join(`
`),lootTables:a["loot-tables"]??[],uploadedFile:new File([l],`music_disc.${o}.ogg`),oggFile:l,monoFile:l,texture:c}}));Ys.set(s)};function Cs(t){let e,r,i,n,s,a,o,l,c,h,p,k,f,g,u,m,d,y,w,E,O,I,S,F,B,x,oe,T,H,v,W,se,Y,he,L,D,$,C;return{c(){e=ae("div"),r=ae("div"),i=ae("div"),n=ae("input"),s=Ee(),a=ae("img"),l=Ee(),c=ae("p"),c.textContent="Not Valid",h=Ee(),p=ae("p"),k=rt(t[3]),u=Ee(),m=ae("div"),d=ae("input"),y=Ee(),w=ae("img"),O=Ee(),I=ae("p"),I.textContent="Not Valid",S=Ee(),F=ae("p"),B=rt(t[4]),T=Ee(),H=ae("p"),H.textContent="Warning: Importing a resource pack will overwrite any existing resource pack in the tool!",v=Ee(),W=ae("div"),se=ae("div"),Y=ae("div"),Y.innerHTML='<p id="generate_text" class="noselect svelte-1njfzaq">Import</p>',L=Ee(),D=ae("div"),D.innerHTML='<div id="content" class="svelte-1njfzaq"><p id="generate_text" class="noselect svelte-1njfzaq">Discard</p></div>',z(n,"type","file"),z(n,"name","pack_input"),z(n,"id","pack_input"),z(n,"accept",".zip"),z(n,"class","svelte-1njfzaq"),Ve(a.src,o=ti)||z(a,"src",o),z(a,"alt",""),z(a,"class","svelte-1njfzaq"),z(c,"id","error"),z(c,"class","svelte-1njfzaq"),z(i,"class",f=gr(t[1])+" svelte-1njfzaq"),z(d,"type","file"),z(d,"name","discs_input"),z(d,"id","discs_input"),z(d,"accept",".json"),z(d,"class","svelte-1njfzaq"),Ve(w.src,E=ta)||z(w,"src",E),z(w,"alt",""),z(w,"class","svelte-1njfzaq"),z(I,"id","error"),z(I,"class","svelte-1njfzaq"),z(m,"class",x=gr(t[2])+" svelte-1njfzaq"),z(r,"class","popupcontainer svelte-1njfzaq"),dt(H,"color","red"),dt(H,"margin-bottom","0"),z(Y,"id","content"),z(Y,"class","svelte-1njfzaq"),z(se,"id","messagepopupconfirm"),z(se,"class",he="popupconfirm "+t[5]+" svelte-1njfzaq"),z(D,"id","messagepopupconfirm"),z(D,"class","popupconfirm svelte-1njfzaq"),z(W,"id","input"),z(W,"class","svelte-1njfzaq"),z(e,"class","popup svelte-1njfzaq")},m(A,b){pe(A,e,b),ie(e,r),ie(r,i),ie(i,n),ie(i,s),ie(i,a),ie(i,l),ie(i,c),ie(i,h),ie(i,p),ie(p,k),ie(r,u),ie(r,m),ie(m,d),ie(m,y),ie(m,w),ie(m,O),ie(m,I),ie(m,S),ie(m,F),ie(F,B),ie(e,T),ie(e,H),ie(e,v),ie(e,W),ie(W,se),ie(se,Y),ie(W,L),ie(W,D),$||(C=[fe(i,"click",t[7]),fe(i,"keydown",null),fe(m,"click",t[8]),fe(m,"keydown",null),fe(se,"click",t[10]),fe(se,"keydown",null),fe(D,"click",t[6]),fe(D,"keydown",null)],$=!0)},p(A,b){b&8&&wt(k,A[3]),b&2&&f!==(f=gr(A[1])+" svelte-1njfzaq")&&z(i,"class",f),b&16&&wt(B,A[4]),b&4&&x!==(x=gr(A[2])+" svelte-1njfzaq")&&z(m,"class",x),b&32&&he!==(he="popupconfirm "+A[5]+" svelte-1njfzaq")&&z(se,"class",he)},i(A){g||nt(()=>{g=yr(i,ht,{}),g.start()}),oe||nt(()=>{oe=yr(m,ht,{}),oe.start()})},o:ke,d(A){A&&de(e),$=!1,Re(C)}}}function Hd(t){let e,r,i,n,s,a,o,l=t[0]&&Cs(t);return{c(){e=ae("div"),i=Ee(),l&&l.c(),n=mt(),z(e,"class","popupbackground svelte-1njfzaq"),dt(e,"background-image","url("+ei+")")},m(c,h){pe(c,e,h),pe(c,i,h),l&&l.m(c,h),pe(c,n,h),s=!0,a||(o=[fe(e,"click",t[6]),fe(e,"keydown",null)],a=!0)},p(c,[h]){c[0]?l?(l.p(c,h),h&1&&be(l,1)):(l=Cs(c),l.c(),be(l,1),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},i(c){s||(nt(()=>{r||(r=br(e,ht,{},!0)),r.run(1)}),be(l),s=!0)},o(c){r||(r=br(e,ht,{},!1)),r.run(0),s=!1},d(c){c&&de(e),c&&r&&r.end(),c&&de(i),l&&l.d(c),c&&de(n),a=!1,Re(o)}}}function Zd(t,e,r){let i,{closePopup:n}=e;const s=()=>{r(0,n=!1),document.querySelector(".popup").style.display="none"};let a="ready",o="Resource pack",l;const c=()=>{var d;(d=document.querySelector("#pack_input"))==null||d.addEventListener("change",async y=>{const w=y.target.files;if(!w||w.length===0)return;const E=w[0];E.name.length>13?r(3,o=E.name.substring(0,10)+"..."):r(3,o=E.name),await Ba(E)?r(1,a="success"):r(1,a="error"),l=E},{once:!0}),document.querySelector("#pack_input").click()};let h="ready",p="discs.json",k;const f=()=>{var d;(d=document.querySelector("#discs_input"))==null||d.addEventListener("change",async y=>{const w=y.target.files;if(!w||w.length===0)return;const E=w[0];E.name.length>13?r(4,p=E.name.substring(0,10)+"..."):r(4,p=E.name),await Gd(E)?r(2,h="success"):r(2,h="error"),k=E},{once:!0}),document.querySelector("#discs_input").click()};let g=!1;const u=async()=>{a==="success"&&h==="success"&&!g&&(g=!0,await xd(k,l),s())},m=()=>u();return t.$$set=d=>{"closePopup"in d&&r(0,n=d.closePopup)},t.$$.update=()=>{t.$$.dirty&6&&r(5,i=a!=="success"||h!=="success"?"forbid":"")},[n,a,h,o,p,i,s,c,f,u,m]}class Jd extends Nt{constructor(e){super(),Rt(this,e,Zd,Hd,kt,{closePopup:0})}}function Ps(t,e,r){const i=t.slice();return i[10]=e[r][0],i[11]=e[r][1],i}function Os(t){let e,r,i;function n(a){t[7](a)}let s={};return t[1]!==void 0&&(s.closePopup=t[1]),e=new Jd({props:s}),yt.push(()=>Mt(e,"closePopup",n)),{c(){Qe(e.$$.fragment)},m(a,o){Ze(e,a,o),i=!0},p(a,o){const l={};!r&&o&2&&(r=!0,l.closePopup=a[1],Ut(()=>r=!1)),e.$set(l)},i(a){i||(be(e.$$.fragment,a),i=!0)},o(a){Ce(e.$$.fragment,a),i=!1},d(a){Je(e,a)}}}function Yd(t){let e,r,i,n;return{c(){e=ae("img"),Ve(e.src,r=ti)||z(e,"src",r),z(e,"alt","pack icon"),z(e,"id","pack_icon"),z(e,"class","noselect svelte-iv83eq")},m(s,a){pe(s,e,a),i||(n=[fe(e,"click",t[3]),fe(e,"keypress",null)],i=!0)},p:ke,d(s){s&&de(e),i=!1,Re(n)}}}function Is(t){let e,r=t[11]+"",i;return{c(){e=ae("option"),i=rt(r),e.__value=t[10],e.value=e.__value},m(n,s){pe(n,e,s),ie(e,i)},p:ke,d(n){n&&de(e)}}}function Qd(t){let e,r,i;return{c(){e=ae("input"),z(e,"type","button"),z(e,"name","import"),z(e,"id","pack_import"),e.value="import",z(e,"class","svelte-iv83eq")},m(n,s){pe(n,e,s),r||(i=fe(e,"click",t[5]),r=!0)},p:ke,d(n){n&&de(e),r=!1,i()}}}function Xd(t){let e,r,i,n,s,a,o,l,c,h,p,k,f,g,u,m=t[1]&&Os(t);i=new Dt({props:{text:"Sets the resourcepack icon",$$slots:{default:[Yd]},$$scope:{ctx:t}}});let d=[...Xi],y=[];for(let w=0;w<d.length;w+=1)y[w]=Is(Ps(t,d,w));return k=new Dt({props:{text:"Import an existing resourcepack",right:!1,$$slots:{default:[Qd]},$$scope:{ctx:t}}}),{c(){m&&m.c(),e=Ee(),r=ae("div"),Qe(i.$$.fragment),n=Ee(),s=ae("input"),a=Ee(),o=ae("input"),l=Ee(),c=ae("select");for(let w=0;w<y.length;w+=1)y[w].c();h=Ee(),p=ae("div"),Qe(k.$$.fragment),z(s,"type","file"),z(s,"name","pack_icon"),z(s,"id","pack_icon_input"),z(s,"class","hidden"),z(s,"accept","image/png"),z(o,"type","text"),z(o,"name","pack_name"),z(o,"id","pack_name_input"),z(o,"class","svelte-iv83eq"),z(c,"name","version"),z(c,"id","version_input"),z(c,"class","svelte-iv83eq"),t[2]===void 0&&nt(()=>t[9].call(c)),z(p,"id","import_container"),z(p,"class","svelte-iv83eq"),z(r,"id","header"),z(r,"class","svelte-iv83eq")},m(w,E){m&&m.m(w,E),pe(w,e,E),pe(w,r,E),Ze(i,r,null),ie(r,n),ie(r,s),ie(r,a),ie(r,o),Gt(o,t[0]),ie(r,l),ie(r,c);for(let O=0;O<y.length;O+=1)y[O].m(c,null);Ji(c,t[2]),ie(r,h),ie(r,p),Ze(k,p,null),f=!0,g||(u=[fe(o,"input",t[8]),fe(o,"input",t[4]),fe(c,"change",t[9])],g=!0)},p(w,[E]){w[1]?m?(m.p(w,E),E&2&&be(m,1)):(m=Os(w),m.c(),be(m,1),m.m(e.parentNode,e)):m&&(Ot(),Ce(m,1,1,()=>{m=null}),It());const O={};if(E&16384&&(O.$$scope={dirty:E,ctx:w}),i.$set(O),E&1&&o.value!==w[0]&&Gt(o,w[0]),E&0){d=[...Xi];let S;for(S=0;S<d.length;S+=1){const F=Ps(w,d,S);y[S]?y[S].p(F,E):(y[S]=Is(F),y[S].c(),y[S].m(c,null))}for(;S<y.length;S+=1)y[S].d(1);y.length=d.length}E&4&&Ji(c,w[2]);const I={};E&16384&&(I.$$scope={dirty:E,ctx:w}),k.$set(I)},i(w){f||(be(m),be(i.$$.fragment,w),be(k.$$.fragment,w),f=!0)},o(w){Ce(m),Ce(i.$$.fragment,w),Ce(k.$$.fragment,w),f=!1},d(w){m&&m.d(w),w&&de(e),w&&de(r),Je(i),wn(y,w),Je(k),g=!1,Re(u)}}}function eh(t,e,r){let i;Fs(t,hn,f=>r(2,i=f));let{packname:n="your_pack_name"}=e,{imagesrc:s=ti}=e;const a=()=>{var f;(f=document.querySelector("#pack_icon_input"))==null||f.addEventListener("change",()=>{const g=document.querySelector("#pack_icon_input").files;if(!g||g.length===0)return;const u=g[0],m=new FileReader;m.onload=()=>{const d=new Image;d.onload=()=>{const y=document.createElement("canvas");y.width=64,y.height=64,y.getContext("2d").drawImage(d,0,0,64,64);const E=y.toDataURL("image/png");document.querySelector("#pack_icon").src=E},r(6,s=d.src=m.result)},m.readAsDataURL(u)},{once:!0}),document.querySelector("#pack_icon_input").click()},o=()=>{r(0,n=n.replace(" ","_").replace(/[^a-zA-Z0-9_]/g,"").toLowerCase())};let l=!1;const c=()=>{r(1,l=!0)};function h(f){l=f,r(1,l)}function p(){n=this.value,r(0,n)}function k(){i=Xa(this),hn.set(i)}return t.$$set=f=>{"packname"in f&&r(0,n=f.packname),"imagesrc"in f&&r(6,s=f.imagesrc)},[n,l,i,a,o,c,s,h,p,k]}class th extends Nt{constructor(e){super(),Rt(this,e,eh,Xd,kt,{packname:0,imagesrc:6})}}function Rs(t){let e,r,i,n,s,a,o;return{c(){e=ae("div"),r=ae("div"),i=rt(t[1]),n=Ee(),s=ae("div"),s.innerHTML='<div id="content" class="svelte-16n0rxp"><p id="generate_text" class="noselect svelte-16n0rxp">OK</p></div>',z(r,"class","popupcontainer svelte-16n0rxp"),z(r,"id","messagepopupcontainer"),z(s,"id","messagepopupconfirm"),z(s,"class","popupconfirm svelte-16n0rxp"),z(e,"class","popup svelte-16n0rxp")},m(l,c){pe(l,e,c),ie(e,r),ie(r,i),ie(e,n),ie(e,s),a||(o=[fe(s,"click",t[2]),fe(s,"keydown",null)],a=!0)},p(l,c){c&2&&wt(i,l[1])},d(l){l&&de(e),a=!1,Re(o)}}}function rh(t){let e,r,i,n,s,a,o,l=t[0]&&Rs(t);return{c(){e=ae("div"),i=Ee(),l&&l.c(),n=mt(),z(e,"class","popupbackground svelte-16n0rxp"),dt(e,"background-image","url("+ei+")")},m(c,h){pe(c,e,h),pe(c,i,h),l&&l.m(c,h),pe(c,n,h),s=!0,a||(o=[fe(e,"click",t[2]),fe(e,"keydown",null)],a=!0)},p(c,[h]){c[0]?l?l.p(c,h):(l=Rs(c),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},i(c){s||(nt(()=>{r||(r=br(e,ht,{},!0)),r.run(1)}),s=!0)},o(c){r||(r=br(e,ht,{},!1)),r.run(0),s=!1},d(c){c&&de(e),c&&r&&r.end(),c&&de(i),l&&l.d(c),c&&de(n),a=!1,Re(o)}}}function nh(t,e,r){let{text:i}=e,{closePopup:n}=e;const s=()=>{r(0,n=!1)};return t.$$set=a=>{"text"in a&&r(1,i=a.text),"closePopup"in a&&r(0,n=a.closePopup)},[n,i,s]}class ih extends Nt{constructor(e){super(),Rt(this,e,nh,rh,kt,{text:1,closePopup:0})}}const Bi="/jext-reborn/assets/generate_btn-516338f5.png",sh="data:image/gif;base64,R0lGODdhEAAQAHcAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCgAAACwAAAAAEAAQAIAAAAD///8CI4QfccuZDB2MarZq18sIc7B9oGc55PSEaKVSXUlK3Tma7XUXACH5BAkKAAAALAAAAAAQABAAgAAAAP///wIjhB8Zx6jfjGKTrgiSw1hz+zVeKF1kZp4jubIpaKWV+MydbRQAIfkECQoAAAAsAAAAABAAEACAAAAA////AiOEHxnHqN+MYpOuCJLDO1+uaZwjjl5peqm1St+KphU8yy9TAAAh+QQJCgAAACwAAAAAEAAQAIAAAAD///8CI4QfGceo34xik64IksM7X65pnCOOXjlCpsemFxqVcIeA630XACH5BAkKAAAALAAAAAAQABAAgAAAAP///wIihB8Zx6jfjGKTrgiSwztfrmmcI46eaaEdWrKf2YJxBLlRAQAh+QQJCgAAACwAAAAAEAAQAIAAAAD///8CIoQfGceo34xik64IEt56t+5ZoThKVwmGqXquzpdW8ONabgEAIfkECQoAAAAsAAAAABAAEACAAAAA////AiOEbxHIrNoieDLC6hY+dyftPWAlhktnaWjTrdw4oRQrzlLJFAAh+QQJCgAAACwAAAIAEAAOAIAAAAD///8CI4RjmajBep6DcAJL43054r59nSNmU9kw6CJxafWRJkmDoQsUADs=",ah="data:text/plain;base64,IyBIb3cgdG8gc2V0dXAgdGhlIHBsdWdpbgoKIyMgT25jZSB5b3UgaGF2ZSBkb3dubG9hZGVkIHRoaXMgZmlsZSBwdXQgdGhlIGRpc2NzLmpzb24gZmlsZSBpbiB0aGUgcm9vdCBvZiBwbHVnaW4gZGlyZWN0b3J5CgpgYGAKU2VydmVyCuKUlOKUgOKUgOKUgC4uLgrilJTilIDilIDilIBwbHVnaW5zCiAgICDilJTilIDilIDilIBKdWtlYm94RXh0ZW5kZWRSZWJvcm4KICAgIOKUgiAgIOKUlOKUgOKUgOKUgGRpc2NzLmpzb24KCeKUggnilJTilIDilIDilIBjb25maWcuanNvbgoJ4pSCCeKUlOKUgOKUgOKUgC4uLgoJ4pSU4pSA4pSA4pSASmV4dC5qYXIKCeKUlOKUgOKUgOKUgC4uLgpgYGAKCiMjIEFzIGZvciB0aGUgcmVzb3VyY2UgcGFjayBmaWxlIHlvdSBjYW4gc2V0IGl0IHVwIGJ5IGVkaXRpbmcgdGhlIHNlcnZlciBjb25maWcgZmlsZQoKRXhhbXBsZSB1cGxvYWQgeW91ciBmaWxlIHRvIGRyb3Bib3guCkdlbmVyYXRlIGEgZG93bmxvYWQgdXJsIGFuZCByZXBsYWNlIHRoZSBkbD0wIGF0IHRoZSBlbmQgb2YgdGhlIHVybCB3aXRoIGEgZGw9MQoKRXhhbXBsZToKb3JpZ2luYWwgdXJsOiBodHRwczovL3d3dy5kcm9wYm94LmNvbS9zL21zaWU3aHVjbnBia2Z5L3Rlc3QuUE5HP2RsPTAKZWRpdGVkICAgdXJsOiBodHRwczovL3d3dy5kcm9wYm94LmNvbS9zL21zaWU3aHVjbnBia2Z5L3Rlc3QuUE5HP2RsPTEKCnRoZW4gaW4gdGhlIHNlcnZlci5wcm9wZXJ0aWVzIGZpbGUgc2V0IHRoZSBzZXJ2ZXItcmVzb3VyY2UtcGFjayB0byB0aGUgZWRpdGVkIHVybAoKIyBZb3VyIHBsdWdpbiBpcyBub3cgcmVhZHkgdG8gZ28sIHJlc3RhcnQgdGhlIHNlcnZlciB0byBzdGFydCB1c2luZyBqZXh0";let La;hn.subscribe(t=>La=t);const oh=async(t,e,r,i)=>new Promise(async n=>{const s=new jr,a=`
			{"pack": {"pack_format": ${La},"description": "Adds custom musics discs"}}
		`;s.file("pack.mcmeta",a);const l=await(await(await fetch(e)).blob()).arrayBuffer();s.file("pack.png",l);const c=s.folder("assets").folder("minecraft"),h={};t.forEach(u=>{h[`music_disc.${u.namespace}`]={sounds:[{name:`records/${u.namespace}`,stream:!0}]}}),c.file("sounds.json",JSON.stringify(h,null,2));const p=c.folder("models").folder("item"),k=c.folder("sounds").folder("records"),f=c.folder("textures").folder("item"),g={parent:"item/generated",textures:{layer0:"item/music_disc_11"},overrides:t.map((u,m)=>({predicate:{custom_model_data:m+1},model:`item/music_disc_${u.namespace}`}))};p.file("music_disc_11.json",JSON.stringify(g,null,2)),await Promise.all(t.map(async u=>{u.isMono&&(u.monoFile=await Xo(u.oggFile))}));for(let u=0;u<t.length;u++){const m=t[u],d=await(await el(m.texture,16,16)).arrayBuffer();f.file(`music_disc_${m.namespace}.png`,d);const y=m.isMono?await m.monoFile.arrayBuffer():await m.oggFile.arrayBuffer();k.file(`${m.namespace}.ogg`,y),p.file(`music_disc_${m.namespace}.json`,JSON.stringify({parent:"item/generated",textures:{layer0:`item/music_disc_${m.namespace}`}},null,2))}if(i){const u=document.createElement("input");u.type="file",u.accept=".zip",u.click(),await new Promise((m,d)=>{u.onchange=async()=>{(!u.files||u.files.length==0)&&d("No file was selected"),await Ba(u.files[0])||d("The selected file is not a valid resource pack");const y=u.files[0];await(await jr.loadAsync(y)).forEach(async(E,O)=>{E!="pack.mcmeta"&&E!="pack.png"&&(O.dir?s.folder(E)||s.folder(E):s.file(E)?d("Cannot merge resource pack manually as there are conflicting files"):s.file(E,await O.async("arraybuffer")))}),m()}}).catch(m=>{alert(m),n()})}s.generateAsync({type:"blob"}).then(async u=>{const m=new jr,d=await Promise.all(t.map(async(y,w)=>({title:y.name,author:y.author,duration:await lh(y.isMono?y.monoFile:y.oggFile),"disc-namespace":`music_disc.${y.namespace}`,"model-data":w+1,"creeper-drop":y.creeperDrop,lores:y.lores.split(`
`),"loot-tables":y.lootTables.join(",").split(",")})));m.file("README.md",await(await fetch(ah)).arrayBuffer()),m.file(`${r}.zip`,await u.arrayBuffer()),m.file("discs.json",JSON.stringify(d,null,2)),m.generateAsync({type:"blob"}).then(async y=>{nl(y,"open me.zip"),n()})})}),lh=async t=>new Promise(e=>{const r=document.createElement("audio");r.src=URL.createObjectURL(t),r.onloadedmetadata=()=>{URL.revokeObjectURL(r.src),e(Math.ceil(r.duration))}}),ch="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAMCAYAAABm+U3GAAAAAXNSR0IArs4c6QAAAF5JREFUOI2tksECwCAIQmH//890aTvUTKw8GrxIoyQBAEniQr28Z2zcgAIAp8Zm8pHB6OAE+iU+gUeeyVyBr7S/RgeeacJEK6Nzcfmp7qjSBUX/O5t/efMOtFTq5eob3NNX+dvBeeAAAAAASUVORK5CYII=";function Ns(t,e,r){const i=t.slice();return i[6]=e[r],i}function Ts(t){let e,r=t[1],i=[];for(let n=0;n<r.length;n+=1)i[n]=js(Ns(t,r,n));return{c(){e=ae("div");for(let n=0;n<i.length;n+=1)i[n].c();z(e,"id","openmenu"),z(e,"class","svelte-14kdzrj")},m(n,s){pe(n,e,s);for(let a=0;a<i.length;a+=1)i[a].m(e,null)},p(n,s){if(s&18){r=n[1];let a;for(a=0;a<r.length;a+=1){const o=Ns(n,r,a);i[a]?i[a].p(o,s):(i[a]=js(o),i[a].c(),i[a].m(e,null))}for(;a<i.length;a+=1)i[a].d(1);i.length=r.length}},d(n){n&&de(e),wn(i,n)}}}function js(t){let e,r=t[6]+"",i,n,s;function a(){return t[5](t[6])}return{c(){e=ae("div"),i=rt(r),z(e,"class","selectopt svelte-14kdzrj")},m(o,l){pe(o,e,l),ie(e,i),n||(s=[fe(e,"click",a),fe(e,"keydown",null)],n=!0)},p(o,l){t=o,l&2&&r!==(r=t[6]+"")&&wt(i,r)},d(o){o&&de(e),n=!1,Re(s)}}}function uh(t){let e,r,i,n,s,a,o,l,c,h,p,k,f=t[2]&&Ts(t);return{c(){f&&f.c(),e=Ee(),r=ae("div"),i=ae("div"),n=ae("div"),s=rt(t[0]),a=Ee(),o=ae("div"),l=ae("img"),z(n,"id","selectedoption"),z(n,"class","svelte-14kdzrj"),Ve(l.src,c=ch)||z(l,"src",c),z(l,"alt","🢓"),z(l,"id","arrow"),z(l,"class",h=gr(t[2]?"active":"")+" svelte-14kdzrj"),z(o,"id","arrowcontainer"),z(o,"class","svelte-14kdzrj"),z(i,"id","row"),z(i,"class","svelte-14kdzrj"),z(r,"id","container"),z(r,"class","svelte-14kdzrj")},m(g,u){f&&f.m(g,u),pe(g,e,u),pe(g,r,u),ie(r,i),ie(i,n),ie(n,s),ie(i,a),ie(i,o),ie(o,l),p||(k=[fe(o,"click",t[3]),fe(o,"keydown",null)],p=!0)},p(g,[u]){g[2]?f?f.p(g,u):(f=Ts(g),f.c(),f.m(e.parentNode,e)):f&&(f.d(1),f=null),u&1&&wt(s,g[0]),u&4&&h!==(h=gr(g[2]?"active":"")+" svelte-14kdzrj")&&z(l,"class",h)},i:ke,o:ke,d(g){f&&f.d(g),g&&de(e),g&&de(r),p=!1,Re(k)}}}function fh(t,e,r){let{options:i}=e,{selected:n=i[0]}=e,s=!1;const a=()=>{r(2,s=!s)},o=c=>{r(0,n=c),r(2,s=!1)},l=c=>o(c);return t.$$set=c=>{"options"in c&&r(1,i=c.options),"selected"in c&&r(0,n=c.selected)},[n,i,s,a,o,l]}class dh extends Nt{constructor(e){super(),Rt(this,e,fh,uh,kt,{options:1,selected:0})}}function Ds(t){let e,r,i;function n(a){t[8](a)}let s={text:"Add at least a disc"};return t[3]!==void 0&&(s.closePopup=t[3]),e=new ih({props:s}),yt.push(()=>Mt(e,"closePopup",n)),{c(){Qe(e.$$.fragment)},m(a,o){Ze(e,a,o),i=!0},p(a,o){const l={};!r&&o&8&&(r=!0,l.closePopup=a[3],Ut(()=>r=!1)),e.$set(l)},i(a){i||(be(e.$$.fragment,a),i=!0)},o(a){Ce(e.$$.fragment,a),i=!1},d(a){Je(e,a)}}}function hh(t){let e,r,i,n;function s(h,p){return h[2].length>0?gh:mh}let a=s(t),o=a(t);function l(h){t[12](h)}let c={options:["Generate","Merge"]};return t[4]!==void 0&&(c.selected=t[4]),r=new dh({props:c}),yt.push(()=>Mt(r,"selected",l)),{c(){o.c(),e=Ee(),Qe(r.$$.fragment)},m(h,p){o.m(h,p),pe(h,e,p),Ze(r,h,p),n=!0},p(h,p){a===(a=s(h))&&o?o.p(h,p):(o.d(1),o=a(h),o&&(o.c(),o.m(e.parentNode,e)));const k={};!i&&p&16&&(i=!0,k.selected=h[4],Ut(()=>i=!1)),r.$set(k)},i(h){n||(be(r.$$.fragment,h),n=!0)},o(h){Ce(r.$$.fragment,h),n=!1},d(h){o.d(h),h&&de(e),Je(r,h)}}}function ph(t){let e,r,i;return{c(){e=ae("div"),r=ae("img"),Ve(r.src,i=sh)||z(r,"src",i),z(r,"alt","loading"),z(r,"height","32"),z(r,"width","32"),z(e,"id","generate_button"),dt(e,"background-image","url("+Bi+")"),z(e,"class","svelte-t4a3jn")},m(n,s){pe(n,e,s),ie(e,r)},p:ke,i:ke,o:ke,d(n){n&&de(e)}}}function mh(t){let e,r,i;return{c(){e=ae("div"),z(e,"id","generate_button"),dt(e,"background-image","url("+Bi+")"),z(e,"class","grayscale svelte-t4a3jn")},m(n,s){pe(n,e,s),r||(i=[fe(e,"click",t[6]),fe(e,"keydown",null)],r=!0)},p:ke,d(n){n&&de(e),r=!1,Re(i)}}}function gh(t){let e,r,i;return{c(){e=ae("div"),z(e,"id","generate_button"),dt(e,"background-image","url("+Bi+")"),z(e,"class","svelte-t4a3jn")},m(n,s){pe(n,e,s),r||(i=[fe(e,"click",t[7]),fe(e,"keydown",null)],r=!0)},p:ke,d(n){n&&de(e),r=!1,Re(i)}}}function _h(t){let e,r,i,n,s,a,o,l,c,h,p,k,f,g=t[3]&&Ds(t);function u(S){t[9](S)}function m(S){t[10](S)}let d={};t[1]!==void 0&&(d.packname=t[1]),t[0]!==void 0&&(d.imagesrc=t[0]),i=new th({props:d}),yt.push(()=>Mt(i,"packname",u)),yt.push(()=>Mt(i,"imagesrc",m));function y(S){t[11](S)}let w={};t[2]!==void 0&&(w.discData=t[2]),o=new Yl({props:w}),yt.push(()=>Mt(o,"discData",y));const E=[ph,hh],O=[];function I(S,F){return S[5]?0:1}return p=I(t),k=O[p]=E[p](t),{c(){e=ae("main"),g&&g.c(),r=Ee(),Qe(i.$$.fragment),a=Ee(),Qe(o.$$.fragment),c=Ee(),h=ae("div"),k.c(),z(h,"id","footer"),z(h,"class","svelte-t4a3jn"),z(e,"class","svelte-t4a3jn")},m(S,F){pe(S,e,F),g&&g.m(e,null),ie(e,r),Ze(i,e,null),ie(e,a),Ze(o,e,null),ie(e,c),ie(e,h),O[p].m(h,null),f=!0},p(S,[F]){S[3]?g?(g.p(S,F),F&8&&be(g,1)):(g=Ds(S),g.c(),be(g,1),g.m(e,r)):g&&(Ot(),Ce(g,1,1,()=>{g=null}),It());const B={};!n&&F&2&&(n=!0,B.packname=S[1],Ut(()=>n=!1)),!s&&F&1&&(s=!0,B.imagesrc=S[0],Ut(()=>s=!1)),i.$set(B);const x={};!l&&F&4&&(l=!0,x.discData=S[2],Ut(()=>l=!1)),o.$set(x);let oe=p;p=I(S),p===oe?O[p].p(S,F):(Ot(),Ce(O[oe],1,1,()=>{O[oe]=null}),It(),k=O[p],k?k.p(S,F):(k=O[p]=E[p](S),k.c()),be(k,1),k.m(h,null))},i(S){f||(be(g),be(i.$$.fragment,S),be(o.$$.fragment,S),be(k),f=!0)},o(S){Ce(g),Ce(i.$$.fragment,S),Ce(o.$$.fragment,S),Ce(k),f=!1},d(S){S&&de(e),g&&g.d(),Je(i),Je(o),O[p].d()}}}function vh(t,e,r){let i,n,s=[],a=!1,o="Generate",l=!1;const c=()=>{r(3,a=!0)},h=async()=>{l||(r(5,l=!0),await oh(s,i,n,o=="Merge"),r(5,l=!1))};function p(m){a=m,r(3,a)}function k(m){n=m,r(1,n)}function f(m){i=m,r(0,i)}function g(m){s=m,r(2,s)}function u(m){o=m,r(4,o)}return[i,n,s,a,o,l,c,h,p,k,f,g,u]}class yh extends Nt{constructor(e){super(),Rt(this,e,vh,_h,kt,{})}}new yh({target:document.getElementById("app")});
