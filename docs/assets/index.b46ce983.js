(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerpolicy&&(n.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?n.credentials="include":r.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(r){if(r.ep)return;r.ep=!0;const n=t(r);fetch(r.href,n)}})();function lt(){}const Ee=i=>i;function bn(i,e){for(const t in e)i[t]=e[t];return i}function yn(i){return i&&typeof i=="object"&&typeof i.then=="function"}function Xe(i){return i()}function De(){return Object.create(null)}function _t(i){i.forEach(Xe)}function Tt(i){return typeof i=="function"}function Wt(i,e){return i!=i?e==e:i!==e||i&&typeof i=="object"||typeof i=="function"}let ae;function wt(i,e){return ae||(ae=document.createElement("a")),ae.href=e,i===ae.href}function wn(i){return Object.keys(i).length===0}function kn(i,e,t,o){if(i){const r=Qe(i,e,t,o);return i[0](r)}}function Qe(i,e,t,o){return i[1]&&o?bn(t.ctx.slice(),i[1](o(e))):t.ctx}function An(i,e,t,o){if(i[2]&&o){const r=i[2](o(t));if(e.dirty===void 0)return r;if(typeof r=="object"){const n=[],s=Math.max(e.dirty.length,r.length);for(let l=0;l<s;l+=1)n[l]=e.dirty[l]|r[l];return n}return e.dirty|r}return e.dirty}function Sn(i,e,t,o,r,n){if(r){const s=Qe(e,t,o,n);i.p(s,r)}}function En(i){if(i.ctx.length>32){const e=[],t=i.ctx.length/32;for(let o=0;o<t;o++)e[o]=-1;return e}return-1}const $e=typeof window<"u";let tn=$e?()=>window.performance.now():()=>Date.now(),Ce=$e?i=>requestAnimationFrame(i):lt;const Jt=new Set;function en(i){Jt.forEach(e=>{e.c(i)||(Jt.delete(e),e.f())}),Jt.size!==0&&Ce(en)}function nn(i){let e;return Jt.size===0&&Ce(en),{promise:new Promise(t=>{Jt.add(e={c:i,f:t})}),abort(){Jt.delete(e)}}}function et(i,e){i.appendChild(e)}function rn(i){if(!i)return document;const e=i.getRootNode?i.getRootNode():i.ownerDocument;return e&&e.host?e:i.ownerDocument}function Cn(i){const e=tt("style");return zn(rn(i),e),e.sheet}function zn(i,e){return et(i.head||i,e),e.sheet}function at(i,e,t){i.insertBefore(e,t||null)}function st(i){i.parentNode.removeChild(i)}function ze(i,e){for(let t=0;t<i.length;t+=1)i[t]&&i[t].d(e)}function tt(i){return document.createElement(i)}function Ct(i){return document.createTextNode(i)}function vt(){return Ct(" ")}function Ut(){return Ct("")}function ot(i,e,t,o){return i.addEventListener(e,t,o),()=>i.removeEventListener(e,t,o)}function N(i,e,t){t==null?i.removeAttribute(e):i.getAttribute(e)!==t&&i.setAttribute(e,t)}function In(i){return Array.from(i.childNodes)}function Mt(i,e){e=""+e,i.wholeText!==e&&(i.data=e)}function jt(i,e){i.value=e==null?"":e}function ge(i,e,t,o){t===null?i.style.removeProperty(e):i.style.setProperty(e,t,o?"important":"")}function Te(i,e){for(let t=0;t<i.options.length;t+=1){const o=i.options[t];if(o.__value===e){o.selected=!0;return}}i.selectedIndex=-1}function Bn(i){const e=i.querySelector(":checked")||i.options[0];return e&&e.__value}function xn(i,e,{bubbles:t=!1,cancelable:o=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(i,t,o,e),r}const he=new Map;let pe=0;function Rn(i){let e=5381,t=i.length;for(;t--;)e=(e<<5)-e^i.charCodeAt(t);return e>>>0}function On(i,e){const t={stylesheet:Cn(e),rules:{}};return he.set(i,t),t}function we(i,e,t,o,r,n,s,l=0){const c=16.666/o;let f=`{
`;for(let v=0;v<=1;v+=c){const _=e+(t-e)*n(v);f+=v*100+`%{${s(_,1-_)}}
`}const g=f+`100% {${s(t,1-t)}}
}`,p=`__svelte_${Rn(g)}_${l}`,b=rn(i),{stylesheet:d,rules:m}=he.get(b)||On(b,i);m[p]||(m[p]=!0,d.insertRule(`@keyframes ${p} ${g}`,d.cssRules.length));const h=i.style.animation||"";return i.style.animation=`${h?`${h}, `:""}${p} ${o}ms linear ${r}ms 1 both`,pe+=1,p}function ke(i,e){const t=(i.style.animation||"").split(", "),o=t.filter(e?n=>n.indexOf(e)<0:n=>n.indexOf("__svelte")===-1),r=t.length-o.length;r&&(i.style.animation=o.join(", "),pe-=r,pe||Fn())}function Fn(){Ce(()=>{pe||(he.forEach(i=>{const{ownerNode:e}=i.stylesheet;e&&st(e)}),he.clear())})}let ie;function Nt(i){ie=i}function Dn(){if(!ie)throw new Error("Function called outside component initialization");return ie}const ee=[],kt=[],fe=[],Ae=[],Tn=Promise.resolve();let Se=!1;function Pn(){Se||(Se=!0,Tn.then(Ie))}function zt(i){fe.push(i)}function Bt(i){Ae.push(i)}const be=new Set;let le=0;function Ie(){const i=ie;do{for(;le<ee.length;){const e=ee[le];le++,Nt(e),Nn(e.$$)}for(Nt(null),ee.length=0,le=0;kt.length;)kt.pop()();for(let e=0;e<fe.length;e+=1){const t=fe[e];be.has(t)||(be.add(t),t())}fe.length=0}while(ee.length);for(;Ae.length;)Ae.pop()();Se=!1,be.clear(),Nt(i)}function Nn(i){if(i.fragment!==null){i.update(),_t(i.before_update);const e=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(zt)}}let te;function sn(){return te||(te=Promise.resolve(),te.then(()=>{te=null})),te}function re(i,e,t){i.dispatchEvent(xn(`${e?"intro":"outro"}${t}`))}const de=new Set;let Lt;function qt(){Lt={r:0,c:[],p:Lt}}function Kt(){Lt.r||_t(Lt.c),Lt=Lt.p}function ct(i,e){i&&i.i&&(de.delete(i),i.i(e))}function gt(i,e,t,o){if(i&&i.o){if(de.has(i))return;de.add(i),Lt.c.push(()=>{de.delete(i),o&&(t&&i.d(1),o())}),i.o(e)}else o&&o()}const on={duration:0};function _e(i,e,t){let o=e(i,t),r=!1,n,s,l=0;function c(){n&&ke(i,n)}function f(){const{delay:p=0,duration:b=300,easing:d=Ee,tick:m=lt,css:h}=o||on;h&&(n=we(i,0,1,b,p,d,h,l++)),m(0,1);const v=tn()+p,_=v+b;s&&s.abort(),r=!0,zt(()=>re(i,!0,"start")),s=nn(y=>{if(r){if(y>=_)return m(1,0),re(i,!0,"end"),c(),r=!1;if(y>=v){const S=d((y-v)/b);m(S,1-S)}}return r})}let g=!1;return{start(){g||(g=!0,ke(i),Tt(o)?(o=o(),sn().then(f)):f())},invalidate(){g=!1},end(){r&&(c(),r=!1)}}}function me(i,e,t,o){let r=e(i,t),n=o?0:1,s=null,l=null,c=null;function f(){c&&ke(i,c)}function g(b,d){const m=b.b-n;return d*=Math.abs(m),{a:n,b:b.b,d:m,duration:d,start:b.start,end:b.start+d,group:b.group}}function p(b){const{delay:d=0,duration:m=300,easing:h=Ee,tick:v=lt,css:_}=r||on,y={start:tn()+d,b};b||(y.group=Lt,Lt.r+=1),s||l?l=y:(_&&(f(),c=we(i,n,b,m,d,h,_)),b&&v(0,1),s=g(y,m),zt(()=>re(i,b,"start")),nn(S=>{if(l&&S>l.start&&(s=g(l,m),l=null,re(i,s.b,"start"),_&&(f(),c=we(i,n,s.b,s.duration,0,h,r.css))),s){if(S>=s.end)v(n=s.b,1-n),re(i,s.b,"end"),l||(s.b?f():--s.group.r||_t(s.group.c)),s=null;else if(S>=s.start){const x=S-s.start;n=s.a+s.d*h(x/s.duration),v(n,1-n)}}return!!(s||l)}))}return{run(b){Tt(r)?sn().then(()=>{r=r(),p(b)}):p(b)},end(){f(),s=l=null}}}function Be(i,e){const t=e.token={};function o(r,n,s,l){if(e.token!==t)return;e.resolved=l;let c=e.ctx;s!==void 0&&(c=c.slice(),c[s]=l);const f=r&&(e.current=r)(c);let g=!1;e.block&&(e.blocks?e.blocks.forEach((p,b)=>{b!==n&&p&&(qt(),gt(p,1,1,()=>{e.blocks[b]===p&&(e.blocks[b]=null)}),Kt())}):e.block.d(1),f.c(),ct(f,1),f.m(e.mount(),e.anchor),g=!0),e.block=f,e.blocks&&(e.blocks[n]=f),g&&Ie()}if(yn(i)){const r=Dn();if(i.then(n=>{Nt(r),o(e.then,1,e.value,n),Nt(null)},n=>{if(Nt(r),o(e.catch,2,e.error,n),Nt(null),!e.hasCatch)throw n}),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,i),!0;e.resolved=i}}function xe(i,e,t){const o=e.slice(),{resolved:r}=i;i.current===i.then&&(o[i.value]=r),i.current===i.catch&&(o[i.error]=r),i.block.p(o,t)}function xt(i,e,t){const o=i.$$.props[e];o!==void 0&&(i.$$.bound[o]=t,t(i.$$.ctx[o]))}function Rt(i){i&&i.c()}function St(i,e,t,o){const{fragment:r,after_update:n}=i.$$;r&&r.m(e,t),o||zt(()=>{const s=i.$$.on_mount.map(Xe).filter(Tt);i.$$.on_destroy?i.$$.on_destroy.push(...s):_t(s),i.$$.on_mount=[]}),n.forEach(zt)}function Et(i,e){const t=i.$$;t.fragment!==null&&(_t(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Ln(i,e){i.$$.dirty[0]===-1&&(ee.push(i),Pn(),i.$$.dirty.fill(0)),i.$$.dirty[e/31|0]|=1<<e%31}function Gt(i,e,t,o,r,n,s,l=[-1]){const c=ie;Nt(i);const f=i.$$={fragment:null,ctx:[],props:n,update:lt,not_equal:r,bound:De(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:De(),dirty:l,skip_bound:!1,root:e.target||c.$$.root};s&&s(f.root);let g=!1;if(f.ctx=t?t(i,e.props||{},(p,b,...d)=>{const m=d.length?d[0]:b;return f.ctx&&r(f.ctx[p],f.ctx[p]=m)&&(!f.skip_bound&&f.bound[p]&&f.bound[p](m),g&&Ln(i,p)),b}):[],f.update(),g=!0,_t(f.before_update),f.fragment=o?o(f.ctx):!1,e.target){if(e.hydrate){const p=In(e.target);f.fragment&&f.fragment.l(p),p.forEach(st)}else f.fragment&&f.fragment.c();e.intro&&ct(i.$$.fragment),St(i,e.target,e.anchor,e.customElement),Ie()}Nt(c)}class Ht{$destroy(){Et(this,1),this.$destroy=lt}$on(e,t){if(!Tt(t))return lt;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(t),()=>{const r=o.indexOf(t);r!==-1&&o.splice(r,1)}}$set(e){this.$$set&&!wn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Un(i){var e=i.default;if(typeof e=="function"){var t=function(){return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(o){var r=Object.getOwnPropertyDescriptor(i,o);Object.defineProperty(t,o,r.get?r:{enumerable:!0,get:function(){return i[o]}})}),t}var jn={exports:{}};(function(i){var e=function(t){var o=Object.prototype,r=o.hasOwnProperty,n=Object.defineProperty||function(I,F,E){I[F]=E.value},s,l=typeof Symbol=="function"?Symbol:{},c=l.iterator||"@@iterator",f=l.asyncIterator||"@@asyncIterator",g=l.toStringTag||"@@toStringTag";function p(I,F,E){return Object.defineProperty(I,F,{value:E,enumerable:!0,configurable:!0,writable:!0}),I[F]}try{p({},"")}catch{p=function(F,E,z){return F[E]=z}}function b(I,F,E,z){var H=F&&F.prototype instanceof S?F:S,K=Object.create(H.prototype),q=new Q(z||[]);return n(K,"_invoke",{value:k(I,E,q)}),K}t.wrap=b;function d(I,F,E){try{return{type:"normal",arg:I.call(F,E)}}catch(z){return{type:"throw",arg:z}}}var m="suspendedStart",h="suspendedYield",v="executing",_="completed",y={};function S(){}function x(){}function C(){}var j={};p(j,c,function(){return this});var L=Object.getPrototypeOf,T=L&&L(L(Z([])));T&&T!==o&&r.call(T,c)&&(j=T);var R=C.prototype=S.prototype=Object.create(j);x.prototype=C,n(R,"constructor",{value:C,configurable:!0}),n(C,"constructor",{value:x,configurable:!0}),x.displayName=p(C,g,"GeneratorFunction");function M(I){["next","throw","return"].forEach(function(F){p(I,F,function(E){return this._invoke(F,E)})})}t.isGeneratorFunction=function(I){var F=typeof I=="function"&&I.constructor;return F?F===x||(F.displayName||F.name)==="GeneratorFunction":!1},t.mark=function(I){return Object.setPrototypeOf?Object.setPrototypeOf(I,C):(I.__proto__=C,p(I,g,"GeneratorFunction")),I.prototype=Object.create(R),I},t.awrap=function(I){return{__await:I}};function X(I,F){function E(K,q,ut,ht){var it=d(I[K],I,q);if(it.type==="throw")ht(it.arg);else{var ft=it.arg,bt=ft.value;return bt&&typeof bt=="object"&&r.call(bt,"__await")?F.resolve(bt.__await).then(function(pt){E("next",pt,ut,ht)},function(pt){E("throw",pt,ut,ht)}):F.resolve(bt).then(function(pt){ft.value=pt,ut(ft)},function(pt){return E("throw",pt,ut,ht)})}}var z;function H(K,q){function ut(){return new F(function(ht,it){E(K,q,ht,it)})}return z=z?z.then(ut,ut):ut()}n(this,"_invoke",{value:H})}M(X.prototype),p(X.prototype,f,function(){return this}),t.AsyncIterator=X,t.async=function(I,F,E,z,H){H===void 0&&(H=Promise);var K=new X(b(I,F,E,z),H);return t.isGeneratorFunction(F)?K:K.next().then(function(q){return q.done?q.value:K.next()})};function k(I,F,E){var z=m;return function(K,q){if(z===v)throw new Error("Generator is already running");if(z===_){if(K==="throw")throw q;return nt()}for(E.method=K,E.arg=q;;){var ut=E.delegate;if(ut){var ht=D(ut,E);if(ht){if(ht===y)continue;return ht}}if(E.method==="next")E.sent=E._sent=E.arg;else if(E.method==="throw"){if(z===m)throw z=_,E.arg;E.dispatchException(E.arg)}else E.method==="return"&&E.abrupt("return",E.arg);z=v;var it=d(I,F,E);if(it.type==="normal"){if(z=E.done?_:h,it.arg===y)continue;return{value:it.arg,done:E.done}}else it.type==="throw"&&(z=_,E.method="throw",E.arg=it.arg)}}}function D(I,F){var E=I.iterator[F.method];if(E===s){if(F.delegate=null,F.method==="throw"){if(I.iterator.return&&(F.method="return",F.arg=s,D(I,F),F.method==="throw"))return y;F.method="throw",F.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var z=d(E,I.iterator,F.arg);if(z.type==="throw")return F.method="throw",F.arg=z.arg,F.delegate=null,y;var H=z.arg;if(!H)return F.method="throw",F.arg=new TypeError("iterator result is not an object"),F.delegate=null,y;if(H.done)F[I.resultName]=H.value,F.next=I.nextLoc,F.method!=="return"&&(F.method="next",F.arg=s);else return H;return F.delegate=null,y}M(R),p(R,g,"Generator"),p(R,c,function(){return this}),p(R,"toString",function(){return"[object Generator]"});function u(I){var F={tryLoc:I[0]};1 in I&&(F.catchLoc=I[1]),2 in I&&(F.finallyLoc=I[2],F.afterLoc=I[3]),this.tryEntries.push(F)}function P(I){var F=I.completion||{};F.type="normal",delete F.arg,I.completion=F}function Q(I){this.tryEntries=[{tryLoc:"root"}],I.forEach(u,this),this.reset(!0)}t.keys=function(I){var F=Object(I),E=[];for(var z in F)E.push(z);return E.reverse(),function H(){for(;E.length;){var K=E.pop();if(K in F)return H.value=K,H.done=!1,H}return H.done=!0,H}};function Z(I){if(I){var F=I[c];if(F)return F.call(I);if(typeof I.next=="function")return I;if(!isNaN(I.length)){var E=-1,z=function H(){for(;++E<I.length;)if(r.call(I,E))return H.value=I[E],H.done=!1,H;return H.value=s,H.done=!0,H};return z.next=z}}return{next:nt}}t.values=Z;function nt(){return{value:s,done:!0}}return Q.prototype={constructor:Q,reset:function(I){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(P),!I)for(var F in this)F.charAt(0)==="t"&&r.call(this,F)&&!isNaN(+F.slice(1))&&(this[F]=s)},stop:function(){this.done=!0;var I=this.tryEntries[0],F=I.completion;if(F.type==="throw")throw F.arg;return this.rval},dispatchException:function(I){if(this.done)throw I;var F=this;function E(ht,it){return K.type="throw",K.arg=I,F.next=ht,it&&(F.method="next",F.arg=s),!!it}for(var z=this.tryEntries.length-1;z>=0;--z){var H=this.tryEntries[z],K=H.completion;if(H.tryLoc==="root")return E("end");if(H.tryLoc<=this.prev){var q=r.call(H,"catchLoc"),ut=r.call(H,"finallyLoc");if(q&&ut){if(this.prev<H.catchLoc)return E(H.catchLoc,!0);if(this.prev<H.finallyLoc)return E(H.finallyLoc)}else if(q){if(this.prev<H.catchLoc)return E(H.catchLoc,!0)}else if(ut){if(this.prev<H.finallyLoc)return E(H.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(I,F){for(var E=this.tryEntries.length-1;E>=0;--E){var z=this.tryEntries[E];if(z.tryLoc<=this.prev&&r.call(z,"finallyLoc")&&this.prev<z.finallyLoc){var H=z;break}}H&&(I==="break"||I==="continue")&&H.tryLoc<=F&&F<=H.finallyLoc&&(H=null);var K=H?H.completion:{};return K.type=I,K.arg=F,H?(this.method="next",this.next=H.finallyLoc,y):this.complete(K)},complete:function(I,F){if(I.type==="throw")throw I.arg;return I.type==="break"||I.type==="continue"?this.next=I.arg:I.type==="return"?(this.rval=this.arg=I.arg,this.method="return",this.next="end"):I.type==="normal"&&F&&(this.next=F),y},finish:function(I){for(var F=this.tryEntries.length-1;F>=0;--F){var E=this.tryEntries[F];if(E.finallyLoc===I)return this.complete(E.completion,E.afterLoc),P(E),y}},catch:function(I){for(var F=this.tryEntries.length-1;F>=0;--F){var E=this.tryEntries[F];if(E.tryLoc===I){var z=E.completion;if(z.type==="throw"){var H=z.arg;P(E)}return H}}throw new Error("illegal catch attempt")},delegateYield:function(I,F,E){return this.delegate={iterator:Z(I),resultName:F,nextLoc:E},this.method==="next"&&(this.arg=s),y}},t}(i.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(jn);var Zn={defaultArgs:["./ffmpeg","-nostdin","-y"],baseOptions:{log:!1,logger:()=>{},progress:()=>{},corePath:""}},Wn=(i,e)=>{const t=i._malloc(e.length*Uint32Array.BYTES_PER_ELEMENT);return e.forEach((o,r)=>{const n=i.lengthBytesUTF8(o)+1,s=i._malloc(n);i.stringToUTF8(o,s,n),i.setValue(t+Uint32Array.BYTES_PER_ELEMENT*r,s,"i32")}),[e.length,t]};const Mn="@ffmpeg/ffmpeg",Gn="0.11.6",Hn="FFmpeg WebAssembly version",Vn="src/index.js",qn="src/index.d.ts",Kn={example:"examples"},Yn={start:"node scripts/server.js","start:worker":"node scripts/worker-server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js","build:worker":"rimraf dist && webpack --config scripts/webpack.config.worker.prod.js",prepublishOnly:"npm run build",lint:"eslint src",wait:"rimraf dist && wait-on http://localhost:3000/dist/ffmpeg.dev.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:ffmpeg test:node:all","test:node":"node node_modules/mocha/bin/_mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser":"mocha-headless-chrome -a allow-file-access-from-files -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:ffmpeg":"npm run test:browser -- -f ./tests/ffmpeg.test.html"},Jn={"./src/node/index.js":"./src/browser/index.js"},Xn={type:"git",url:"git+https://github.com/ffmpegwasm/ffmpeg.wasm.git"},Qn=["ffmpeg","WebAssembly","video"],$n="Jerome Wu <jeromewus@gmail.com>",tr="MIT",er={url:"https://github.com/ffmpegwasm/ffmpeg.wasm/issues"},nr={node:">=12.16.1"},rr="https://github.com/ffmpegwasm/ffmpeg.wasm#readme",ir={"is-url":"^1.2.4","node-fetch":"^2.6.1","regenerator-runtime":"^0.13.7","resolve-url":"^0.2.1"},sr={"@babel/core":"^7.12.3","@babel/preset-env":"^7.12.1","@ffmpeg/core":"^0.11.0","@types/emscripten":"^1.39.4","babel-eslint":"^10.1.0","babel-loader":"^8.1.0",chai:"^4.2.0",cors:"^2.8.5",eslint:"^7.12.1","eslint-config-airbnb-base":"^14.1.0","eslint-plugin-import":"^2.22.1",express:"^4.17.1",mocha:"^8.2.1","mocha-headless-chrome":"^2.0.3","npm-run-all":"^4.1.5","wait-on":"^5.3.0",webpack:"^5.3.2","webpack-cli":"^4.1.0","webpack-dev-middleware":"^4.0.0"},an={name:Mn,version:Gn,description:Hn,main:Vn,types:qn,directories:Kn,scripts:Yn,browser:Jn,repository:Xn,keywords:Qn,author:$n,license:tr,bugs:er,engines:nr,homepage:rr,dependencies:ir,devDependencies:sr},or=(typeof process<"u",`https://unpkg.com/@ffmpeg/core@${an.devDependencies["@ffmpeg/core"].substring(1)}/dist/ffmpeg-core.js`),ar={corePath:or};let Re=!1,ln=()=>{};const lr=i=>{Re=i},cr=i=>{ln=i},ur=(i,e)=>{ln({type:i,message:e}),Re&&console.log(`[${i}] ${e}`)};var Vt={logging:Re,setLogging:lr,setCustomLogger:cr,log:ur};const fr=i=>`
createFFmpegCore is not defined. ffmpeg.wasm is unable to find createFFmpegCore after loading ffmpeg-core.js from ${i}. Use another URL when calling createFFmpeg():

const ffmpeg = createFFmpeg({
  corePath: 'http://localhost:3000/ffmpeg-core.js',
});
`;var Pe={CREATE_FFMPEG_CORE_IS_NOT_DEFINED:fr};const Yt=async(i,e)=>{Vt.log("info",`fetch ${i}`);const t=await(await fetch(i)).arrayBuffer();Vt.log("info",`${i} file size = ${t.byteLength} bytes`);const o=new Blob([t],{type:e}),r=URL.createObjectURL(o);return Vt.log("info",`${i} blob URL = ${r}`),r},dr=async({corePath:i,workerPath:e,wasmPath:t})=>{if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope){if(typeof i!="string")throw Error("corePath should be a string!");const l=new URL(i,import.meta.url).href,c=await Yt(l,"application/javascript"),f=await Yt(t!==void 0?t:l.replace("ffmpeg-core.js","ffmpeg-core.wasm"),"application/wasm"),g=await Yt(e!==void 0?e:l.replace("ffmpeg-core.js","ffmpeg-core.worker.js"),"application/javascript");return typeof createFFmpegCore>"u"?new Promise(p=>{if(globalThis.importScripts(c),typeof createFFmpegCore>"u")throw Error(Pe.CREATE_FFMPEG_CORE_IS_NOT_DEFINED(l));Vt.log("info","ffmpeg-core.js script loaded"),p({createFFmpegCore,corePath:c,wasmPath:f,workerPath:g})}):(Vt.log("info","ffmpeg-core.js script is loaded already"),Promise.resolve({createFFmpegCore,corePath:c,wasmPath:f,workerPath:g}))}if(typeof i!="string")throw Error("corePath should be a string!");const o=new URL(i,import.meta.url).href,r=await Yt(o,"application/javascript"),n=await Yt(t!==void 0?t:o.replace("ffmpeg-core.js","ffmpeg-core.wasm"),"application/wasm"),s=await Yt(e!==void 0?e:o.replace("ffmpeg-core.js","ffmpeg-core.worker.js"),"application/javascript");return typeof createFFmpegCore>"u"?new Promise(l=>{const c=document.createElement("script"),f=()=>{if(c.removeEventListener("load",f),typeof createFFmpegCore>"u")throw Error(Pe.CREATE_FFMPEG_CORE_IS_NOT_DEFINED(o));Vt.log("info","ffmpeg-core.js script loaded"),l({createFFmpegCore,corePath:r,wasmPath:n,workerPath:s})};c.src=r,c.type="text/javascript",c.addEventListener("load",f),document.getElementsByTagName("head")[0].appendChild(c)}):(Vt.log("info","ffmpeg-core.js script is loaded already"),Promise.resolve({createFFmpegCore,corePath:r,wasmPath:n,workerPath:s}))},hr=i=>new Promise((e,t)=>{const o=new FileReader;o.onload=()=>{e(o.result)},o.onerror=({target:{error:{code:r}}})=>{t(Error(`File could not be read! Code=${r}`))},o.readAsArrayBuffer(i)}),pr=async i=>{let e=i;return typeof i>"u"?new Uint8Array:(typeof i=="string"?/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(i)?e=atob(i.split(",")[1]).split("").map(t=>t.charCodeAt(0)):e=await(await fetch(new URL(i,import.meta.url).href)).arrayBuffer():(i instanceof File||i instanceof Blob)&&(e=await hr(i)),new Uint8Array(e))},mr=Object.freeze(Object.defineProperty({__proto__:null,defaultOptions:ar,getCreateFFmpegCore:dr,fetchFile:pr},Symbol.toStringTag,{value:"Module"})),cn=Un(mr),{defaultArgs:gr,baseOptions:_r}=Zn,vr=Wn,{defaultOptions:br,getCreateFFmpegCore:yr}=cn,{version:wr}=an,ye=Error("ffmpeg.wasm is not ready, make sure you have completed load().");var kr=(i={})=>{const{log:e,logger:t,progress:o,...r}={..._r,...br,...i};let n=null,s=null,l=null,c=null,f=!1,g=()=>{},p=e,b=o,d=0,m=0,h=!1,v=0;const _=u=>{u==="FFMPEG_END"&&l!==null&&(l(),l=null,c=null,f=!1)},y=(u,P)=>{g({type:u,message:P}),p&&console.log(`[${u}] ${P}`)},S=u=>{const[P,Q,Z]=u.split(":");return parseFloat(P)*60*60+parseFloat(Q)*60+parseFloat(Z)},x=(u,P)=>{if(typeof u=="string")if(u.startsWith("  Duration")){const Q=u.split(", ")[0].split(": ")[1],Z=S(Q);P({duration:Z,ratio:v}),(d===0||d>Z)&&(d=Z,h=!0)}else if(h&&u.startsWith("    Stream")){const Q=u.match(/([\d.]+) fps/);if(Q){const Z=parseFloat(Q[1]);m=d*Z}else m=0;h=!1}else if(u.startsWith("frame")||u.startsWith("size")){const Q=u.split("time=")[1].split(" ")[0],Z=S(Q),nt=u.match(/frame=\s*(\d+)/);if(m&&nt){const I=parseFloat(nt[1]);v=Math.min(I/m,1)}else v=Z/d;P({ratio:v,time:Z})}else u.startsWith("video:")&&(P({ratio:1}),d=0)},C=({type:u,message:P})=>{y(u,P),x(P,b),_(P)},j=async()=>{if(y("info","load ffmpeg-core"),n===null){y("info","loading ffmpeg-core");const{createFFmpegCore:u,corePath:P,workerPath:Q,wasmPath:Z}=await yr(r);n=await u({mainScriptUrlOrBlob:P,printErr:nt=>C({type:"fferr",message:nt}),print:nt=>C({type:"ffout",message:nt}),locateFile:(nt,I)=>{if(typeof window<"u"||typeof WorkerGlobalScope<"u"){if(typeof Z<"u"&&nt.endsWith("ffmpeg-core.wasm"))return Z;if(typeof Q<"u"&&nt.endsWith("ffmpeg-core.worker.js"))return Q}return I+nt}}),s=n.cwrap(r.mainName||"proxy_main","number",["number","number"]),y("info","ffmpeg-core loaded")}else throw Error("ffmpeg.wasm was loaded, you should not load it again, use ffmpeg.isLoaded() to check next time.")},L=()=>n!==null,T=(...u)=>{if(y("info",`run ffmpeg command: ${u.join(" ")}`),n===null)throw ye;if(f)throw Error("ffmpeg.wasm can only run one command at a time");return f=!0,new Promise((P,Q)=>{const Z=[...gr,...u].filter(nt=>nt.length!==0);l=P,c=Q,s(...vr(n,Z))})},R=(u,...P)=>{if(y("info",`run FS.${u} ${P.map(Q=>typeof Q=="string"?Q:`<${Q.length} bytes binary file>`).join(" ")}`),n===null)throw ye;{let Q=null;try{Q=n.FS[u](...P)}catch{throw Error(u==="readdir"?`ffmpeg.FS('readdir', '${P[0]}') error. Check if the path exists, ex: ffmpeg.FS('readdir', '/')`:u==="readFile"?`ffmpeg.FS('readFile', '${P[0]}') error. Check if the path exists`:"Oops, something went wrong in FS operation.")}return Q}},M=()=>{if(n===null)throw ye;c&&c("ffmpeg has exited"),f=!1;try{n.exit(1)}catch(u){y(u.message),c&&c(u)}finally{n=null,s=null,l=null,c=null}},X=u=>{b=u},k=u=>{g=u},D=u=>{p=u};return y("info",`use ffmpeg.wasm v${wr}`),{setProgress:X,setLogger:k,setLogging:D,load:j,isLoaded:L,run:T,exit:M,FS:R}};const Ar=kr,{fetchFile:Sr}=cn;var Er={createFFmpeg:Ar,fetchFile:Sr};const Dt=Er.createFFmpeg({corePath:"../ffmpeg-core/ffmpeg-core.js",mainName:"main"}),Cr=async i=>i.type=="audio/ogg"?new Blob([i],{type:"audio/ogg"}):await new Promise(e=>{const t=new FileReader,o=new Blob([i]);t.readAsArrayBuffer(o),t.onload=async()=>{const r=t.result;await Dt.load(),Dt.FS("writeFile","audio",new Uint8Array(r)),await Dt.run("-i","audio","-acodec","libvorbis","/output.ogg");const n=Dt.FS("readFile","/output.ogg");Dt.exit(),e(new Blob([n],{type:"audio/ogg"}))}}),zr=async i=>await new Promise(e=>{const t=new FileReader;t.readAsArrayBuffer(i),t.onload=async()=>{const o=t.result;await Dt.load(),Dt.FS("writeFile","audio",new Uint8Array(o)),await Dt.run("-i","audio","-ac","1","/output.ogg");const r=Dt.FS("readFile","/output.ogg");Dt.exit(),e(new Blob([r],{type:"audio/ogg"}))}}),Ir=async(i,e,t)=>await new Promise(o=>{const r=new Image;r.src=URL.createObjectURL(i),r.onload=()=>{const n=document.createElement("canvas");n.width=e,n.height=t,n.getContext("2d").drawImage(r,0,0,e,t);const l=n.toDataURL("image/png");o(Br(l))}}),Br=i=>new Promise(e=>{const t=xr(i);e(new Blob([t],{type:"image/png"}))}),xr=i=>{const e=i.split(",")[1],t=window.atob(e),o=new ArrayBuffer(t.length),r=new Uint8Array(o);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return o},Rr=(i,e)=>{const t=document.createElement("a");t.href=URL.createObjectURL(i),t.download=e,t.click()};function Or(i){let e,t,o,r,n;const s=i[2].default,l=kn(s,i,i[1],null);return{c(){e=tt("div"),t=tt("span"),o=Ct(i[0]),r=vt(),l&&l.c(),N(t,"id","tooltiptext"),N(t,"class","svelte-1xbdaqc"),N(e,"id","container"),N(e,"class","svelte-1xbdaqc")},m(c,f){at(c,e,f),et(e,t),et(t,o),et(e,r),l&&l.m(e,null),n=!0},p(c,[f]){(!n||f&1)&&Mt(o,c[0]),l&&l.p&&(!n||f&2)&&Sn(l,s,c,c[1],n?An(s,c[1],f,null):En(c[1]),null)},i(c){n||(ct(l,c),n=!0)},o(c){gt(l,c),n=!1},d(c){c&&st(e),l&&l.d(c)}}}function Fr(i,e,t){let{$$slots:o={},$$scope:r}=e,{text:n}=e;return i.$$set=s=>{"text"in s&&t(0,n=s.text),"$$scope"in s&&t(1,r=s.$$scope)},[n,r,o]}class ne extends Ht{constructor(e){super(),Gt(this,e,Fr,Or,Wt,{text:0})}}const Dr="/jext-reborn/assets/default_disk.59365372.png",un="/jext-reborn/assets/loading.9ab4977f.webp",fn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAFxnpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjarVdZkuQoDP3nFHMEkBDLcVgj5gZz/Hkshsyq6umqjrHDNinL4klPSKRq//zd1V84iLxWVnxw0TmNw0YbKWEQ9DrivBtt530dzzvzLlfnBUHEePL66dPWT5DL/eDYye9yFfYbCtuQOYbnwWPmMa6vICGnJTd2G4ptDVwM/hVq3oaKfXFpX/a6N4/xW70JPKJUBRMxUWPDet7DQsDjIk5DjrvmAD0zJcxR4SFstjEE5M2956nfAv0e/D1SH6N/Rh+CT2nL+UMs3cOa+/qFkQ9yPtPQ68R8ENH7i+S1/+TOvnqvofe2vEvWIaJuZ9QM9hOhoZgRcp6fOZwel2Ds5xlxBp10AeVVF51xFhMNIfpdGWuqSaabNp/FFEC01MjjSVSIpyywp0iFB092nKaT58iVA3gr1BSos0wHi5nzxjlfMQEzVwNVMjBmJv2/ONV/vfzJqXovI0RGhxMr4KKR14AxmBt3aIEQ0zdvMgP8nJt+/ZI/SFUwKDPMAQ4mnZeJLObmFk+eGXqC51pCRvm6DSBEmFsAxjAY0M6wGGe0R7UxBnEMICgBObGlDAaMCFWAJMvsSHnCksHc+MabqUtCjoYYtQlECDv24CZyAlnWCvLH24AcSsJiRcSJl6AkSnLsrBPnnHejyCXP3nrxznsffPQpcLBBggs+hBBDihQZNVCiiz6GGGNKpBImSrCVoJ8gyZQ52yzZZZ9DjjkVpE+xRYorvoQSS6pUuaJMVFd9DTXW1IxqqBTNNmmu+RZabKkj1zp326W77nvosafD2mb10/kD1sxmjSZTQ88f1iBV3j8mzCgnMjgDY2QNGPeDASQ0Dc50MNbSYG5wpiNhUQgBpAxuVDWDMVBomyHp5nB3mfsWb0rCt3ij3zGnBnX/B3MK1H3m7QvW6uhzZTK2VuGIqWasvtYpII8CcgCoxzhAt1MbA8rNlx6dnj+CRjWaCi1xpSNMfenWwFXJJ93C6IWPULcp7LFxOVKK1VgBWwjwGFhtirJLVukKW5wDgasvQqlTOIB2KksDraLJ+l5Zn+wj9dKXckbrT590A/YDR2gWgM7FhyFVUyw8QaeSj08hLv+TzdejZbE45P2DtC437Sj+zySy9AJK9aOW84JoY3UHNwrSFuZrT5UFsblYrkm7TOZYjy/ex/V51bH1GzraYlWw2PmqO79GckBFWZEfLflE7WHosqFMCY/UtTv9Rh+TN9fkIdMeWd1MdGXJ52sgPnJyvkR9uc+HzkyPttTNB5JNq4elWnY+Wg7hyfOm0xxlc4Pil/MS85kHpX3S75I7CeaRmWtyZEq4SOPvkKpfQf0pUvUrqN9EWh6kClDDDYD1G6pDITrqei+zRK/rCcK9+krsrG4W6pXrCMHjVvN515RoO3Zgp3xscSiNH6Hi2pe/KE/IzCcKZetGxOMYKGEXFVe6P6rNpFXYurXdnjgOs7sERW7uyIuZ5mI83KCg7EBUikjIm42y5SaWu0JzX+FEpjZ36HBrshbYbrxKP+6UcIODLrAToR4PUM/c4pxPBTbrJa7h2vbItqfS5vsx2WWxoIDlT7W6JC79IpL1GULV2q3VP4WpvsT5BzDVlzjRUh6idXe3V/FOCvyJOUI0xenaaFX5YmBZqlm38lj9+OS8e18pFxJiVJPbGWnRZ85ET/IlwpRn/rRThEy56zDWatTIkYhefqRmtyQx9UU11aclnWR6f6pRLp+ccygwdwHXp9ySjzdBn2VdDWa8FSitCpmxk7orqm7qbXMv69ftPk9c5YvoqS/D+Sm8WP7P3sJ2NKlHblZ4W2aVbn5I2hlXXjLzu/jUN/B8C596B3jxtbyTYmwuT/fvi7xsbrPunGRuIqRlbNKu3MpSLhYbplM29lKpnG7yYqO+F2S5q7+Vrepem0XbHYT5brKWV0mHd5jqS5x/AFN9ifOnMLl3VSP+R/wLwQRCBdriyuEAAAGFaUNDUElDQyBwcm9maWxlAAB4nH2RPUjDUBSFT1ulpVQc2kHEIUPVxYKoiKNWoQgVQq3QqoPJS/+gSUOS4uIouBYc/FmsOrg46+rgKgiCPyCOTk6KLlLifUmhRYwPLu/jvHcO990H+JtVppo944CqWUYmlRRy+VUh+IowQlSjiErM1OdEMQ3P9XUPH9/vEjzL+96fq08pmAzwCcSzTDcs4g3i6U1L57xPHGNlSSE+Jx4zqEHiR67LLr9xLjns55kxI5uZJ44RC6UulruYlQ2VeIo4rqga5ftzLiuctzir1Tpr98lfGCloK8tcpxpCCotYgggBMuqooAoLCdo1Ukxk6Dzp4R90/CK5ZHJVwMixgBpUSI4f/A9+z9YsTk64SZEk0Pti2x/DQHAXaDVs+/vYtlsnQOAZuNI6/loTmPkkvdHR4kdA/zZwcd3R5D3gcgcYeNIlQ3KkAJW/WATez+ib8kD0FgivuXNrn+P0AcjSrNI3wMEhMFKi7HWPd4e65/bvnfb8fgBGIXKVL4xNQwAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+YKCAonM+tPNNQAAAELSURBVBjTNcE9SAJhAIDh9w5L+gSRMDUlIeiHhhAuTAocg6CWNgfnoKGIppaWyCgaAt1CCCvhIBCqrSCEIi4olKvxKjuzHBpEkA6PsKnnkfKPh50VY5UpobDgTRJ1RbkQR1iNNuVbA2ksM9KZVCYwmy+M90Z41aoMzfXRqlgs+zaQw4qH4v41PzmbYfcoLqebwtoVT1kDIQRyV7eTTltCU0s8W/c0glXM8zpvZpVscw9H3DlD/1KQyG6MnfVtpF+ZG71I6jLFp1zDESKAVnngJHfMx9k3AMmeBLObcRL2InLYM4hPBNDUEv/eT+tYNZv0XRo53zogFBf4p71k9C0KZZWBeR+G/oU/JvgD3DRc8fJrLSwAAAAASUVORK5CYII=",Tr="/jext-reborn/assets/chest.dc4b25ff.png",Pr="/jext-reborn/assets/delete_btn.871175bc.png",Nr="/jext-reborn/assets/delete_btn_hover.386c7405.png";function Zt(i,{delay:e=0,duration:t=400,easing:o=Ee}={}){const r=+getComputedStyle(i).opacity;return{delay:e,duration:t,easing:o,css:n=>`opacity: ${n*r}`}}function Lr(i){return{c:lt,m:lt,p:lt,i:lt,o:lt,d:lt}}function Ur(i){let e;function t(n,s){return n[0]?Zr:jr}let o=t(i),r=o(i);return{c(){r.c(),e=Ut()},m(n,s){r.m(n,s),at(n,e,s)},p(n,s){o===(o=t(n))&&r?r.p(n,s):(r.d(1),r=o(n),r&&(r.c(),ct(r,1),r.m(e.parentNode,e)))},i(n){ct(r)},o:lt,d(n){r.d(n),n&&st(e)}}}function jr(i){let e,t,o,r,n,s,l,c,f;return{c(){e=tt("div"),t=tt("img"),r=vt(),n=tt("p"),s=Ct(i[2]),wt(t.src,o=i[1])||N(t,"src",o),N(t,"alt",i[2]),N(t,"class","svelte-72nmcc"),N(e,"class","svelte-72nmcc")},m(g,p){at(g,e,p),et(e,t),et(e,r),et(e,n),et(n,s),c||(f=[ot(e,"click",function(){Tt(i[3])&&i[3].apply(this,arguments)}),ot(e,"keydown",null)],c=!0)},p(g,p){i=g,p&2&&!wt(t.src,o=i[1])&&N(t,"src",o),p&4&&N(t,"alt",i[2]),p&4&&Mt(s,i[2])},i(g){l||zt(()=>{l=_e(e,Zt,{}),l.start()})},o:lt,d(g){g&&st(e),c=!1,_t(f)}}}function Zr(i){let e,t,o,r,n,s,l,c,f;return{c(){e=tt("div"),t=tt("img"),r=vt(),n=tt("p"),s=Ct(i[2]),wt(t.src,o=i[6])||N(t,"src",o),N(t,"alt",i[2]),N(t,"class","svelte-72nmcc"),N(e,"class","selected svelte-72nmcc")},m(g,p){at(g,e,p),et(e,t),et(e,r),et(e,n),et(n,s),c||(f=[ot(e,"click",function(){Tt(i[3])&&i[3].apply(this,arguments)}),ot(e,"keydown",null)],c=!0)},p(g,p){i=g,p&4&&N(t,"alt",i[2]),p&4&&Mt(s,i[2])},i(g){l||zt(()=>{l=_e(e,Zt,{}),l.start()})},o:lt,d(g){g&&st(e),c=!1,_t(f)}}}function Wr(i){let e;function t(n,s){return n[0]?Gr:Mr}let o=t(i),r=o(i);return{c(){r.c(),e=Ut()},m(n,s){r.m(n,s),at(n,e,s)},p(n,s){o===(o=t(n))&&r?r.p(n,s):(r.d(1),r=o(n),r&&(r.c(),ct(r,1),r.m(e.parentNode,e)))},i(n){ct(r)},o:lt,d(n){r.d(n),n&&st(e)}}}function Mr(i){let e,t,o,r,n,s,l,c,f;return{c(){e=tt("div"),t=tt("img"),r=vt(),n=tt("p"),s=Ct(i[2]),wt(t.src,o=i[1])||N(t,"src",o),N(t,"alt",i[2]),N(t,"class","svelte-72nmcc"),N(e,"class","svelte-72nmcc")},m(g,p){at(g,e,p),et(e,t),et(e,r),et(e,n),et(n,s),c||(f=[ot(e,"click",function(){Tt(i[3])&&i[3].apply(this,arguments)}),ot(e,"keydown",null)],c=!0)},p(g,p){i=g,p&2&&!wt(t.src,o=i[1])&&N(t,"src",o),p&4&&N(t,"alt",i[2]),p&4&&Mt(s,i[2])},i(g){l||zt(()=>{l=_e(e,Zt,{}),l.start()})},o:lt,d(g){g&&st(e),c=!1,_t(f)}}}function Gr(i){let e,t,o,r,n,s,l,c,f;return{c(){e=tt("div"),t=tt("img"),r=vt(),n=tt("p"),s=Ct(i[2]),wt(t.src,o=un)||N(t,"src",o),N(t,"alt",i[2]),N(t,"class","svelte-72nmcc"),N(e,"class","selected svelte-72nmcc")},m(g,p){at(g,e,p),et(e,t),et(e,r),et(e,n),et(n,s),c||(f=[ot(e,"click",function(){Tt(i[3])&&i[3].apply(this,arguments)}),ot(e,"keydown",null)],c=!0)},p(g,p){i=g,p&4&&N(t,"alt",i[2]),p&4&&Mt(s,i[2])},i(g){l||zt(()=>{l=_e(e,Zt,{}),l.start()})},o:lt,d(g){g&&st(e),c=!1,_t(f)}}}function Hr(i){let e,t={ctx:i,current:null,token:null,hasCatch:!1,pending:Wr,then:Ur,catch:Lr,value:6};return Be(i[4],t),{c(){e=Ut(),t.block.c()},m(o,r){at(o,e,r),t.block.m(o,t.anchor=r),t.mount=()=>e.parentNode,t.anchor=e},p(o,[r]){i=o,xe(t,i,r)},i(o){ct(t.block)},o:lt,d(o){o&&st(e),t.block.d(o),t.token=null,t=null}}}function Vr(i,e,t){let{value:o=!1}=e,{image:r}=e,{name:n}=e,{onClick:s=()=>{}}=e;const c=(async f=>{const p=await(await fetch(f)).blob();return URL.createObjectURL(p)})(r);return i.$$set=f=>{"value"in f&&t(0,o=f.value),"image"in f&&t(1,r=f.image),"name"in f&&t(2,n=f.name),"onClick"in f&&t(3,s=f.onClick)},[o,r,n,s,c]}class qr extends Ht{constructor(e){super(),Gt(this,e,Vr,Hr,Wt,{value:0,image:1,name:2,onClick:3})}}const dn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA0UlEQVR42nWSsQ1CMQxEvQ4rINFR0SOBxAgpaRgA/Q3YhelAF+mi9+/nF1YS2zn7zq7v+/H7tEu31/XYbea7nw6ruM/SRYlM0HtZluEzIO+KycporsI3qzGHeSW01tpwsJukkl0MAAcV0GdyJ6AKpa/cVlZyq9SG9yFicpR4TKDipOmzMjnH525m/g6QTp5uOT8zNt2D5J68SaVyPORsYPtJxVrVjBcraHSkwDH3TUxnguyZu1pRkD1v541wpjHb0MokKkz+WWgDkDtgkfbm7wJ/9oUoq3qXqFkAAAAASUVORK5CYII=",Ne=new Map([[4,"1.14 - 1.14.4"],[5,"1.15 - 1.16.1"],[6,"1.16.2-1.16.5"],[7,"1.17 - 1.17.1"],[8,"1.18 - 1.18.2"],[9,"1.19 - 1.19.2"]]),Le=[{source:"chests/ancient_city,chests/ancient_city_ice_box",img:"loottable_icons/Ancient_City.webp",name:"Ancient City",minVersion:9},{source:"chests/bastion_bridge,chests/bastion_hoglin_treasure,chests/bastion_other,chests/bastion_treasure",img:"loottable_icons/Bastion_Remnant.webp",name:"Bastion Remnant",minVersion:5},{source:"chests/desert_pyramid",img:"loottable_icons/Desert_pyramid.webp",name:"Desert Pyramid",minVersion:4},{source:"chests/simple_dungeon",img:"loottable_icons/Dungeon.webp",name:"Dungeon",minVersion:4},{source:"chests/end_city_treasure",img:"loottable_icons/End_City.webp",name:"End City",minVersion:4},{source:"chests/igloo_chest",img:"loottable_icons/Igloo.webp",name:"Igloo",minVersion:4},{source:"chests/jungle_temple",img:"loottable_icons/Jungle_pyramid.webp",name:"Jungle Temple",minVersion:4},{source:"chests/nether_bridge",img:"loottable_icons/Nether_Fortress.webp",name:"Nether Fortress",minVersion:4},{source:"chests/ruined_portal",img:"loottable_icons/Nether_portal.webp",name:"Ruined Portal",minVersion:5},{source:"chests/pillager_outpost",img:"loottable_icons/Pillager_outpost.webp",name:"Pillager Outpost",minVersion:4},{source:"chests/shipwreck_map,chests/shipwreck_supply,chests/shipwreck_treasure",img:"loottable_icons/Shipwreck.webp",name:"Shipwreck",minVersion:4},{source:"chests/stronghold_corridor,chests/stronghold_crossing",img:"loottable_icons/Stronghold.webp",name:"Stronghold",minVersion:4},{source:"chests/underwater_ruin_big,chests/underwater_ruin_small",img:"loottable_icons/Underwater_ruin.webp",name:"Underwater Ruins",minVersion:4},{source:"chests/village/village_plains_house,chests/village/village_savanna_house,chests/village/village_desert_house,chests/village/village_snowy_house,chests/village/village_taiga_house",img:"loottable_icons/Village.webp",name:"Village",minVersion:4},{source:"chests/woodland_mansion",img:"loottable_icons/Woodland_Mansion.webp",name:"Woodland Mansion",minVersion:4},{source:"chests/abandoned_mineshaft",img:"loottable_icons/Mineshaft.webp",name:"Mineshaft",minVersion:4}];function Ue(i,e,t){const o=i.slice();return o[6]=e[t],o}function je(i){let e,t,o,r,n,s,l,c=Le,f=[];for(let p=0;p<c.length;p+=1)f[p]=We(Ue(i,c,p));const g=p=>gt(f[p],1,1,()=>{f[p]=null});return{c(){e=tt("div"),t=tt("div");for(let p=0;p<f.length;p+=1)f[p].c();o=vt(),r=tt("div"),r.innerHTML='<div id="content" class="svelte-1m5gm3z"><p id="generate_text" class="noselect svelte-1m5gm3z">OK</p></div>',N(t,"class","popupcontainer svelte-1m5gm3z"),N(r,"id","messagepopupconfirm"),N(r,"class","popupconfirm svelte-1m5gm3z"),N(e,"class","popup svelte-1m5gm3z")},m(p,b){at(p,e,b),et(e,t);for(let d=0;d<f.length;d+=1)f[d].m(t,null);et(e,o),et(e,r),n=!0,s||(l=[ot(r,"click",i[4]),ot(r,"keydown",null)],s=!0)},p(p,b){if(b&13){c=Le;let d;for(d=0;d<c.length;d+=1){const m=Ue(p,c,d);f[d]?(f[d].p(m,b),ct(f[d],1)):(f[d]=We(m),f[d].c(),ct(f[d],1),f[d].m(t,null))}for(qt(),d=c.length;d<f.length;d+=1)g(d);Kt()}},i(p){if(!n){for(let b=0;b<c.length;b+=1)ct(f[b]);n=!0}},o(p){f=f.filter(Boolean);for(let b=0;b<f.length;b+=1)gt(f[b]);n=!1},d(p){p&&st(e),ze(f,p),s=!1,_t(l)}}}function Ze(i){let e,t;function o(){return i[5](i[6])}return e=new qr({props:{image:i[6].img,name:i[6].name,value:i[0].includes(i[6].source),onClick:o}}),{c(){Rt(e.$$.fragment)},m(r,n){St(e,r,n),t=!0},p(r,n){i=r;const s={};n&1&&(s.value=i[0].includes(i[6].source)),e.$set(s)},i(r){t||(ct(e.$$.fragment,r),t=!0)},o(r){gt(e.$$.fragment,r),t=!1},d(r){Et(e,r)}}}function We(i){let e,t,o=i[6].minVersion&&i[6].minVersion<=i[2]&&Ze(i);return{c(){o&&o.c(),e=Ut()},m(r,n){o&&o.m(r,n),at(r,e,n),t=!0},p(r,n){r[6].minVersion&&r[6].minVersion<=r[2]?o?(o.p(r,n),n&4&&ct(o,1)):(o=Ze(r),o.c(),ct(o,1),o.m(e.parentNode,e)):o&&(qt(),gt(o,1,1,()=>{o=null}),Kt())},i(r){t||(ct(o),t=!0)},o(r){gt(o),t=!1},d(r){o&&o.d(r),r&&st(e)}}}function Kr(i){let e,t,o,r,n,s,l,c=i[1]&&je(i);return{c(){e=tt("div"),o=vt(),c&&c.c(),r=Ut(),N(e,"class","popupbackground svelte-1m5gm3z"),ge(e,"background-image","url("+dn+")")},m(f,g){at(f,e,g),at(f,o,g),c&&c.m(f,g),at(f,r,g),n=!0,s||(l=[ot(e,"click",i[4]),ot(e,"keydown",null)],s=!0)},p(f,[g]){f[1]?c?(c.p(f,g),g&2&&ct(c,1)):(c=je(f),c.c(),ct(c,1),c.m(r.parentNode,r)):c&&(qt(),gt(c,1,1,()=>{c=null}),Kt())},i(f){n||(zt(()=>{t||(t=me(e,Zt,{},!0)),t.run(1)}),ct(c),n=!0)},o(f){t||(t=me(e,Zt,{},!1)),t.run(0),gt(c),n=!1},d(f){f&&st(e),f&&t&&t.end(),f&&st(o),c&&c.d(f),f&&st(r),s=!1,_t(l)}}}function Yr(i,e,t){let{selectedDungeons:o=[]}=e,{version:r}=e,{closePopup:n}=e;const s=f=>{o.includes(f)?t(0,o=o.filter(g=>g!=f)):t(0,o=[...o,f])},l=()=>{t(1,n=!1),document.querySelector(".popup").style.display="none"},c=f=>s(f.source);return i.$$set=f=>{"selectedDungeons"in f&&t(0,o=f.selectedDungeons),"version"in f&&t(2,r=f.version),"closePopup"in f&&t(1,n=f.closePopup)},[o,n,r,s,l,c]}class Jr extends Ht{constructor(e){super(),Gt(this,e,Yr,Kr,Wt,{selectedDungeons:0,version:2,closePopup:1})}}function Me(i){let e,t,o,r,n;function s(g){i[13](g)}function l(g){i[14](g)}function c(g){i[15](g)}let f={};return i[0].lootTables!==void 0&&(f.selectedDungeons=i[0].lootTables),i[1]!==void 0&&(f.version=i[1]),i[4]!==void 0&&(f.closePopup=i[4]),e=new Jr({props:f}),kt.push(()=>xt(e,"selectedDungeons",s)),kt.push(()=>xt(e,"version",l)),kt.push(()=>xt(e,"closePopup",c)),{c(){Rt(e.$$.fragment)},m(g,p){St(e,g,p),n=!0},p(g,p){const b={};!t&&p&1&&(t=!0,b.selectedDungeons=g[0].lootTables,Bt(()=>t=!1)),!o&&p&2&&(o=!0,b.version=g[1],Bt(()=>o=!1)),!r&&p&16&&(r=!0,b.closePopup=g[4],Bt(()=>r=!1)),e.$set(b)},i(g){n||(ct(e.$$.fragment,g),n=!0)},o(g){gt(e.$$.fragment,g),n=!1},d(g){Et(e,g)}}}function Xr(i){return{c:lt,m:lt,p:lt,i:lt,o:lt,d:lt}}function Qr(i){let e,t,o,r,n,s,l,c,f,g,p,b,d,m,h,v,_,y,S,x,C,j,L,T;t=new ne({props:{text:"Changes the disc icon",$$slots:{default:[$r]},$$scope:{ctx:i}}}),s=new ne({props:{text:"Toggles Creeper drops",$$slots:{default:[ni]},$$scope:{ctx:i}}}),f=new ne({props:{text:"Selects structures in which the disc can be found",$$slots:{default:[ri]},$$scope:{ctx:i}}}),b=new ne({props:{text:"Removes the disc",$$slots:{default:[oi]},$$scope:{ctx:i}}});function R(k,D){return k[0].namespace.length>90?li:ai}let M=R(i),X=M(i);return{c(){e=tt("div"),Rt(t.$$.fragment),o=vt(),r=tt("div"),n=tt("div"),Rt(s.$$.fragment),l=vt(),c=tt("div"),Rt(f.$$.fragment),g=vt(),p=tt("div"),Rt(b.$$.fragment),d=vt(),m=tt("div"),h=tt("input"),v=vt(),_=tt("input"),y=vt(),S=tt("p"),X.c(),x=vt(),C=tt("textarea"),N(n,"id","wrapper"),N(n,"class","svelte-12gqr3a"),N(c,"id","wrapper"),N(c,"class","svelte-12gqr3a"),N(p,"id","wrapper"),N(p,"class","svelte-12gqr3a"),N(r,"id","buttons"),N(r,"class","svelte-12gqr3a"),N(e,"id","icons"),N(e,"class","svelte-12gqr3a"),N(h,"type","text"),N(h,"name","song_name"),N(h,"id","song_name_input"),N(h,"class","svelte-12gqr3a"),N(_,"type","text"),N(_,"name","song_author"),N(_,"id","song_author_input"),N(_,"class","svelte-12gqr3a"),N(S,"id","disknamespace"),N(S,"class","svelte-12gqr3a"),N(m,"id","names"),N(m,"class","svelte-12gqr3a"),N(C,"name","song_lore"),N(C,"id","song_lore_input"),N(C,"cols","30"),N(C,"rows","6"),N(C,"class","svelte-12gqr3a")},m(k,D){at(k,e,D),St(t,e,null),et(e,o),et(e,r),et(r,n),St(s,n,null),et(r,l),et(r,c),St(f,c,null),et(r,g),et(r,p),St(b,p,null),at(k,d,D),at(k,m,D),et(m,h),jt(h,i[0].name),et(m,v),et(m,_),jt(_,i[0].author),et(m,y),et(m,S),X.m(S,null),at(k,x,D),at(k,C,D),jt(C,i[0].lores),j=!0,L||(T=[ot(h,"input",i[16]),ot(h,"input",i[5]),ot(_,"input",i[17]),ot(_,"input",i[5]),ot(C,"input",i[18])],L=!0)},p(k,D){const u={};D&4194305&&(u.$$scope={dirty:D,ctx:k}),t.$set(u);const P={};D&4194305&&(P.$$scope={dirty:D,ctx:k}),s.$set(P);const Q={};D&4194304&&(Q.$$scope={dirty:D,ctx:k}),f.$set(Q);const Z={};D&4194316&&(Z.$$scope={dirty:D,ctx:k}),b.$set(Z),D&1&&h.value!==k[0].name&&jt(h,k[0].name),D&1&&_.value!==k[0].author&&jt(_,k[0].author),M===(M=R(k))&&X?X.p(k,D):(X.d(1),X=M(k),X&&(X.c(),X.m(S,null))),D&1&&jt(C,k[0].lores)},i(k){j||(ct(t.$$.fragment,k),ct(s.$$.fragment,k),ct(f.$$.fragment,k),ct(b.$$.fragment,k),j=!0)},o(k){gt(t.$$.fragment,k),gt(s.$$.fragment,k),gt(f.$$.fragment,k),gt(b.$$.fragment,k),j=!1},d(k){k&&st(e),Et(t),Et(s),Et(f),Et(b),k&&st(d),k&&st(m),X.d(),k&&st(x),k&&st(C),L=!1,_t(T)}}}function $r(i){let e,t,o,r;return{c(){e=tt("img"),N(e,"id","disc_texture"),wt(e.src,t=URL.createObjectURL(i[0].texture))||N(e,"src",t),N(e,"height","64"),N(e,"width","64"),N(e,"alt","disc icon"),N(e,"class","svelte-12gqr3a")},m(n,s){at(n,e,s),o||(r=[ot(e,"click",i[10]),ot(e,"keydown",null)],o=!0)},p(n,s){s&1&&!wt(e.src,t=URL.createObjectURL(n[0].texture))&&N(e,"src",t)},d(n){n&&st(e),o=!1,_t(r)}}}function ti(i){let e,t,o,r;return{c(){e=tt("img"),N(e,"id","toggle_creeper"),wt(e.src,t=fn)||N(e,"src",t),N(e,"alt","creeper icon"),N(e,"class","svelte-12gqr3a")},m(n,s){at(n,e,s),o||(r=[ot(e,"click",i[8]),ot(e,"keydown",null)],o=!0)},p:lt,d(n){n&&st(e),o=!1,_t(r)}}}function ei(i){let e,t,o,r;return{c(){e=tt("img"),N(e,"id","toggle_creeper"),wt(e.src,t=fn)||N(e,"src",t),N(e,"alt","creeper icon"),N(e,"class","grayscale svelte-12gqr3a")},m(n,s){at(n,e,s),o||(r=[ot(e,"click",i[8]),ot(e,"keydown",null)],o=!0)},p:lt,d(n){n&&st(e),o=!1,_t(r)}}}function ni(i){let e;function t(n,s){return n[0].creeperDrop?ti:ei}let o=t(i),r=o(i);return{c(){r.c(),e=Ut()},m(n,s){r.m(n,s),at(n,e,s)},p(n,s){o===(o=t(n))&&r?r.p(n,s):(r.d(1),r=o(n),r&&(r.c(),r.m(e.parentNode,e)))},d(n){r.d(n),n&&st(e)}}}function ri(i){let e,t,o,r;return{c(){e=tt("img"),N(e,"id","loot_selector"),wt(e.src,t=Tr)||N(e,"src",t),N(e,"alt","chest icon"),N(e,"class","svelte-12gqr3a")},m(n,s){at(n,e,s),o||(r=[ot(e,"click",i[11]),ot(e,"keydown",null)],o=!0)},p:lt,d(n){n&&st(e),o=!1,_t(r)}}}function ii(i){let e,t,o,r;return{c(){e=tt("img"),N(e,"id","song_delete"),wt(e.src,t=Nr)||N(e,"src",t),N(e,"alt","delete icon"),N(e,"class","svelte-12gqr3a")},m(n,s){at(n,e,s),o||(r=[ot(e,"mouseleave",i[9]),ot(e,"click",function(){Tt(i[2])&&i[2].apply(this,arguments)}),ot(e,"keydown",null)],o=!0)},p(n,s){i=n},d(n){n&&st(e),o=!1,_t(r)}}}function si(i){let e,t,o,r;return{c(){e=tt("img"),N(e,"id","song_delete"),wt(e.src,t=Pr)||N(e,"src",t),N(e,"alt","delete icon"),N(e,"class","svelte-12gqr3a")},m(n,s){at(n,e,s),o||(r=[ot(e,"mouseenter",i[9]),ot(e,"click",function(){Tt(i[2])&&i[2].apply(this,arguments)}),ot(e,"keydown",null)],o=!0)},p(n,s){i=n},d(n){n&&st(e),o=!1,_t(r)}}}function oi(i){let e;function t(n,s){return n[3]?ii:si}let o=t(i),r=o(i);return{c(){r.c(),e=Ut()},m(n,s){r.m(n,s),at(n,e,s)},p(n,s){o===(o=t(n))&&r?r.p(n,s):(r.d(1),r=o(n),r&&(r.c(),r.m(e.parentNode,e)))},d(n){r.d(n),n&&st(e)}}}function ai(i){let e=i[0].namespace+"",t;return{c(){t=Ct(e)},m(o,r){at(o,t,r)},p(o,r){r&1&&e!==(e=o[0].namespace+"")&&Mt(t,e)},d(o){o&&st(t)}}}function li(i){let e=i[0].namespace.substring(0,90)+"",t,o;return{c(){t=Ct(e),o=Ct("...")},m(r,n){at(r,t,n),at(r,o,n)},p(r,n){n&1&&e!==(e=r[0].namespace.substring(0,90)+"")&&Mt(t,e)},d(r){r&&st(t),r&&st(o)}}}function ci(i){let e,t={ctx:i,current:null,token:null,hasCatch:!1,pending:di,then:fi,catch:ui,value:21};return Be(i[7],t),{c(){e=Ut(),t.block.c()},m(o,r){at(o,e,r),t.block.m(o,t.anchor=r),t.mount=()=>e.parentNode,t.anchor=e},p(o,r){i=o,xe(t,i,r)},i:lt,o:lt,d(o){o&&st(e),t.block.d(o),t.token=null,t=null}}}function ui(i){return{c:lt,m:lt,p:lt,d:lt}}function fi(i){let e,t,o;return{c(){e=tt("div"),t=tt("img"),wt(t.src,o=un)||N(t,"src",o),N(t,"alt","loading"),N(t,"class","svelte-12gqr3a"),N(e,"id","loading"),N(e,"class","svelte-12gqr3a")},m(r,n){at(r,e,n),et(e,t)},p:lt,d(r){r&&st(e)}}}function di(i){let e;return{c(){e=tt("div"),e.innerHTML='<img src="" alt="loading" class="svelte-12gqr3a"/>',N(e,"id","loading"),N(e,"class","svelte-12gqr3a")},m(t,o){at(t,e,o)},p:lt,d(t){t&&st(e)}}}function hi(i){let e,t,o,r=i[4]&&Me(i),n={ctx:i,current:null,token:null,hasCatch:!1,pending:ci,then:Qr,catch:Xr,value:21,blocks:[,,,]};return Be(i[6],n),{c(){r&&r.c(),e=vt(),t=tt("div"),n.block.c(),N(t,"id","song"),N(t,"class","svelte-12gqr3a")},m(s,l){r&&r.m(s,l),at(s,e,l),at(s,t,l),n.block.m(t,n.anchor=null),n.mount=()=>t,n.anchor=null,o=!0},p(s,[l]){i=s,i[4]?r?(r.p(i,l),l&16&&ct(r,1)):(r=Me(i),r.c(),ct(r,1),r.m(e.parentNode,e)):r&&(qt(),gt(r,1,1,()=>{r=null}),Kt()),xe(n,i,l)},i(s){o||(ct(r),ct(n.block),o=!0)},o(s){gt(r);for(let l=0;l<3;l+=1){const c=n.blocks[l];gt(c)}o=!1},d(s){r&&r.d(s),s&&st(e),s&&st(t),n.block.d(),n.token=null,n=null}}}function pi(i,e,t){let{song:o}=e,{id:r}=e,{version:n}=e,{onRemove:s=()=>{}}=e;const l=()=>{t(0,o.namespace=`${o.name}${o.author}${r}`.replace(/[^a-zA-Z0-9]/g,"").replaceAll("1","one").replaceAll("2","two").replaceAll("3","three").replaceAll("4","four").replaceAll("5","five").replaceAll("6","six").replaceAll("7","seven").replaceAll("8","eight").replaceAll("9","nine").replaceAll("0","zero").toLowerCase(),o)},c=async()=>{const T=o.uploadedFile.name.replace(/(\.mp3)|(\.ogg)|(\.wav)/g,"").split(/ ?- ?/g);T.length>=1&&t(0,o.name=T.shift(),o),T.length>=1&&t(0,o.author=T.join(),o),l(),t(0,o.oggFile=await Cr(o.uploadedFile),o),t(0,o.monoFile=await zr(o.oggFile),o),t(0,o.texture=await(await fetch(Dr)).blob(),o)},f=async()=>await new Promise(T=>{setTimeout(()=>{T()},1)}),g=c(),p=f(),b=()=>{t(0,o.creeperDrop=!o.creeperDrop,o)};let d=!1;const m=()=>{t(3,d=!d)},h=()=>{const T=document.createElement("input");T.type="file",T.accept="image/*",T.addEventListener("change",()=>{const R=T.files[0];R&&t(0,o.texture=R,o)}),T.click()};let v=!1;const _=()=>{t(4,v=!0)};function y(T){i.$$.not_equal(o.lootTables,T)&&(o.lootTables=T,t(0,o))}function S(T){n=T,t(1,n)}function x(T){v=T,t(4,v)}function C(){o.name=this.value,t(0,o)}function j(){o.author=this.value,t(0,o)}function L(){o.lores=this.value,t(0,o)}return i.$$set=T=>{"song"in T&&t(0,o=T.song),"id"in T&&t(12,r=T.id),"version"in T&&t(1,n=T.version),"onRemove"in T&&t(2,s=T.onRemove)},[o,n,s,d,v,l,g,p,b,m,h,_,r,y,S,x,C,j,L]}class mi extends Ht{constructor(e){super(),Gt(this,e,pi,hi,Wt,{song:0,id:12,version:1,onRemove:2})}}function Ge(i,e,t){const o=i.slice();return o[7]=e[t],o[8]=e,o[9]=t,o}function He(i){let e,t,o,r;function n(){return i[4](i[7])}function s(f){i[5](f,i[7],i[8],i[9])}function l(f){i[6](f)}let c={id:i[9],onRemove:n};return i[7]!==void 0&&(c.song=i[7]),i[1]!==void 0&&(c.version=i[1]),e=new mi({props:c}),kt.push(()=>xt(e,"song",s)),kt.push(()=>xt(e,"version",l)),{c(){Rt(e.$$.fragment)},m(f,g){St(e,f,g),r=!0},p(f,g){i=f;const p={};g&1&&(p.onRemove=n),!t&&g&1&&(t=!0,p.song=i[7],Bt(()=>t=!1)),!o&&g&2&&(o=!0,p.version=i[1],Bt(()=>o=!1)),e.$set(p)},i(f){r||(ct(e.$$.fragment,f),r=!0)},o(f){gt(e.$$.fragment,f),r=!1},d(f){Et(e,f)}}}function gi(i){let e,t,o,r,n,s,l,c,f,g=i[0],p=[];for(let d=0;d<g.length;d+=1)p[d]=He(Ge(i,g,d));const b=d=>gt(p[d],1,1,()=>{p[d]=null});return{c(){e=tt("div"),t=tt("div");for(let d=0;d<p.length;d+=1)p[d].c();o=vt(),r=tt("hr"),n=vt(),s=tt("div"),s.innerHTML='<h1 class="noselect svelte-15f98v0">+</h1>',N(t,"id","songscontainer"),N(r,"class","hidden"),N(s,"id","addsongsbtn"),N(s,"class","svelte-15f98v0"),N(e,"id","content"),N(e,"class","svelte-15f98v0")},m(d,m){at(d,e,m),et(e,t);for(let h=0;h<p.length;h+=1)p[h].m(t,null);et(e,o),et(e,r),et(e,n),et(e,s),l=!0,c||(f=[ot(s,"click",i[2]),ot(s,"keydown",null)],c=!0)},p(d,[m]){if(m&11){g=d[0];let h;for(h=0;h<g.length;h+=1){const v=Ge(d,g,h);p[h]?(p[h].p(v,m),ct(p[h],1)):(p[h]=He(v),p[h].c(),ct(p[h],1),p[h].m(t,null))}for(qt(),h=g.length;h<p.length;h+=1)b(h);Kt()}},i(d){if(!l){for(let m=0;m<g.length;m+=1)ct(p[m]);l=!0}},o(d){p=p.filter(Boolean);for(let m=0;m<p.length;m+=1)gt(p[m]);l=!1},d(d){d&&st(e),ze(p,d),c=!1,_t(f)}}}function _i(i,e,t){let{discData:o=[]}=e,{version:r}=e;const n=()=>{const g=document.createElement("input");g.type="file",g.multiple=!0,g.accept="audio/*",g.click(),g.addEventListener("change",async()=>{if(!g.files||g.files.length===0)return;const p=[];for(let b=0;b<g.files.length;b++)p.push({uploadedFile:g.files[b],name:"Disc Name",author:"Disc Author",lores:`This is the lore of the disc

You can have multiple lines

If you don't want any lores you can leave this empty`,texture:null,creeperDrop:!0,lootTables:[],monoFile:null,namespace:"",oggFile:null});t(0,o=[...o,...p])})},s=g=>{t(0,o=o.filter(p=>p!=g))},l=g=>s(g);function c(g,p,b,d){b[d]=g,t(0,o)}function f(g){r=g,t(1,r)}return i.$$set=g=>{"discData"in g&&t(0,o=g.discData),"version"in g&&t(1,r=g.version)},[o,r,n,s,l,c,f]}class vi extends Ht{constructor(e){super(),Gt(this,e,_i,gi,Wt,{discData:0,version:1})}}const hn="/jext-reborn/assets/pack_icon.57c0be34.png";function Ve(i,e,t){const o=i.slice();return o[7]=e[t][0],o[8]=e[t][1],o}function bi(i){let e,t,o,r;return{c(){e=tt("img"),wt(e.src,t=hn)||N(e,"src",t),N(e,"alt","pack icon"),N(e,"id","pack_icon"),N(e,"class","noselect svelte-1uldi6h")},m(n,s){at(n,e,s),o||(r=[ot(e,"click",i[2]),ot(e,"keypress",null)],o=!0)},p:lt,d(n){n&&st(e),o=!1,_t(r)}}}function qe(i){let e,t=i[8]+"",o;return{c(){e=tt("option"),o=Ct(t),e.__value=i[7],e.value=e.__value},m(r,n){at(r,e,n),et(e,o)},p:lt,d(r){r&&st(e)}}}function yi(i){let e,t,o,r,n,s,l,c,f,g,p;t=new ne({props:{text:"Sets the resourcepack icon",$$slots:{default:[bi]},$$scope:{ctx:i}}});let b=[...Ne],d=[];for(let m=0;m<b.length;m+=1)d[m]=qe(Ve(i,b,m));return{c(){e=tt("div"),Rt(t.$$.fragment),o=vt(),r=tt("input"),n=vt(),s=tt("input"),l=vt(),c=tt("select");for(let m=0;m<d.length;m+=1)d[m].c();N(r,"type","file"),N(r,"name","pack_icon"),N(r,"id","pack_icon_input"),N(r,"class","hidden"),N(r,"accept","image/png"),N(s,"type","text"),N(s,"name","pack_name"),N(s,"id","pack_name_input"),N(s,"class","svelte-1uldi6h"),N(c,"name","version"),N(c,"id","version_input"),N(c,"class","svelte-1uldi6h"),i[1]===void 0&&zt(()=>i[6].call(c)),N(e,"id","header"),N(e,"class","svelte-1uldi6h")},m(m,h){at(m,e,h),St(t,e,null),et(e,o),et(e,r),et(e,n),et(e,s),jt(s,i[0]),et(e,l),et(e,c);for(let v=0;v<d.length;v+=1)d[v].m(c,null);Te(c,i[1]),f=!0,g||(p=[ot(s,"input",i[5]),ot(s,"input",i[3]),ot(c,"change",i[6])],g=!0)},p(m,[h]){const v={};if(h&2048&&(v.$$scope={dirty:h,ctx:m}),t.$set(v),h&1&&s.value!==m[0]&&jt(s,m[0]),h&0){b=[...Ne];let _;for(_=0;_<b.length;_+=1){const y=Ve(m,b,_);d[_]?d[_].p(y,h):(d[_]=qe(y),d[_].c(),d[_].m(c,null))}for(;_<d.length;_+=1)d[_].d(1);d.length=b.length}h&2&&Te(c,m[1])},i(m){f||(ct(t.$$.fragment,m),f=!0)},o(m){gt(t.$$.fragment,m),f=!1},d(m){m&&st(e),Et(t),ze(d,m),g=!1,_t(p)}}}function wi(i,e,t){let{packname:o="your_pack_name"}=e,{version:r=9}=e,{imagesrc:n=hn}=e;const s=()=>{var g;(g=document.querySelector("#pack_icon_input"))==null||g.addEventListener("change",()=>{const p=document.querySelector("#pack_icon_input").files;if(!p||p.length===0)return;const b=p[0],d=new FileReader;d.onload=()=>{const m=new Image;m.onload=()=>{const h=document.createElement("canvas");h.width=64,h.height=64,h.getContext("2d").drawImage(m,0,0,64,64);const _=h.toDataURL("image/png");document.querySelector("#pack_icon").src=_},t(4,n=m.src=d.result)},d.readAsDataURL(b)}),document.querySelector("#pack_icon_input").click()},l=()=>{t(0,o=o.replace(" ","_").replace(/[^a-zA-Z0-9_]/g,"").toLowerCase())};function c(){o=this.value,t(0,o)}function f(){r=Bn(this),t(1,r)}return i.$$set=g=>{"packname"in g&&t(0,o=g.packname),"version"in g&&t(1,r=g.version),"imagesrc"in g&&t(4,n=g.imagesrc)},[o,r,s,l,n,c,f]}class ki extends Ht{constructor(e){super(),Gt(this,e,wi,yi,Wt,{packname:0,version:1,imagesrc:4})}}function Ke(i){let e,t,o,r,n,s,l;return{c(){e=tt("div"),t=tt("div"),o=Ct(i[1]),r=vt(),n=tt("div"),n.innerHTML='<div id="content" class="svelte-16n0rxp"><p id="generate_text" class="noselect svelte-16n0rxp">OK</p></div>',N(t,"class","popupcontainer svelte-16n0rxp"),N(t,"id","messagepopupcontainer"),N(n,"id","messagepopupconfirm"),N(n,"class","popupconfirm svelte-16n0rxp"),N(e,"class","popup svelte-16n0rxp")},m(c,f){at(c,e,f),et(e,t),et(t,o),et(e,r),et(e,n),s||(l=[ot(n,"click",i[2]),ot(n,"keydown",null)],s=!0)},p(c,f){f&2&&Mt(o,c[1])},d(c){c&&st(e),s=!1,_t(l)}}}function Ai(i){let e,t,o,r,n,s,l,c=i[0]&&Ke(i);return{c(){e=tt("div"),o=vt(),c&&c.c(),r=Ut(),N(e,"class","popupbackground svelte-16n0rxp"),ge(e,"background-image","url("+dn+")")},m(f,g){at(f,e,g),at(f,o,g),c&&c.m(f,g),at(f,r,g),n=!0,s||(l=[ot(e,"click",i[2]),ot(e,"keydown",null)],s=!0)},p(f,[g]){f[0]?c?c.p(f,g):(c=Ke(f),c.c(),c.m(r.parentNode,r)):c&&(c.d(1),c=null)},i(f){n||(zt(()=>{t||(t=me(e,Zt,{},!0)),t.run(1)}),n=!0)},o(f){t||(t=me(e,Zt,{},!1)),t.run(0),n=!1},d(f){f&&st(e),f&&t&&t.end(),f&&st(o),c&&c.d(f),f&&st(r),s=!1,_t(l)}}}function Si(i,e,t){let{text:o}=e,{closePopup:r}=e;const n=()=>{t(0,r=!1)};return i.$$set=s=>{"text"in s&&t(1,o=s.text),"closePopup"in s&&t(0,r=s.closePopup)},[r,o,n]}class Ei extends Ht{constructor(e){super(),Gt(this,e,Si,Ai,Wt,{text:1,closePopup:0})}}const pn="/jext-reborn/assets/generate_btn.516338f5.png";function ue(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var mn={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(i,e){(function(t){i.exports=t()})(function(){return function t(o,r,n){function s(f,g){if(!r[f]){if(!o[f]){var p=typeof ue=="function"&&ue;if(!g&&p)return p(f,!0);if(l)return l(f,!0);var b=new Error("Cannot find module '"+f+"'");throw b.code="MODULE_NOT_FOUND",b}var d=r[f]={exports:{}};o[f][0].call(d.exports,function(m){var h=o[f][1][m];return s(h||m)},d,d.exports,t,o,r,n)}return r[f].exports}for(var l=typeof ue=="function"&&ue,c=0;c<n.length;c++)s(n[c]);return s}({1:[function(t,o,r){var n=t("./utils"),s=t("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(c){for(var f,g,p,b,d,m,h,v=[],_=0,y=c.length,S=y,x=n.getTypeOf(c)!=="string";_<c.length;)S=y-_,p=x?(f=c[_++],g=_<y?c[_++]:0,_<y?c[_++]:0):(f=c.charCodeAt(_++),g=_<y?c.charCodeAt(_++):0,_<y?c.charCodeAt(_++):0),b=f>>2,d=(3&f)<<4|g>>4,m=1<S?(15&g)<<2|p>>6:64,h=2<S?63&p:64,v.push(l.charAt(b)+l.charAt(d)+l.charAt(m)+l.charAt(h));return v.join("")},r.decode=function(c){var f,g,p,b,d,m,h=0,v=0,_="data:";if(c.substr(0,_.length)===_)throw new Error("Invalid base64 input, it looks like a data url.");var y,S=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===l.charAt(64)&&S--,c.charAt(c.length-2)===l.charAt(64)&&S--,S%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=s.uint8array?new Uint8Array(0|S):new Array(0|S);h<c.length;)f=l.indexOf(c.charAt(h++))<<2|(b=l.indexOf(c.charAt(h++)))>>4,g=(15&b)<<4|(d=l.indexOf(c.charAt(h++)))>>2,p=(3&d)<<6|(m=l.indexOf(c.charAt(h++))),y[v++]=f,d!==64&&(y[v++]=g),m!==64&&(y[v++]=p);return y}},{"./support":30,"./utils":32}],2:[function(t,o,r){var n=t("./external"),s=t("./stream/DataWorker"),l=t("./stream/Crc32Probe"),c=t("./stream/DataLengthProbe");function f(g,p,b,d,m){this.compressedSize=g,this.uncompressedSize=p,this.crc32=b,this.compression=d,this.compressedContent=m}f.prototype={getContentWorker:function(){var g=new s(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),p=this;return g.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),g},getCompressedWorker:function(){return new s(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(g,p,b){return g.pipe(new l).pipe(new c("uncompressedSize")).pipe(p.compressWorker(b)).pipe(new c("compressedSize")).withStreamInfo("compression",p)},o.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,o,r){var n=t("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},r.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,o,r){var n=t("./utils"),s=function(){for(var l,c=[],f=0;f<256;f++){l=f;for(var g=0;g<8;g++)l=1&l?3988292384^l>>>1:l>>>1;c[f]=l}return c}();o.exports=function(l,c){return l!==void 0&&l.length?n.getTypeOf(l)!=="string"?function(f,g,p,b){var d=s,m=b+p;f^=-1;for(var h=b;h<m;h++)f=f>>>8^d[255&(f^g[h])];return-1^f}(0|c,l,l.length,0):function(f,g,p,b){var d=s,m=b+p;f^=-1;for(var h=b;h<m;h++)f=f>>>8^d[255&(f^g.charCodeAt(h))];return-1^f}(0|c,l,l.length,0):0}},{"./utils":32}],5:[function(t,o,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(t,o,r){var n=null;n=typeof Promise<"u"?Promise:t("lie"),o.exports={Promise:n}},{lie:37}],7:[function(t,o,r){var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=t("pako"),l=t("./utils"),c=t("./stream/GenericWorker"),f=n?"uint8array":"array";function g(p,b){c.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=b,this.meta={}}r.magic="\b\0",l.inherits(g,c),g.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(f,p.data),!1)},g.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},g.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},g.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(b){p.push({data:b,meta:p.meta})}},r.compressWorker=function(p){return new g("Deflate",p)},r.uncompressWorker=function(){return new g("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,o,r){function n(d,m){var h,v="";for(h=0;h<m;h++)v+=String.fromCharCode(255&d),d>>>=8;return v}function s(d,m,h,v,_,y){var S,x,C=d.file,j=d.compression,L=y!==f.utf8encode,T=l.transformTo("string",y(C.name)),R=l.transformTo("string",f.utf8encode(C.name)),M=C.comment,X=l.transformTo("string",y(M)),k=l.transformTo("string",f.utf8encode(M)),D=R.length!==C.name.length,u=k.length!==M.length,P="",Q="",Z="",nt=C.dir,I=C.date,F={crc32:0,compressedSize:0,uncompressedSize:0};m&&!h||(F.crc32=d.crc32,F.compressedSize=d.compressedSize,F.uncompressedSize=d.uncompressedSize);var E=0;m&&(E|=8),L||!D&&!u||(E|=2048);var z=0,H=0;nt&&(z|=16),_==="UNIX"?(H=798,z|=function(q,ut){var ht=q;return q||(ht=ut?16893:33204),(65535&ht)<<16}(C.unixPermissions,nt)):(H=20,z|=function(q){return 63&(q||0)}(C.dosPermissions)),S=I.getUTCHours(),S<<=6,S|=I.getUTCMinutes(),S<<=5,S|=I.getUTCSeconds()/2,x=I.getUTCFullYear()-1980,x<<=4,x|=I.getUTCMonth()+1,x<<=5,x|=I.getUTCDate(),D&&(Q=n(1,1)+n(g(T),4)+R,P+="up"+n(Q.length,2)+Q),u&&(Z=n(1,1)+n(g(X),4)+k,P+="uc"+n(Z.length,2)+Z);var K="";return K+=`
\0`,K+=n(E,2),K+=j.magic,K+=n(S,2),K+=n(x,2),K+=n(F.crc32,4),K+=n(F.compressedSize,4),K+=n(F.uncompressedSize,4),K+=n(T.length,2),K+=n(P.length,2),{fileRecord:p.LOCAL_FILE_HEADER+K+T+P,dirRecord:p.CENTRAL_FILE_HEADER+n(H,2)+K+n(X.length,2)+"\0\0\0\0"+n(z,4)+n(v,4)+T+P+X}}var l=t("../utils"),c=t("../stream/GenericWorker"),f=t("../utf8"),g=t("../crc32"),p=t("../signature");function b(d,m,h,v){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=m,this.zipPlatform=h,this.encodeFileName=v,this.streamFiles=d,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(b,c),b.prototype.push=function(d){var m=d.meta.percent||0,h=this.entriesCount,v=this._sources.length;this.accumulate?this.contentBuffer.push(d):(this.bytesWritten+=d.data.length,c.prototype.push.call(this,{data:d.data,meta:{currentFile:this.currentFile,percent:h?(m+100*(h-v-1))/h:100}}))},b.prototype.openedSource=function(d){this.currentSourceOffset=this.bytesWritten,this.currentFile=d.file.name;var m=this.streamFiles&&!d.file.dir;if(m){var h=s(d,m,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:h.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(d){this.accumulate=!1;var m=this.streamFiles&&!d.file.dir,h=s(d,m,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(h.dirRecord),m)this.push({data:function(v){return p.DATA_DESCRIPTOR+n(v.crc32,4)+n(v.compressedSize,4)+n(v.uncompressedSize,4)}(d),meta:{percent:100}});else for(this.push({data:h.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var d=this.bytesWritten,m=0;m<this.dirRecords.length;m++)this.push({data:this.dirRecords[m],meta:{percent:100}});var h=this.bytesWritten-d,v=function(_,y,S,x,C){var j=l.transformTo("string",C(x));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(_,2)+n(_,2)+n(y,4)+n(S,4)+n(j.length,2)+j}(this.dirRecords.length,h,d,this.zipComment,this.encodeFileName);this.push({data:v,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(d){this._sources.push(d);var m=this;return d.on("data",function(h){m.processChunk(h)}),d.on("end",function(){m.closedSource(m.previous.streamInfo),m._sources.length?m.prepareNextSource():m.end()}),d.on("error",function(h){m.error(h)}),this},b.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(d){var m=this._sources;if(!c.prototype.error.call(this,d))return!1;for(var h=0;h<m.length;h++)try{m[h].error(d)}catch{}return!0},b.prototype.lock=function(){c.prototype.lock.call(this);for(var d=this._sources,m=0;m<d.length;m++)d[m].lock()},o.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,o,r){var n=t("../compressions"),s=t("./ZipFileWorker");r.generateWorker=function(l,c,f){var g=new s(c.streamFiles,f,c.platform,c.encodeFileName),p=0;try{l.forEach(function(b,d){p++;var m=function(y,S){var x=y||S,C=n[x];if(!C)throw new Error(x+" is not a valid compression method !");return C}(d.options.compression,c.compression),h=d.options.compressionOptions||c.compressionOptions||{},v=d.dir,_=d.date;d._compressWorker(m,h).withStreamInfo("file",{name:b,dir:v,date:_,comment:d.comment||"",unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions}).pipe(g)}),g.entriesCount=p}catch(b){g.error(b)}return g}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,o,r){function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new n;for(var l in this)typeof this[l]!="function"&&(s[l]=this[l]);return s}}(n.prototype=t("./object")).loadAsync=t("./load"),n.support=t("./support"),n.defaults=t("./defaults"),n.version="3.10.1",n.loadAsync=function(s,l){return new n().loadAsync(s,l)},n.external=t("./external"),o.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,o,r){var n=t("./utils"),s=t("./external"),l=t("./utf8"),c=t("./zipEntries"),f=t("./stream/Crc32Probe"),g=t("./nodejsUtils");function p(b){return new s.Promise(function(d,m){var h=b.decompressed.getContentWorker().pipe(new f);h.on("error",function(v){m(v)}).on("end",function(){h.streamInfo.crc32!==b.decompressed.crc32?m(new Error("Corrupted zip : CRC32 mismatch")):d()}).resume()})}o.exports=function(b,d){var m=this;return d=n.extend(d||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),g.isNode&&g.isStream(b)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",b,!0,d.optimizedBinaryString,d.base64).then(function(h){var v=new c(d);return v.load(h),v}).then(function(h){var v=[s.Promise.resolve(h)],_=h.files;if(d.checkCRC32)for(var y=0;y<_.length;y++)v.push(p(_[y]));return s.Promise.all(v)}).then(function(h){for(var v=h.shift(),_=v.files,y=0;y<_.length;y++){var S=_[y],x=S.fileNameStr,C=n.resolve(S.fileNameStr);m.file(C,S.decompressed,{binary:!0,optimizedBinaryString:!0,date:S.date,dir:S.dir,comment:S.fileCommentStr.length?S.fileCommentStr:null,unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions,createFolders:d.createFolders}),S.dir||(m.file(C).unsafeOriginalName=x)}return v.zipComment.length&&(m.comment=v.zipComment),m})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,o,r){var n=t("../utils"),s=t("../stream/GenericWorker");function l(c,f){s.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(f)}n.inherits(l,s),l.prototype._bindStream=function(c){var f=this;(this._stream=c).pause(),c.on("data",function(g){f.push({data:g,meta:{percent:0}})}).on("error",function(g){f.isPaused?this.generatedError=g:f.error(g)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},l.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,o,r){var n=t("readable-stream").Readable;function s(l,c,f){n.call(this,c),this._helper=l;var g=this;l.on("data",function(p,b){g.push(p)||g._helper.pause(),f&&f(b)}).on("error",function(p){g.emit("error",p)}).on("end",function(){g.push(null)})}t("../utils").inherits(s,n),s.prototype._read=function(){this._helper.resume()},o.exports=s},{"../utils":32,"readable-stream":16}],14:[function(t,o,r){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(n,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(n,s);if(typeof n=="number")throw new Error('The "data" argument must not be a number');return new Buffer(n,s)},allocBuffer:function(n){if(Buffer.alloc)return Buffer.alloc(n);var s=new Buffer(n);return s.fill(0),s},isBuffer:function(n){return Buffer.isBuffer(n)},isStream:function(n){return n&&typeof n.on=="function"&&typeof n.pause=="function"&&typeof n.resume=="function"}}},{}],15:[function(t,o,r){function n(C,j,L){var T,R=l.getTypeOf(j),M=l.extend(L||{},g);M.date=M.date||new Date,M.compression!==null&&(M.compression=M.compression.toUpperCase()),typeof M.unixPermissions=="string"&&(M.unixPermissions=parseInt(M.unixPermissions,8)),M.unixPermissions&&16384&M.unixPermissions&&(M.dir=!0),M.dosPermissions&&16&M.dosPermissions&&(M.dir=!0),M.dir&&(C=_(C)),M.createFolders&&(T=v(C))&&y.call(this,T,!0);var X=R==="string"&&M.binary===!1&&M.base64===!1;L&&L.binary!==void 0||(M.binary=!X),(j instanceof p&&j.uncompressedSize===0||M.dir||!j||j.length===0)&&(M.base64=!1,M.binary=!0,j="",M.compression="STORE",R="string");var k=null;k=j instanceof p||j instanceof c?j:m.isNode&&m.isStream(j)?new h(C,j):l.prepareContent(C,j,M.binary,M.optimizedBinaryString,M.base64);var D=new b(C,k,M);this.files[C]=D}var s=t("./utf8"),l=t("./utils"),c=t("./stream/GenericWorker"),f=t("./stream/StreamHelper"),g=t("./defaults"),p=t("./compressedObject"),b=t("./zipObject"),d=t("./generate"),m=t("./nodejsUtils"),h=t("./nodejs/NodejsStreamInputAdapter"),v=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var j=C.lastIndexOf("/");return 0<j?C.substring(0,j):""},_=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},y=function(C,j){return j=j!==void 0?j:g.createFolders,C=_(C),this.files[C]||n.call(this,C,null,{dir:!0,createFolders:j}),this.files[C]};function S(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var x={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var j,L,T;for(j in this.files)T=this.files[j],(L=j.slice(this.root.length,j.length))&&j.slice(0,this.root.length)===this.root&&C(L,T)},filter:function(C){var j=[];return this.forEach(function(L,T){C(L,T)&&j.push(T)}),j},file:function(C,j,L){if(arguments.length!==1)return C=this.root+C,n.call(this,C,j,L),this;if(S(C)){var T=C;return this.filter(function(M,X){return!X.dir&&T.test(M)})}var R=this.files[this.root+C];return R&&!R.dir?R:null},folder:function(C){if(!C)return this;if(S(C))return this.filter(function(R,M){return M.dir&&C.test(R)});var j=this.root+C,L=y.call(this,j),T=this.clone();return T.root=L.name,T},remove:function(C){C=this.root+C;var j=this.files[C];if(j||(C.slice(-1)!=="/"&&(C+="/"),j=this.files[C]),j&&!j.dir)delete this.files[C];else for(var L=this.filter(function(R,M){return M.name.slice(0,C.length)===C}),T=0;T<L.length;T++)delete this.files[L[T].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var j,L={};try{if((L=l.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=L.type.toLowerCase(),L.compression=L.compression.toUpperCase(),L.type==="binarystring"&&(L.type="string"),!L.type)throw new Error("No output type specified.");l.checkSupport(L.type),L.platform!=="darwin"&&L.platform!=="freebsd"&&L.platform!=="linux"&&L.platform!=="sunos"||(L.platform="UNIX"),L.platform==="win32"&&(L.platform="DOS");var T=L.comment||this.comment||"";j=d.generateWorker(this,L,T)}catch(R){(j=new c("error")).error(R)}return new f(j,L.type||"string",L.mimeType)},generateAsync:function(C,j){return this.generateInternalStream(C).accumulate(j)},generateNodeStream:function(C,j){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(j)}};o.exports=x},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,o,r){o.exports=t("stream")},{stream:void 0}],17:[function(t,o,r){var n=t("./DataReader");function s(l){n.call(this,l);for(var c=0;c<this.data.length;c++)l[c]=255&l[c]}t("../utils").inherits(s,n),s.prototype.byteAt=function(l){return this.data[this.zero+l]},s.prototype.lastIndexOfSignature=function(l){for(var c=l.charCodeAt(0),f=l.charCodeAt(1),g=l.charCodeAt(2),p=l.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===c&&this.data[b+1]===f&&this.data[b+2]===g&&this.data[b+3]===p)return b-this.zero;return-1},s.prototype.readAndCheckSignature=function(l){var c=l.charCodeAt(0),f=l.charCodeAt(1),g=l.charCodeAt(2),p=l.charCodeAt(3),b=this.readData(4);return c===b[0]&&f===b[1]&&g===b[2]&&p===b[3]},s.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},o.exports=s},{"../utils":32,"./DataReader":18}],18:[function(t,o,r){var n=t("../utils");function s(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var c,f=0;for(this.checkOffset(l),c=this.index+l-1;c>=this.index;c--)f=(f<<8)+this.byteAt(c);return this.index+=l,f},readString:function(l){return n.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},o.exports=s},{"../utils":32}],19:[function(t,o,r){var n=t("./Uint8ArrayReader");function s(l){n.call(this,l)}t("../utils").inherits(s,n),s.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},o.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,o,r){var n=t("./DataReader");function s(l){n.call(this,l)}t("../utils").inherits(s,n),s.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},s.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},s.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},s.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},o.exports=s},{"../utils":32,"./DataReader":18}],21:[function(t,o,r){var n=t("./ArrayReader");function s(l){n.call(this,l)}t("../utils").inherits(s,n),s.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},o.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(t,o,r){var n=t("../utils"),s=t("../support"),l=t("./ArrayReader"),c=t("./StringReader"),f=t("./NodeBufferReader"),g=t("./Uint8ArrayReader");o.exports=function(p){var b=n.getTypeOf(p);return n.checkSupport(b),b!=="string"||s.uint8array?b==="nodebuffer"?new f(p):s.uint8array?new g(n.transformTo("uint8array",p)):new l(n.transformTo("array",p)):new c(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,o,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,o,r){var n=t("./GenericWorker"),s=t("../utils");function l(c){n.call(this,"ConvertWorker to "+c),this.destType=c}s.inherits(l,n),l.prototype.processChunk=function(c){this.push({data:s.transformTo(this.destType,c.data),meta:c.meta})},o.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(t,o,r){var n=t("./GenericWorker"),s=t("../crc32");function l(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(l,n),l.prototype.processChunk=function(c){this.streamInfo.crc32=s(c.data,this.streamInfo.crc32||0),this.push(c)},o.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,o,r){var n=t("../utils"),s=t("./GenericWorker");function l(c){s.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}n.inherits(l,s),l.prototype.processChunk=function(c){if(c){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+c.data.length}s.prototype.processChunk.call(this,c)},o.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(t,o,r){var n=t("../utils"),s=t("./GenericWorker");function l(c){s.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(g){f.dataIsReady=!0,f.data=g,f.max=g&&g.length||0,f.type=n.getTypeOf(g),f.isPaused||f._tickAndRepeat()},function(g){f.error(g)})}n.inherits(l,s),l.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,f);break;case"uint8array":c=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":c=this.data.slice(this.index,f)}return this.index=f,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(t,o,r){function n(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,l){return this._listeners[s].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,l){if(this._listeners[s])for(var c=0;c<this._listeners[s].length;c++)this._listeners[s][c].call(this,l)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var l=this;return s.on("data",function(c){l.processChunk(c)}),s.on("end",function(){l.end()}),s.on("error",function(c){l.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,l){return this.extraStreamInfo[s]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},o.exports=n},{}],29:[function(t,o,r){var n=t("../utils"),s=t("./ConvertWorker"),l=t("./GenericWorker"),c=t("../base64"),f=t("../support"),g=t("../external"),p=null;if(f.nodestream)try{p=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(m,h){return new g.Promise(function(v,_){var y=[],S=m._internalType,x=m._outputType,C=m._mimeType;m.on("data",function(j,L){y.push(j),h&&h(L)}).on("error",function(j){y=[],_(j)}).on("end",function(){try{var j=function(L,T,R){switch(L){case"blob":return n.newBlob(n.transformTo("arraybuffer",T),R);case"base64":return c.encode(T);default:return n.transformTo(L,T)}}(x,function(L,T){var R,M=0,X=null,k=0;for(R=0;R<T.length;R++)k+=T[R].length;switch(L){case"string":return T.join("");case"array":return Array.prototype.concat.apply([],T);case"uint8array":for(X=new Uint8Array(k),R=0;R<T.length;R++)X.set(T[R],M),M+=T[R].length;return X;case"nodebuffer":return Buffer.concat(T);default:throw new Error("concat : unsupported type '"+L+"'")}}(S,y),C);v(j)}catch(L){_(L)}y=[]}).resume()})}function d(m,h,v){var _=h;switch(h){case"blob":case"arraybuffer":_="uint8array";break;case"base64":_="string"}try{this._internalType=_,this._outputType=h,this._mimeType=v,n.checkSupport(_),this._worker=m.pipe(new s(_)),m.lock()}catch(y){this._worker=new l("error"),this._worker.error(y)}}d.prototype={accumulate:function(m){return b(this,m)},on:function(m,h){var v=this;return m==="data"?this._worker.on(m,function(_){h.call(v,_.data,_.meta)}):this._worker.on(m,function(){n.delay(h,arguments,v)}),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(m){if(n.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},m)}},o.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,o,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof Buffer<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var n=new ArrayBuffer(0);try{r.blob=new Blob([n],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(n),r.blob=s.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!t("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(t,o,r){for(var n=t("./utils"),s=t("./support"),l=t("./nodejsUtils"),c=t("./stream/GenericWorker"),f=new Array(256),g=0;g<256;g++)f[g]=252<=g?6:248<=g?5:240<=g?4:224<=g?3:192<=g?2:1;f[254]=f[254]=1;function p(){c.call(this,"utf-8 decode"),this.leftOver=null}function b(){c.call(this,"utf-8 encode")}r.utf8encode=function(d){return s.nodebuffer?l.newBufferFrom(d,"utf-8"):function(m){var h,v,_,y,S,x=m.length,C=0;for(y=0;y<x;y++)(64512&(v=m.charCodeAt(y)))==55296&&y+1<x&&(64512&(_=m.charCodeAt(y+1)))==56320&&(v=65536+(v-55296<<10)+(_-56320),y++),C+=v<128?1:v<2048?2:v<65536?3:4;for(h=s.uint8array?new Uint8Array(C):new Array(C),y=S=0;S<C;y++)(64512&(v=m.charCodeAt(y)))==55296&&y+1<x&&(64512&(_=m.charCodeAt(y+1)))==56320&&(v=65536+(v-55296<<10)+(_-56320),y++),v<128?h[S++]=v:(v<2048?h[S++]=192|v>>>6:(v<65536?h[S++]=224|v>>>12:(h[S++]=240|v>>>18,h[S++]=128|v>>>12&63),h[S++]=128|v>>>6&63),h[S++]=128|63&v);return h}(d)},r.utf8decode=function(d){return s.nodebuffer?n.transformTo("nodebuffer",d).toString("utf-8"):function(m){var h,v,_,y,S=m.length,x=new Array(2*S);for(h=v=0;h<S;)if((_=m[h++])<128)x[v++]=_;else if(4<(y=f[_]))x[v++]=65533,h+=y-1;else{for(_&=y===2?31:y===3?15:7;1<y&&h<S;)_=_<<6|63&m[h++],y--;1<y?x[v++]=65533:_<65536?x[v++]=_:(_-=65536,x[v++]=55296|_>>10&1023,x[v++]=56320|1023&_)}return x.length!==v&&(x.subarray?x=x.subarray(0,v):x.length=v),n.applyFromCharCode(x)}(d=n.transformTo(s.uint8array?"uint8array":"array",d))},n.inherits(p,c),p.prototype.processChunk=function(d){var m=n.transformTo(s.uint8array?"uint8array":"array",d.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var h=m;(m=new Uint8Array(h.length+this.leftOver.length)).set(this.leftOver,0),m.set(h,this.leftOver.length)}else m=this.leftOver.concat(m);this.leftOver=null}var v=function(y,S){var x;for((S=S||y.length)>y.length&&(S=y.length),x=S-1;0<=x&&(192&y[x])==128;)x--;return x<0||x===0?S:x+f[y[x]]>S?x:S}(m),_=m;v!==m.length&&(s.uint8array?(_=m.subarray(0,v),this.leftOver=m.subarray(v,m.length)):(_=m.slice(0,v),this.leftOver=m.slice(v,m.length))),this.push({data:r.utf8decode(_),meta:d.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=p,n.inherits(b,c),b.prototype.processChunk=function(d){this.push({data:r.utf8encode(d.data),meta:d.meta})},r.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,o,r){var n=t("./support"),s=t("./base64"),l=t("./nodejsUtils"),c=t("./external");function f(h){return h}function g(h,v){for(var _=0;_<h.length;++_)v[_]=255&h.charCodeAt(_);return v}t("setimmediate"),r.newBlob=function(h,v){r.checkSupport("blob");try{return new Blob([h],{type:v})}catch{try{var _=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return _.append(h),_.getBlob(v)}catch{throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(h,v,_){var y=[],S=0,x=h.length;if(x<=_)return String.fromCharCode.apply(null,h);for(;S<x;)v==="array"||v==="nodebuffer"?y.push(String.fromCharCode.apply(null,h.slice(S,Math.min(S+_,x)))):y.push(String.fromCharCode.apply(null,h.subarray(S,Math.min(S+_,x)))),S+=_;return y.join("")},stringifyByChar:function(h){for(var v="",_=0;_<h.length;_++)v+=String.fromCharCode(h[_]);return v},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function b(h){var v=65536,_=r.getTypeOf(h),y=!0;if(_==="uint8array"?y=p.applyCanBeUsed.uint8array:_==="nodebuffer"&&(y=p.applyCanBeUsed.nodebuffer),y)for(;1<v;)try{return p.stringifyByChunk(h,_,v)}catch{v=Math.floor(v/2)}return p.stringifyByChar(h)}function d(h,v){for(var _=0;_<h.length;_++)v[_]=h[_];return v}r.applyFromCharCode=b;var m={};m.string={string:f,array:function(h){return g(h,new Array(h.length))},arraybuffer:function(h){return m.string.uint8array(h).buffer},uint8array:function(h){return g(h,new Uint8Array(h.length))},nodebuffer:function(h){return g(h,l.allocBuffer(h.length))}},m.array={string:b,array:f,arraybuffer:function(h){return new Uint8Array(h).buffer},uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return l.newBufferFrom(h)}},m.arraybuffer={string:function(h){return b(new Uint8Array(h))},array:function(h){return d(new Uint8Array(h),new Array(h.byteLength))},arraybuffer:f,uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return l.newBufferFrom(new Uint8Array(h))}},m.uint8array={string:b,array:function(h){return d(h,new Array(h.length))},arraybuffer:function(h){return h.buffer},uint8array:f,nodebuffer:function(h){return l.newBufferFrom(h)}},m.nodebuffer={string:b,array:function(h){return d(h,new Array(h.length))},arraybuffer:function(h){return m.nodebuffer.uint8array(h).buffer},uint8array:function(h){return d(h,new Uint8Array(h.length))},nodebuffer:f},r.transformTo=function(h,v){if(v=v||"",!h)return v;r.checkSupport(h);var _=r.getTypeOf(v);return m[_][h](v)},r.resolve=function(h){for(var v=h.split("/"),_=[],y=0;y<v.length;y++){var S=v[y];S==="."||S===""&&y!==0&&y!==v.length-1||(S===".."?_.pop():_.push(S))}return _.join("/")},r.getTypeOf=function(h){return typeof h=="string"?"string":Object.prototype.toString.call(h)==="[object Array]"?"array":n.nodebuffer&&l.isBuffer(h)?"nodebuffer":n.uint8array&&h instanceof Uint8Array?"uint8array":n.arraybuffer&&h instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(h){if(!n[h.toLowerCase()])throw new Error(h+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(h){var v,_,y="";for(_=0;_<(h||"").length;_++)y+="\\x"+((v=h.charCodeAt(_))<16?"0":"")+v.toString(16).toUpperCase();return y},r.delay=function(h,v,_){setImmediate(function(){h.apply(_||null,v||[])})},r.inherits=function(h,v){function _(){}_.prototype=v.prototype,h.prototype=new _},r.extend=function(){var h,v,_={};for(h=0;h<arguments.length;h++)for(v in arguments[h])Object.prototype.hasOwnProperty.call(arguments[h],v)&&_[v]===void 0&&(_[v]=arguments[h][v]);return _},r.prepareContent=function(h,v,_,y,S){return c.Promise.resolve(v).then(function(x){return n.blob&&(x instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(x))!==-1)&&typeof FileReader<"u"?new c.Promise(function(C,j){var L=new FileReader;L.onload=function(T){C(T.target.result)},L.onerror=function(T){j(T.target.error)},L.readAsArrayBuffer(x)}):x}).then(function(x){var C=r.getTypeOf(x);return C?(C==="arraybuffer"?x=r.transformTo("uint8array",x):C==="string"&&(S?x=s.decode(x):_&&y!==!0&&(x=function(j){return g(j,n.uint8array?new Uint8Array(j.length):new Array(j.length))}(x))),x):c.Promise.reject(new Error("Can't read the data of '"+h+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,o,r){var n=t("./reader/readerFor"),s=t("./utils"),l=t("./signature"),c=t("./zipEntry"),f=t("./support");function g(p){this.files=[],this.loadOptions=p}g.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(b)+", expected "+s.pretty(p)+")")}},isSignature:function(p,b){var d=this.reader.index;this.reader.setIndex(p);var m=this.reader.readString(4)===b;return this.reader.setIndex(d),m},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),b=f.uint8array?"uint8array":"array",d=s.transformTo(b,p);this.zipComment=this.loadOptions.decodeFileName(d)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,b,d,m=this.zip64EndOfCentralSize-44;0<m;)p=this.reader.readInt(2),b=this.reader.readInt(4),d=this.reader.readData(b),this.zip64ExtensibleData[p]={id:p,length:b,value:d}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,b;for(p=0;p<this.files.length;p++)b=this.files[p],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(p=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var b=p;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var d=this.centralDirOffset+this.centralDirSize;this.zip64&&(d+=20,d+=12+this.zip64EndOfCentralSize);var m=b-d;if(0<m)this.isSignature(b,l.CENTRAL_FILE_HEADER)||(this.reader.zero=m);else if(m<0)throw new Error("Corrupted zip: missing "+Math.abs(m)+" bytes.")},prepareReader:function(p){this.reader=n(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=g},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,o,r){var n=t("./reader/readerFor"),s=t("./utils"),l=t("./compressedObject"),c=t("./crc32"),f=t("./utf8"),g=t("./compressions"),p=t("./support");function b(d,m){this.options=d,this.loadOptions=m}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(d){var m,h;if(d.skip(22),this.fileNameLength=d.readInt(2),h=d.readInt(2),this.fileName=d.readData(this.fileNameLength),d.skip(h),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((m=function(v){for(var _ in g)if(Object.prototype.hasOwnProperty.call(g,_)&&g[_].magic===v)return g[_];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,m,d.readData(this.compressedSize))},readCentralPart:function(d){this.versionMadeBy=d.readInt(2),d.skip(2),this.bitFlag=d.readInt(2),this.compressionMethod=d.readString(2),this.date=d.readDate(),this.crc32=d.readInt(4),this.compressedSize=d.readInt(4),this.uncompressedSize=d.readInt(4);var m=d.readInt(2);if(this.extraFieldsLength=d.readInt(2),this.fileCommentLength=d.readInt(2),this.diskNumberStart=d.readInt(2),this.internalFileAttributes=d.readInt(2),this.externalFileAttributes=d.readInt(4),this.localHeaderOffset=d.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");d.skip(m),this.readExtraFields(d),this.parseZIP64ExtraField(d),this.fileComment=d.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var d=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),d==0&&(this.dosPermissions=63&this.externalFileAttributes),d==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var d=n(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=d.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=d.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=d.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=d.readInt(4))}},readExtraFields:function(d){var m,h,v,_=d.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});d.index+4<_;)m=d.readInt(2),h=d.readInt(2),v=d.readData(h),this.extraFields[m]={id:m,length:h,value:v};d.setIndex(_)},handleUTF8:function(){var d=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var m=this.findExtraFieldUnicodePath();if(m!==null)this.fileNameStr=m;else{var h=s.transformTo(d,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(h)}var v=this.findExtraFieldUnicodeComment();if(v!==null)this.fileCommentStr=v;else{var _=s.transformTo(d,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(_)}}},findExtraFieldUnicodePath:function(){var d=this.extraFields[28789];if(d){var m=n(d.value);return m.readInt(1)!==1||c(this.fileName)!==m.readInt(4)?null:f.utf8decode(m.readData(d.length-5))}return null},findExtraFieldUnicodeComment:function(){var d=this.extraFields[25461];if(d){var m=n(d.value);return m.readInt(1)!==1||c(this.fileComment)!==m.readInt(4)?null:f.utf8decode(m.readData(d.length-5))}return null}},o.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,o,r){function n(m,h,v){this.name=m,this.dir=v.dir,this.date=v.date,this.comment=v.comment,this.unixPermissions=v.unixPermissions,this.dosPermissions=v.dosPermissions,this._data=h,this._dataBinary=v.binary,this.options={compression:v.compression,compressionOptions:v.compressionOptions}}var s=t("./stream/StreamHelper"),l=t("./stream/DataWorker"),c=t("./utf8"),f=t("./compressedObject"),g=t("./stream/GenericWorker");n.prototype={internalStream:function(m){var h=null,v="string";try{if(!m)throw new Error("No output type specified.");var _=(v=m.toLowerCase())==="string"||v==="text";v!=="binarystring"&&v!=="text"||(v="string"),h=this._decompressWorker();var y=!this._dataBinary;y&&!_&&(h=h.pipe(new c.Utf8EncodeWorker)),!y&&_&&(h=h.pipe(new c.Utf8DecodeWorker))}catch(S){(h=new g("error")).error(S)}return new s(h,v,"")},async:function(m,h){return this.internalStream(m).accumulate(h)},nodeStream:function(m,h){return this.internalStream(m||"nodebuffer").toNodejsStream(h)},_compressWorker:function(m,h){if(this._data instanceof f&&this._data.compression.magic===m.magic)return this._data.getCompressedWorker();var v=this._decompressWorker();return this._dataBinary||(v=v.pipe(new c.Utf8EncodeWorker)),f.createWorkerFrom(v,m,h)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof g?this._data:new l(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},d=0;d<p.length;d++)n.prototype[p[d]]=b;o.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,o,r){(function(n){var s,l,c=n.MutationObserver||n.WebKitMutationObserver;if(c){var f=0,g=new c(m),p=n.document.createTextNode("");g.observe(p,{characterData:!0}),s=function(){p.data=f=++f%2}}else if(n.setImmediate||n.MessageChannel===void 0)s="document"in n&&"onreadystatechange"in n.document.createElement("script")?function(){var h=n.document.createElement("script");h.onreadystatechange=function(){m(),h.onreadystatechange=null,h.parentNode.removeChild(h),h=null},n.document.documentElement.appendChild(h)}:function(){setTimeout(m,0)};else{var b=new n.MessageChannel;b.port1.onmessage=m,s=function(){b.port2.postMessage(0)}}var d=[];function m(){var h,v;l=!0;for(var _=d.length;_;){for(v=d,d=[],h=-1;++h<_;)v[h]();_=d.length}l=!1}o.exports=function(h){d.push(h)!==1||l||s()}}).call(this,typeof ce<"u"?ce:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,o,r){var n=t("immediate");function s(){}var l={},c=["REJECTED"],f=["FULFILLED"],g=["PENDING"];function p(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=g,this.queue=[],this.outcome=void 0,_!==s&&h(this,_)}function b(_,y,S){this.promise=_,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof S=="function"&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}function d(_,y,S){n(function(){var x;try{x=y(S)}catch(C){return l.reject(_,C)}x===_?l.reject(_,new TypeError("Cannot resolve promise with itself")):l.resolve(_,x)})}function m(_){var y=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof y=="function")return function(){y.apply(_,arguments)}}function h(_,y){var S=!1;function x(L){S||(S=!0,l.reject(_,L))}function C(L){S||(S=!0,l.resolve(_,L))}var j=v(function(){y(C,x)});j.status==="error"&&x(j.value)}function v(_,y){var S={};try{S.value=_(y),S.status="success"}catch(x){S.status="error",S.value=x}return S}(o.exports=p).prototype.finally=function(_){if(typeof _!="function")return this;var y=this.constructor;return this.then(function(S){return y.resolve(_()).then(function(){return S})},function(S){return y.resolve(_()).then(function(){throw S})})},p.prototype.catch=function(_){return this.then(null,_)},p.prototype.then=function(_,y){if(typeof _!="function"&&this.state===f||typeof y!="function"&&this.state===c)return this;var S=new this.constructor(s);return this.state!==g?d(S,this.state===f?_:y,this.outcome):this.queue.push(new b(S,_,y)),S},b.prototype.callFulfilled=function(_){l.resolve(this.promise,_)},b.prototype.otherCallFulfilled=function(_){d(this.promise,this.onFulfilled,_)},b.prototype.callRejected=function(_){l.reject(this.promise,_)},b.prototype.otherCallRejected=function(_){d(this.promise,this.onRejected,_)},l.resolve=function(_,y){var S=v(m,y);if(S.status==="error")return l.reject(_,S.value);var x=S.value;if(x)h(_,x);else{_.state=f,_.outcome=y;for(var C=-1,j=_.queue.length;++C<j;)_.queue[C].callFulfilled(y)}return _},l.reject=function(_,y){_.state=c,_.outcome=y;for(var S=-1,x=_.queue.length;++S<x;)_.queue[S].callRejected(y);return _},p.resolve=function(_){return _ instanceof this?_:l.resolve(new this(s),_)},p.reject=function(_){var y=new this(s);return l.reject(y,_)},p.all=function(_){var y=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=_.length,x=!1;if(!S)return this.resolve([]);for(var C=new Array(S),j=0,L=-1,T=new this(s);++L<S;)R(_[L],L);return T;function R(M,X){y.resolve(M).then(function(k){C[X]=k,++j!==S||x||(x=!0,l.resolve(T,C))},function(k){x||(x=!0,l.reject(T,k))})}},p.race=function(_){var y=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=_.length,x=!1;if(!S)return this.resolve([]);for(var C=-1,j=new this(s);++C<S;)L=_[C],y.resolve(L).then(function(T){x||(x=!0,l.resolve(j,T))},function(T){x||(x=!0,l.reject(j,T))});var L;return j}},{immediate:36}],38:[function(t,o,r){var n={};(0,t("./lib/utils/common").assign)(n,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),o.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,o,r){var n=t("./zlib/deflate"),s=t("./utils/common"),l=t("./utils/strings"),c=t("./zlib/messages"),f=t("./zlib/zstream"),g=Object.prototype.toString,p=0,b=-1,d=0,m=8;function h(_){if(!(this instanceof h))return new h(_);this.options=s.assign({level:b,method:m,chunkSize:16384,windowBits:15,memLevel:8,strategy:d,to:""},_||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var S=n.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(S!==p)throw new Error(c[S]);if(y.header&&n.deflateSetHeader(this.strm,y.header),y.dictionary){var x;if(x=typeof y.dictionary=="string"?l.string2buf(y.dictionary):g.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(S=n.deflateSetDictionary(this.strm,x))!==p)throw new Error(c[S]);this._dict_set=!0}}function v(_,y){var S=new h(y);if(S.push(_,!0),S.err)throw S.msg||c[S.err];return S.result}h.prototype.push=function(_,y){var S,x,C=this.strm,j=this.options.chunkSize;if(this.ended)return!1;x=y===~~y?y:y===!0?4:0,typeof _=="string"?C.input=l.string2buf(_):g.call(_)==="[object ArrayBuffer]"?C.input=new Uint8Array(_):C.input=_,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new s.Buf8(j),C.next_out=0,C.avail_out=j),(S=n.deflate(C,x))!==1&&S!==p)return this.onEnd(S),!(this.ended=!0);C.avail_out!==0&&(C.avail_in!==0||x!==4&&x!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(s.shrinkBuf(C.output,C.next_out))):this.onData(s.shrinkBuf(C.output,C.next_out)))}while((0<C.avail_in||C.avail_out===0)&&S!==1);return x===4?(S=n.deflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===p):x!==2||(this.onEnd(p),!(C.avail_out=0))},h.prototype.onData=function(_){this.chunks.push(_)},h.prototype.onEnd=function(_){_===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},r.Deflate=h,r.deflate=v,r.deflateRaw=function(_,y){return(y=y||{}).raw=!0,v(_,y)},r.gzip=function(_,y){return(y=y||{}).gzip=!0,v(_,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,o,r){var n=t("./zlib/inflate"),s=t("./utils/common"),l=t("./utils/strings"),c=t("./zlib/constants"),f=t("./zlib/messages"),g=t("./zlib/zstream"),p=t("./zlib/gzheader"),b=Object.prototype.toString;function d(h){if(!(this instanceof d))return new d(h);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},h||{});var v=this.options;v.raw&&0<=v.windowBits&&v.windowBits<16&&(v.windowBits=-v.windowBits,v.windowBits===0&&(v.windowBits=-15)),!(0<=v.windowBits&&v.windowBits<16)||h&&h.windowBits||(v.windowBits+=32),15<v.windowBits&&v.windowBits<48&&(15&v.windowBits)==0&&(v.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new g,this.strm.avail_out=0;var _=n.inflateInit2(this.strm,v.windowBits);if(_!==c.Z_OK)throw new Error(f[_]);this.header=new p,n.inflateGetHeader(this.strm,this.header)}function m(h,v){var _=new d(v);if(_.push(h,!0),_.err)throw _.msg||f[_.err];return _.result}d.prototype.push=function(h,v){var _,y,S,x,C,j,L=this.strm,T=this.options.chunkSize,R=this.options.dictionary,M=!1;if(this.ended)return!1;y=v===~~v?v:v===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof h=="string"?L.input=l.binstring2buf(h):b.call(h)==="[object ArrayBuffer]"?L.input=new Uint8Array(h):L.input=h,L.next_in=0,L.avail_in=L.input.length;do{if(L.avail_out===0&&(L.output=new s.Buf8(T),L.next_out=0,L.avail_out=T),(_=n.inflate(L,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&R&&(j=typeof R=="string"?l.string2buf(R):b.call(R)==="[object ArrayBuffer]"?new Uint8Array(R):R,_=n.inflateSetDictionary(this.strm,j)),_===c.Z_BUF_ERROR&&M===!0&&(_=c.Z_OK,M=!1),_!==c.Z_STREAM_END&&_!==c.Z_OK)return this.onEnd(_),!(this.ended=!0);L.next_out&&(L.avail_out!==0&&_!==c.Z_STREAM_END&&(L.avail_in!==0||y!==c.Z_FINISH&&y!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(S=l.utf8border(L.output,L.next_out),x=L.next_out-S,C=l.buf2string(L.output,S),L.next_out=x,L.avail_out=T-x,x&&s.arraySet(L.output,L.output,S,x,0),this.onData(C)):this.onData(s.shrinkBuf(L.output,L.next_out)))),L.avail_in===0&&L.avail_out===0&&(M=!0)}while((0<L.avail_in||L.avail_out===0)&&_!==c.Z_STREAM_END);return _===c.Z_STREAM_END&&(y=c.Z_FINISH),y===c.Z_FINISH?(_=n.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===c.Z_OK):y!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(L.avail_out=0))},d.prototype.onData=function(h){this.chunks.push(h)},d.prototype.onEnd=function(h){h===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=h,this.msg=this.strm.msg},r.Inflate=d,r.inflate=m,r.inflateRaw=function(h,v){return(v=v||{}).raw=!0,m(h,v)},r.ungzip=m},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,o,r){var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(c){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var g=f.shift();if(g){if(typeof g!="object")throw new TypeError(g+"must be non-object");for(var p in g)g.hasOwnProperty(p)&&(c[p]=g[p])}}return c},r.shrinkBuf=function(c,f){return c.length===f?c:c.subarray?c.subarray(0,f):(c.length=f,c)};var s={arraySet:function(c,f,g,p,b){if(f.subarray&&c.subarray)c.set(f.subarray(g,g+p),b);else for(var d=0;d<p;d++)c[b+d]=f[g+d]},flattenChunks:function(c){var f,g,p,b,d,m;for(f=p=0,g=c.length;f<g;f++)p+=c[f].length;for(m=new Uint8Array(p),f=b=0,g=c.length;f<g;f++)d=c[f],m.set(d,b),b+=d.length;return m}},l={arraySet:function(c,f,g,p,b){for(var d=0;d<p;d++)c[b+d]=f[g+d]},flattenChunks:function(c){return[].concat.apply([],c)}};r.setTyped=function(c){c?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,s)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,l))},r.setTyped(n)},{}],42:[function(t,o,r){var n=t("./common"),s=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var c=new n.Buf8(256),f=0;f<256;f++)c[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function g(p,b){if(b<65537&&(p.subarray&&l||!p.subarray&&s))return String.fromCharCode.apply(null,n.shrinkBuf(p,b));for(var d="",m=0;m<b;m++)d+=String.fromCharCode(p[m]);return d}c[254]=c[254]=1,r.string2buf=function(p){var b,d,m,h,v,_=p.length,y=0;for(h=0;h<_;h++)(64512&(d=p.charCodeAt(h)))==55296&&h+1<_&&(64512&(m=p.charCodeAt(h+1)))==56320&&(d=65536+(d-55296<<10)+(m-56320),h++),y+=d<128?1:d<2048?2:d<65536?3:4;for(b=new n.Buf8(y),h=v=0;v<y;h++)(64512&(d=p.charCodeAt(h)))==55296&&h+1<_&&(64512&(m=p.charCodeAt(h+1)))==56320&&(d=65536+(d-55296<<10)+(m-56320),h++),d<128?b[v++]=d:(d<2048?b[v++]=192|d>>>6:(d<65536?b[v++]=224|d>>>12:(b[v++]=240|d>>>18,b[v++]=128|d>>>12&63),b[v++]=128|d>>>6&63),b[v++]=128|63&d);return b},r.buf2binstring=function(p){return g(p,p.length)},r.binstring2buf=function(p){for(var b=new n.Buf8(p.length),d=0,m=b.length;d<m;d++)b[d]=p.charCodeAt(d);return b},r.buf2string=function(p,b){var d,m,h,v,_=b||p.length,y=new Array(2*_);for(d=m=0;d<_;)if((h=p[d++])<128)y[m++]=h;else if(4<(v=c[h]))y[m++]=65533,d+=v-1;else{for(h&=v===2?31:v===3?15:7;1<v&&d<_;)h=h<<6|63&p[d++],v--;1<v?y[m++]=65533:h<65536?y[m++]=h:(h-=65536,y[m++]=55296|h>>10&1023,y[m++]=56320|1023&h)}return g(y,m)},r.utf8border=function(p,b){var d;for((b=b||p.length)>p.length&&(b=p.length),d=b-1;0<=d&&(192&p[d])==128;)d--;return d<0||d===0?b:d+c[p[d]]>b?d:b}},{"./common":41}],43:[function(t,o,r){o.exports=function(n,s,l,c){for(var f=65535&n|0,g=n>>>16&65535|0,p=0;l!==0;){for(l-=p=2e3<l?2e3:l;g=g+(f=f+s[c++]|0)|0,--p;);f%=65521,g%=65521}return f|g<<16|0}},{}],44:[function(t,o,r){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,o,r){var n=function(){for(var s,l=[],c=0;c<256;c++){s=c;for(var f=0;f<8;f++)s=1&s?3988292384^s>>>1:s>>>1;l[c]=s}return l}();o.exports=function(s,l,c,f){var g=n,p=f+c;s^=-1;for(var b=f;b<p;b++)s=s>>>8^g[255&(s^l[b])];return-1^s}},{}],46:[function(t,o,r){var n,s=t("../utils/common"),l=t("./trees"),c=t("./adler32"),f=t("./crc32"),g=t("./messages"),p=0,b=4,d=0,m=-2,h=-1,v=4,_=2,y=8,S=9,x=286,C=30,j=19,L=2*x+1,T=15,R=3,M=258,X=M+R+1,k=42,D=113,u=1,P=2,Q=3,Z=4;function nt(a,W){return a.msg=g[W],W}function I(a){return(a<<1)-(4<a?9:0)}function F(a){for(var W=a.length;0<=--W;)a[W]=0}function E(a){var W=a.state,U=W.pending;U>a.avail_out&&(U=a.avail_out),U!==0&&(s.arraySet(a.output,W.pending_buf,W.pending_out,U,a.next_out),a.next_out+=U,W.pending_out+=U,a.total_out+=U,a.avail_out-=U,W.pending-=U,W.pending===0&&(W.pending_out=0))}function z(a,W){l._tr_flush_block(a,0<=a.block_start?a.block_start:-1,a.strstart-a.block_start,W),a.block_start=a.strstart,E(a.strm)}function H(a,W){a.pending_buf[a.pending++]=W}function K(a,W){a.pending_buf[a.pending++]=W>>>8&255,a.pending_buf[a.pending++]=255&W}function q(a,W){var U,A,w=a.max_chain_length,B=a.strstart,G=a.prev_length,V=a.nice_match,O=a.strstart>a.w_size-X?a.strstart-(a.w_size-X):0,Y=a.window,$=a.w_mask,J=a.prev,rt=a.strstart+M,mt=Y[B+G-1],dt=Y[B+G];a.prev_length>=a.good_match&&(w>>=2),V>a.lookahead&&(V=a.lookahead);do if(Y[(U=W)+G]===dt&&Y[U+G-1]===mt&&Y[U]===Y[B]&&Y[++U]===Y[B+1]){B+=2,U++;do;while(Y[++B]===Y[++U]&&Y[++B]===Y[++U]&&Y[++B]===Y[++U]&&Y[++B]===Y[++U]&&Y[++B]===Y[++U]&&Y[++B]===Y[++U]&&Y[++B]===Y[++U]&&Y[++B]===Y[++U]&&B<rt);if(A=M-(rt-B),B=rt-M,G<A){if(a.match_start=W,V<=(G=A))break;mt=Y[B+G-1],dt=Y[B+G]}}while((W=J[W&$])>O&&--w!=0);return G<=a.lookahead?G:a.lookahead}function ut(a){var W,U,A,w,B,G,V,O,Y,$,J=a.w_size;do{if(w=a.window_size-a.lookahead-a.strstart,a.strstart>=J+(J-X)){for(s.arraySet(a.window,a.window,J,J,0),a.match_start-=J,a.strstart-=J,a.block_start-=J,W=U=a.hash_size;A=a.head[--W],a.head[W]=J<=A?A-J:0,--U;);for(W=U=J;A=a.prev[--W],a.prev[W]=J<=A?A-J:0,--U;);w+=J}if(a.strm.avail_in===0)break;if(G=a.strm,V=a.window,O=a.strstart+a.lookahead,Y=w,$=void 0,$=G.avail_in,Y<$&&($=Y),U=$===0?0:(G.avail_in-=$,s.arraySet(V,G.input,G.next_in,$,O),G.state.wrap===1?G.adler=c(G.adler,V,$,O):G.state.wrap===2&&(G.adler=f(G.adler,V,$,O)),G.next_in+=$,G.total_in+=$,$),a.lookahead+=U,a.lookahead+a.insert>=R)for(B=a.strstart-a.insert,a.ins_h=a.window[B],a.ins_h=(a.ins_h<<a.hash_shift^a.window[B+1])&a.hash_mask;a.insert&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[B+R-1])&a.hash_mask,a.prev[B&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=B,B++,a.insert--,!(a.lookahead+a.insert<R)););}while(a.lookahead<X&&a.strm.avail_in!==0)}function ht(a,W){for(var U,A;;){if(a.lookahead<X){if(ut(a),a.lookahead<X&&W===p)return u;if(a.lookahead===0)break}if(U=0,a.lookahead>=R&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+R-1])&a.hash_mask,U=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),U!==0&&a.strstart-U<=a.w_size-X&&(a.match_length=q(a,U)),a.match_length>=R)if(A=l._tr_tally(a,a.strstart-a.match_start,a.match_length-R),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&a.lookahead>=R){for(a.match_length--;a.strstart++,a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+R-1])&a.hash_mask,U=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart,--a.match_length!=0;);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+1])&a.hash_mask;else A=l._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(A&&(z(a,!1),a.strm.avail_out===0))return u}return a.insert=a.strstart<R-1?a.strstart:R-1,W===b?(z(a,!0),a.strm.avail_out===0?Q:Z):a.last_lit&&(z(a,!1),a.strm.avail_out===0)?u:P}function it(a,W){for(var U,A,w;;){if(a.lookahead<X){if(ut(a),a.lookahead<X&&W===p)return u;if(a.lookahead===0)break}if(U=0,a.lookahead>=R&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+R-1])&a.hash_mask,U=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=R-1,U!==0&&a.prev_length<a.max_lazy_match&&a.strstart-U<=a.w_size-X&&(a.match_length=q(a,U),a.match_length<=5&&(a.strategy===1||a.match_length===R&&4096<a.strstart-a.match_start)&&(a.match_length=R-1)),a.prev_length>=R&&a.match_length<=a.prev_length){for(w=a.strstart+a.lookahead-R,A=l._tr_tally(a,a.strstart-1-a.prev_match,a.prev_length-R),a.lookahead-=a.prev_length-1,a.prev_length-=2;++a.strstart<=w&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+R-1])&a.hash_mask,U=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),--a.prev_length!=0;);if(a.match_available=0,a.match_length=R-1,a.strstart++,A&&(z(a,!1),a.strm.avail_out===0))return u}else if(a.match_available){if((A=l._tr_tally(a,0,a.window[a.strstart-1]))&&z(a,!1),a.strstart++,a.lookahead--,a.strm.avail_out===0)return u}else a.match_available=1,a.strstart++,a.lookahead--}return a.match_available&&(A=l._tr_tally(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=a.strstart<R-1?a.strstart:R-1,W===b?(z(a,!0),a.strm.avail_out===0?Q:Z):a.last_lit&&(z(a,!1),a.strm.avail_out===0)?u:P}function ft(a,W,U,A,w){this.good_length=a,this.max_lazy=W,this.nice_length=U,this.max_chain=A,this.func=w}function bt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*L),this.dyn_dtree=new s.Buf16(2*(2*C+1)),this.bl_tree=new s.Buf16(2*(2*j+1)),F(this.dyn_ltree),F(this.dyn_dtree),F(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(T+1),this.heap=new s.Buf16(2*x+1),F(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*x+1),F(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function pt(a){var W;return a&&a.state?(a.total_in=a.total_out=0,a.data_type=_,(W=a.state).pending=0,W.pending_out=0,W.wrap<0&&(W.wrap=-W.wrap),W.status=W.wrap?k:D,a.adler=W.wrap===2?0:1,W.last_flush=p,l._tr_init(W),d):nt(a,m)}function Ot(a){var W=pt(a);return W===d&&function(U){U.window_size=2*U.w_size,F(U.head),U.max_lazy_match=n[U.level].max_lazy,U.good_match=n[U.level].good_length,U.nice_match=n[U.level].nice_length,U.max_chain_length=n[U.level].max_chain,U.strstart=0,U.block_start=0,U.lookahead=0,U.insert=0,U.match_length=U.prev_length=R-1,U.match_available=0,U.ins_h=0}(a.state),W}function It(a,W,U,A,w,B){if(!a)return m;var G=1;if(W===h&&(W=6),A<0?(G=0,A=-A):15<A&&(G=2,A-=16),w<1||S<w||U!==y||A<8||15<A||W<0||9<W||B<0||v<B)return nt(a,m);A===8&&(A=9);var V=new bt;return(a.state=V).strm=a,V.wrap=G,V.gzhead=null,V.w_bits=A,V.w_size=1<<V.w_bits,V.w_mask=V.w_size-1,V.hash_bits=w+7,V.hash_size=1<<V.hash_bits,V.hash_mask=V.hash_size-1,V.hash_shift=~~((V.hash_bits+R-1)/R),V.window=new s.Buf8(2*V.w_size),V.head=new s.Buf16(V.hash_size),V.prev=new s.Buf16(V.w_size),V.lit_bufsize=1<<w+6,V.pending_buf_size=4*V.lit_bufsize,V.pending_buf=new s.Buf8(V.pending_buf_size),V.d_buf=1*V.lit_bufsize,V.l_buf=3*V.lit_bufsize,V.level=W,V.strategy=B,V.method=U,Ot(a)}n=[new ft(0,0,0,0,function(a,W){var U=65535;for(U>a.pending_buf_size-5&&(U=a.pending_buf_size-5);;){if(a.lookahead<=1){if(ut(a),a.lookahead===0&&W===p)return u;if(a.lookahead===0)break}a.strstart+=a.lookahead,a.lookahead=0;var A=a.block_start+U;if((a.strstart===0||a.strstart>=A)&&(a.lookahead=a.strstart-A,a.strstart=A,z(a,!1),a.strm.avail_out===0)||a.strstart-a.block_start>=a.w_size-X&&(z(a,!1),a.strm.avail_out===0))return u}return a.insert=0,W===b?(z(a,!0),a.strm.avail_out===0?Q:Z):(a.strstart>a.block_start&&(z(a,!1),a.strm.avail_out),u)}),new ft(4,4,8,4,ht),new ft(4,5,16,8,ht),new ft(4,6,32,32,ht),new ft(4,4,16,16,it),new ft(8,16,32,32,it),new ft(8,16,128,128,it),new ft(8,32,128,256,it),new ft(32,128,258,1024,it),new ft(32,258,258,4096,it)],r.deflateInit=function(a,W){return It(a,W,y,15,8,0)},r.deflateInit2=It,r.deflateReset=Ot,r.deflateResetKeep=pt,r.deflateSetHeader=function(a,W){return a&&a.state?a.state.wrap!==2?m:(a.state.gzhead=W,d):m},r.deflate=function(a,W){var U,A,w,B;if(!a||!a.state||5<W||W<0)return a?nt(a,m):m;if(A=a.state,!a.output||!a.input&&a.avail_in!==0||A.status===666&&W!==b)return nt(a,a.avail_out===0?-5:m);if(A.strm=a,U=A.last_flush,A.last_flush=W,A.status===k)if(A.wrap===2)a.adler=0,H(A,31),H(A,139),H(A,8),A.gzhead?(H(A,(A.gzhead.text?1:0)+(A.gzhead.hcrc?2:0)+(A.gzhead.extra?4:0)+(A.gzhead.name?8:0)+(A.gzhead.comment?16:0)),H(A,255&A.gzhead.time),H(A,A.gzhead.time>>8&255),H(A,A.gzhead.time>>16&255),H(A,A.gzhead.time>>24&255),H(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),H(A,255&A.gzhead.os),A.gzhead.extra&&A.gzhead.extra.length&&(H(A,255&A.gzhead.extra.length),H(A,A.gzhead.extra.length>>8&255)),A.gzhead.hcrc&&(a.adler=f(a.adler,A.pending_buf,A.pending,0)),A.gzindex=0,A.status=69):(H(A,0),H(A,0),H(A,0),H(A,0),H(A,0),H(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),H(A,3),A.status=D);else{var G=y+(A.w_bits-8<<4)<<8;G|=(2<=A.strategy||A.level<2?0:A.level<6?1:A.level===6?2:3)<<6,A.strstart!==0&&(G|=32),G+=31-G%31,A.status=D,K(A,G),A.strstart!==0&&(K(A,a.adler>>>16),K(A,65535&a.adler)),a.adler=1}if(A.status===69)if(A.gzhead.extra){for(w=A.pending;A.gzindex<(65535&A.gzhead.extra.length)&&(A.pending!==A.pending_buf_size||(A.gzhead.hcrc&&A.pending>w&&(a.adler=f(a.adler,A.pending_buf,A.pending-w,w)),E(a),w=A.pending,A.pending!==A.pending_buf_size));)H(A,255&A.gzhead.extra[A.gzindex]),A.gzindex++;A.gzhead.hcrc&&A.pending>w&&(a.adler=f(a.adler,A.pending_buf,A.pending-w,w)),A.gzindex===A.gzhead.extra.length&&(A.gzindex=0,A.status=73)}else A.status=73;if(A.status===73)if(A.gzhead.name){w=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>w&&(a.adler=f(a.adler,A.pending_buf,A.pending-w,w)),E(a),w=A.pending,A.pending===A.pending_buf_size)){B=1;break}B=A.gzindex<A.gzhead.name.length?255&A.gzhead.name.charCodeAt(A.gzindex++):0,H(A,B)}while(B!==0);A.gzhead.hcrc&&A.pending>w&&(a.adler=f(a.adler,A.pending_buf,A.pending-w,w)),B===0&&(A.gzindex=0,A.status=91)}else A.status=91;if(A.status===91)if(A.gzhead.comment){w=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>w&&(a.adler=f(a.adler,A.pending_buf,A.pending-w,w)),E(a),w=A.pending,A.pending===A.pending_buf_size)){B=1;break}B=A.gzindex<A.gzhead.comment.length?255&A.gzhead.comment.charCodeAt(A.gzindex++):0,H(A,B)}while(B!==0);A.gzhead.hcrc&&A.pending>w&&(a.adler=f(a.adler,A.pending_buf,A.pending-w,w)),B===0&&(A.status=103)}else A.status=103;if(A.status===103&&(A.gzhead.hcrc?(A.pending+2>A.pending_buf_size&&E(a),A.pending+2<=A.pending_buf_size&&(H(A,255&a.adler),H(A,a.adler>>8&255),a.adler=0,A.status=D)):A.status=D),A.pending!==0){if(E(a),a.avail_out===0)return A.last_flush=-1,d}else if(a.avail_in===0&&I(W)<=I(U)&&W!==b)return nt(a,-5);if(A.status===666&&a.avail_in!==0)return nt(a,-5);if(a.avail_in!==0||A.lookahead!==0||W!==p&&A.status!==666){var V=A.strategy===2?function(O,Y){for(var $;;){if(O.lookahead===0&&(ut(O),O.lookahead===0)){if(Y===p)return u;break}if(O.match_length=0,$=l._tr_tally(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++,$&&(z(O,!1),O.strm.avail_out===0))return u}return O.insert=0,Y===b?(z(O,!0),O.strm.avail_out===0?Q:Z):O.last_lit&&(z(O,!1),O.strm.avail_out===0)?u:P}(A,W):A.strategy===3?function(O,Y){for(var $,J,rt,mt,dt=O.window;;){if(O.lookahead<=M){if(ut(O),O.lookahead<=M&&Y===p)return u;if(O.lookahead===0)break}if(O.match_length=0,O.lookahead>=R&&0<O.strstart&&(J=dt[rt=O.strstart-1])===dt[++rt]&&J===dt[++rt]&&J===dt[++rt]){mt=O.strstart+M;do;while(J===dt[++rt]&&J===dt[++rt]&&J===dt[++rt]&&J===dt[++rt]&&J===dt[++rt]&&J===dt[++rt]&&J===dt[++rt]&&J===dt[++rt]&&rt<mt);O.match_length=M-(mt-rt),O.match_length>O.lookahead&&(O.match_length=O.lookahead)}if(O.match_length>=R?($=l._tr_tally(O,1,O.match_length-R),O.lookahead-=O.match_length,O.strstart+=O.match_length,O.match_length=0):($=l._tr_tally(O,0,O.window[O.strstart]),O.lookahead--,O.strstart++),$&&(z(O,!1),O.strm.avail_out===0))return u}return O.insert=0,Y===b?(z(O,!0),O.strm.avail_out===0?Q:Z):O.last_lit&&(z(O,!1),O.strm.avail_out===0)?u:P}(A,W):n[A.level].func(A,W);if(V!==Q&&V!==Z||(A.status=666),V===u||V===Q)return a.avail_out===0&&(A.last_flush=-1),d;if(V===P&&(W===1?l._tr_align(A):W!==5&&(l._tr_stored_block(A,0,0,!1),W===3&&(F(A.head),A.lookahead===0&&(A.strstart=0,A.block_start=0,A.insert=0))),E(a),a.avail_out===0))return A.last_flush=-1,d}return W!==b?d:A.wrap<=0?1:(A.wrap===2?(H(A,255&a.adler),H(A,a.adler>>8&255),H(A,a.adler>>16&255),H(A,a.adler>>24&255),H(A,255&a.total_in),H(A,a.total_in>>8&255),H(A,a.total_in>>16&255),H(A,a.total_in>>24&255)):(K(A,a.adler>>>16),K(A,65535&a.adler)),E(a),0<A.wrap&&(A.wrap=-A.wrap),A.pending!==0?d:1)},r.deflateEnd=function(a){var W;return a&&a.state?(W=a.state.status)!==k&&W!==69&&W!==73&&W!==91&&W!==103&&W!==D&&W!==666?nt(a,m):(a.state=null,W===D?nt(a,-3):d):m},r.deflateSetDictionary=function(a,W){var U,A,w,B,G,V,O,Y,$=W.length;if(!a||!a.state||(B=(U=a.state).wrap)===2||B===1&&U.status!==k||U.lookahead)return m;for(B===1&&(a.adler=c(a.adler,W,$,0)),U.wrap=0,$>=U.w_size&&(B===0&&(F(U.head),U.strstart=0,U.block_start=0,U.insert=0),Y=new s.Buf8(U.w_size),s.arraySet(Y,W,$-U.w_size,U.w_size,0),W=Y,$=U.w_size),G=a.avail_in,V=a.next_in,O=a.input,a.avail_in=$,a.next_in=0,a.input=W,ut(U);U.lookahead>=R;){for(A=U.strstart,w=U.lookahead-(R-1);U.ins_h=(U.ins_h<<U.hash_shift^U.window[A+R-1])&U.hash_mask,U.prev[A&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=A,A++,--w;);U.strstart=A,U.lookahead=R-1,ut(U)}return U.strstart+=U.lookahead,U.block_start=U.strstart,U.insert=U.lookahead,U.lookahead=0,U.match_length=U.prev_length=R-1,U.match_available=0,a.next_in=V,a.input=O,a.avail_in=G,U.wrap=B,d},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,o,r){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,o,r){o.exports=function(n,s){var l,c,f,g,p,b,d,m,h,v,_,y,S,x,C,j,L,T,R,M,X,k,D,u,P;l=n.state,c=n.next_in,u=n.input,f=c+(n.avail_in-5),g=n.next_out,P=n.output,p=g-(s-n.avail_out),b=g+(n.avail_out-257),d=l.dmax,m=l.wsize,h=l.whave,v=l.wnext,_=l.window,y=l.hold,S=l.bits,x=l.lencode,C=l.distcode,j=(1<<l.lenbits)-1,L=(1<<l.distbits)-1;t:do{S<15&&(y+=u[c++]<<S,S+=8,y+=u[c++]<<S,S+=8),T=x[y&j];e:for(;;){if(y>>>=R=T>>>24,S-=R,(R=T>>>16&255)===0)P[g++]=65535&T;else{if(!(16&R)){if((64&R)==0){T=x[(65535&T)+(y&(1<<R)-1)];continue e}if(32&R){l.mode=12;break t}n.msg="invalid literal/length code",l.mode=30;break t}M=65535&T,(R&=15)&&(S<R&&(y+=u[c++]<<S,S+=8),M+=y&(1<<R)-1,y>>>=R,S-=R),S<15&&(y+=u[c++]<<S,S+=8,y+=u[c++]<<S,S+=8),T=C[y&L];n:for(;;){if(y>>>=R=T>>>24,S-=R,!(16&(R=T>>>16&255))){if((64&R)==0){T=C[(65535&T)+(y&(1<<R)-1)];continue n}n.msg="invalid distance code",l.mode=30;break t}if(X=65535&T,S<(R&=15)&&(y+=u[c++]<<S,(S+=8)<R&&(y+=u[c++]<<S,S+=8)),d<(X+=y&(1<<R)-1)){n.msg="invalid distance too far back",l.mode=30;break t}if(y>>>=R,S-=R,(R=g-p)<X){if(h<(R=X-R)&&l.sane){n.msg="invalid distance too far back",l.mode=30;break t}if(D=_,(k=0)===v){if(k+=m-R,R<M){for(M-=R;P[g++]=_[k++],--R;);k=g-X,D=P}}else if(v<R){if(k+=m+v-R,(R-=v)<M){for(M-=R;P[g++]=_[k++],--R;);if(k=0,v<M){for(M-=R=v;P[g++]=_[k++],--R;);k=g-X,D=P}}}else if(k+=v-R,R<M){for(M-=R;P[g++]=_[k++],--R;);k=g-X,D=P}for(;2<M;)P[g++]=D[k++],P[g++]=D[k++],P[g++]=D[k++],M-=3;M&&(P[g++]=D[k++],1<M&&(P[g++]=D[k++]))}else{for(k=g-X;P[g++]=P[k++],P[g++]=P[k++],P[g++]=P[k++],2<(M-=3););M&&(P[g++]=P[k++],1<M&&(P[g++]=P[k++]))}break}}break}}while(c<f&&g<b);c-=M=S>>3,y&=(1<<(S-=M<<3))-1,n.next_in=c,n.next_out=g,n.avail_in=c<f?f-c+5:5-(c-f),n.avail_out=g<b?b-g+257:257-(g-b),l.hold=y,l.bits=S}},{}],49:[function(t,o,r){var n=t("../utils/common"),s=t("./adler32"),l=t("./crc32"),c=t("./inffast"),f=t("./inftrees"),g=1,p=2,b=0,d=-2,m=1,h=852,v=592;function _(k){return(k>>>24&255)+(k>>>8&65280)+((65280&k)<<8)+((255&k)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function S(k){var D;return k&&k.state?(D=k.state,k.total_in=k.total_out=D.total=0,k.msg="",D.wrap&&(k.adler=1&D.wrap),D.mode=m,D.last=0,D.havedict=0,D.dmax=32768,D.head=null,D.hold=0,D.bits=0,D.lencode=D.lendyn=new n.Buf32(h),D.distcode=D.distdyn=new n.Buf32(v),D.sane=1,D.back=-1,b):d}function x(k){var D;return k&&k.state?((D=k.state).wsize=0,D.whave=0,D.wnext=0,S(k)):d}function C(k,D){var u,P;return k&&k.state?(P=k.state,D<0?(u=0,D=-D):(u=1+(D>>4),D<48&&(D&=15)),D&&(D<8||15<D)?d:(P.window!==null&&P.wbits!==D&&(P.window=null),P.wrap=u,P.wbits=D,x(k))):d}function j(k,D){var u,P;return k?(P=new y,(k.state=P).window=null,(u=C(k,D))!==b&&(k.state=null),u):d}var L,T,R=!0;function M(k){if(R){var D;for(L=new n.Buf32(512),T=new n.Buf32(32),D=0;D<144;)k.lens[D++]=8;for(;D<256;)k.lens[D++]=9;for(;D<280;)k.lens[D++]=7;for(;D<288;)k.lens[D++]=8;for(f(g,k.lens,0,288,L,0,k.work,{bits:9}),D=0;D<32;)k.lens[D++]=5;f(p,k.lens,0,32,T,0,k.work,{bits:5}),R=!1}k.lencode=L,k.lenbits=9,k.distcode=T,k.distbits=5}function X(k,D,u,P){var Q,Z=k.state;return Z.window===null&&(Z.wsize=1<<Z.wbits,Z.wnext=0,Z.whave=0,Z.window=new n.Buf8(Z.wsize)),P>=Z.wsize?(n.arraySet(Z.window,D,u-Z.wsize,Z.wsize,0),Z.wnext=0,Z.whave=Z.wsize):(P<(Q=Z.wsize-Z.wnext)&&(Q=P),n.arraySet(Z.window,D,u-P,Q,Z.wnext),(P-=Q)?(n.arraySet(Z.window,D,u-P,P,0),Z.wnext=P,Z.whave=Z.wsize):(Z.wnext+=Q,Z.wnext===Z.wsize&&(Z.wnext=0),Z.whave<Z.wsize&&(Z.whave+=Q))),0}r.inflateReset=x,r.inflateReset2=C,r.inflateResetKeep=S,r.inflateInit=function(k){return j(k,15)},r.inflateInit2=j,r.inflate=function(k,D){var u,P,Q,Z,nt,I,F,E,z,H,K,q,ut,ht,it,ft,bt,pt,Ot,It,a,W,U,A,w=0,B=new n.Buf8(4),G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return d;(u=k.state).mode===12&&(u.mode=13),nt=k.next_out,Q=k.output,F=k.avail_out,Z=k.next_in,P=k.input,I=k.avail_in,E=u.hold,z=u.bits,H=I,K=F,W=b;t:for(;;)switch(u.mode){case m:if(u.wrap===0){u.mode=13;break}for(;z<16;){if(I===0)break t;I--,E+=P[Z++]<<z,z+=8}if(2&u.wrap&&E===35615){B[u.check=0]=255&E,B[1]=E>>>8&255,u.check=l(u.check,B,2,0),z=E=0,u.mode=2;break}if(u.flags=0,u.head&&(u.head.done=!1),!(1&u.wrap)||(((255&E)<<8)+(E>>8))%31){k.msg="incorrect header check",u.mode=30;break}if((15&E)!=8){k.msg="unknown compression method",u.mode=30;break}if(z-=4,a=8+(15&(E>>>=4)),u.wbits===0)u.wbits=a;else if(a>u.wbits){k.msg="invalid window size",u.mode=30;break}u.dmax=1<<a,k.adler=u.check=1,u.mode=512&E?10:12,z=E=0;break;case 2:for(;z<16;){if(I===0)break t;I--,E+=P[Z++]<<z,z+=8}if(u.flags=E,(255&u.flags)!=8){k.msg="unknown compression method",u.mode=30;break}if(57344&u.flags){k.msg="unknown header flags set",u.mode=30;break}u.head&&(u.head.text=E>>8&1),512&u.flags&&(B[0]=255&E,B[1]=E>>>8&255,u.check=l(u.check,B,2,0)),z=E=0,u.mode=3;case 3:for(;z<32;){if(I===0)break t;I--,E+=P[Z++]<<z,z+=8}u.head&&(u.head.time=E),512&u.flags&&(B[0]=255&E,B[1]=E>>>8&255,B[2]=E>>>16&255,B[3]=E>>>24&255,u.check=l(u.check,B,4,0)),z=E=0,u.mode=4;case 4:for(;z<16;){if(I===0)break t;I--,E+=P[Z++]<<z,z+=8}u.head&&(u.head.xflags=255&E,u.head.os=E>>8),512&u.flags&&(B[0]=255&E,B[1]=E>>>8&255,u.check=l(u.check,B,2,0)),z=E=0,u.mode=5;case 5:if(1024&u.flags){for(;z<16;){if(I===0)break t;I--,E+=P[Z++]<<z,z+=8}u.length=E,u.head&&(u.head.extra_len=E),512&u.flags&&(B[0]=255&E,B[1]=E>>>8&255,u.check=l(u.check,B,2,0)),z=E=0}else u.head&&(u.head.extra=null);u.mode=6;case 6:if(1024&u.flags&&(I<(q=u.length)&&(q=I),q&&(u.head&&(a=u.head.extra_len-u.length,u.head.extra||(u.head.extra=new Array(u.head.extra_len)),n.arraySet(u.head.extra,P,Z,q,a)),512&u.flags&&(u.check=l(u.check,P,q,Z)),I-=q,Z+=q,u.length-=q),u.length))break t;u.length=0,u.mode=7;case 7:if(2048&u.flags){if(I===0)break t;for(q=0;a=P[Z+q++],u.head&&a&&u.length<65536&&(u.head.name+=String.fromCharCode(a)),a&&q<I;);if(512&u.flags&&(u.check=l(u.check,P,q,Z)),I-=q,Z+=q,a)break t}else u.head&&(u.head.name=null);u.length=0,u.mode=8;case 8:if(4096&u.flags){if(I===0)break t;for(q=0;a=P[Z+q++],u.head&&a&&u.length<65536&&(u.head.comment+=String.fromCharCode(a)),a&&q<I;);if(512&u.flags&&(u.check=l(u.check,P,q,Z)),I-=q,Z+=q,a)break t}else u.head&&(u.head.comment=null);u.mode=9;case 9:if(512&u.flags){for(;z<16;){if(I===0)break t;I--,E+=P[Z++]<<z,z+=8}if(E!==(65535&u.check)){k.msg="header crc mismatch",u.mode=30;break}z=E=0}u.head&&(u.head.hcrc=u.flags>>9&1,u.head.done=!0),k.adler=u.check=0,u.mode=12;break;case 10:for(;z<32;){if(I===0)break t;I--,E+=P[Z++]<<z,z+=8}k.adler=u.check=_(E),z=E=0,u.mode=11;case 11:if(u.havedict===0)return k.next_out=nt,k.avail_out=F,k.next_in=Z,k.avail_in=I,u.hold=E,u.bits=z,2;k.adler=u.check=1,u.mode=12;case 12:if(D===5||D===6)break t;case 13:if(u.last){E>>>=7&z,z-=7&z,u.mode=27;break}for(;z<3;){if(I===0)break t;I--,E+=P[Z++]<<z,z+=8}switch(u.last=1&E,z-=1,3&(E>>>=1)){case 0:u.mode=14;break;case 1:if(M(u),u.mode=20,D!==6)break;E>>>=2,z-=2;break t;case 2:u.mode=17;break;case 3:k.msg="invalid block type",u.mode=30}E>>>=2,z-=2;break;case 14:for(E>>>=7&z,z-=7&z;z<32;){if(I===0)break t;I--,E+=P[Z++]<<z,z+=8}if((65535&E)!=(E>>>16^65535)){k.msg="invalid stored block lengths",u.mode=30;break}if(u.length=65535&E,z=E=0,u.mode=15,D===6)break t;case 15:u.mode=16;case 16:if(q=u.length){if(I<q&&(q=I),F<q&&(q=F),q===0)break t;n.arraySet(Q,P,Z,q,nt),I-=q,Z+=q,F-=q,nt+=q,u.length-=q;break}u.mode=12;break;case 17:for(;z<14;){if(I===0)break t;I--,E+=P[Z++]<<z,z+=8}if(u.nlen=257+(31&E),E>>>=5,z-=5,u.ndist=1+(31&E),E>>>=5,z-=5,u.ncode=4+(15&E),E>>>=4,z-=4,286<u.nlen||30<u.ndist){k.msg="too many length or distance symbols",u.mode=30;break}u.have=0,u.mode=18;case 18:for(;u.have<u.ncode;){for(;z<3;){if(I===0)break t;I--,E+=P[Z++]<<z,z+=8}u.lens[G[u.have++]]=7&E,E>>>=3,z-=3}for(;u.have<19;)u.lens[G[u.have++]]=0;if(u.lencode=u.lendyn,u.lenbits=7,U={bits:u.lenbits},W=f(0,u.lens,0,19,u.lencode,0,u.work,U),u.lenbits=U.bits,W){k.msg="invalid code lengths set",u.mode=30;break}u.have=0,u.mode=19;case 19:for(;u.have<u.nlen+u.ndist;){for(;ft=(w=u.lencode[E&(1<<u.lenbits)-1])>>>16&255,bt=65535&w,!((it=w>>>24)<=z);){if(I===0)break t;I--,E+=P[Z++]<<z,z+=8}if(bt<16)E>>>=it,z-=it,u.lens[u.have++]=bt;else{if(bt===16){for(A=it+2;z<A;){if(I===0)break t;I--,E+=P[Z++]<<z,z+=8}if(E>>>=it,z-=it,u.have===0){k.msg="invalid bit length repeat",u.mode=30;break}a=u.lens[u.have-1],q=3+(3&E),E>>>=2,z-=2}else if(bt===17){for(A=it+3;z<A;){if(I===0)break t;I--,E+=P[Z++]<<z,z+=8}z-=it,a=0,q=3+(7&(E>>>=it)),E>>>=3,z-=3}else{for(A=it+7;z<A;){if(I===0)break t;I--,E+=P[Z++]<<z,z+=8}z-=it,a=0,q=11+(127&(E>>>=it)),E>>>=7,z-=7}if(u.have+q>u.nlen+u.ndist){k.msg="invalid bit length repeat",u.mode=30;break}for(;q--;)u.lens[u.have++]=a}}if(u.mode===30)break;if(u.lens[256]===0){k.msg="invalid code -- missing end-of-block",u.mode=30;break}if(u.lenbits=9,U={bits:u.lenbits},W=f(g,u.lens,0,u.nlen,u.lencode,0,u.work,U),u.lenbits=U.bits,W){k.msg="invalid literal/lengths set",u.mode=30;break}if(u.distbits=6,u.distcode=u.distdyn,U={bits:u.distbits},W=f(p,u.lens,u.nlen,u.ndist,u.distcode,0,u.work,U),u.distbits=U.bits,W){k.msg="invalid distances set",u.mode=30;break}if(u.mode=20,D===6)break t;case 20:u.mode=21;case 21:if(6<=I&&258<=F){k.next_out=nt,k.avail_out=F,k.next_in=Z,k.avail_in=I,u.hold=E,u.bits=z,c(k,K),nt=k.next_out,Q=k.output,F=k.avail_out,Z=k.next_in,P=k.input,I=k.avail_in,E=u.hold,z=u.bits,u.mode===12&&(u.back=-1);break}for(u.back=0;ft=(w=u.lencode[E&(1<<u.lenbits)-1])>>>16&255,bt=65535&w,!((it=w>>>24)<=z);){if(I===0)break t;I--,E+=P[Z++]<<z,z+=8}if(ft&&(240&ft)==0){for(pt=it,Ot=ft,It=bt;ft=(w=u.lencode[It+((E&(1<<pt+Ot)-1)>>pt)])>>>16&255,bt=65535&w,!(pt+(it=w>>>24)<=z);){if(I===0)break t;I--,E+=P[Z++]<<z,z+=8}E>>>=pt,z-=pt,u.back+=pt}if(E>>>=it,z-=it,u.back+=it,u.length=bt,ft===0){u.mode=26;break}if(32&ft){u.back=-1,u.mode=12;break}if(64&ft){k.msg="invalid literal/length code",u.mode=30;break}u.extra=15&ft,u.mode=22;case 22:if(u.extra){for(A=u.extra;z<A;){if(I===0)break t;I--,E+=P[Z++]<<z,z+=8}u.length+=E&(1<<u.extra)-1,E>>>=u.extra,z-=u.extra,u.back+=u.extra}u.was=u.length,u.mode=23;case 23:for(;ft=(w=u.distcode[E&(1<<u.distbits)-1])>>>16&255,bt=65535&w,!((it=w>>>24)<=z);){if(I===0)break t;I--,E+=P[Z++]<<z,z+=8}if((240&ft)==0){for(pt=it,Ot=ft,It=bt;ft=(w=u.distcode[It+((E&(1<<pt+Ot)-1)>>pt)])>>>16&255,bt=65535&w,!(pt+(it=w>>>24)<=z);){if(I===0)break t;I--,E+=P[Z++]<<z,z+=8}E>>>=pt,z-=pt,u.back+=pt}if(E>>>=it,z-=it,u.back+=it,64&ft){k.msg="invalid distance code",u.mode=30;break}u.offset=bt,u.extra=15&ft,u.mode=24;case 24:if(u.extra){for(A=u.extra;z<A;){if(I===0)break t;I--,E+=P[Z++]<<z,z+=8}u.offset+=E&(1<<u.extra)-1,E>>>=u.extra,z-=u.extra,u.back+=u.extra}if(u.offset>u.dmax){k.msg="invalid distance too far back",u.mode=30;break}u.mode=25;case 25:if(F===0)break t;if(q=K-F,u.offset>q){if((q=u.offset-q)>u.whave&&u.sane){k.msg="invalid distance too far back",u.mode=30;break}ut=q>u.wnext?(q-=u.wnext,u.wsize-q):u.wnext-q,q>u.length&&(q=u.length),ht=u.window}else ht=Q,ut=nt-u.offset,q=u.length;for(F<q&&(q=F),F-=q,u.length-=q;Q[nt++]=ht[ut++],--q;);u.length===0&&(u.mode=21);break;case 26:if(F===0)break t;Q[nt++]=u.length,F--,u.mode=21;break;case 27:if(u.wrap){for(;z<32;){if(I===0)break t;I--,E|=P[Z++]<<z,z+=8}if(K-=F,k.total_out+=K,u.total+=K,K&&(k.adler=u.check=u.flags?l(u.check,Q,K,nt-K):s(u.check,Q,K,nt-K)),K=F,(u.flags?E:_(E))!==u.check){k.msg="incorrect data check",u.mode=30;break}z=E=0}u.mode=28;case 28:if(u.wrap&&u.flags){for(;z<32;){if(I===0)break t;I--,E+=P[Z++]<<z,z+=8}if(E!==(4294967295&u.total)){k.msg="incorrect length check",u.mode=30;break}z=E=0}u.mode=29;case 29:W=1;break t;case 30:W=-3;break t;case 31:return-4;case 32:default:return d}return k.next_out=nt,k.avail_out=F,k.next_in=Z,k.avail_in=I,u.hold=E,u.bits=z,(u.wsize||K!==k.avail_out&&u.mode<30&&(u.mode<27||D!==4))&&X(k,k.output,k.next_out,K-k.avail_out)?(u.mode=31,-4):(H-=k.avail_in,K-=k.avail_out,k.total_in+=H,k.total_out+=K,u.total+=K,u.wrap&&K&&(k.adler=u.check=u.flags?l(u.check,Q,K,k.next_out-K):s(u.check,Q,K,k.next_out-K)),k.data_type=u.bits+(u.last?64:0)+(u.mode===12?128:0)+(u.mode===20||u.mode===15?256:0),(H==0&&K===0||D===4)&&W===b&&(W=-5),W)},r.inflateEnd=function(k){if(!k||!k.state)return d;var D=k.state;return D.window&&(D.window=null),k.state=null,b},r.inflateGetHeader=function(k,D){var u;return k&&k.state?(2&(u=k.state).wrap)==0?d:((u.head=D).done=!1,b):d},r.inflateSetDictionary=function(k,D){var u,P=D.length;return k&&k.state?(u=k.state).wrap!==0&&u.mode!==11?d:u.mode===11&&s(1,D,P,0)!==u.check?-3:X(k,D,P,P)?(u.mode=31,-4):(u.havedict=1,b):d},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,o,r){var n=t("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(g,p,b,d,m,h,v,_){var y,S,x,C,j,L,T,R,M,X=_.bits,k=0,D=0,u=0,P=0,Q=0,Z=0,nt=0,I=0,F=0,E=0,z=null,H=0,K=new n.Buf16(16),q=new n.Buf16(16),ut=null,ht=0;for(k=0;k<=15;k++)K[k]=0;for(D=0;D<d;D++)K[p[b+D]]++;for(Q=X,P=15;1<=P&&K[P]===0;P--);if(P<Q&&(Q=P),P===0)return m[h++]=20971520,m[h++]=20971520,_.bits=1,0;for(u=1;u<P&&K[u]===0;u++);for(Q<u&&(Q=u),k=I=1;k<=15;k++)if(I<<=1,(I-=K[k])<0)return-1;if(0<I&&(g===0||P!==1))return-1;for(q[1]=0,k=1;k<15;k++)q[k+1]=q[k]+K[k];for(D=0;D<d;D++)p[b+D]!==0&&(v[q[p[b+D]]++]=D);if(L=g===0?(z=ut=v,19):g===1?(z=s,H-=257,ut=l,ht-=257,256):(z=c,ut=f,-1),k=u,j=h,nt=D=E=0,x=-1,C=(F=1<<(Z=Q))-1,g===1&&852<F||g===2&&592<F)return 1;for(;;){for(T=k-nt,M=v[D]<L?(R=0,v[D]):v[D]>L?(R=ut[ht+v[D]],z[H+v[D]]):(R=96,0),y=1<<k-nt,u=S=1<<Z;m[j+(E>>nt)+(S-=y)]=T<<24|R<<16|M|0,S!==0;);for(y=1<<k-1;E&y;)y>>=1;if(y!==0?(E&=y-1,E+=y):E=0,D++,--K[k]==0){if(k===P)break;k=p[b+v[D]]}if(Q<k&&(E&C)!==x){for(nt===0&&(nt=Q),j+=u,I=1<<(Z=k-nt);Z+nt<P&&!((I-=K[Z+nt])<=0);)Z++,I<<=1;if(F+=1<<Z,g===1&&852<F||g===2&&592<F)return 1;m[x=E&C]=Q<<24|Z<<16|j-h|0}}return E!==0&&(m[j+E]=k-nt<<24|64<<16|0),_.bits=Q,0}},{"../utils/common":41}],51:[function(t,o,r){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,o,r){var n=t("../utils/common"),s=0,l=1;function c(w){for(var B=w.length;0<=--B;)w[B]=0}var f=0,g=29,p=256,b=p+1+g,d=30,m=19,h=2*b+1,v=15,_=16,y=7,S=256,x=16,C=17,j=18,L=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],T=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],X=new Array(2*(b+2));c(X);var k=new Array(2*d);c(k);var D=new Array(512);c(D);var u=new Array(256);c(u);var P=new Array(g);c(P);var Q,Z,nt,I=new Array(d);function F(w,B,G,V,O){this.static_tree=w,this.extra_bits=B,this.extra_base=G,this.elems=V,this.max_length=O,this.has_stree=w&&w.length}function E(w,B){this.dyn_tree=w,this.max_code=0,this.stat_desc=B}function z(w){return w<256?D[w]:D[256+(w>>>7)]}function H(w,B){w.pending_buf[w.pending++]=255&B,w.pending_buf[w.pending++]=B>>>8&255}function K(w,B,G){w.bi_valid>_-G?(w.bi_buf|=B<<w.bi_valid&65535,H(w,w.bi_buf),w.bi_buf=B>>_-w.bi_valid,w.bi_valid+=G-_):(w.bi_buf|=B<<w.bi_valid&65535,w.bi_valid+=G)}function q(w,B,G){K(w,G[2*B],G[2*B+1])}function ut(w,B){for(var G=0;G|=1&w,w>>>=1,G<<=1,0<--B;);return G>>>1}function ht(w,B,G){var V,O,Y=new Array(v+1),$=0;for(V=1;V<=v;V++)Y[V]=$=$+G[V-1]<<1;for(O=0;O<=B;O++){var J=w[2*O+1];J!==0&&(w[2*O]=ut(Y[J]++,J))}}function it(w){var B;for(B=0;B<b;B++)w.dyn_ltree[2*B]=0;for(B=0;B<d;B++)w.dyn_dtree[2*B]=0;for(B=0;B<m;B++)w.bl_tree[2*B]=0;w.dyn_ltree[2*S]=1,w.opt_len=w.static_len=0,w.last_lit=w.matches=0}function ft(w){8<w.bi_valid?H(w,w.bi_buf):0<w.bi_valid&&(w.pending_buf[w.pending++]=w.bi_buf),w.bi_buf=0,w.bi_valid=0}function bt(w,B,G,V){var O=2*B,Y=2*G;return w[O]<w[Y]||w[O]===w[Y]&&V[B]<=V[G]}function pt(w,B,G){for(var V=w.heap[G],O=G<<1;O<=w.heap_len&&(O<w.heap_len&&bt(B,w.heap[O+1],w.heap[O],w.depth)&&O++,!bt(B,V,w.heap[O],w.depth));)w.heap[G]=w.heap[O],G=O,O<<=1;w.heap[G]=V}function Ot(w,B,G){var V,O,Y,$,J=0;if(w.last_lit!==0)for(;V=w.pending_buf[w.d_buf+2*J]<<8|w.pending_buf[w.d_buf+2*J+1],O=w.pending_buf[w.l_buf+J],J++,V===0?q(w,O,B):(q(w,(Y=u[O])+p+1,B),($=L[Y])!==0&&K(w,O-=P[Y],$),q(w,Y=z(--V),G),($=T[Y])!==0&&K(w,V-=I[Y],$)),J<w.last_lit;);q(w,S,B)}function It(w,B){var G,V,O,Y=B.dyn_tree,$=B.stat_desc.static_tree,J=B.stat_desc.has_stree,rt=B.stat_desc.elems,mt=-1;for(w.heap_len=0,w.heap_max=h,G=0;G<rt;G++)Y[2*G]!==0?(w.heap[++w.heap_len]=mt=G,w.depth[G]=0):Y[2*G+1]=0;for(;w.heap_len<2;)Y[2*(O=w.heap[++w.heap_len]=mt<2?++mt:0)]=1,w.depth[O]=0,w.opt_len--,J&&(w.static_len-=$[2*O+1]);for(B.max_code=mt,G=w.heap_len>>1;1<=G;G--)pt(w,Y,G);for(O=rt;G=w.heap[1],w.heap[1]=w.heap[w.heap_len--],pt(w,Y,1),V=w.heap[1],w.heap[--w.heap_max]=G,w.heap[--w.heap_max]=V,Y[2*O]=Y[2*G]+Y[2*V],w.depth[O]=(w.depth[G]>=w.depth[V]?w.depth[G]:w.depth[V])+1,Y[2*G+1]=Y[2*V+1]=O,w.heap[1]=O++,pt(w,Y,1),2<=w.heap_len;);w.heap[--w.heap_max]=w.heap[1],function(dt,At){var Xt,Ft,Qt,yt,se,ve,Pt=At.dyn_tree,Oe=At.max_code,gn=At.stat_desc.static_tree,_n=At.stat_desc.has_stree,vn=At.stat_desc.extra_bits,Fe=At.stat_desc.extra_base,$t=At.stat_desc.max_length,oe=0;for(yt=0;yt<=v;yt++)dt.bl_count[yt]=0;for(Pt[2*dt.heap[dt.heap_max]+1]=0,Xt=dt.heap_max+1;Xt<h;Xt++)$t<(yt=Pt[2*Pt[2*(Ft=dt.heap[Xt])+1]+1]+1)&&(yt=$t,oe++),Pt[2*Ft+1]=yt,Oe<Ft||(dt.bl_count[yt]++,se=0,Fe<=Ft&&(se=vn[Ft-Fe]),ve=Pt[2*Ft],dt.opt_len+=ve*(yt+se),_n&&(dt.static_len+=ve*(gn[2*Ft+1]+se)));if(oe!==0){do{for(yt=$t-1;dt.bl_count[yt]===0;)yt--;dt.bl_count[yt]--,dt.bl_count[yt+1]+=2,dt.bl_count[$t]--,oe-=2}while(0<oe);for(yt=$t;yt!==0;yt--)for(Ft=dt.bl_count[yt];Ft!==0;)Oe<(Qt=dt.heap[--Xt])||(Pt[2*Qt+1]!==yt&&(dt.opt_len+=(yt-Pt[2*Qt+1])*Pt[2*Qt],Pt[2*Qt+1]=yt),Ft--)}}(w,B),ht(Y,mt,w.bl_count)}function a(w,B,G){var V,O,Y=-1,$=B[1],J=0,rt=7,mt=4;for($===0&&(rt=138,mt=3),B[2*(G+1)+1]=65535,V=0;V<=G;V++)O=$,$=B[2*(V+1)+1],++J<rt&&O===$||(J<mt?w.bl_tree[2*O]+=J:O!==0?(O!==Y&&w.bl_tree[2*O]++,w.bl_tree[2*x]++):J<=10?w.bl_tree[2*C]++:w.bl_tree[2*j]++,Y=O,mt=(J=0)===$?(rt=138,3):O===$?(rt=6,3):(rt=7,4))}function W(w,B,G){var V,O,Y=-1,$=B[1],J=0,rt=7,mt=4;for($===0&&(rt=138,mt=3),V=0;V<=G;V++)if(O=$,$=B[2*(V+1)+1],!(++J<rt&&O===$)){if(J<mt)for(;q(w,O,w.bl_tree),--J!=0;);else O!==0?(O!==Y&&(q(w,O,w.bl_tree),J--),q(w,x,w.bl_tree),K(w,J-3,2)):J<=10?(q(w,C,w.bl_tree),K(w,J-3,3)):(q(w,j,w.bl_tree),K(w,J-11,7));Y=O,mt=(J=0)===$?(rt=138,3):O===$?(rt=6,3):(rt=7,4)}}c(I);var U=!1;function A(w,B,G,V){K(w,(f<<1)+(V?1:0),3),function(O,Y,$,J){ft(O),J&&(H(O,$),H(O,~$)),n.arraySet(O.pending_buf,O.window,Y,$,O.pending),O.pending+=$}(w,B,G,!0)}r._tr_init=function(w){U||(function(){var B,G,V,O,Y,$=new Array(v+1);for(O=V=0;O<g-1;O++)for(P[O]=V,B=0;B<1<<L[O];B++)u[V++]=O;for(u[V-1]=O,O=Y=0;O<16;O++)for(I[O]=Y,B=0;B<1<<T[O];B++)D[Y++]=O;for(Y>>=7;O<d;O++)for(I[O]=Y<<7,B=0;B<1<<T[O]-7;B++)D[256+Y++]=O;for(G=0;G<=v;G++)$[G]=0;for(B=0;B<=143;)X[2*B+1]=8,B++,$[8]++;for(;B<=255;)X[2*B+1]=9,B++,$[9]++;for(;B<=279;)X[2*B+1]=7,B++,$[7]++;for(;B<=287;)X[2*B+1]=8,B++,$[8]++;for(ht(X,b+1,$),B=0;B<d;B++)k[2*B+1]=5,k[2*B]=ut(B,5);Q=new F(X,L,p+1,b,v),Z=new F(k,T,0,d,v),nt=new F(new Array(0),R,0,m,y)}(),U=!0),w.l_desc=new E(w.dyn_ltree,Q),w.d_desc=new E(w.dyn_dtree,Z),w.bl_desc=new E(w.bl_tree,nt),w.bi_buf=0,w.bi_valid=0,it(w)},r._tr_stored_block=A,r._tr_flush_block=function(w,B,G,V){var O,Y,$=0;0<w.level?(w.strm.data_type===2&&(w.strm.data_type=function(J){var rt,mt=4093624447;for(rt=0;rt<=31;rt++,mt>>>=1)if(1&mt&&J.dyn_ltree[2*rt]!==0)return s;if(J.dyn_ltree[18]!==0||J.dyn_ltree[20]!==0||J.dyn_ltree[26]!==0)return l;for(rt=32;rt<p;rt++)if(J.dyn_ltree[2*rt]!==0)return l;return s}(w)),It(w,w.l_desc),It(w,w.d_desc),$=function(J){var rt;for(a(J,J.dyn_ltree,J.l_desc.max_code),a(J,J.dyn_dtree,J.d_desc.max_code),It(J,J.bl_desc),rt=m-1;3<=rt&&J.bl_tree[2*M[rt]+1]===0;rt--);return J.opt_len+=3*(rt+1)+5+5+4,rt}(w),O=w.opt_len+3+7>>>3,(Y=w.static_len+3+7>>>3)<=O&&(O=Y)):O=Y=G+5,G+4<=O&&B!==-1?A(w,B,G,V):w.strategy===4||Y===O?(K(w,2+(V?1:0),3),Ot(w,X,k)):(K(w,4+(V?1:0),3),function(J,rt,mt,dt){var At;for(K(J,rt-257,5),K(J,mt-1,5),K(J,dt-4,4),At=0;At<dt;At++)K(J,J.bl_tree[2*M[At]+1],3);W(J,J.dyn_ltree,rt-1),W(J,J.dyn_dtree,mt-1)}(w,w.l_desc.max_code+1,w.d_desc.max_code+1,$+1),Ot(w,w.dyn_ltree,w.dyn_dtree)),it(w),V&&ft(w)},r._tr_tally=function(w,B,G){return w.pending_buf[w.d_buf+2*w.last_lit]=B>>>8&255,w.pending_buf[w.d_buf+2*w.last_lit+1]=255&B,w.pending_buf[w.l_buf+w.last_lit]=255&G,w.last_lit++,B===0?w.dyn_ltree[2*G]++:(w.matches++,B--,w.dyn_ltree[2*(u[G]+p+1)]++,w.dyn_dtree[2*z(B)]++),w.last_lit===w.lit_bufsize-1},r._tr_align=function(w){K(w,2,3),q(w,S,X),function(B){B.bi_valid===16?(H(B,B.bi_buf),B.bi_buf=0,B.bi_valid=0):8<=B.bi_valid&&(B.pending_buf[B.pending++]=255&B.bi_buf,B.bi_buf>>=8,B.bi_valid-=8)}(w)}},{"../utils/common":41}],53:[function(t,o,r){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,o,r){(function(n){(function(s,l){if(!s.setImmediate){var c,f,g,p,b=1,d={},m=!1,h=s.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(s);v=v&&v.setTimeout?v:s,c={}.toString.call(s.process)==="[object process]"?function(x){process.nextTick(function(){y(x)})}:function(){if(s.postMessage&&!s.importScripts){var x=!0,C=s.onmessage;return s.onmessage=function(){x=!1},s.postMessage("","*"),s.onmessage=C,x}}()?(p="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",S,!1):s.attachEvent("onmessage",S),function(x){s.postMessage(p+x,"*")}):s.MessageChannel?((g=new MessageChannel).port1.onmessage=function(x){y(x.data)},function(x){g.port2.postMessage(x)}):h&&"onreadystatechange"in h.createElement("script")?(f=h.documentElement,function(x){var C=h.createElement("script");C.onreadystatechange=function(){y(x),C.onreadystatechange=null,f.removeChild(C),C=null},f.appendChild(C)}):function(x){setTimeout(y,0,x)},v.setImmediate=function(x){typeof x!="function"&&(x=new Function(""+x));for(var C=new Array(arguments.length-1),j=0;j<C.length;j++)C[j]=arguments[j+1];var L={callback:x,args:C};return d[b]=L,c(b),b++},v.clearImmediate=_}function _(x){delete d[x]}function y(x){if(m)setTimeout(y,0,x);else{var C=d[x];if(C){m=!0;try{(function(j){var L=j.callback,T=j.args;switch(T.length){case 0:L();break;case 1:L(T[0]);break;case 2:L(T[0],T[1]);break;case 3:L(T[0],T[1],T[2]);break;default:L.apply(l,T)}})(C)}finally{_(x),m=!1}}}}function S(x){x.source===s&&typeof x.data=="string"&&x.data.indexOf(p)===0&&y(+x.data.slice(p.length))}})(typeof self>"u"?n===void 0?this:n:self)}).call(this,typeof ce<"u"?ce:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(mn);const Ye=mn.exports,Ci="data:text/plain;base64,IyBIb3cgdG8gc2V0dXAgdGhlIHBsdWdpbg0KDQojIyBPbmNlIHlvdSBoYXZlIGRvd25sb2FkZWQgdGhpcyBmaWxlIHB1dCB0aGUgZGlzY3MuanNvbiBmaWxlIGluIHRoZSByb290IG9mIHBsdWdpbiBkaXJlY3RvcnkNCg0KYGBgDQpTZXJ2ZXINCuKUlOKUgOKUgOKUgC4uLg0K4pSU4pSA4pSA4pSAcGx1Z2lucw0KICAgIOKUlOKUgOKUgOKUgEp1a2Vib3hFeHRlbmRlZFJlYm9ybg0KICAgIOKUgiAgIOKUlOKUgOKUgOKUgGRpc2NzLmpzb24NCgnilIIJ4pSU4pSA4pSA4pSAY29uZmlnLmpzb24NCgnilIIJ4pSU4pSA4pSA4pSALi4uDQoJ4pSU4pSA4pSA4pSASmV4dC5qYXINCgnilJTilIDilIDilIAuLi4NCmBgYA0KDQojIyBBcyBmb3IgdGhlIHJlc291cmNlIHBhY2sgZmlsZSB5b3UgY2FuIHNldCBpdCB1cCBieSBlZGl0aW5nIHRoZSBzZXJ2ZXIgY29uZmlnIGZpbGUNCg0KRXhhbXBsZSB1cGxvYWQgeW91ciBmaWxlIHRvIGRyb3Bib3guDQpHZW5lcmF0ZSBhIGRvd25sb2FkIHVybCBhbmQgcmVwbGFjZSB0aGUgZGw9MCBhdCB0aGUgZW5kIG9mIHRoZSB1cmwgd2l0aCBhIGRsPTENCg0KRXhhbXBsZToNCm9yaWdpbmFsIHVybDogaHR0cHM6Ly93d3cuZHJvcGJveC5jb20vcy9tc2llN2h1Y25wYmtmeS90ZXN0LlBORz9kbD0wDQplZGl0ZWQgICB1cmw6IGh0dHBzOi8vd3d3LmRyb3Bib3guY29tL3MvbXNpZTdodWNucGJrZnkvdGVzdC5QTkc/ZGw9MQ0KDQp0aGVuIGluIHRoZSBzZXJ2ZXIucHJvcGVydGllcyBmaWxlIHNldCB0aGUgc2VydmVyLXJlc291cmNlLXBhY2sgdG8gdGhlIGVkaXRlZCB1cmwNCg0KIyBZb3VyIHBsdWdpbiBpcyBub3cgcmVhZHkgdG8gZ28sIHJlc3RhcnQgdGhlIHNlcnZlciB0byBzdGFydCB1c2luZyBqZXh0",zi=async(i,e,t,o)=>{const r=new Ye,n=`
        {"pack": {"pack_format": ${e},"description": "Adds custom musics discs"}}
    `;r.file("pack.mcmeta",n);const l=await(await(await fetch(t)).blob()).arrayBuffer();r.file("pack.png",l);const c=r.folder("assets").folder("minecraft"),f={};i.forEach(m=>{f[`music_disc.${m.namespace}`]={sounds:[{name:`records/${m.namespace}`,stream:!0}]}}),c.file("sounds.json",JSON.stringify(f,null,2));const g=c.folder("models").folder("item"),p=c.folder("sounds").folder("records"),b=c.folder("textures").folder("item"),d={parent:"item/generated",textures:{layer0:"item/music_disc_11"},overrides:i.map((m,h)=>({predicate:{custom_model_data:h},model:`item/music_disc_${m.namespace}`}))};g.file("music_disc_11.json",JSON.stringify(d,null,2));for(let m=0;m<i.length;m++){const h=i[m],v=await(await Ir(h.texture,16,16)).arrayBuffer();b.file(`music_disc_${h.namespace}.png`,v),console.log(h);const _=await h.oggFile.arrayBuffer();p.file(`${h.namespace}.ogg`,_),console.log(h),g.file(`music_disc_${h.namespace}.json`,JSON.stringify({parent:"item/generated",textures:{layer0:`item/music_disc_${h.namespace}`}},null,2))}r.generateAsync({type:"blob"}).then(async m=>{const h=new Ye,v=i.map((_,y)=>({title:_.name,author:_.author,"disc-namespace":`music_disc.${_.namespace}`,"model-data":y,"creeper-drop":_.creeperDrop,lores:_.lores.split(`
`),"loot-tables":_.lootTables.join(",").split(",")}));h.file("README.md",await(await fetch(Ci)).arrayBuffer()),h.file(`${o}.zip`,await m.arrayBuffer()),h.file("discs.json",JSON.stringify(v,null,2)),h.generateAsync({type:"blob"}).then(async _=>{Rr(_,"open me.zip")})})};function Je(i){let e,t,o;function r(s){i[7](s)}let n={text:"Add at least a disc"};return i[4]!==void 0&&(n.closePopup=i[4]),e=new Ei({props:n}),kt.push(()=>xt(e,"closePopup",r)),{c(){Rt(e.$$.fragment)},m(s,l){St(e,s,l),o=!0},p(s,l){const c={};!t&&l&16&&(t=!0,c.closePopup=s[4],Bt(()=>t=!1)),e.$set(c)},i(s){o||(ct(e.$$.fragment,s),o=!0)},o(s){gt(e.$$.fragment,s),o=!1},d(s){Et(e,s)}}}function Ii(i){let e,t,o,r;return{c(){e=tt("div"),t=tt("p"),t.textContent="GENERATE",N(t,"id","generate_text"),N(t,"class","noselect svelte-10qhf59"),N(e,"id","generate_button"),ge(e,"background-image","url("+pn+")"),N(e,"class","grayscale svelte-10qhf59")},m(n,s){at(n,e,s),et(e,t),o||(r=[ot(e,"click",i[5]),ot(e,"keydown",null)],o=!0)},p:lt,d(n){n&&st(e),o=!1,_t(r)}}}function Bi(i){let e,t,o,r;return{c(){e=tt("div"),t=tt("p"),t.textContent="GENERATE",N(t,"id","generate_text"),N(t,"class","noselect svelte-10qhf59"),N(e,"id","generate_button"),ge(e,"background-image","url("+pn+")"),N(e,"class","svelte-10qhf59")},m(n,s){at(n,e,s),et(e,t),o||(r=[ot(e,"click",i[6]),ot(e,"keydown",null)],o=!0)},p:lt,d(n){n&&st(e),o=!1,_t(r)}}}function xi(i){let e,t,o,r,n,s,l,c,f,g,p,b,d,m=i[4]&&Je(i);function h(R){i[8](R)}function v(R){i[9](R)}function _(R){i[10](R)}let y={};i[1]!==void 0&&(y.packname=i[1]),i[2]!==void 0&&(y.version=i[2]),i[0]!==void 0&&(y.imagesrc=i[0]),o=new ki({props:y}),kt.push(()=>xt(o,"packname",h)),kt.push(()=>xt(o,"version",v)),kt.push(()=>xt(o,"imagesrc",_));function S(R){i[11](R)}function x(R){i[12](R)}let C={};i[3]!==void 0&&(C.discData=i[3]),i[2]!==void 0&&(C.version=i[2]),c=new vi({props:C}),kt.push(()=>xt(c,"discData",S)),kt.push(()=>xt(c,"version",x));function j(R,M){return R[3].length>0?Bi:Ii}let L=j(i),T=L(i);return{c(){e=tt("main"),m&&m.c(),t=vt(),Rt(o.$$.fragment),l=vt(),Rt(c.$$.fragment),p=vt(),b=tt("div"),T.c(),N(b,"id","footer"),N(b,"class","svelte-10qhf59"),N(e,"class","svelte-10qhf59")},m(R,M){at(R,e,M),m&&m.m(e,null),et(e,t),St(o,e,null),et(e,l),St(c,e,null),et(e,p),et(e,b),T.m(b,null),d=!0},p(R,[M]){R[4]?m?(m.p(R,M),M&16&&ct(m,1)):(m=Je(R),m.c(),ct(m,1),m.m(e,t)):m&&(qt(),gt(m,1,1,()=>{m=null}),Kt());const X={};!r&&M&2&&(r=!0,X.packname=R[1],Bt(()=>r=!1)),!n&&M&4&&(n=!0,X.version=R[2],Bt(()=>n=!1)),!s&&M&1&&(s=!0,X.imagesrc=R[0],Bt(()=>s=!1)),o.$set(X);const k={};!f&&M&8&&(f=!0,k.discData=R[3],Bt(()=>f=!1)),!g&&M&4&&(g=!0,k.version=R[2],Bt(()=>g=!1)),c.$set(k),L===(L=j(R))&&T?T.p(R,M):(T.d(1),T=L(R),T&&(T.c(),T.m(b,null)))},i(R){d||(ct(m),ct(o.$$.fragment,R),ct(c.$$.fragment,R),d=!0)},o(R){gt(m),gt(o.$$.fragment,R),gt(c.$$.fragment,R),d=!1},d(R){R&&st(e),m&&m.d(),Et(o),Et(c),T.d()}}}function Ri(i,e,t){let o,r,n,s=[],l=!1;const c=()=>{t(4,l=!0)},f=()=>{zi(s,n,o,r)};function g(v){l=v,t(4,l)}function p(v){r=v,t(1,r)}function b(v){n=v,t(2,n)}function d(v){o=v,t(0,o)}function m(v){s=v,t(3,s)}function h(v){n=v,t(2,n)}return[o,r,n,s,l,c,f,g,p,b,d,m,h]}class Oi extends Ht{constructor(e){super(),Gt(this,e,Ri,xi,Wt,{})}}new Oi({target:document.getElementById("app")});
