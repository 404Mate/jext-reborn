(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();function Se(){}const Zn=t=>t;function Sa(t,e){for(const r in e)t[r]=e[r];return t}function Ca(t){return!!t&&(typeof t=="object"||typeof t=="function")&&typeof t.then=="function"}function Di(t){return t()}function Ms(){return Object.create(null)}function Te(t){t.forEach(Di)}function Ht(t){return typeof t=="function"}function dt(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Qr;function Ge(t,e){return Qr||(Qr=document.createElement("a")),Qr.href=e,t===Qr.href}function Ia(t){return Object.keys(t).length===0}function Pa(t,...e){if(t==null)return Se;const r=t.subscribe(...e);return r.unsubscribe?()=>r.unsubscribe():r}function It(t,e,r){t.$$.on_destroy.push(Pa(e,r))}function ji(t,e,r,a){if(t){const n=zi(t,e,r,a);return t[0](n)}}function zi(t,e,r,a){return t[1]&&a?Sa(r.ctx.slice(),t[1](a(e))):r.ctx}function Bi(t,e,r,a){if(t[2]&&a){const n=t[2](a(r));if(e.dirty===void 0)return n;if(typeof n=="object"){const s=[],i=Math.max(e.dirty.length,n.length);for(let o=0;o<i;o+=1)s[o]=e.dirty[o]|n[o];return s}return e.dirty|n}return e.dirty}function Fi(t,e,r,a,n,s){if(n){const i=zi(e,r,a,s);t.p(i,n)}}function Mi(t){if(t.ctx.length>32){const e=[],r=t.ctx.length/32;for(let a=0;a<r;a++)e[a]=-1;return e}return-1}function ft(t){return t??""}function Le(t){return t&&Ht(t.destroy)?t.destroy:Se}const Ui=typeof window<"u";let Li=Ui?()=>window.performance.now():()=>Date.now(),Wn=Ui?t=>requestAnimationFrame(t):Se;const hr=new Set;function Vi(t){hr.forEach(e=>{e.c(t)||(hr.delete(e),e.f())}),hr.size!==0&&Wn(Vi)}function xi(t){let e;return hr.size===0&&Wn(Vi),{promise:new Promise(r=>{hr.add(e={c:t,f:r})}),abort(){hr.delete(e)}}}function ue(t,e){t.appendChild(e)}function Ki(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Oa(t){const e=ce("style");return Ra(Ki(t),e),e.sheet}function Ra(t,e){return ue(t.head||t,e),e.sheet}function he(t,e,r){t.insertBefore(e,r||null)}function de(t){t.parentNode&&t.parentNode.removeChild(t)}function Lr(t,e){for(let r=0;r<t.length;r+=1)t[r]&&t[r].d(e)}function ce(t){return document.createElement(t)}function Ye(t){return document.createTextNode(t)}function Ae(){return Ye(" ")}function Mt(){return Ye("")}function we(t,e,r,a){return t.addEventListener(e,r,a),()=>t.removeEventListener(e,r,a)}function F(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function Na(t){return Array.from(t.childNodes)}function Ft(t,e){e=""+e,t.data!==e&&(t.data=e)}function Ct(t,e){t.value=e??""}function nt(t,e,r,a){r===null?t.style.removeProperty(e):t.style.setProperty(e,r,a?"important":"")}function Us(t,e,r){for(let a=0;a<t.options.length;a+=1){const n=t.options[a];if(n.__value===e){n.selected=!0;return}}(!r||e!==void 0)&&(t.selectedIndex=-1)}function Ta(t){const e=t.querySelector(":checked");return e&&e.__value}function Da(t,e,{bubbles:r=!1,cancelable:a=!1}={}){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,r,a,e),n}const dn=new Map;let hn=0;function ja(t){let e=5381,r=t.length;for(;r--;)e=(e<<5)-e^t.charCodeAt(r);return e>>>0}function za(t,e){const r={stylesheet:Oa(e),rules:{}};return dn.set(t,r),r}function Dn(t,e,r,a,n,s,i,o=0){const l=16.666/a;let c=`{
`;for(let v=0;v<=1;v+=l){const h=e+(r-e)*s(v);c+=v*100+`%{${i(h,1-h)}}
`}const m=c+`100% {${i(r,1-r)}}
}`,d=`__svelte_${ja(m)}_${o}`,y=Ki(t),{stylesheet:u,rules:_}=dn.get(y)||za(y,t);_[d]||(_[d]=!0,u.insertRule(`@keyframes ${d} ${m}`,u.cssRules.length));const f=t.style.animation||"";return t.style.animation=`${f?`${f}, `:""}${d} ${a}ms linear ${n}ms 1 both`,hn+=1,d}function jn(t,e){const r=(t.style.animation||"").split(", "),a=r.filter(e?s=>s.indexOf(e)<0:s=>s.indexOf("__svelte")===-1),n=r.length-a.length;n&&(t.style.animation=a.join(", "),hn-=n,hn||Ba())}function Ba(){Wn(()=>{hn||(dn.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&de(e)}),dn.clear())})}let Br;function zt(t){Br=t}function Fa(){if(!Br)throw new Error("Function called outside component initialization");return Br}const fr=[],vt=[];let pr=[];const zn=[],Ma=Promise.resolve();let Bn=!1;function Ua(){Bn||(Bn=!0,Ma.then(Gn))}function ot(t){pr.push(t)}function Dt(t){zn.push(t)}const Pn=new Set;let lr=0;function Gn(){if(lr!==0)return;const t=Br;do{try{for(;lr<fr.length;){const e=fr[lr];lr++,zt(e),La(e.$$)}}catch(e){throw fr.length=0,lr=0,e}for(zt(null),fr.length=0,lr=0;vt.length;)vt.pop()();for(let e=0;e<pr.length;e+=1){const r=pr[e];Pn.has(r)||(Pn.add(r),r())}pr.length=0}while(fr.length);for(;zn.length;)zn.pop()();Bn=!1,Pn.clear(),zt(t)}function La(t){if(t.fragment!==null){t.update(),Te(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(ot)}}function Va(t){const e=[],r=[];pr.forEach(a=>t.indexOf(a)===-1?e.push(a):r.push(a)),r.forEach(a=>a()),pr=e}let Sr;function qi(){return Sr||(Sr=Promise.resolve(),Sr.then(()=>{Sr=null})),Sr}function Nr(t,e,r){t.dispatchEvent(Da(`${e?"intro":"outro"}${r}`))}const an=new Set;let Bt;function Xe(){Bt={r:0,c:[],p:Bt}}function et(){Bt.r||Te(Bt.c),Bt=Bt.p}function me(t,e){t&&t.i&&(an.delete(t),t.i(e))}function $e(t,e,r,a){if(t&&t.o){if(an.has(t))return;an.add(t),Bt.c.push(()=>{an.delete(t),a&&(r&&t.d(1),a())}),t.o(e)}else a&&a()}const Hi={duration:0};function Fn(t,e,r){const a={direction:"in"};let n=e(t,r,a),s=!1,i,o,l=0;function c(){i&&jn(t,i)}function m(){const{delay:y=0,duration:u=300,easing:_=Zn,tick:f=Se,css:v}=n||Hi;v&&(i=Dn(t,0,1,u,y,_,v,l++)),f(0,1);const h=Li()+y,g=h+u;o&&o.abort(),s=!0,ot(()=>Nr(t,!0,"start")),o=xi(b=>{if(s){if(b>=g)return f(1,0),Nr(t,!0,"end"),c(),s=!1;if(b>=h){const k=_((b-h)/u);f(k,1-k)}}return s})}let d=!1;return{start(){d||(d=!0,jn(t),Ht(n)?(n=n(a),qi().then(m)):m())},invalidate(){d=!1},end(){s&&(c(),s=!1)}}}function qt(t,e,r,a){const n={direction:"both"};let s=e(t,r,n),i=a?0:1,o=null,l=null,c=null;function m(){c&&jn(t,c)}function d(u,_){const f=u.b-i;return _*=Math.abs(f),{a:i,b:u.b,d:f,duration:_,start:u.start,end:u.start+_,group:u.group}}function y(u){const{delay:_=0,duration:f=300,easing:v=Zn,tick:h=Se,css:g}=s||Hi,b={start:Li()+_,b:u};u||(b.group=Bt,Bt.r+=1),o||l?l=b:(g&&(m(),c=Dn(t,i,u,f,_,v,g)),u&&h(0,1),o=d(b,f),ot(()=>Nr(t,u,"start")),xi(k=>{if(l&&k>l.start&&(o=d(l,f),l=null,Nr(t,o.b,"start"),g&&(m(),c=Dn(t,i,o.b,o.duration,0,v,s.css))),o){if(k>=o.end)h(i=o.b,1-i),Nr(t,o.b,"end"),l||(o.b?m():--o.group.r||Te(o.group.c)),o=null;else if(k>=o.start){const E=k-o.start;i=o.a+o.d*v(E/o.duration),h(i,1-i)}}return!!(o||l)}))}return{run(u){Ht(s)?qi().then(()=>{s=s(n),y(u)}):y(u)},end(){m(),o=l=null}}}function Zi(t,e){const r=e.token={};function a(n,s,i,o){if(e.token!==r)return;e.resolved=o;let l=e.ctx;i!==void 0&&(l=l.slice(),l[i]=o);const c=n&&(e.current=n)(l);let m=!1;e.block&&(e.blocks?e.blocks.forEach((d,y)=>{y!==s&&d&&(Xe(),$e(d,1,1,()=>{e.blocks[y]===d&&(e.blocks[y]=null)}),et())}):e.block.d(1),c.c(),me(c,1),c.m(e.mount(),e.anchor),m=!0),e.block=c,e.blocks&&(e.blocks[s]=c),m&&Gn()}if(Ca(t)){const n=Fa();if(t.then(s=>{zt(n),a(e.then,1,e.value,s),zt(null)},s=>{if(zt(n),a(e.catch,2,e.error,s),zt(null),!e.hasCatch)throw s}),e.current!==e.pending)return a(e.pending,0),!0}else{if(e.current!==e.then)return a(e.then,1,e.value,t),!0;e.resolved=t}}function Wi(t,e,r){const a=e.slice(),{resolved:n}=t;t.current===t.then&&(a[t.value]=n),t.current===t.catch&&(a[t.error]=n),t.block.p(a,r)}function jt(t,e,r){const a=t.$$.props[e];a!==void 0&&(t.$$.bound[a]=r,r(t.$$.ctx[a]))}function Ze(t){t&&t.c()}function Ve(t,e,r,a){const{fragment:n,after_update:s}=t.$$;n&&n.m(e,r),a||ot(()=>{const i=t.$$.on_mount.map(Di).filter(Ht);t.$$.on_destroy?t.$$.on_destroy.push(...i):Te(i),t.$$.on_mount=[]}),s.forEach(ot)}function xe(t,e){const r=t.$$;r.fragment!==null&&(Va(r.after_update),Te(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function xa(t,e){t.$$.dirty[0]===-1&&(fr.push(t),Ua(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function wt(t,e,r,a,n,s,i,o=[-1]){const l=Br;zt(t);const c=t.$$={fragment:null,ctx:[],props:s,update:Se,not_equal:n,bound:Ms(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:Ms(),dirty:o,skip_bound:!1,root:e.target||l.$$.root};i&&i(c.root);let m=!1;if(c.ctx=r?r(t,e.props||{},(d,y,...u)=>{const _=u.length?u[0]:y;return c.ctx&&n(c.ctx[d],c.ctx[d]=_)&&(!c.skip_bound&&c.bound[d]&&c.bound[d](_),m&&xa(t,d)),y}):[],c.update(),m=!0,Te(c.before_update),c.fragment=a?a(c.ctx):!1,e.target){if(e.hydrate){const d=Na(e.target);c.fragment&&c.fragment.l(d),d.forEach(de)}else c.fragment&&c.fragment.c();e.intro&&me(t.$$.fragment),Ve(t,e.target,e.anchor,e.customElement),Gn()}zt(l)}class kt{$destroy(){xe(this,1),this.$destroy=Se}$on(e,r){if(!Ht(r))return Se;const a=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return a.push(r),()=>{const n=a.indexOf(r);n!==-1&&a.splice(n,1)}}$set(e){this.$$set&&!Ia(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ka=(t,e)=>{const{src:r,hover:a}=e,n=()=>{t.src=a},s=()=>{t.src=r};return s(),t.addEventListener("mouseenter",n),t.addEventListener("mouseleave",s),{destroy(){t.removeEventListener("mouseenter",n),t.removeEventListener("mouseleave",s)}}},Pt=(t,{width:e="1px",color:r="white"}={width:"1px",color:"white"})=>{const a=()=>{t.style.border=`${e} solid ${r}`},n=()=>{t.style.border=`${e} solid transparent`};return t.addEventListener("mouseenter",a),t.addEventListener("mouseleave",n),n(),{destroy(){t.removeEventListener("mouseenter",a),t.removeEventListener("mouseleave",n)}}},qa=(t,e)=>{t.src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",setTimeout(()=>{t.src=e},1)},_r=(t,e={accept:"",cb:null,multiple:!1})=>{const{accept:r,cb:a,multiple:n}=e,s=()=>{const i=document.createElement("input");i.type="file",i.accept=r,n&&i.setAttribute("multiple",""),i.addEventListener("change",()=>{a(Array.from(i.files))}),i.click()};return t.addEventListener("click",s),{destroy(){t.removeEventListener("click",s)}}},gr=(t,e={accept:"",cb:null,multiple:!1})=>{const{accept:r,cb:a,multiple:n}=e,s=t.style.backgroundColor,i=()=>{t.dispatchEvent(new CustomEvent("mouseenter")),t.style.backgroundColor="#404040"},o=()=>{t.dispatchEvent(new CustomEvent("mouseleave")),t.style.backgroundColor=s},l=m=>{m.preventDefault()},c=m=>{const d=[];m.preventDefault(),m.dataTransfer.items&&m.dataTransfer.items.length>0?[...m.dataTransfer.items].forEach(y=>{if(y.kind==="file"){const u=y.getAsFile();r.startsWith(".")?u.name.endsWith(r)&&d.push(u):u.type.match(r)&&d.push(u)}}):[...m.dataTransfer.files].forEach(y=>{r.startsWith(".")?y.name.endsWith(r)&&d.push(y):y.type.match(r)&&d.push(y)}),a(n?d:[d[0]])};return t.addEventListener("dragenter",i),t.addEventListener("dragleave",o),t.addEventListener("dragover",l),t.addEventListener("drop",c),{destroy(){t.removeEventListener("mouseenter",i),t.removeEventListener("mouseleave",o),t.removeEventListener("dragover",l),t.removeEventListener("drop",c)}}},cr=[];function br(t,e=Se){let r;const a=new Set;function n(o){if(dt(t,o)&&(t=o,r)){const l=!cr.length;for(const c of a)c[1](),cr.push(c,t);if(l){for(let c=0;c<cr.length;c+=2)cr[c][0](cr[c+1]);cr.length=0}}}function s(o){n(o(t))}function i(o,l=Se){const c=[o,l];return a.add(c),a.size===1&&(r=e(n)||Se),o(t),()=>{a.delete(c),a.size===0&&r&&(r(),r=null)}}return{set:n,update:s,subscribe:i}}const Ha="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAMCAYAAABm+U3GAAAAAXNSR0IArs4c6QAAAF5JREFUOI2tksECwCAIQmH//890aTvUTKw8GrxIoyQBAEniQr28Z2zcgAIAp8Zm8pHB6OAE+iU+gUeeyVyBr7S/RgeeacJEK6Nzcfmp7qjSBUX/O5t/efMOtFTq5eob3NNX+dvBeeAAAAAASUVORK5CYII=",Ls="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAAXNSR0IArs4c6QAAAIRJREFUSIntlEsOgDAIRMF4/yvjRk1Fygy6MZHZKZ/XgaYira9JK8lmZmehqo7/ju9IyxNANU5Bsgajg1kehCAHDCiFMCOKduLr1krTDKa7yk6QmH28hrBqiIjEL0Cky+3yiext80/MLY4aTAuTA/kYHFc2BgZAQRCI2Qu9eOSIcdz6mTar61wTcDDk9gAAAABJRU5ErkJggg==",Vs="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAAXNSR0IArs4c6QAAAIpJREFUSIntlEsOwCAIRKHpQT3a3LSuTCxBGNpNkzorP+hzwCCy9TVpJbi1do0xAJ3XxtzT8QRQ3acg0QWzg1VcCskcMKAQwqTIq4k9d1YujWAAFICWnWRi6vEawmpDRMTvAJ5uv8sGsr/NthirtHetDkYPsntpuqI0MAAKkoGYutCFzxwxjrd+pg6/w1SfCm+xxQAAAABJRU5ErkJggg==",Za="/jext-reborn/assets/chest-dc4b25ff.png",Wa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAFxnpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjarVdZkuQoDP3nFHMEkBDLcVgj5gZz/Hkshsyq6umqjrHDNinL4klPSKRq//zd1V84iLxWVnxw0TmNw0YbKWEQ9DrivBtt530dzzvzLlfnBUHEePL66dPWT5DL/eDYye9yFfYbCtuQOYbnwWPmMa6vICGnJTd2G4ptDVwM/hVq3oaKfXFpX/a6N4/xW70JPKJUBRMxUWPDet7DQsDjIk5DjrvmAD0zJcxR4SFstjEE5M2956nfAv0e/D1SH6N/Rh+CT2nL+UMs3cOa+/qFkQ9yPtPQ68R8ENH7i+S1/+TOvnqvofe2vEvWIaJuZ9QM9hOhoZgRcp6fOZwel2Ds5xlxBp10AeVVF51xFhMNIfpdGWuqSaabNp/FFEC01MjjSVSIpyywp0iFB092nKaT58iVA3gr1BSos0wHi5nzxjlfMQEzVwNVMjBmJv2/ONV/vfzJqXovI0RGhxMr4KKR14AxmBt3aIEQ0zdvMgP8nJt+/ZI/SFUwKDPMAQ4mnZeJLObmFk+eGXqC51pCRvm6DSBEmFsAxjAY0M6wGGe0R7UxBnEMICgBObGlDAaMCFWAJMvsSHnCksHc+MabqUtCjoYYtQlECDv24CZyAlnWCvLH24AcSsJiRcSJl6AkSnLsrBPnnHejyCXP3nrxznsffPQpcLBBggs+hBBDihQZNVCiiz6GGGNKpBImSrCVoJ8gyZQ52yzZZZ9DjjkVpE+xRYorvoQSS6pUuaJMVFd9DTXW1IxqqBTNNmmu+RZabKkj1zp326W77nvosafD2mb10/kD1sxmjSZTQ88f1iBV3j8mzCgnMjgDY2QNGPeDASQ0Dc50MNbSYG5wpiNhUQgBpAxuVDWDMVBomyHp5nB3mfsWb0rCt3ij3zGnBnX/B3MK1H3m7QvW6uhzZTK2VuGIqWasvtYpII8CcgCoxzhAt1MbA8rNlx6dnj+CRjWaCi1xpSNMfenWwFXJJ93C6IWPULcp7LFxOVKK1VgBWwjwGFhtirJLVukKW5wDgasvQqlTOIB2KksDraLJ+l5Zn+wj9dKXckbrT590A/YDR2gWgM7FhyFVUyw8QaeSj08hLv+TzdejZbE45P2DtC437Sj+zySy9AJK9aOW84JoY3UHNwrSFuZrT5UFsblYrkm7TOZYjy/ex/V51bH1GzraYlWw2PmqO79GckBFWZEfLflE7WHosqFMCY/UtTv9Rh+TN9fkIdMeWd1MdGXJ52sgPnJyvkR9uc+HzkyPttTNB5JNq4elWnY+Wg7hyfOm0xxlc4Pil/MS85kHpX3S75I7CeaRmWtyZEq4SOPvkKpfQf0pUvUrqN9EWh6kClDDDYD1G6pDITrqei+zRK/rCcK9+krsrG4W6pXrCMHjVvN515RoO3Zgp3xscSiNH6Hi2pe/KE/IzCcKZetGxOMYKGEXFVe6P6rNpFXYurXdnjgOs7sERW7uyIuZ5mI83KCg7EBUikjIm42y5SaWu0JzX+FEpjZ36HBrshbYbrxKP+6UcIODLrAToR4PUM/c4pxPBTbrJa7h2vbItqfS5vsx2WWxoIDlT7W6JC79IpL1GULV2q3VP4WpvsT5BzDVlzjRUh6idXe3V/FOCvyJOUI0xenaaFX5YmBZqlm38lj9+OS8e18pFxJiVJPbGWnRZ85ET/IlwpRn/rRThEy56zDWatTIkYhefqRmtyQx9UU11aclnWR6f6pRLp+ccygwdwHXp9ySjzdBn2VdDWa8FSitCpmxk7orqm7qbXMv69ftPk9c5YvoqS/D+Sm8WP7P3sJ2NKlHblZ4W2aVbn5I2hlXXjLzu/jUN/B8C596B3jxtbyTYmwuT/fvi7xsbrPunGRuIqRlbNKu3MpSLhYbplM29lKpnG7yYqO+F2S5q7+Vrepem0XbHYT5brKWV0mHd5jqS5x/AFN9ifOnMLl3VSP+R/wLwQRCBdriyuEAAAGFaUNDUElDQyBwcm9maWxlAAB4nH2RPUjDUBSFT1ulpVQc2kHEIUPVxYKoiKNWoQgVQq3QqoPJS/+gSUOS4uIouBYc/FmsOrg46+rgKgiCPyCOTk6KLlLifUmhRYwPLu/jvHcO990H+JtVppo944CqWUYmlRRy+VUh+IowQlSjiErM1OdEMQ3P9XUPH9/vEjzL+96fq08pmAzwCcSzTDcs4g3i6U1L57xPHGNlSSE+Jx4zqEHiR67LLr9xLjns55kxI5uZJ44RC6UulruYlQ2VeIo4rqga5ftzLiuctzir1Tpr98lfGCloK8tcpxpCCotYgggBMuqooAoLCdo1Ukxk6Dzp4R90/CK5ZHJVwMixgBpUSI4f/A9+z9YsTk64SZEk0Pti2x/DQHAXaDVs+/vYtlsnQOAZuNI6/loTmPkkvdHR4kdA/zZwcd3R5D3gcgcYeNIlQ3KkAJW/WATez+ib8kD0FgivuXNrn+P0AcjSrNI3wMEhMFKi7HWPd4e65/bvnfb8fgBGIXKVL4xNQwAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+YKCAonM+tPNNQAAAELSURBVBjTNcE9SAJhAIDh9w5L+gSRMDUlIeiHhhAuTAocg6CWNgfnoKGIppaWyCgaAt1CCCvhIBCqrSCEIi4olKvxKjuzHBpEkA6PsKnnkfKPh50VY5UpobDgTRJ1RbkQR1iNNuVbA2ksM9KZVCYwmy+M90Z41aoMzfXRqlgs+zaQw4qH4v41PzmbYfcoLqebwtoVT1kDIQRyV7eTTltCU0s8W/c0glXM8zpvZpVscw9H3DlD/1KQyG6MnfVtpF+ZG71I6jLFp1zDESKAVnngJHfMx9k3AMmeBLObcRL2InLYM4hPBNDUEv/eT+tYNZv0XRo53zogFBf4p71k9C0KZZWBeR+G/oU/JvgD3DRc8fJrLSwAAAAASUVORK5CYII=",Gi="/jext-reborn/assets/default_disc-59365372.png",Ji="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAFxJREFUOI3tkMsRgDAIBddyUgDtUBztUADl4EUvMSSOHnVnuPB5D4Cf12x9QlUTwMzKnlJgMDw1uyAiCZRxGjwSUdU8amt6kdlweZeIZGsNgIjA3dc/GIncXvvD7Gl5L5Lexty0AAAAAElFTkSuQmCC",Ga="/jext-reborn/assets/delete_btn_hover-386c7405.png",Ja="/jext-reborn/assets/delete_btn-871175bc.png",bn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA0UlEQVR42nWSsQ1CMQxEvQ4rINFR0SOBxAgpaRgA/Q3YhelAF+mi9+/nF1YS2zn7zq7v+/H7tEu31/XYbea7nw6ruM/SRYlM0HtZluEzIO+KycporsI3qzGHeSW01tpwsJukkl0MAAcV0GdyJ6AKpa/cVlZyq9SG9yFicpR4TKDipOmzMjnH525m/g6QTp5uOT8zNt2D5J68SaVyPORsYPtJxVrVjBcraHSkwDH3TUxnguyZu1pRkD1v541wpjHb0MokKkz+WWgDkDtgkfbm7wJ/9oUoq3qXqFkAAAAASUVORK5CYII=",Qi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAYAAADgkQYQAAAAAXNSR0IArs4c6QAAAFJJREFUGJWNjsENwDAIA6/jZADW8XCswwCMQz9tVZREiiUe4JMNHOgCkFQA7t7u37IAphDMrIDtvCFbUFI9HkvwD7QHzazGGABkJhHR/Aa2ilPdhC8vkoVxguIAAAAASUVORK5CYII=",Yi="/jext-reborn/assets/generate_btn-516338f5.png",Qa="/jext-reborn/assets/loading-9ab4977f.webp",Jn="/jext-reborn/assets/pack_icon-57c0be34.png",Ya="data:text/plain;base64,IyBIb3cgdG8gc2V0dXAgdGhlIHBsdWdpbg0KDQojIyBPbmNlIHlvdSBoYXZlIGRvd25sb2FkZWQgdGhpcyBmaWxlIHB1dCB0aGUgZGlzY3MuanNvbiBmaWxlIGluIHRoZSByb290IG9mIHBsdWdpbiBkaXJlY3RvcnkNCg0KYGBgDQpTZXJ2ZXINCuKUlOKUgOKUgOKUgC4uLg0K4pSU4pSA4pSA4pSAcGx1Z2lucw0KICAgIOKUlOKUgOKUgOKUgEp1a2Vib3hFeHRlbmRlZFJlYm9ybg0KICAgIOKUgiAgIOKUlOKUgOKUgOKUgGRpc2NzLmpzb24NCgnilIIJ4pSU4pSA4pSA4pSAY29uZmlnLmpzb24NCgnilIIJ4pSU4pSA4pSA4pSALi4uDQoJ4pSU4pSA4pSA4pSASmV4dC5qYXINCgnilJTilIDilIDilIAuLi4NCmBgYA0KDQojIyBBcyBmb3IgdGhlIHJlc291cmNlIHBhY2sgZmlsZSB5b3UgY2FuIHNldCBpdCB1cCBieSBlZGl0aW5nIHRoZSBzZXJ2ZXIgY29uZmlnIGZpbGUNCg0KRXhhbXBsZSB1cGxvYWQgeW91ciBmaWxlIHRvIGRyb3Bib3guDQpHZW5lcmF0ZSBhIGRvd25sb2FkIHVybCBhbmQgcmVwbGFjZSB0aGUgZGw9MCBhdCB0aGUgZW5kIG9mIHRoZSB1cmwgd2l0aCBhIGRsPTENCg0KRXhhbXBsZToNCm9yaWdpbmFsIHVybDogaHR0cHM6Ly93d3cuZHJvcGJveC5jb20vcy9tc2llN2h1Y25wYmtmeS90ZXN0LlBORz9kbD0wDQplZGl0ZWQgICB1cmw6IGh0dHBzOi8vd3d3LmRyb3Bib3guY29tL3MvbXNpZTdodWNucGJrZnkvdGVzdC5QTkc/ZGw9MQ0KDQp0aGVuIGluIHRoZSBzZXJ2ZXIucHJvcGVydGllcyBmaWxlIHNldCB0aGUgc2VydmVyLXJlc291cmNlLXBhY2sgdG8gdGhlIGVkaXRlZCB1cmwNCg0KIyBZb3VyIHBsdWdpbiBpcyBub3cgcmVhZHkgdG8gZ28sIHJlc3RhcnQgdGhlIHNlcnZlciB0byBzdGFydCB1c2luZyBqZXh0",Xi="data:image/gif;base64,R0lGODdhEAAQAHcAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQJCgAAACwAAAAAEAAQAIAAAAD///8CI4QfccuZDB2MarZq18sIc7B9oGc55PSEaKVSXUlK3Tma7XUXACH5BAkKAAAALAAAAAAQABAAgAAAAP///wIjhB8Zx6jfjGKTrgiSw1hz+zVeKF1kZp4jubIpaKWV+MydbRQAIfkECQoAAAAsAAAAABAAEACAAAAA////AiOEHxnHqN+MYpOuCJLDO1+uaZwjjl5peqm1St+KphU8yy9TAAAh+QQJCgAAACwAAAAAEAAQAIAAAAD///8CI4QfGceo34xik64IksM7X65pnCOOXjlCpsemFxqVcIeA630XACH5BAkKAAAALAAAAAAQABAAgAAAAP///wIihB8Zx6jfjGKTrgiSwztfrmmcI46eaaEdWrKf2YJxBLlRAQAh+QQJCgAAACwAAAAAEAAQAIAAAAD///8CIoQfGceo34xik64IEt56t+5ZoThKVwmGqXquzpdW8ONabgEAIfkECQoAAAAsAAAAABAAEACAAAAA////AiOEbxHIrNoieDLC6hY+dyftPWAlhktnaWjTrdw4oRQrzlLJFAAh+QQJCgAAACwAAAIAEAAOAIAAAAD///8CI4RjmajBep6DcAJL43054r59nSNmU9kw6CJxafWRJkmDoQsUADs=",vr=br(13),Pr=br("your_pack_name"),Mn=br(Jn),xt=br([]);function xs(t,e,r){const a=t.slice();return a[5]=e[r],a[6]=e,a[7]=r,a}function Ks(t){let e,r,a;function n(){return t[3](t[5])}function s(o){t[4](o,t[5],t[6],t[7])}let i={id:t[7],onRemove:n};return t[5]!==void 0&&(i.song=t[5]),e=new Ju({props:i}),vt.push(()=>jt(e,"song",s)),{c(){Ze(e.$$.fragment)},m(o,l){Ve(e,o,l),a=!0},p(o,l){t=o;const c={};l&1&&(c.onRemove=n),!r&&l&1&&(r=!0,c.song=t[5],Dt(()=>r=!1)),e.$set(c)},i(o){a||(me(e.$$.fragment,o),a=!0)},o(o){$e(e.$$.fragment,o),a=!1},d(o){xe(e,o)}}}function Xa(t){let e,r,a,n,s,i,o,l,c,m=t[0],d=[];for(let u=0;u<m.length;u+=1)d[u]=Ks(xs(t,m,u));const y=u=>$e(d[u],1,1,()=>{d[u]=null});return{c(){e=ce("div"),r=ce("div");for(let u=0;u<d.length;u+=1)d[u].c();a=Ae(),n=ce("hr"),s=Ae(),i=ce("div"),i.innerHTML='<h1 class="noselect svelte-1jovf65">+</h1>',F(r,"id","songscontainer"),F(n,"class","hidden"),F(i,"class","addsongsbtn svelte-1jovf65"),F(e,"id","content"),F(e,"class","svelte-1jovf65")},m(u,_){he(u,e,_),ue(e,r);for(let f=0;f<d.length;f+=1)d[f]&&d[f].m(r,null);ue(e,a),ue(e,n),ue(e,s),ue(e,i),o=!0,l||(c=[Le(_r.call(null,i,{accept:"audio/*",cb:t[1],multiple:!0})),Le(gr.call(null,i,{accept:"audio/*",cb:t[1],multiple:!0})),we(i,"keydown",null)],l=!0)},p(u,[_]){if(_&5){m=u[0];let f;for(f=0;f<m.length;f+=1){const v=xs(u,m,f);d[f]?(d[f].p(v,_),me(d[f],1)):(d[f]=Ks(v),d[f].c(),me(d[f],1),d[f].m(r,null))}for(Xe(),f=m.length;f<d.length;f+=1)y(f);et()}},i(u){if(!o){for(let _=0;_<m.length;_+=1)me(d[_]);o=!0}},o(u){d=d.filter(Boolean);for(let _=0;_<d.length;_+=1)$e(d[_]);o=!1},d(u){u&&de(e),Lr(d,u),l=!1,Te(c)}}}function eo(t,e,r){let a;It(t,xt,l=>r(0,a=l));const n=l=>{if(!l||l.length===0)return;const c=[];for(let m=0;m<l.length;m++)c.push({uploadedFile:l[m],name:"Disc Name",author:"Disc Author",lores:`This is the lore of the disc

You can have multiple lines

If you don't want any lores you can leave this empty`,namespace:"",creeperDrop:!0,lootTables:[],fragmentLootTables:[],normalize:!1,isMono:!0,oggFile:null,monoFile:null,texture:null,fragmentTexture:null});xt.update(m=>m=[...m,...c])},s=l=>xt.update(c=>c=c.filter(m=>m!=l)),i=l=>s(l);function o(l,c,m,d){m[d]=l,xt.set(a)}return[a,n,s,i,o]}class to extends kt{constructor(e){super(),wt(this,e,eo,Xa,dt,{})}}function qs(t,e,r){const a=t.slice();return a[6]=e[r],a}function Hs(t){let e,r=t[1],a=[];for(let n=0;n<r.length;n+=1)a[n]=Zs(qs(t,r,n));return{c(){e=ce("div");for(let n=0;n<a.length;n+=1)a[n].c();F(e,"id","openmenu"),F(e,"class","svelte-14kdzrj")},m(n,s){he(n,e,s);for(let i=0;i<a.length;i+=1)a[i]&&a[i].m(e,null)},p(n,s){if(s&18){r=n[1];let i;for(i=0;i<r.length;i+=1){const o=qs(n,r,i);a[i]?a[i].p(o,s):(a[i]=Zs(o),a[i].c(),a[i].m(e,null))}for(;i<a.length;i+=1)a[i].d(1);a.length=r.length}},d(n){n&&de(e),Lr(a,n)}}}function Zs(t){let e,r=t[6]+"",a,n,s;function i(){return t[5](t[6])}return{c(){e=ce("div"),a=Ye(r),F(e,"class","selectopt svelte-14kdzrj")},m(o,l){he(o,e,l),ue(e,a),n||(s=[we(e,"click",i),we(e,"keydown",null)],n=!0)},p(o,l){t=o,l&2&&r!==(r=t[6]+"")&&Ft(a,r)},d(o){o&&de(e),n=!1,Te(s)}}}function ro(t){let e,r,a,n,s,i,o,l,c,m,d,y,u=t[2]&&Hs(t);return{c(){u&&u.c(),e=Ae(),r=ce("div"),a=ce("div"),n=ce("div"),s=Ye(t[0]),i=Ae(),o=ce("div"),l=ce("img"),F(n,"id","selectedoption"),F(n,"class","svelte-14kdzrj"),Ge(l.src,c=Ha)||F(l,"src",c),F(l,"alt","🢓"),F(l,"id","arrow"),F(l,"class",m=ft(t[2]?"active":"")+" svelte-14kdzrj"),F(o,"id","arrowcontainer"),F(o,"class","svelte-14kdzrj"),F(a,"id","row"),F(a,"class","svelte-14kdzrj"),F(r,"id","container"),F(r,"class","svelte-14kdzrj")},m(_,f){u&&u.m(_,f),he(_,e,f),he(_,r,f),ue(r,a),ue(a,n),ue(n,s),ue(a,i),ue(a,o),ue(o,l),d||(y=[we(o,"click",t[3]),we(o,"keydown",null)],d=!0)},p(_,[f]){_[2]?u?u.p(_,f):(u=Hs(_),u.c(),u.m(e.parentNode,e)):u&&(u.d(1),u=null),f&1&&Ft(s,_[0]),f&4&&m!==(m=ft(_[2]?"active":"")+" svelte-14kdzrj")&&F(l,"class",m)},i:Se,o:Se,d(_){u&&u.d(_),_&&de(e),_&&de(r),d=!1,Te(y)}}}function no(t,e,r){let{options:a}=e,{selected:n=a[0]}=e,s=!1;const i=()=>r(2,s=!s),o=c=>{r(0,n=c),r(2,s=!1)},l=c=>o(c);return t.$$set=c=>{"options"in c&&r(1,a=c.options),"selected"in c&&r(0,n=c.selected)},[n,a,s,i,o,l]}class so extends kt{constructor(e){super(),wt(this,e,no,ro,dt,{options:1,selected:0})}}function bt(t,{delay:e=0,duration:r=400,easing:a=Zn}={}){const n=+getComputedStyle(t).opacity;return{delay:e,duration:r,easing:a,css:s=>`opacity: ${s*n}`}}function io(t){return{c:Se,m:Se,p:Se,d:Se}}function ao(t){let e,r;return{c(){e=ce("img"),Ge(e.src,r=t[6])||F(e,"src",r),F(e,"alt",t[1]),F(e,"class","svelte-72nmcc")},m(a,n){he(a,e,n)},p(a,n){n&2&&F(e,"alt",a[1])},d(a){a&&de(e)}}}function oo(t){let e,r;return{c(){e=ce("img"),Ge(e.src,r=Xi)||F(e,"src",r),F(e,"alt",t[1]),F(e,"class","svelte-72nmcc")},m(a,n){he(a,e,n)},p(a,n){n&2&&F(e,"alt",a[1])},d(a){a&&de(e)}}}function lo(t){let e,r,a,n,s,i,o,l,c={ctx:t,current:null,token:null,hasCatch:!1,pending:oo,then:ao,catch:io,value:6};return Zi(t[3],c),{c(){e=ce("div"),c.block.c(),r=Ae(),a=ce("p"),n=Ye(t[1]),F(e,"class",s=ft(t[0]?"selected":"")+" svelte-72nmcc")},m(m,d){he(m,e,d),c.block.m(e,c.anchor=null),c.mount=()=>e,c.anchor=r,ue(e,r),ue(e,a),ue(a,n),o||(l=[we(e,"click",function(){Ht(t[2])&&t[2].apply(this,arguments)}),we(e,"keydown",null)],o=!0)},p(m,[d]){t=m,Wi(c,t,d),d&2&&Ft(n,t[1]),d&1&&s!==(s=ft(t[0]?"selected":"")+" svelte-72nmcc")&&F(e,"class",s)},i(m){i||ot(()=>{i=Fn(e,bt,{}),i.start()})},o:Se,d(m){m&&de(e),c.block.d(),c.token=null,c=null,o=!1,Te(l)}}}function co(t,e,r){let{value:a=!1}=e,{image:n}=e,{name:s}=e,{onClick:i=()=>{}}=e;const l=(async c=>{const d=await(await fetch(c)).blob();return URL.createObjectURL(d)})(n);return t.$$set=c=>{"value"in c&&r(0,a=c.value),"image"in c&&r(4,n=c.image),"name"in c&&r(1,s=c.name),"onClick"in c&&r(2,i=c.onClick)},[a,s,i,l,n]}class ea extends kt{constructor(e){super(),wt(this,e,co,lo,dt,{value:0,image:4,name:1,onClick:2})}}const Ws=new Map([[4,"1.14 - 1.14.4"],[5,"1.15 - 1.16.1"],[6,"1.16.2 - 1.16.5"],[7,"1.17 - 1.17.1"],[8,"1.18 - 1.18.2"],[9,"1.19 - 1.19.2"],[12,"1.19.3"],[13,"1.19.4"]]),Fr=[{source:"chests/ancient_city,chests/ancient_city_ice_box",img:"loottable_icons/Ancient_City.webp",name:"Ancient City",minVersion:9},{source:"chests/bastion_bridge,chests/bastion_hoglin_treasure,chests/bastion_other,chests/bastion_treasure",img:"loottable_icons/Bastion_Remnant.webp",name:"Bastion Remnant",minVersion:5},{source:"chests/desert_pyramid",img:"loottable_icons/Desert_pyramid.webp",name:"Desert Pyramid",minVersion:4},{source:"chests/simple_dungeon",img:"loottable_icons/Dungeon.webp",name:"Dungeon",minVersion:4},{source:"chests/end_city_treasure",img:"loottable_icons/End_City.webp",name:"End City",minVersion:4},{source:"chests/igloo_chest",img:"loottable_icons/Igloo.webp",name:"Igloo",minVersion:4},{source:"chests/jungle_temple",img:"loottable_icons/Jungle_pyramid.webp",name:"Jungle Temple",minVersion:4},{source:"chests/nether_bridge",img:"loottable_icons/Nether_Fortress.webp",name:"Nether Fortress",minVersion:4},{source:"chests/ruined_portal",img:"loottable_icons/Nether_portal.webp",name:"Ruined Portal",minVersion:5},{source:"chests/pillager_outpost",img:"loottable_icons/Pillager_outpost.webp",name:"Pillager Outpost",minVersion:4},{source:"chests/shipwreck_map,chests/shipwreck_supply,chests/shipwreck_treasure",img:"loottable_icons/Shipwreck.webp",name:"Shipwreck",minVersion:4},{source:"chests/stronghold_corridor,chests/stronghold_crossing",img:"loottable_icons/Stronghold.webp",name:"Stronghold",minVersion:4},{source:"chests/underwater_ruin_big,chests/underwater_ruin_small",img:"loottable_icons/Underwater_ruin.webp",name:"Underwater Ruins",minVersion:4},{source:"chests/village/village_plains_house,chests/village/village_savanna_house,chests/village/village_desert_house,chests/village/village_snowy_house,chests/village/village_taiga_house",img:"loottable_icons/Village.webp",name:"Village",minVersion:4},{source:"chests/woodland_mansion",img:"loottable_icons/Woodland_Mansion.webp",name:"Woodland Mansion",minVersion:4},{source:"chests/abandoned_mineshaft",img:"loottable_icons/Mineshaft.webp",name:"Mineshaft",minVersion:4}];function Gs(t,e,r){const a=t.slice();return a[6]=e[r],a}function Js(t){let e,r,a=`url(${bn})`,n,s,i;return{c(){e=ce("div"),F(e,"class","popupbackground svelte-1l5tnjn"),nt(e,"background-image",a)},m(o,l){he(o,e,l),n=!0,s||(i=[we(e,"click",t[4]),we(e,"keydown",null)],s=!0)},p:Se,i(o){n||(ot(()=>{n&&(r||(r=qt(e,bt,{},!0)),r.run(1))}),n=!0)},o(o){r||(r=qt(e,bt,{},!1)),r.run(0),n=!1},d(o){o&&de(e),o&&r&&r.end(),s=!1,Te(i)}}}function Qs(t){let e,r,a,n,s,i,o,l=Fr,c=[];for(let d=0;d<l.length;d+=1)c[d]=Xs(Gs(t,l,d));const m=d=>$e(c[d],1,1,()=>{c[d]=null});return{c(){e=ce("div"),r=ce("div");for(let d=0;d<c.length;d+=1)c[d].c();a=Ae(),n=ce("div"),n.innerHTML='<div id="content" class="svelte-1l5tnjn"><p id="generate_text" class="noselect svelte-1l5tnjn">OK</p></div>',F(r,"class","popupcontainer svelte-1l5tnjn"),F(n,"id","messagepopupconfirm"),F(n,"class","popupconfirm svelte-1l5tnjn"),F(e,"class","popup svelte-1l5tnjn")},m(d,y){he(d,e,y),ue(e,r);for(let u=0;u<c.length;u+=1)c[u]&&c[u].m(r,null);ue(e,a),ue(e,n),s=!0,i||(o=[we(n,"click",t[4]),we(n,"keydown",null)],i=!0)},p(d,y){if(y&13){l=Fr;let u;for(u=0;u<l.length;u+=1){const _=Gs(d,l,u);c[u]?(c[u].p(_,y),me(c[u],1)):(c[u]=Xs(_),c[u].c(),me(c[u],1),c[u].m(r,null))}for(Xe(),u=l.length;u<c.length;u+=1)m(u);et()}},i(d){if(!s){for(let y=0;y<l.length;y+=1)me(c[y]);s=!0}},o(d){c=c.filter(Boolean);for(let y=0;y<c.length;y+=1)$e(c[y]);s=!1},d(d){d&&de(e),Lr(c,d),i=!1,Te(o)}}}function Ys(t){let e,r;function a(){return t[5](t[6])}return e=new ea({props:{image:t[6].img,name:t[6].name,value:t[0].includes(t[6].source),onClick:a}}),{c(){Ze(e.$$.fragment)},m(n,s){Ve(e,n,s),r=!0},p(n,s){t=n;const i={};s&1&&(i.value=t[0].includes(t[6].source)),e.$set(i)},i(n){r||(me(e.$$.fragment,n),r=!0)},o(n){$e(e.$$.fragment,n),r=!1},d(n){xe(e,n)}}}function Xs(t){let e,r,a=t[6].minVersion&&t[6].minVersion<=t[2]&&Ys(t);return{c(){a&&a.c(),e=Mt()},m(n,s){a&&a.m(n,s),he(n,e,s),r=!0},p(n,s){n[6].minVersion&&n[6].minVersion<=n[2]?a?(a.p(n,s),s&4&&me(a,1)):(a=Ys(n),a.c(),me(a,1),a.m(e.parentNode,e)):a&&(Xe(),$e(a,1,1,()=>{a=null}),et())},i(n){r||(me(a),r=!0)},o(n){$e(a),r=!1},d(n){a&&a.d(n),n&&de(e)}}}function uo(t){let e,r,a,n=t[1]&&Js(t),s=t[1]&&Qs(t);return{c(){n&&n.c(),e=Ae(),s&&s.c(),r=Mt()},m(i,o){n&&n.m(i,o),he(i,e,o),s&&s.m(i,o),he(i,r,o),a=!0},p(i,[o]){i[1]?n?(n.p(i,o),o&2&&me(n,1)):(n=Js(i),n.c(),me(n,1),n.m(e.parentNode,e)):n&&(Xe(),$e(n,1,1,()=>{n=null}),et()),i[1]?s?(s.p(i,o),o&2&&me(s,1)):(s=Qs(i),s.c(),me(s,1),s.m(r.parentNode,r)):s&&(Xe(),$e(s,1,1,()=>{s=null}),et())},i(i){a||(me(n),me(s),a=!0)},o(i){$e(n),$e(s),a=!1},d(i){n&&n.d(i),i&&de(e),s&&s.d(i),i&&de(r)}}}function fo(t,e,r){let a;It(t,vr,c=>r(2,a=c));let{selectedDungeons:n=[]}=e,{active:s=!0}=e;const i=c=>{n.includes(c)?r(0,n=n.filter(m=>m!=c)):r(0,n=[...n,c])},o=()=>r(1,s=!1),l=c=>i(c.source);return t.$$set=c=>{"selectedDungeons"in c&&r(0,n=c.selectedDungeons),"active"in c&&r(1,s=c.active)},[n,s,a,i,o,l]}class ho extends kt{constructor(e){super(),wt(this,e,fo,uo,dt,{selectedDungeons:0,active:1})}}function ei(t,e,r){const a=t.slice();return a[12]=e[r][0],a[13]=e[r][1],a}function po(t){let e,r,a,n;return{c(){e=ce("img"),Ge(e.src,r=t[2])||F(e,"src",r),F(e,"alt","pack icon"),F(e,"id","pack_icon"),F(e,"class","noselect svelte-iv83eq")},m(s,i){he(s,e,i),a||(n=we(e,"keypress",null),a=!0)},p(s,i){i&4&&!Ge(e.src,r=s[2])&&F(e,"src",r)},d(s){s&&de(e),a=!1,n()}}}function mo(t){let e,r,a,n;return{c(){e=ce("img"),Ge(e.src,r=t[2])||F(e,"src",r),F(e,"alt","pack icon"),F(e,"id","pack_icon"),F(e,"class","noselect svelte-iv83eq")},m(s,i){he(s,e,i),a||(n=[Le(Pt.call(null,e)),Le(_r.call(null,e,{accept:"image/png",cb:t[5]})),Le(gr.call(null,e,{accept:"image/png",cb:t[5]})),we(e,"keypress",null)],a=!0)},p(s,i){i&4&&!Ge(e.src,r=s[2])&&F(e,"src",r)},d(s){s&&de(e),a=!1,Te(n)}}}function _o(t){let e;function r(s,i){return s[0]?mo:po}let a=r(t),n=a(t);return{c(){n.c(),e=Mt()},m(s,i){n.m(s,i),he(s,e,i)},p(s,i){a===(a=r(s))&&n?n.p(s,i):(n.d(1),n=a(s),n&&(n.c(),n.m(e.parentNode,e)))},d(s){n.d(s),s&&de(e)}}}function go(t){let e,r,a;return{c(){e=ce("input"),F(e,"type","text"),F(e,"name","pack_name"),F(e,"id","pack_name_input"),e.readOnly=!0,F(e,"class","svelte-iv83eq")},m(n,s){he(n,e,s),Ct(e,t[3]),r||(a=[we(e,"input",t[9]),we(e,"input",t[6])],r=!0)},p(n,s){s&8&&e.value!==n[3]&&Ct(e,n[3])},d(n){n&&de(e),r=!1,Te(a)}}}function vo(t){let e,r,a;return{c(){e=ce("input"),F(e,"type","text"),F(e,"name","pack_name"),F(e,"id","pack_name_input"),F(e,"class","svelte-iv83eq")},m(n,s){he(n,e,s),Ct(e,t[3]),r||(a=[we(e,"input",t[8]),we(e,"input",t[6])],r=!0)},p(n,s){s&8&&e.value!==n[3]&&Ct(e,n[3])},d(n){n&&de(e),r=!1,Te(a)}}}function yo(t){let e,r=t[13]+"",a;return{c(){e=ce("option"),a=Ye(r),e.__value=t[12],e.value=e.__value,e.disabled=!0},m(n,s){he(n,e,s),ue(e,a)},p:Se,d(n){n&&de(e)}}}function bo(t){let e,r=t[13]+"",a;return{c(){e=ce("option"),a=Ye(r),e.__value=t[12],e.value=e.__value},m(n,s){he(n,e,s),ue(e,a)},p:Se,d(n){n&&de(e)}}}function wo(t){let e,r=t[13]+"",a;return{c(){e=ce("option"),a=Ye(r),e.__value=t[12],e.value=e.__value},m(n,s){he(n,e,s),ue(e,a)},p:Se,d(n){n&&de(e)}}}function ti(t){let e;function r(s,i){return s[0]?wo:s[12]===s[4]?bo:yo}let a=r(t),n=a(t);return{c(){n.c(),e=Mt()},m(s,i){n.m(s,i),he(s,e,i)},p(s,i){a===(a=r(s))&&n?n.p(s,i):(n.d(1),n=a(s),n&&(n.c(),n.m(e.parentNode,e)))},d(s){n.d(s),s&&de(e)}}}function ko(t){let e;return{c(){e=ce("input"),F(e,"type","button"),F(e,"name","import"),F(e,"id","pack_import"),e.value="import",F(e,"class","svelte-iv83eq")},m(r,a){he(r,e,a)},p:Se,d(r){r&&de(e)}}}function $o(t){let e,r,a;return{c(){e=ce("input"),F(e,"type","button"),F(e,"name","import"),F(e,"id","pack_import"),e.value="import",F(e,"class","svelte-iv83eq")},m(n,s){he(n,e,s),r||(a=we(e,"click",t[11]),r=!0)},p:Se,d(n){n&&de(e),r=!1,a()}}}function Ao(t){let e;function r(s,i){return s[0]?$o:ko}let a=r(t),n=a(t);return{c(){n.c(),e=Mt()},m(s,i){n.m(s,i),he(s,e,i)},p(s,i){a===(a=r(s))&&n?n.p(s,i):(n.d(1),n=a(s),n&&(n.c(),n.m(e.parentNode,e)))},d(s){n.d(s),s&&de(e)}}}function Eo(t){let e,r,a,n,s,i,o,l,c,m,d,y,u,_;function f(A){t[7](A)}let v={};t[1]!==void 0&&(v.active=t[1]),e=new Pu({props:v}),vt.push(()=>jt(e,"active",f)),s=new gt({props:{text:"Sets the resourcepack icon",$$slots:{default:[_o]},$$scope:{ctx:t}}});function h(A,C){return A[0]?vo:go}let g=h(t),b=g(t),k=[...Ws],E=[];for(let A=0;A<k.length;A+=1)E[A]=ti(ei(t,k,A));return d=new gt({props:{text:"Import an existing resourcepack",right:!1,$$slots:{default:[Ao]},$$scope:{ctx:t}}}),{c(){Ze(e.$$.fragment),a=Ae(),n=ce("div"),Ze(s.$$.fragment),i=Ae(),b.c(),o=Ae(),l=ce("select");for(let A=0;A<E.length;A+=1)E[A].c();c=Ae(),m=ce("div"),Ze(d.$$.fragment),F(l,"name","version"),F(l,"id","version_input"),F(l,"class","svelte-iv83eq"),t[4]===void 0&&ot(()=>t[10].call(l)),F(m,"id","import_container"),F(m,"class","svelte-iv83eq"),F(n,"id","header"),F(n,"class","svelte-iv83eq")},m(A,C){Ve(e,A,C),he(A,a,C),he(A,n,C),Ve(s,n,null),ue(n,i),b.m(n,null),ue(n,o),ue(n,l);for(let D=0;D<E.length;D+=1)E[D]&&E[D].m(l,null);Us(l,t[4],!0),ue(n,c),ue(n,m),Ve(d,m,null),y=!0,u||(_=we(l,"change",t[10]),u=!0)},p(A,[C]){const D={};!r&&C&2&&(r=!0,D.active=A[1],Dt(()=>r=!1)),e.$set(D);const z={};if(C&65541&&(z.$$scope={dirty:C,ctx:A}),s.$set(z),g===(g=h(A))&&b?b.p(A,C):(b.d(1),b=g(A),b&&(b.c(),b.m(n,o))),C&17){k=[...Ws];let ne;for(ne=0;ne<k.length;ne+=1){const N=ei(A,k,ne);E[ne]?E[ne].p(N,C):(E[ne]=ti(N),E[ne].c(),E[ne].m(l,null))}for(;ne<E.length;ne+=1)E[ne].d(1);E.length=k.length}C&16&&Us(l,A[4]);const K={};C&65539&&(K.$$scope={dirty:C,ctx:A}),d.$set(K)},i(A){y||(me(e.$$.fragment,A),me(s.$$.fragment,A),me(d.$$.fragment,A),y=!0)},o(A){$e(e.$$.fragment,A),$e(s.$$.fragment,A),$e(d.$$.fragment,A),y=!1},d(A){xe(e,A),A&&de(a),A&&de(n),xe(s),b.d(),Lr(E,A),xe(d),u=!1,_()}}}function So(t,e,r){let a,n,s;It(t,Mn,f=>r(2,a=f)),It(t,Pr,f=>r(3,n=f)),It(t,vr,f=>r(4,s=f));let i=!1,{canEdit:o=!0}=e;const l=f=>{if(!f||f.length===0)return;const v=f[0],h=new FileReader;h.onload=()=>{const g=new Image;g.onload=()=>{const b=document.createElement("canvas");b.width=64,b.height=64,b.getContext("2d").drawImage(g,0,0,64,64),Mn.set(b.toDataURL("image/png"))},g.src=h.result},h.readAsDataURL(v)},c=()=>{Pr.update(f=>f.replace(" ","_").replace(/[^a-zA-Z0-9_]/g,"").toLowerCase())};function m(f){i=f,r(1,i)}function d(){n=this.value,Pr.set(n)}function y(){n=this.value,Pr.set(n)}function u(){s=Ta(this),vr.set(s)}const _=()=>r(1,i=!0);return t.$$set=f=>{"canEdit"in f&&r(0,o=f.canEdit)},[o,i,a,n,s,l,c,m,d,y,u,_]}class Co extends kt{constructor(e){super(),wt(this,e,So,Eo,dt,{canEdit:0})}}var Or=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Io(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Yr(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Un={},Po={get exports(){return Un},set exports(t){Un=t}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(t,e){(function(r){t.exports=r()})(function(){return function r(a,n,s){function i(c,m){if(!n[c]){if(!a[c]){var d=typeof Yr=="function"&&Yr;if(!m&&d)return d(c,!0);if(o)return o(c,!0);var y=new Error("Cannot find module '"+c+"'");throw y.code="MODULE_NOT_FOUND",y}var u=n[c]={exports:{}};a[c][0].call(u.exports,function(_){var f=a[c][1][_];return i(f||_)},u,u.exports,r,a,n,s)}return n[c].exports}for(var o=typeof Yr=="function"&&Yr,l=0;l<s.length;l++)i(s[l]);return i}({1:[function(r,a,n){var s=r("./utils"),i=r("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(l){for(var c,m,d,y,u,_,f,v=[],h=0,g=l.length,b=g,k=s.getTypeOf(l)!=="string";h<l.length;)b=g-h,d=k?(c=l[h++],m=h<g?l[h++]:0,h<g?l[h++]:0):(c=l.charCodeAt(h++),m=h<g?l.charCodeAt(h++):0,h<g?l.charCodeAt(h++):0),y=c>>2,u=(3&c)<<4|m>>4,_=1<b?(15&m)<<2|d>>6:64,f=2<b?63&d:64,v.push(o.charAt(y)+o.charAt(u)+o.charAt(_)+o.charAt(f));return v.join("")},n.decode=function(l){var c,m,d,y,u,_,f=0,v=0,h="data:";if(l.substr(0,h.length)===h)throw new Error("Invalid base64 input, it looks like a data url.");var g,b=3*(l=l.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(l.charAt(l.length-1)===o.charAt(64)&&b--,l.charAt(l.length-2)===o.charAt(64)&&b--,b%1!=0)throw new Error("Invalid base64 input, bad content length.");for(g=i.uint8array?new Uint8Array(0|b):new Array(0|b);f<l.length;)c=o.indexOf(l.charAt(f++))<<2|(y=o.indexOf(l.charAt(f++)))>>4,m=(15&y)<<4|(u=o.indexOf(l.charAt(f++)))>>2,d=(3&u)<<6|(_=o.indexOf(l.charAt(f++))),g[v++]=c,u!==64&&(g[v++]=m),_!==64&&(g[v++]=d);return g}},{"./support":30,"./utils":32}],2:[function(r,a,n){var s=r("./external"),i=r("./stream/DataWorker"),o=r("./stream/Crc32Probe"),l=r("./stream/DataLengthProbe");function c(m,d,y,u,_){this.compressedSize=m,this.uncompressedSize=d,this.crc32=y,this.compression=u,this.compressedContent=_}c.prototype={getContentWorker:function(){var m=new i(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new l("data_length")),d=this;return m.on("end",function(){if(this.streamInfo.data_length!==d.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new i(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(m,d,y){return m.pipe(new o).pipe(new l("uncompressedSize")).pipe(d.compressWorker(y)).pipe(new l("compressedSize")).withStreamInfo("compression",d)},a.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,a,n){var s=r("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},n.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,a,n){var s=r("./utils"),i=function(){for(var o,l=[],c=0;c<256;c++){o=c;for(var m=0;m<8;m++)o=1&o?3988292384^o>>>1:o>>>1;l[c]=o}return l}();a.exports=function(o,l){return o!==void 0&&o.length?s.getTypeOf(o)!=="string"?function(c,m,d,y){var u=i,_=y+d;c^=-1;for(var f=y;f<_;f++)c=c>>>8^u[255&(c^m[f])];return-1^c}(0|l,o,o.length,0):function(c,m,d,y){var u=i,_=y+d;c^=-1;for(var f=y;f<_;f++)c=c>>>8^u[255&(c^m.charCodeAt(f))];return-1^c}(0|l,o,o.length,0):0}},{"./utils":32}],5:[function(r,a,n){n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(r,a,n){var s=null;s=typeof Promise<"u"?Promise:r("lie"),a.exports={Promise:s}},{lie:37}],7:[function(r,a,n){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",i=r("pako"),o=r("./utils"),l=r("./stream/GenericWorker"),c=s?"uint8array":"array";function m(d,y){l.call(this,"FlateWorker/"+d),this._pako=null,this._pakoAction=d,this._pakoOptions=y,this.meta={}}n.magic="\b\0",o.inherits(m,l),m.prototype.processChunk=function(d){this.meta=d.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(c,d.data),!1)},m.prototype.flush=function(){l.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){l.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var d=this;this._pako.onData=function(y){d.push({data:y,meta:d.meta})}},n.compressWorker=function(d){return new m("Deflate",d)},n.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,a,n){function s(u,_){var f,v="";for(f=0;f<_;f++)v+=String.fromCharCode(255&u),u>>>=8;return v}function i(u,_,f,v,h,g){var b,k,E=u.file,A=u.compression,C=g!==c.utf8encode,D=o.transformTo("string",g(E.name)),z=o.transformTo("string",c.utf8encode(E.name)),K=E.comment,ne=o.transformTo("string",g(K)),N=o.transformTo("string",c.utf8encode(K)),Z=z.length!==E.name.length,w=N.length!==K.length,X="",ge="",se="",_e=E.dir,J=E.date,W={crc32:0,compressedSize:0,uncompressedSize:0};_&&!f||(W.crc32=u.crc32,W.compressedSize=u.compressedSize,W.uncompressedSize=u.uncompressedSize);var S=0;_&&(S|=8),C||!Z&&!w||(S|=2048);var T=0,B=0;_e&&(T|=16),h==="UNIX"?(B=798,T|=function(I,G){var oe=I;return I||(oe=G?16893:33204),(65535&oe)<<16}(E.unixPermissions,_e)):(B=20,T|=function(I){return 63&(I||0)}(E.dosPermissions)),b=J.getUTCHours(),b<<=6,b|=J.getUTCMinutes(),b<<=5,b|=J.getUTCSeconds()/2,k=J.getUTCFullYear()-1980,k<<=4,k|=J.getUTCMonth()+1,k<<=5,k|=J.getUTCDate(),Z&&(ge=s(1,1)+s(m(D),4)+z,X+="up"+s(ge.length,2)+ge),w&&(se=s(1,1)+s(m(ne),4)+N,X+="uc"+s(se.length,2)+se);var $="";return $+=`
\0`,$+=s(S,2),$+=A.magic,$+=s(b,2),$+=s(k,2),$+=s(W.crc32,4),$+=s(W.compressedSize,4),$+=s(W.uncompressedSize,4),$+=s(D.length,2),$+=s(X.length,2),{fileRecord:d.LOCAL_FILE_HEADER+$+D+X,dirRecord:d.CENTRAL_FILE_HEADER+s(B,2)+$+s(ne.length,2)+"\0\0\0\0"+s(T,4)+s(v,4)+D+X+ne}}var o=r("../utils"),l=r("../stream/GenericWorker"),c=r("../utf8"),m=r("../crc32"),d=r("../signature");function y(u,_,f,v){l.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=_,this.zipPlatform=f,this.encodeFileName=v,this.streamFiles=u,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(y,l),y.prototype.push=function(u){var _=u.meta.percent||0,f=this.entriesCount,v=this._sources.length;this.accumulate?this.contentBuffer.push(u):(this.bytesWritten+=u.data.length,l.prototype.push.call(this,{data:u.data,meta:{currentFile:this.currentFile,percent:f?(_+100*(f-v-1))/f:100}}))},y.prototype.openedSource=function(u){this.currentSourceOffset=this.bytesWritten,this.currentFile=u.file.name;var _=this.streamFiles&&!u.file.dir;if(_){var f=i(u,_,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:f.fileRecord,meta:{percent:0}})}else this.accumulate=!0},y.prototype.closedSource=function(u){this.accumulate=!1;var _=this.streamFiles&&!u.file.dir,f=i(u,_,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(f.dirRecord),_)this.push({data:function(v){return d.DATA_DESCRIPTOR+s(v.crc32,4)+s(v.compressedSize,4)+s(v.uncompressedSize,4)}(u),meta:{percent:100}});else for(this.push({data:f.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},y.prototype.flush=function(){for(var u=this.bytesWritten,_=0;_<this.dirRecords.length;_++)this.push({data:this.dirRecords[_],meta:{percent:100}});var f=this.bytesWritten-u,v=function(h,g,b,k,E){var A=o.transformTo("string",E(k));return d.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(h,2)+s(h,2)+s(g,4)+s(b,4)+s(A.length,2)+A}(this.dirRecords.length,f,u,this.zipComment,this.encodeFileName);this.push({data:v,meta:{percent:100}})},y.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},y.prototype.registerPrevious=function(u){this._sources.push(u);var _=this;return u.on("data",function(f){_.processChunk(f)}),u.on("end",function(){_.closedSource(_.previous.streamInfo),_._sources.length?_.prepareNextSource():_.end()}),u.on("error",function(f){_.error(f)}),this},y.prototype.resume=function(){return!!l.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},y.prototype.error=function(u){var _=this._sources;if(!l.prototype.error.call(this,u))return!1;for(var f=0;f<_.length;f++)try{_[f].error(u)}catch{}return!0},y.prototype.lock=function(){l.prototype.lock.call(this);for(var u=this._sources,_=0;_<u.length;_++)u[_].lock()},a.exports=y},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,a,n){var s=r("../compressions"),i=r("./ZipFileWorker");n.generateWorker=function(o,l,c){var m=new i(l.streamFiles,c,l.platform,l.encodeFileName),d=0;try{o.forEach(function(y,u){d++;var _=function(g,b){var k=g||b,E=s[k];if(!E)throw new Error(k+" is not a valid compression method !");return E}(u.options.compression,l.compression),f=u.options.compressionOptions||l.compressionOptions||{},v=u.dir,h=u.date;u._compressWorker(_,f).withStreamInfo("file",{name:y,dir:v,date:h,comment:u.comment||"",unixPermissions:u.unixPermissions,dosPermissions:u.dosPermissions}).pipe(m)}),m.entriesCount=d}catch(y){m.error(y)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,a,n){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var i=new s;for(var o in this)typeof this[o]!="function"&&(i[o]=this[o]);return i}}(s.prototype=r("./object")).loadAsync=r("./load"),s.support=r("./support"),s.defaults=r("./defaults"),s.version="3.10.1",s.loadAsync=function(i,o){return new s().loadAsync(i,o)},s.external=r("./external"),a.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,a,n){var s=r("./utils"),i=r("./external"),o=r("./utf8"),l=r("./zipEntries"),c=r("./stream/Crc32Probe"),m=r("./nodejsUtils");function d(y){return new i.Promise(function(u,_){var f=y.decompressed.getContentWorker().pipe(new c);f.on("error",function(v){_(v)}).on("end",function(){f.streamInfo.crc32!==y.decompressed.crc32?_(new Error("Corrupted zip : CRC32 mismatch")):u()}).resume()})}a.exports=function(y,u){var _=this;return u=s.extend(u||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),m.isNode&&m.isStream(y)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",y,!0,u.optimizedBinaryString,u.base64).then(function(f){var v=new l(u);return v.load(f),v}).then(function(f){var v=[i.Promise.resolve(f)],h=f.files;if(u.checkCRC32)for(var g=0;g<h.length;g++)v.push(d(h[g]));return i.Promise.all(v)}).then(function(f){for(var v=f.shift(),h=v.files,g=0;g<h.length;g++){var b=h[g],k=b.fileNameStr,E=s.resolve(b.fileNameStr);_.file(E,b.decompressed,{binary:!0,optimizedBinaryString:!0,date:b.date,dir:b.dir,comment:b.fileCommentStr.length?b.fileCommentStr:null,unixPermissions:b.unixPermissions,dosPermissions:b.dosPermissions,createFolders:u.createFolders}),b.dir||(_.file(E).unsafeOriginalName=k)}return v.zipComment.length&&(_.comment=v.zipComment),_})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,a,n){var s=r("../utils"),i=r("../stream/GenericWorker");function o(l,c){i.call(this,"Nodejs stream input adapter for "+l),this._upstreamEnded=!1,this._bindStream(c)}s.inherits(o,i),o.prototype._bindStream=function(l){var c=this;(this._stream=l).pause(),l.on("data",function(m){c.push({data:m,meta:{percent:0}})}).on("error",function(m){c.isPaused?this.generatedError=m:c.error(m)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},o.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},a.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,a,n){var s=r("readable-stream").Readable;function i(o,l,c){s.call(this,l),this._helper=o;var m=this;o.on("data",function(d,y){m.push(d)||m._helper.pause(),c&&c(y)}).on("error",function(d){m.emit("error",d)}).on("end",function(){m.push(null)})}r("../utils").inherits(i,s),i.prototype._read=function(){this._helper.resume()},a.exports=i},{"../utils":32,"readable-stream":16}],14:[function(r,a,n){a.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,i){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,i);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,i)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var i=new Buffer(s);return i.fill(0),i},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(r,a,n){function s(E,A,C){var D,z=o.getTypeOf(A),K=o.extend(C||{},m);K.date=K.date||new Date,K.compression!==null&&(K.compression=K.compression.toUpperCase()),typeof K.unixPermissions=="string"&&(K.unixPermissions=parseInt(K.unixPermissions,8)),K.unixPermissions&&16384&K.unixPermissions&&(K.dir=!0),K.dosPermissions&&16&K.dosPermissions&&(K.dir=!0),K.dir&&(E=h(E)),K.createFolders&&(D=v(E))&&g.call(this,D,!0);var ne=z==="string"&&K.binary===!1&&K.base64===!1;C&&C.binary!==void 0||(K.binary=!ne),(A instanceof d&&A.uncompressedSize===0||K.dir||!A||A.length===0)&&(K.base64=!1,K.binary=!0,A="",K.compression="STORE",z="string");var N=null;N=A instanceof d||A instanceof l?A:_.isNode&&_.isStream(A)?new f(E,A):o.prepareContent(E,A,K.binary,K.optimizedBinaryString,K.base64);var Z=new y(E,N,K);this.files[E]=Z}var i=r("./utf8"),o=r("./utils"),l=r("./stream/GenericWorker"),c=r("./stream/StreamHelper"),m=r("./defaults"),d=r("./compressedObject"),y=r("./zipObject"),u=r("./generate"),_=r("./nodejsUtils"),f=r("./nodejs/NodejsStreamInputAdapter"),v=function(E){E.slice(-1)==="/"&&(E=E.substring(0,E.length-1));var A=E.lastIndexOf("/");return 0<A?E.substring(0,A):""},h=function(E){return E.slice(-1)!=="/"&&(E+="/"),E},g=function(E,A){return A=A!==void 0?A:m.createFolders,E=h(E),this.files[E]||s.call(this,E,null,{dir:!0,createFolders:A}),this.files[E]};function b(E){return Object.prototype.toString.call(E)==="[object RegExp]"}var k={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(E){var A,C,D;for(A in this.files)D=this.files[A],(C=A.slice(this.root.length,A.length))&&A.slice(0,this.root.length)===this.root&&E(C,D)},filter:function(E){var A=[];return this.forEach(function(C,D){E(C,D)&&A.push(D)}),A},file:function(E,A,C){if(arguments.length!==1)return E=this.root+E,s.call(this,E,A,C),this;if(b(E)){var D=E;return this.filter(function(K,ne){return!ne.dir&&D.test(K)})}var z=this.files[this.root+E];return z&&!z.dir?z:null},folder:function(E){if(!E)return this;if(b(E))return this.filter(function(z,K){return K.dir&&E.test(z)});var A=this.root+E,C=g.call(this,A),D=this.clone();return D.root=C.name,D},remove:function(E){E=this.root+E;var A=this.files[E];if(A||(E.slice(-1)!=="/"&&(E+="/"),A=this.files[E]),A&&!A.dir)delete this.files[E];else for(var C=this.filter(function(z,K){return K.name.slice(0,E.length)===E}),D=0;D<C.length;D++)delete this.files[C[D].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(E){var A,C={};try{if((C=o.extend(E||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=C.type.toLowerCase(),C.compression=C.compression.toUpperCase(),C.type==="binarystring"&&(C.type="string"),!C.type)throw new Error("No output type specified.");o.checkSupport(C.type),C.platform!=="darwin"&&C.platform!=="freebsd"&&C.platform!=="linux"&&C.platform!=="sunos"||(C.platform="UNIX"),C.platform==="win32"&&(C.platform="DOS");var D=C.comment||this.comment||"";A=u.generateWorker(this,C,D)}catch(z){(A=new l("error")).error(z)}return new c(A,C.type||"string",C.mimeType)},generateAsync:function(E,A){return this.generateInternalStream(E).accumulate(A)},generateNodeStream:function(E,A){return(E=E||{}).type||(E.type="nodebuffer"),this.generateInternalStream(E).toNodejsStream(A)}};a.exports=k},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,a,n){a.exports=r("stream")},{stream:void 0}],17:[function(r,a,n){var s=r("./DataReader");function i(o){s.call(this,o);for(var l=0;l<this.data.length;l++)o[l]=255&o[l]}r("../utils").inherits(i,s),i.prototype.byteAt=function(o){return this.data[this.zero+o]},i.prototype.lastIndexOfSignature=function(o){for(var l=o.charCodeAt(0),c=o.charCodeAt(1),m=o.charCodeAt(2),d=o.charCodeAt(3),y=this.length-4;0<=y;--y)if(this.data[y]===l&&this.data[y+1]===c&&this.data[y+2]===m&&this.data[y+3]===d)return y-this.zero;return-1},i.prototype.readAndCheckSignature=function(o){var l=o.charCodeAt(0),c=o.charCodeAt(1),m=o.charCodeAt(2),d=o.charCodeAt(3),y=this.readData(4);return l===y[0]&&c===y[1]&&m===y[2]&&d===y[3]},i.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},a.exports=i},{"../utils":32,"./DataReader":18}],18:[function(r,a,n){var s=r("../utils");function i(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var l,c=0;for(this.checkOffset(o),l=this.index+o-1;l>=this.index;l--)c=(c<<8)+this.byteAt(l);return this.index+=o,c},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},a.exports=i},{"../utils":32}],19:[function(r,a,n){var s=r("./Uint8ArrayReader");function i(o){s.call(this,o)}r("../utils").inherits(i,s),i.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},a.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,a,n){var s=r("./DataReader");function i(o){s.call(this,o)}r("../utils").inherits(i,s),i.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},i.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},i.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},i.prototype.readData=function(o){this.checkOffset(o);var l=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},a.exports=i},{"../utils":32,"./DataReader":18}],21:[function(r,a,n){var s=r("./ArrayReader");function i(o){s.call(this,o)}r("../utils").inherits(i,s),i.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var l=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,l},a.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(r,a,n){var s=r("../utils"),i=r("../support"),o=r("./ArrayReader"),l=r("./StringReader"),c=r("./NodeBufferReader"),m=r("./Uint8ArrayReader");a.exports=function(d){var y=s.getTypeOf(d);return s.checkSupport(y),y!=="string"||i.uint8array?y==="nodebuffer"?new c(d):i.uint8array?new m(s.transformTo("uint8array",d)):new o(s.transformTo("array",d)):new l(d)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,a,n){n.LOCAL_FILE_HEADER="PK",n.CENTRAL_FILE_HEADER="PK",n.CENTRAL_DIRECTORY_END="PK",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,a,n){var s=r("./GenericWorker"),i=r("../utils");function o(l){s.call(this,"ConvertWorker to "+l),this.destType=l}i.inherits(o,s),o.prototype.processChunk=function(l){this.push({data:i.transformTo(this.destType,l.data),meta:l.meta})},a.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(r,a,n){var s=r("./GenericWorker"),i=r("../crc32");function o(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(o,s),o.prototype.processChunk=function(l){this.streamInfo.crc32=i(l.data,this.streamInfo.crc32||0),this.push(l)},a.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,a,n){var s=r("../utils"),i=r("./GenericWorker");function o(l){i.call(this,"DataLengthProbe for "+l),this.propName=l,this.withStreamInfo(l,0)}s.inherits(o,i),o.prototype.processChunk=function(l){if(l){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+l.data.length}i.prototype.processChunk.call(this,l)},a.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(r,a,n){var s=r("../utils"),i=r("./GenericWorker");function o(l){i.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,l.then(function(m){c.dataIsReady=!0,c.data=m,c.max=m&&m.length||0,c.type=s.getTypeOf(m),c.isPaused||c._tickAndRepeat()},function(m){c.error(m)})}s.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var l=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":l=this.data.substring(this.index,c);break;case"uint8array":l=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":l=this.data.slice(this.index,c)}return this.index=c,this.push({data:l,meta:{percent:this.max?this.index/this.max*100:0}})},a.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(r,a,n){function s(i){this.name=i||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(i){this.emit("data",i)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(i){this.emit("error",i)}return!0},error:function(i){return!this.isFinished&&(this.isPaused?this.generatedError=i:(this.isFinished=!0,this.emit("error",i),this.previous&&this.previous.error(i),this.cleanUp()),!0)},on:function(i,o){return this._listeners[i].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(i,o){if(this._listeners[i])for(var l=0;l<this._listeners[i].length;l++)this._listeners[i][l].call(this,o)},pipe:function(i){return i.registerPrevious(this)},registerPrevious:function(i){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=i.streamInfo,this.mergeStreamInfo(),this.previous=i;var o=this;return i.on("data",function(l){o.processChunk(l)}),i.on("end",function(){o.end()}),i.on("error",function(l){o.error(l)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var i=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),i=!0),this.previous&&this.previous.resume(),!i},flush:function(){},processChunk:function(i){this.push(i)},withStreamInfo:function(i,o){return this.extraStreamInfo[i]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var i in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,i)&&(this.streamInfo[i]=this.extraStreamInfo[i])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var i="Worker "+this.name;return this.previous?this.previous+" -> "+i:i}},a.exports=s},{}],29:[function(r,a,n){var s=r("../utils"),i=r("./ConvertWorker"),o=r("./GenericWorker"),l=r("../base64"),c=r("../support"),m=r("../external"),d=null;if(c.nodestream)try{d=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function y(_,f){return new m.Promise(function(v,h){var g=[],b=_._internalType,k=_._outputType,E=_._mimeType;_.on("data",function(A,C){g.push(A),f&&f(C)}).on("error",function(A){g=[],h(A)}).on("end",function(){try{var A=function(C,D,z){switch(C){case"blob":return s.newBlob(s.transformTo("arraybuffer",D),z);case"base64":return l.encode(D);default:return s.transformTo(C,D)}}(k,function(C,D){var z,K=0,ne=null,N=0;for(z=0;z<D.length;z++)N+=D[z].length;switch(C){case"string":return D.join("");case"array":return Array.prototype.concat.apply([],D);case"uint8array":for(ne=new Uint8Array(N),z=0;z<D.length;z++)ne.set(D[z],K),K+=D[z].length;return ne;case"nodebuffer":return Buffer.concat(D);default:throw new Error("concat : unsupported type '"+C+"'")}}(b,g),E);v(A)}catch(C){h(C)}g=[]}).resume()})}function u(_,f,v){var h=f;switch(f){case"blob":case"arraybuffer":h="uint8array";break;case"base64":h="string"}try{this._internalType=h,this._outputType=f,this._mimeType=v,s.checkSupport(h),this._worker=_.pipe(new i(h)),_.lock()}catch(g){this._worker=new o("error"),this._worker.error(g)}}u.prototype={accumulate:function(_){return y(this,_)},on:function(_,f){var v=this;return _==="data"?this._worker.on(_,function(h){f.call(v,h.data,h.meta)}):this._worker.on(_,function(){s.delay(f,arguments,v)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(_){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new d(this,{objectMode:this._outputType!=="nodebuffer"},_)}},a.exports=u},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,a,n){if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",n.nodebuffer=typeof Buffer<"u",n.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")n.blob=!1;else{var s=new ArrayBuffer(0);try{n.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(s),n.blob=i.getBlob("application/zip").size===0}catch{n.blob=!1}}}try{n.nodestream=!!r("readable-stream").Readable}catch{n.nodestream=!1}},{"readable-stream":16}],31:[function(r,a,n){for(var s=r("./utils"),i=r("./support"),o=r("./nodejsUtils"),l=r("./stream/GenericWorker"),c=new Array(256),m=0;m<256;m++)c[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;c[254]=c[254]=1;function d(){l.call(this,"utf-8 decode"),this.leftOver=null}function y(){l.call(this,"utf-8 encode")}n.utf8encode=function(u){return i.nodebuffer?o.newBufferFrom(u,"utf-8"):function(_){var f,v,h,g,b,k=_.length,E=0;for(g=0;g<k;g++)(64512&(v=_.charCodeAt(g)))==55296&&g+1<k&&(64512&(h=_.charCodeAt(g+1)))==56320&&(v=65536+(v-55296<<10)+(h-56320),g++),E+=v<128?1:v<2048?2:v<65536?3:4;for(f=i.uint8array?new Uint8Array(E):new Array(E),g=b=0;b<E;g++)(64512&(v=_.charCodeAt(g)))==55296&&g+1<k&&(64512&(h=_.charCodeAt(g+1)))==56320&&(v=65536+(v-55296<<10)+(h-56320),g++),v<128?f[b++]=v:(v<2048?f[b++]=192|v>>>6:(v<65536?f[b++]=224|v>>>12:(f[b++]=240|v>>>18,f[b++]=128|v>>>12&63),f[b++]=128|v>>>6&63),f[b++]=128|63&v);return f}(u)},n.utf8decode=function(u){return i.nodebuffer?s.transformTo("nodebuffer",u).toString("utf-8"):function(_){var f,v,h,g,b=_.length,k=new Array(2*b);for(f=v=0;f<b;)if((h=_[f++])<128)k[v++]=h;else if(4<(g=c[h]))k[v++]=65533,f+=g-1;else{for(h&=g===2?31:g===3?15:7;1<g&&f<b;)h=h<<6|63&_[f++],g--;1<g?k[v++]=65533:h<65536?k[v++]=h:(h-=65536,k[v++]=55296|h>>10&1023,k[v++]=56320|1023&h)}return k.length!==v&&(k.subarray?k=k.subarray(0,v):k.length=v),s.applyFromCharCode(k)}(u=s.transformTo(i.uint8array?"uint8array":"array",u))},s.inherits(d,l),d.prototype.processChunk=function(u){var _=s.transformTo(i.uint8array?"uint8array":"array",u.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var f=_;(_=new Uint8Array(f.length+this.leftOver.length)).set(this.leftOver,0),_.set(f,this.leftOver.length)}else _=this.leftOver.concat(_);this.leftOver=null}var v=function(g,b){var k;for((b=b||g.length)>g.length&&(b=g.length),k=b-1;0<=k&&(192&g[k])==128;)k--;return k<0||k===0?b:k+c[g[k]]>b?k:b}(_),h=_;v!==_.length&&(i.uint8array?(h=_.subarray(0,v),this.leftOver=_.subarray(v,_.length)):(h=_.slice(0,v),this.leftOver=_.slice(v,_.length))),this.push({data:n.utf8decode(h),meta:u.meta})},d.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=d,s.inherits(y,l),y.prototype.processChunk=function(u){this.push({data:n.utf8encode(u.data),meta:u.meta})},n.Utf8EncodeWorker=y},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,a,n){var s=r("./support"),i=r("./base64"),o=r("./nodejsUtils"),l=r("./external");function c(f){return f}function m(f,v){for(var h=0;h<f.length;++h)v[h]=255&f.charCodeAt(h);return v}r("setimmediate"),n.newBlob=function(f,v){n.checkSupport("blob");try{return new Blob([f],{type:v})}catch{try{var h=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return h.append(f),h.getBlob(v)}catch{throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(f,v,h){var g=[],b=0,k=f.length;if(k<=h)return String.fromCharCode.apply(null,f);for(;b<k;)v==="array"||v==="nodebuffer"?g.push(String.fromCharCode.apply(null,f.slice(b,Math.min(b+h,k)))):g.push(String.fromCharCode.apply(null,f.subarray(b,Math.min(b+h,k)))),b+=h;return g.join("")},stringifyByChar:function(f){for(var v="",h=0;h<f.length;h++)v+=String.fromCharCode(f[h]);return v},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function y(f){var v=65536,h=n.getTypeOf(f),g=!0;if(h==="uint8array"?g=d.applyCanBeUsed.uint8array:h==="nodebuffer"&&(g=d.applyCanBeUsed.nodebuffer),g)for(;1<v;)try{return d.stringifyByChunk(f,h,v)}catch{v=Math.floor(v/2)}return d.stringifyByChar(f)}function u(f,v){for(var h=0;h<f.length;h++)v[h]=f[h];return v}n.applyFromCharCode=y;var _={};_.string={string:c,array:function(f){return m(f,new Array(f.length))},arraybuffer:function(f){return _.string.uint8array(f).buffer},uint8array:function(f){return m(f,new Uint8Array(f.length))},nodebuffer:function(f){return m(f,o.allocBuffer(f.length))}},_.array={string:y,array:c,arraybuffer:function(f){return new Uint8Array(f).buffer},uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return o.newBufferFrom(f)}},_.arraybuffer={string:function(f){return y(new Uint8Array(f))},array:function(f){return u(new Uint8Array(f),new Array(f.byteLength))},arraybuffer:c,uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return o.newBufferFrom(new Uint8Array(f))}},_.uint8array={string:y,array:function(f){return u(f,new Array(f.length))},arraybuffer:function(f){return f.buffer},uint8array:c,nodebuffer:function(f){return o.newBufferFrom(f)}},_.nodebuffer={string:y,array:function(f){return u(f,new Array(f.length))},arraybuffer:function(f){return _.nodebuffer.uint8array(f).buffer},uint8array:function(f){return u(f,new Uint8Array(f.length))},nodebuffer:c},n.transformTo=function(f,v){if(v=v||"",!f)return v;n.checkSupport(f);var h=n.getTypeOf(v);return _[h][f](v)},n.resolve=function(f){for(var v=f.split("/"),h=[],g=0;g<v.length;g++){var b=v[g];b==="."||b===""&&g!==0&&g!==v.length-1||(b===".."?h.pop():h.push(b))}return h.join("/")},n.getTypeOf=function(f){return typeof f=="string"?"string":Object.prototype.toString.call(f)==="[object Array]"?"array":s.nodebuffer&&o.isBuffer(f)?"nodebuffer":s.uint8array&&f instanceof Uint8Array?"uint8array":s.arraybuffer&&f instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(f){if(!s[f.toLowerCase()])throw new Error(f+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(f){var v,h,g="";for(h=0;h<(f||"").length;h++)g+="\\x"+((v=f.charCodeAt(h))<16?"0":"")+v.toString(16).toUpperCase();return g},n.delay=function(f,v,h){setImmediate(function(){f.apply(h||null,v||[])})},n.inherits=function(f,v){function h(){}h.prototype=v.prototype,f.prototype=new h},n.extend=function(){var f,v,h={};for(f=0;f<arguments.length;f++)for(v in arguments[f])Object.prototype.hasOwnProperty.call(arguments[f],v)&&h[v]===void 0&&(h[v]=arguments[f][v]);return h},n.prepareContent=function(f,v,h,g,b){return l.Promise.resolve(v).then(function(k){return s.blob&&(k instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(k))!==-1)&&typeof FileReader<"u"?new l.Promise(function(E,A){var C=new FileReader;C.onload=function(D){E(D.target.result)},C.onerror=function(D){A(D.target.error)},C.readAsArrayBuffer(k)}):k}).then(function(k){var E=n.getTypeOf(k);return E?(E==="arraybuffer"?k=n.transformTo("uint8array",k):E==="string"&&(b?k=i.decode(k):h&&g!==!0&&(k=function(A){return m(A,s.uint8array?new Uint8Array(A.length):new Array(A.length))}(k))),k):l.Promise.reject(new Error("Can't read the data of '"+f+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,a,n){var s=r("./reader/readerFor"),i=r("./utils"),o=r("./signature"),l=r("./zipEntry"),c=r("./support");function m(d){this.files=[],this.loadOptions=d}m.prototype={checkSignature:function(d){if(!this.reader.readAndCheckSignature(d)){this.reader.index-=4;var y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(y)+", expected "+i.pretty(d)+")")}},isSignature:function(d,y){var u=this.reader.index;this.reader.setIndex(d);var _=this.reader.readString(4)===y;return this.reader.setIndex(u),_},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var d=this.reader.readData(this.zipCommentLength),y=c.uint8array?"uint8array":"array",u=i.transformTo(y,d);this.zipComment=this.loadOptions.decodeFileName(u)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var d,y,u,_=this.zip64EndOfCentralSize-44;0<_;)d=this.reader.readInt(2),y=this.reader.readInt(4),u=this.reader.readData(y),this.zip64ExtensibleData[d]={id:d,length:y,value:u}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var d,y;for(d=0;d<this.files.length;d++)y=this.files[d],this.reader.setIndex(y.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),y.readLocalPart(this.reader),y.handleUTF8(),y.processAttributes()},readCentralDir:function(){var d;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(d=new l({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(d);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var d=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(d<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(d);var y=d;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(d=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(d),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var u=this.centralDirOffset+this.centralDirSize;this.zip64&&(u+=20,u+=12+this.zip64EndOfCentralSize);var _=y-u;if(0<_)this.isSignature(y,o.CENTRAL_FILE_HEADER)||(this.reader.zero=_);else if(_<0)throw new Error("Corrupted zip: missing "+Math.abs(_)+" bytes.")},prepareReader:function(d){this.reader=s(d)},load:function(d){this.prepareReader(d),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},a.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,a,n){var s=r("./reader/readerFor"),i=r("./utils"),o=r("./compressedObject"),l=r("./crc32"),c=r("./utf8"),m=r("./compressions"),d=r("./support");function y(u,_){this.options=u,this.loadOptions=_}y.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(u){var _,f;if(u.skip(22),this.fileNameLength=u.readInt(2),f=u.readInt(2),this.fileName=u.readData(this.fileNameLength),u.skip(f),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((_=function(v){for(var h in m)if(Object.prototype.hasOwnProperty.call(m,h)&&m[h].magic===v)return m[h];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,_,u.readData(this.compressedSize))},readCentralPart:function(u){this.versionMadeBy=u.readInt(2),u.skip(2),this.bitFlag=u.readInt(2),this.compressionMethod=u.readString(2),this.date=u.readDate(),this.crc32=u.readInt(4),this.compressedSize=u.readInt(4),this.uncompressedSize=u.readInt(4);var _=u.readInt(2);if(this.extraFieldsLength=u.readInt(2),this.fileCommentLength=u.readInt(2),this.diskNumberStart=u.readInt(2),this.internalFileAttributes=u.readInt(2),this.externalFileAttributes=u.readInt(4),this.localHeaderOffset=u.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");u.skip(_),this.readExtraFields(u),this.parseZIP64ExtraField(u),this.fileComment=u.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var u=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),u==0&&(this.dosPermissions=63&this.externalFileAttributes),u==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var u=s(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=u.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=u.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=u.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=u.readInt(4))}},readExtraFields:function(u){var _,f,v,h=u.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});u.index+4<h;)_=u.readInt(2),f=u.readInt(2),v=u.readData(f),this.extraFields[_]={id:_,length:f,value:v};u.setIndex(h)},handleUTF8:function(){var u=d.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var _=this.findExtraFieldUnicodePath();if(_!==null)this.fileNameStr=_;else{var f=i.transformTo(u,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(f)}var v=this.findExtraFieldUnicodeComment();if(v!==null)this.fileCommentStr=v;else{var h=i.transformTo(u,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(h)}}},findExtraFieldUnicodePath:function(){var u=this.extraFields[28789];if(u){var _=s(u.value);return _.readInt(1)!==1||l(this.fileName)!==_.readInt(4)?null:c.utf8decode(_.readData(u.length-5))}return null},findExtraFieldUnicodeComment:function(){var u=this.extraFields[25461];if(u){var _=s(u.value);return _.readInt(1)!==1||l(this.fileComment)!==_.readInt(4)?null:c.utf8decode(_.readData(u.length-5))}return null}},a.exports=y},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,a,n){function s(_,f,v){this.name=_,this.dir=v.dir,this.date=v.date,this.comment=v.comment,this.unixPermissions=v.unixPermissions,this.dosPermissions=v.dosPermissions,this._data=f,this._dataBinary=v.binary,this.options={compression:v.compression,compressionOptions:v.compressionOptions}}var i=r("./stream/StreamHelper"),o=r("./stream/DataWorker"),l=r("./utf8"),c=r("./compressedObject"),m=r("./stream/GenericWorker");s.prototype={internalStream:function(_){var f=null,v="string";try{if(!_)throw new Error("No output type specified.");var h=(v=_.toLowerCase())==="string"||v==="text";v!=="binarystring"&&v!=="text"||(v="string"),f=this._decompressWorker();var g=!this._dataBinary;g&&!h&&(f=f.pipe(new l.Utf8EncodeWorker)),!g&&h&&(f=f.pipe(new l.Utf8DecodeWorker))}catch(b){(f=new m("error")).error(b)}return new i(f,v,"")},async:function(_,f){return this.internalStream(_).accumulate(f)},nodeStream:function(_,f){return this.internalStream(_||"nodebuffer").toNodejsStream(f)},_compressWorker:function(_,f){if(this._data instanceof c&&this._data.compression.magic===_.magic)return this._data.getCompressedWorker();var v=this._decompressWorker();return this._dataBinary||(v=v.pipe(new l.Utf8EncodeWorker)),c.createWorkerFrom(v,_,f)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof m?this._data:new o(this._data)}};for(var d=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},u=0;u<d.length;u++)s.prototype[d[u]]=y;a.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,a,n){(function(s){var i,o,l=s.MutationObserver||s.WebKitMutationObserver;if(l){var c=0,m=new l(_),d=s.document.createTextNode("");m.observe(d,{characterData:!0}),i=function(){d.data=c=++c%2}}else if(s.setImmediate||s.MessageChannel===void 0)i="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var f=s.document.createElement("script");f.onreadystatechange=function(){_(),f.onreadystatechange=null,f.parentNode.removeChild(f),f=null},s.document.documentElement.appendChild(f)}:function(){setTimeout(_,0)};else{var y=new s.MessageChannel;y.port1.onmessage=_,i=function(){y.port2.postMessage(0)}}var u=[];function _(){var f,v;o=!0;for(var h=u.length;h;){for(v=u,u=[],f=-1;++f<h;)v[f]();h=u.length}o=!1}a.exports=function(f){u.push(f)!==1||o||i()}}).call(this,typeof Or<"u"?Or:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,a,n){var s=r("immediate");function i(){}var o={},l=["REJECTED"],c=["FULFILLED"],m=["PENDING"];function d(h){if(typeof h!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,h!==i&&f(this,h)}function y(h,g,b){this.promise=h,typeof g=="function"&&(this.onFulfilled=g,this.callFulfilled=this.otherCallFulfilled),typeof b=="function"&&(this.onRejected=b,this.callRejected=this.otherCallRejected)}function u(h,g,b){s(function(){var k;try{k=g(b)}catch(E){return o.reject(h,E)}k===h?o.reject(h,new TypeError("Cannot resolve promise with itself")):o.resolve(h,k)})}function _(h){var g=h&&h.then;if(h&&(typeof h=="object"||typeof h=="function")&&typeof g=="function")return function(){g.apply(h,arguments)}}function f(h,g){var b=!1;function k(C){b||(b=!0,o.reject(h,C))}function E(C){b||(b=!0,o.resolve(h,C))}var A=v(function(){g(E,k)});A.status==="error"&&k(A.value)}function v(h,g){var b={};try{b.value=h(g),b.status="success"}catch(k){b.status="error",b.value=k}return b}(a.exports=d).prototype.finally=function(h){if(typeof h!="function")return this;var g=this.constructor;return this.then(function(b){return g.resolve(h()).then(function(){return b})},function(b){return g.resolve(h()).then(function(){throw b})})},d.prototype.catch=function(h){return this.then(null,h)},d.prototype.then=function(h,g){if(typeof h!="function"&&this.state===c||typeof g!="function"&&this.state===l)return this;var b=new this.constructor(i);return this.state!==m?u(b,this.state===c?h:g,this.outcome):this.queue.push(new y(b,h,g)),b},y.prototype.callFulfilled=function(h){o.resolve(this.promise,h)},y.prototype.otherCallFulfilled=function(h){u(this.promise,this.onFulfilled,h)},y.prototype.callRejected=function(h){o.reject(this.promise,h)},y.prototype.otherCallRejected=function(h){u(this.promise,this.onRejected,h)},o.resolve=function(h,g){var b=v(_,g);if(b.status==="error")return o.reject(h,b.value);var k=b.value;if(k)f(h,k);else{h.state=c,h.outcome=g;for(var E=-1,A=h.queue.length;++E<A;)h.queue[E].callFulfilled(g)}return h},o.reject=function(h,g){h.state=l,h.outcome=g;for(var b=-1,k=h.queue.length;++b<k;)h.queue[b].callRejected(g);return h},d.resolve=function(h){return h instanceof this?h:o.resolve(new this(i),h)},d.reject=function(h){var g=new this(i);return o.reject(g,h)},d.all=function(h){var g=this;if(Object.prototype.toString.call(h)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=h.length,k=!1;if(!b)return this.resolve([]);for(var E=new Array(b),A=0,C=-1,D=new this(i);++C<b;)z(h[C],C);return D;function z(K,ne){g.resolve(K).then(function(N){E[ne]=N,++A!==b||k||(k=!0,o.resolve(D,E))},function(N){k||(k=!0,o.reject(D,N))})}},d.race=function(h){var g=this;if(Object.prototype.toString.call(h)!=="[object Array]")return this.reject(new TypeError("must be an array"));var b=h.length,k=!1;if(!b)return this.resolve([]);for(var E=-1,A=new this(i);++E<b;)C=h[E],g.resolve(C).then(function(D){k||(k=!0,o.resolve(A,D))},function(D){k||(k=!0,o.reject(A,D))});var C;return A}},{immediate:36}],38:[function(r,a,n){var s={};(0,r("./lib/utils/common").assign)(s,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),a.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,a,n){var s=r("./zlib/deflate"),i=r("./utils/common"),o=r("./utils/strings"),l=r("./zlib/messages"),c=r("./zlib/zstream"),m=Object.prototype.toString,d=0,y=-1,u=0,_=8;function f(h){if(!(this instanceof f))return new f(h);this.options=i.assign({level:y,method:_,chunkSize:16384,windowBits:15,memLevel:8,strategy:u,to:""},h||{});var g=this.options;g.raw&&0<g.windowBits?g.windowBits=-g.windowBits:g.gzip&&0<g.windowBits&&g.windowBits<16&&(g.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var b=s.deflateInit2(this.strm,g.level,g.method,g.windowBits,g.memLevel,g.strategy);if(b!==d)throw new Error(l[b]);if(g.header&&s.deflateSetHeader(this.strm,g.header),g.dictionary){var k;if(k=typeof g.dictionary=="string"?o.string2buf(g.dictionary):m.call(g.dictionary)==="[object ArrayBuffer]"?new Uint8Array(g.dictionary):g.dictionary,(b=s.deflateSetDictionary(this.strm,k))!==d)throw new Error(l[b]);this._dict_set=!0}}function v(h,g){var b=new f(g);if(b.push(h,!0),b.err)throw b.msg||l[b.err];return b.result}f.prototype.push=function(h,g){var b,k,E=this.strm,A=this.options.chunkSize;if(this.ended)return!1;k=g===~~g?g:g===!0?4:0,typeof h=="string"?E.input=o.string2buf(h):m.call(h)==="[object ArrayBuffer]"?E.input=new Uint8Array(h):E.input=h,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new i.Buf8(A),E.next_out=0,E.avail_out=A),(b=s.deflate(E,k))!==1&&b!==d)return this.onEnd(b),!(this.ended=!0);E.avail_out!==0&&(E.avail_in!==0||k!==4&&k!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(i.shrinkBuf(E.output,E.next_out))):this.onData(i.shrinkBuf(E.output,E.next_out)))}while((0<E.avail_in||E.avail_out===0)&&b!==1);return k===4?(b=s.deflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===d):k!==2||(this.onEnd(d),!(E.avail_out=0))},f.prototype.onData=function(h){this.chunks.push(h)},f.prototype.onEnd=function(h){h===d&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=h,this.msg=this.strm.msg},n.Deflate=f,n.deflate=v,n.deflateRaw=function(h,g){return(g=g||{}).raw=!0,v(h,g)},n.gzip=function(h,g){return(g=g||{}).gzip=!0,v(h,g)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,a,n){var s=r("./zlib/inflate"),i=r("./utils/common"),o=r("./utils/strings"),l=r("./zlib/constants"),c=r("./zlib/messages"),m=r("./zlib/zstream"),d=r("./zlib/gzheader"),y=Object.prototype.toString;function u(f){if(!(this instanceof u))return new u(f);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},f||{});var v=this.options;v.raw&&0<=v.windowBits&&v.windowBits<16&&(v.windowBits=-v.windowBits,v.windowBits===0&&(v.windowBits=-15)),!(0<=v.windowBits&&v.windowBits<16)||f&&f.windowBits||(v.windowBits+=32),15<v.windowBits&&v.windowBits<48&&!(15&v.windowBits)&&(v.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var h=s.inflateInit2(this.strm,v.windowBits);if(h!==l.Z_OK)throw new Error(c[h]);this.header=new d,s.inflateGetHeader(this.strm,this.header)}function _(f,v){var h=new u(v);if(h.push(f,!0),h.err)throw h.msg||c[h.err];return h.result}u.prototype.push=function(f,v){var h,g,b,k,E,A,C=this.strm,D=this.options.chunkSize,z=this.options.dictionary,K=!1;if(this.ended)return!1;g=v===~~v?v:v===!0?l.Z_FINISH:l.Z_NO_FLUSH,typeof f=="string"?C.input=o.binstring2buf(f):y.call(f)==="[object ArrayBuffer]"?C.input=new Uint8Array(f):C.input=f,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new i.Buf8(D),C.next_out=0,C.avail_out=D),(h=s.inflate(C,l.Z_NO_FLUSH))===l.Z_NEED_DICT&&z&&(A=typeof z=="string"?o.string2buf(z):y.call(z)==="[object ArrayBuffer]"?new Uint8Array(z):z,h=s.inflateSetDictionary(this.strm,A)),h===l.Z_BUF_ERROR&&K===!0&&(h=l.Z_OK,K=!1),h!==l.Z_STREAM_END&&h!==l.Z_OK)return this.onEnd(h),!(this.ended=!0);C.next_out&&(C.avail_out!==0&&h!==l.Z_STREAM_END&&(C.avail_in!==0||g!==l.Z_FINISH&&g!==l.Z_SYNC_FLUSH)||(this.options.to==="string"?(b=o.utf8border(C.output,C.next_out),k=C.next_out-b,E=o.buf2string(C.output,b),C.next_out=k,C.avail_out=D-k,k&&i.arraySet(C.output,C.output,b,k,0),this.onData(E)):this.onData(i.shrinkBuf(C.output,C.next_out)))),C.avail_in===0&&C.avail_out===0&&(K=!0)}while((0<C.avail_in||C.avail_out===0)&&h!==l.Z_STREAM_END);return h===l.Z_STREAM_END&&(g=l.Z_FINISH),g===l.Z_FINISH?(h=s.inflateEnd(this.strm),this.onEnd(h),this.ended=!0,h===l.Z_OK):g!==l.Z_SYNC_FLUSH||(this.onEnd(l.Z_OK),!(C.avail_out=0))},u.prototype.onData=function(f){this.chunks.push(f)},u.prototype.onEnd=function(f){f===l.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},n.Inflate=u,n.inflate=_,n.inflateRaw=function(f,v){return(v=v||{}).raw=!0,_(f,v)},n.ungzip=_},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,a,n){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";n.assign=function(l){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var m=c.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var d in m)m.hasOwnProperty(d)&&(l[d]=m[d])}}return l},n.shrinkBuf=function(l,c){return l.length===c?l:l.subarray?l.subarray(0,c):(l.length=c,l)};var i={arraySet:function(l,c,m,d,y){if(c.subarray&&l.subarray)l.set(c.subarray(m,m+d),y);else for(var u=0;u<d;u++)l[y+u]=c[m+u]},flattenChunks:function(l){var c,m,d,y,u,_;for(c=d=0,m=l.length;c<m;c++)d+=l[c].length;for(_=new Uint8Array(d),c=y=0,m=l.length;c<m;c++)u=l[c],_.set(u,y),y+=u.length;return _}},o={arraySet:function(l,c,m,d,y){for(var u=0;u<d;u++)l[y+u]=c[m+u]},flattenChunks:function(l){return[].concat.apply([],l)}};n.setTyped=function(l){l?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,i)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,o))},n.setTyped(s)},{}],42:[function(r,a,n){var s=r("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var l=new s.Buf8(256),c=0;c<256;c++)l[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function m(d,y){if(y<65537&&(d.subarray&&o||!d.subarray&&i))return String.fromCharCode.apply(null,s.shrinkBuf(d,y));for(var u="",_=0;_<y;_++)u+=String.fromCharCode(d[_]);return u}l[254]=l[254]=1,n.string2buf=function(d){var y,u,_,f,v,h=d.length,g=0;for(f=0;f<h;f++)(64512&(u=d.charCodeAt(f)))==55296&&f+1<h&&(64512&(_=d.charCodeAt(f+1)))==56320&&(u=65536+(u-55296<<10)+(_-56320),f++),g+=u<128?1:u<2048?2:u<65536?3:4;for(y=new s.Buf8(g),f=v=0;v<g;f++)(64512&(u=d.charCodeAt(f)))==55296&&f+1<h&&(64512&(_=d.charCodeAt(f+1)))==56320&&(u=65536+(u-55296<<10)+(_-56320),f++),u<128?y[v++]=u:(u<2048?y[v++]=192|u>>>6:(u<65536?y[v++]=224|u>>>12:(y[v++]=240|u>>>18,y[v++]=128|u>>>12&63),y[v++]=128|u>>>6&63),y[v++]=128|63&u);return y},n.buf2binstring=function(d){return m(d,d.length)},n.binstring2buf=function(d){for(var y=new s.Buf8(d.length),u=0,_=y.length;u<_;u++)y[u]=d.charCodeAt(u);return y},n.buf2string=function(d,y){var u,_,f,v,h=y||d.length,g=new Array(2*h);for(u=_=0;u<h;)if((f=d[u++])<128)g[_++]=f;else if(4<(v=l[f]))g[_++]=65533,u+=v-1;else{for(f&=v===2?31:v===3?15:7;1<v&&u<h;)f=f<<6|63&d[u++],v--;1<v?g[_++]=65533:f<65536?g[_++]=f:(f-=65536,g[_++]=55296|f>>10&1023,g[_++]=56320|1023&f)}return m(g,_)},n.utf8border=function(d,y){var u;for((y=y||d.length)>d.length&&(y=d.length),u=y-1;0<=u&&(192&d[u])==128;)u--;return u<0||u===0?y:u+l[d[u]]>y?u:y}},{"./common":41}],43:[function(r,a,n){a.exports=function(s,i,o,l){for(var c=65535&s|0,m=s>>>16&65535|0,d=0;o!==0;){for(o-=d=2e3<o?2e3:o;m=m+(c=c+i[l++]|0)|0,--d;);c%=65521,m%=65521}return c|m<<16|0}},{}],44:[function(r,a,n){a.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,a,n){var s=function(){for(var i,o=[],l=0;l<256;l++){i=l;for(var c=0;c<8;c++)i=1&i?3988292384^i>>>1:i>>>1;o[l]=i}return o}();a.exports=function(i,o,l,c){var m=s,d=c+l;i^=-1;for(var y=c;y<d;y++)i=i>>>8^m[255&(i^o[y])];return-1^i}},{}],46:[function(r,a,n){var s,i=r("../utils/common"),o=r("./trees"),l=r("./adler32"),c=r("./crc32"),m=r("./messages"),d=0,y=4,u=0,_=-2,f=-1,v=4,h=2,g=8,b=9,k=286,E=30,A=19,C=2*k+1,D=15,z=3,K=258,ne=K+z+1,N=42,Z=113,w=1,X=2,ge=3,se=4;function _e(p,x){return p.msg=m[x],x}function J(p){return(p<<1)-(4<p?9:0)}function W(p){for(var x=p.length;0<=--x;)p[x]=0}function S(p){var x=p.state,V=x.pending;V>p.avail_out&&(V=p.avail_out),V!==0&&(i.arraySet(p.output,x.pending_buf,x.pending_out,V,p.next_out),p.next_out+=V,x.pending_out+=V,p.total_out+=V,p.avail_out-=V,x.pending-=V,x.pending===0&&(x.pending_out=0))}function T(p,x){o._tr_flush_block(p,0<=p.block_start?p.block_start:-1,p.strstart-p.block_start,x),p.block_start=p.strstart,S(p.strm)}function B(p,x){p.pending_buf[p.pending++]=x}function $(p,x){p.pending_buf[p.pending++]=x>>>8&255,p.pending_buf[p.pending++]=255&x}function I(p,x){var V,R,P=p.max_chain_length,L=p.strstart,ee=p.prev_length,re=p.nice_match,H=p.strstart>p.w_size-ne?p.strstart-(p.w_size-ne):0,ie=p.window,fe=p.w_mask,le=p.prev,ve=p.strstart+K,Ne=ie[L+ee-1],Ce=ie[L+ee];p.prev_length>=p.good_match&&(P>>=2),re>p.lookahead&&(re=p.lookahead);do if(ie[(V=x)+ee]===Ce&&ie[V+ee-1]===Ne&&ie[V]===ie[L]&&ie[++V]===ie[L+1]){L+=2,V++;do;while(ie[++L]===ie[++V]&&ie[++L]===ie[++V]&&ie[++L]===ie[++V]&&ie[++L]===ie[++V]&&ie[++L]===ie[++V]&&ie[++L]===ie[++V]&&ie[++L]===ie[++V]&&ie[++L]===ie[++V]&&L<ve);if(R=K-(ve-L),L=ve-K,ee<R){if(p.match_start=x,re<=(ee=R))break;Ne=ie[L+ee-1],Ce=ie[L+ee]}}while((x=le[x&fe])>H&&--P!=0);return ee<=p.lookahead?ee:p.lookahead}function G(p){var x,V,R,P,L,ee,re,H,ie,fe,le=p.w_size;do{if(P=p.window_size-p.lookahead-p.strstart,p.strstart>=le+(le-ne)){for(i.arraySet(p.window,p.window,le,le,0),p.match_start-=le,p.strstart-=le,p.block_start-=le,x=V=p.hash_size;R=p.head[--x],p.head[x]=le<=R?R-le:0,--V;);for(x=V=le;R=p.prev[--x],p.prev[x]=le<=R?R-le:0,--V;);P+=le}if(p.strm.avail_in===0)break;if(ee=p.strm,re=p.window,H=p.strstart+p.lookahead,ie=P,fe=void 0,fe=ee.avail_in,ie<fe&&(fe=ie),V=fe===0?0:(ee.avail_in-=fe,i.arraySet(re,ee.input,ee.next_in,fe,H),ee.state.wrap===1?ee.adler=l(ee.adler,re,fe,H):ee.state.wrap===2&&(ee.adler=c(ee.adler,re,fe,H)),ee.next_in+=fe,ee.total_in+=fe,fe),p.lookahead+=V,p.lookahead+p.insert>=z)for(L=p.strstart-p.insert,p.ins_h=p.window[L],p.ins_h=(p.ins_h<<p.hash_shift^p.window[L+1])&p.hash_mask;p.insert&&(p.ins_h=(p.ins_h<<p.hash_shift^p.window[L+z-1])&p.hash_mask,p.prev[L&p.w_mask]=p.head[p.ins_h],p.head[p.ins_h]=L,L++,p.insert--,!(p.lookahead+p.insert<z)););}while(p.lookahead<ne&&p.strm.avail_in!==0)}function oe(p,x){for(var V,R;;){if(p.lookahead<ne){if(G(p),p.lookahead<ne&&x===d)return w;if(p.lookahead===0)break}if(V=0,p.lookahead>=z&&(p.ins_h=(p.ins_h<<p.hash_shift^p.window[p.strstart+z-1])&p.hash_mask,V=p.prev[p.strstart&p.w_mask]=p.head[p.ins_h],p.head[p.ins_h]=p.strstart),V!==0&&p.strstart-V<=p.w_size-ne&&(p.match_length=I(p,V)),p.match_length>=z)if(R=o._tr_tally(p,p.strstart-p.match_start,p.match_length-z),p.lookahead-=p.match_length,p.match_length<=p.max_lazy_match&&p.lookahead>=z){for(p.match_length--;p.strstart++,p.ins_h=(p.ins_h<<p.hash_shift^p.window[p.strstart+z-1])&p.hash_mask,V=p.prev[p.strstart&p.w_mask]=p.head[p.ins_h],p.head[p.ins_h]=p.strstart,--p.match_length!=0;);p.strstart++}else p.strstart+=p.match_length,p.match_length=0,p.ins_h=p.window[p.strstart],p.ins_h=(p.ins_h<<p.hash_shift^p.window[p.strstart+1])&p.hash_mask;else R=o._tr_tally(p,0,p.window[p.strstart]),p.lookahead--,p.strstart++;if(R&&(T(p,!1),p.strm.avail_out===0))return w}return p.insert=p.strstart<z-1?p.strstart:z-1,x===y?(T(p,!0),p.strm.avail_out===0?ge:se):p.last_lit&&(T(p,!1),p.strm.avail_out===0)?w:X}function ae(p,x){for(var V,R,P;;){if(p.lookahead<ne){if(G(p),p.lookahead<ne&&x===d)return w;if(p.lookahead===0)break}if(V=0,p.lookahead>=z&&(p.ins_h=(p.ins_h<<p.hash_shift^p.window[p.strstart+z-1])&p.hash_mask,V=p.prev[p.strstart&p.w_mask]=p.head[p.ins_h],p.head[p.ins_h]=p.strstart),p.prev_length=p.match_length,p.prev_match=p.match_start,p.match_length=z-1,V!==0&&p.prev_length<p.max_lazy_match&&p.strstart-V<=p.w_size-ne&&(p.match_length=I(p,V),p.match_length<=5&&(p.strategy===1||p.match_length===z&&4096<p.strstart-p.match_start)&&(p.match_length=z-1)),p.prev_length>=z&&p.match_length<=p.prev_length){for(P=p.strstart+p.lookahead-z,R=o._tr_tally(p,p.strstart-1-p.prev_match,p.prev_length-z),p.lookahead-=p.prev_length-1,p.prev_length-=2;++p.strstart<=P&&(p.ins_h=(p.ins_h<<p.hash_shift^p.window[p.strstart+z-1])&p.hash_mask,V=p.prev[p.strstart&p.w_mask]=p.head[p.ins_h],p.head[p.ins_h]=p.strstart),--p.prev_length!=0;);if(p.match_available=0,p.match_length=z-1,p.strstart++,R&&(T(p,!1),p.strm.avail_out===0))return w}else if(p.match_available){if((R=o._tr_tally(p,0,p.window[p.strstart-1]))&&T(p,!1),p.strstart++,p.lookahead--,p.strm.avail_out===0)return w}else p.match_available=1,p.strstart++,p.lookahead--}return p.match_available&&(R=o._tr_tally(p,0,p.window[p.strstart-1]),p.match_available=0),p.insert=p.strstart<z-1?p.strstart:z-1,x===y?(T(p,!0),p.strm.avail_out===0?ge:se):p.last_lit&&(T(p,!1),p.strm.avail_out===0)?w:X}function pe(p,x,V,R,P){this.good_length=p,this.max_lazy=x,this.nice_length=V,this.max_chain=R,this.func=P}function ye(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=g,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*C),this.dyn_dtree=new i.Buf16(2*(2*E+1)),this.bl_tree=new i.Buf16(2*(2*A+1)),W(this.dyn_ltree),W(this.dyn_dtree),W(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(D+1),this.heap=new i.Buf16(2*k+1),W(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*k+1),W(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function U(p){var x;return p&&p.state?(p.total_in=p.total_out=0,p.data_type=h,(x=p.state).pending=0,x.pending_out=0,x.wrap<0&&(x.wrap=-x.wrap),x.status=x.wrap?N:Z,p.adler=x.wrap===2?0:1,x.last_flush=d,o._tr_init(x),u):_e(p,_)}function q(p){var x=U(p);return x===u&&function(V){V.window_size=2*V.w_size,W(V.head),V.max_lazy_match=s[V.level].max_lazy,V.good_match=s[V.level].good_length,V.nice_match=s[V.level].nice_length,V.max_chain_length=s[V.level].max_chain,V.strstart=0,V.block_start=0,V.lookahead=0,V.insert=0,V.match_length=V.prev_length=z-1,V.match_available=0,V.ins_h=0}(p.state),x}function te(p,x,V,R,P,L){if(!p)return _;var ee=1;if(x===f&&(x=6),R<0?(ee=0,R=-R):15<R&&(ee=2,R-=16),P<1||b<P||V!==g||R<8||15<R||x<0||9<x||L<0||v<L)return _e(p,_);R===8&&(R=9);var re=new ye;return(p.state=re).strm=p,re.wrap=ee,re.gzhead=null,re.w_bits=R,re.w_size=1<<re.w_bits,re.w_mask=re.w_size-1,re.hash_bits=P+7,re.hash_size=1<<re.hash_bits,re.hash_mask=re.hash_size-1,re.hash_shift=~~((re.hash_bits+z-1)/z),re.window=new i.Buf8(2*re.w_size),re.head=new i.Buf16(re.hash_size),re.prev=new i.Buf16(re.w_size),re.lit_bufsize=1<<P+6,re.pending_buf_size=4*re.lit_bufsize,re.pending_buf=new i.Buf8(re.pending_buf_size),re.d_buf=1*re.lit_bufsize,re.l_buf=3*re.lit_bufsize,re.level=x,re.strategy=L,re.method=V,q(p)}s=[new pe(0,0,0,0,function(p,x){var V=65535;for(V>p.pending_buf_size-5&&(V=p.pending_buf_size-5);;){if(p.lookahead<=1){if(G(p),p.lookahead===0&&x===d)return w;if(p.lookahead===0)break}p.strstart+=p.lookahead,p.lookahead=0;var R=p.block_start+V;if((p.strstart===0||p.strstart>=R)&&(p.lookahead=p.strstart-R,p.strstart=R,T(p,!1),p.strm.avail_out===0)||p.strstart-p.block_start>=p.w_size-ne&&(T(p,!1),p.strm.avail_out===0))return w}return p.insert=0,x===y?(T(p,!0),p.strm.avail_out===0?ge:se):(p.strstart>p.block_start&&(T(p,!1),p.strm.avail_out),w)}),new pe(4,4,8,4,oe),new pe(4,5,16,8,oe),new pe(4,6,32,32,oe),new pe(4,4,16,16,ae),new pe(8,16,32,32,ae),new pe(8,16,128,128,ae),new pe(8,32,128,256,ae),new pe(32,128,258,1024,ae),new pe(32,258,258,4096,ae)],n.deflateInit=function(p,x){return te(p,x,g,15,8,0)},n.deflateInit2=te,n.deflateReset=q,n.deflateResetKeep=U,n.deflateSetHeader=function(p,x){return p&&p.state?p.state.wrap!==2?_:(p.state.gzhead=x,u):_},n.deflate=function(p,x){var V,R,P,L;if(!p||!p.state||5<x||x<0)return p?_e(p,_):_;if(R=p.state,!p.output||!p.input&&p.avail_in!==0||R.status===666&&x!==y)return _e(p,p.avail_out===0?-5:_);if(R.strm=p,V=R.last_flush,R.last_flush=x,R.status===N)if(R.wrap===2)p.adler=0,B(R,31),B(R,139),B(R,8),R.gzhead?(B(R,(R.gzhead.text?1:0)+(R.gzhead.hcrc?2:0)+(R.gzhead.extra?4:0)+(R.gzhead.name?8:0)+(R.gzhead.comment?16:0)),B(R,255&R.gzhead.time),B(R,R.gzhead.time>>8&255),B(R,R.gzhead.time>>16&255),B(R,R.gzhead.time>>24&255),B(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),B(R,255&R.gzhead.os),R.gzhead.extra&&R.gzhead.extra.length&&(B(R,255&R.gzhead.extra.length),B(R,R.gzhead.extra.length>>8&255)),R.gzhead.hcrc&&(p.adler=c(p.adler,R.pending_buf,R.pending,0)),R.gzindex=0,R.status=69):(B(R,0),B(R,0),B(R,0),B(R,0),B(R,0),B(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),B(R,3),R.status=Z);else{var ee=g+(R.w_bits-8<<4)<<8;ee|=(2<=R.strategy||R.level<2?0:R.level<6?1:R.level===6?2:3)<<6,R.strstart!==0&&(ee|=32),ee+=31-ee%31,R.status=Z,$(R,ee),R.strstart!==0&&($(R,p.adler>>>16),$(R,65535&p.adler)),p.adler=1}if(R.status===69)if(R.gzhead.extra){for(P=R.pending;R.gzindex<(65535&R.gzhead.extra.length)&&(R.pending!==R.pending_buf_size||(R.gzhead.hcrc&&R.pending>P&&(p.adler=c(p.adler,R.pending_buf,R.pending-P,P)),S(p),P=R.pending,R.pending!==R.pending_buf_size));)B(R,255&R.gzhead.extra[R.gzindex]),R.gzindex++;R.gzhead.hcrc&&R.pending>P&&(p.adler=c(p.adler,R.pending_buf,R.pending-P,P)),R.gzindex===R.gzhead.extra.length&&(R.gzindex=0,R.status=73)}else R.status=73;if(R.status===73)if(R.gzhead.name){P=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>P&&(p.adler=c(p.adler,R.pending_buf,R.pending-P,P)),S(p),P=R.pending,R.pending===R.pending_buf_size)){L=1;break}L=R.gzindex<R.gzhead.name.length?255&R.gzhead.name.charCodeAt(R.gzindex++):0,B(R,L)}while(L!==0);R.gzhead.hcrc&&R.pending>P&&(p.adler=c(p.adler,R.pending_buf,R.pending-P,P)),L===0&&(R.gzindex=0,R.status=91)}else R.status=91;if(R.status===91)if(R.gzhead.comment){P=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>P&&(p.adler=c(p.adler,R.pending_buf,R.pending-P,P)),S(p),P=R.pending,R.pending===R.pending_buf_size)){L=1;break}L=R.gzindex<R.gzhead.comment.length?255&R.gzhead.comment.charCodeAt(R.gzindex++):0,B(R,L)}while(L!==0);R.gzhead.hcrc&&R.pending>P&&(p.adler=c(p.adler,R.pending_buf,R.pending-P,P)),L===0&&(R.status=103)}else R.status=103;if(R.status===103&&(R.gzhead.hcrc?(R.pending+2>R.pending_buf_size&&S(p),R.pending+2<=R.pending_buf_size&&(B(R,255&p.adler),B(R,p.adler>>8&255),p.adler=0,R.status=Z)):R.status=Z),R.pending!==0){if(S(p),p.avail_out===0)return R.last_flush=-1,u}else if(p.avail_in===0&&J(x)<=J(V)&&x!==y)return _e(p,-5);if(R.status===666&&p.avail_in!==0)return _e(p,-5);if(p.avail_in!==0||R.lookahead!==0||x!==d&&R.status!==666){var re=R.strategy===2?function(H,ie){for(var fe;;){if(H.lookahead===0&&(G(H),H.lookahead===0)){if(ie===d)return w;break}if(H.match_length=0,fe=o._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++,fe&&(T(H,!1),H.strm.avail_out===0))return w}return H.insert=0,ie===y?(T(H,!0),H.strm.avail_out===0?ge:se):H.last_lit&&(T(H,!1),H.strm.avail_out===0)?w:X}(R,x):R.strategy===3?function(H,ie){for(var fe,le,ve,Ne,Ce=H.window;;){if(H.lookahead<=K){if(G(H),H.lookahead<=K&&ie===d)return w;if(H.lookahead===0)break}if(H.match_length=0,H.lookahead>=z&&0<H.strstart&&(le=Ce[ve=H.strstart-1])===Ce[++ve]&&le===Ce[++ve]&&le===Ce[++ve]){Ne=H.strstart+K;do;while(le===Ce[++ve]&&le===Ce[++ve]&&le===Ce[++ve]&&le===Ce[++ve]&&le===Ce[++ve]&&le===Ce[++ve]&&le===Ce[++ve]&&le===Ce[++ve]&&ve<Ne);H.match_length=K-(Ne-ve),H.match_length>H.lookahead&&(H.match_length=H.lookahead)}if(H.match_length>=z?(fe=o._tr_tally(H,1,H.match_length-z),H.lookahead-=H.match_length,H.strstart+=H.match_length,H.match_length=0):(fe=o._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++),fe&&(T(H,!1),H.strm.avail_out===0))return w}return H.insert=0,ie===y?(T(H,!0),H.strm.avail_out===0?ge:se):H.last_lit&&(T(H,!1),H.strm.avail_out===0)?w:X}(R,x):s[R.level].func(R,x);if(re!==ge&&re!==se||(R.status=666),re===w||re===ge)return p.avail_out===0&&(R.last_flush=-1),u;if(re===X&&(x===1?o._tr_align(R):x!==5&&(o._tr_stored_block(R,0,0,!1),x===3&&(W(R.head),R.lookahead===0&&(R.strstart=0,R.block_start=0,R.insert=0))),S(p),p.avail_out===0))return R.last_flush=-1,u}return x!==y?u:R.wrap<=0?1:(R.wrap===2?(B(R,255&p.adler),B(R,p.adler>>8&255),B(R,p.adler>>16&255),B(R,p.adler>>24&255),B(R,255&p.total_in),B(R,p.total_in>>8&255),B(R,p.total_in>>16&255),B(R,p.total_in>>24&255)):($(R,p.adler>>>16),$(R,65535&p.adler)),S(p),0<R.wrap&&(R.wrap=-R.wrap),R.pending!==0?u:1)},n.deflateEnd=function(p){var x;return p&&p.state?(x=p.state.status)!==N&&x!==69&&x!==73&&x!==91&&x!==103&&x!==Z&&x!==666?_e(p,_):(p.state=null,x===Z?_e(p,-3):u):_},n.deflateSetDictionary=function(p,x){var V,R,P,L,ee,re,H,ie,fe=x.length;if(!p||!p.state||(L=(V=p.state).wrap)===2||L===1&&V.status!==N||V.lookahead)return _;for(L===1&&(p.adler=l(p.adler,x,fe,0)),V.wrap=0,fe>=V.w_size&&(L===0&&(W(V.head),V.strstart=0,V.block_start=0,V.insert=0),ie=new i.Buf8(V.w_size),i.arraySet(ie,x,fe-V.w_size,V.w_size,0),x=ie,fe=V.w_size),ee=p.avail_in,re=p.next_in,H=p.input,p.avail_in=fe,p.next_in=0,p.input=x,G(V);V.lookahead>=z;){for(R=V.strstart,P=V.lookahead-(z-1);V.ins_h=(V.ins_h<<V.hash_shift^V.window[R+z-1])&V.hash_mask,V.prev[R&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=R,R++,--P;);V.strstart=R,V.lookahead=z-1,G(V)}return V.strstart+=V.lookahead,V.block_start=V.strstart,V.insert=V.lookahead,V.lookahead=0,V.match_length=V.prev_length=z-1,V.match_available=0,p.next_in=re,p.input=H,p.avail_in=ee,V.wrap=L,u},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,a,n){a.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,a,n){a.exports=function(s,i){var o,l,c,m,d,y,u,_,f,v,h,g,b,k,E,A,C,D,z,K,ne,N,Z,w,X;o=s.state,l=s.next_in,w=s.input,c=l+(s.avail_in-5),m=s.next_out,X=s.output,d=m-(i-s.avail_out),y=m+(s.avail_out-257),u=o.dmax,_=o.wsize,f=o.whave,v=o.wnext,h=o.window,g=o.hold,b=o.bits,k=o.lencode,E=o.distcode,A=(1<<o.lenbits)-1,C=(1<<o.distbits)-1;e:do{b<15&&(g+=w[l++]<<b,b+=8,g+=w[l++]<<b,b+=8),D=k[g&A];t:for(;;){if(g>>>=z=D>>>24,b-=z,(z=D>>>16&255)===0)X[m++]=65535&D;else{if(!(16&z)){if(!(64&z)){D=k[(65535&D)+(g&(1<<z)-1)];continue t}if(32&z){o.mode=12;break e}s.msg="invalid literal/length code",o.mode=30;break e}K=65535&D,(z&=15)&&(b<z&&(g+=w[l++]<<b,b+=8),K+=g&(1<<z)-1,g>>>=z,b-=z),b<15&&(g+=w[l++]<<b,b+=8,g+=w[l++]<<b,b+=8),D=E[g&C];r:for(;;){if(g>>>=z=D>>>24,b-=z,!(16&(z=D>>>16&255))){if(!(64&z)){D=E[(65535&D)+(g&(1<<z)-1)];continue r}s.msg="invalid distance code",o.mode=30;break e}if(ne=65535&D,b<(z&=15)&&(g+=w[l++]<<b,(b+=8)<z&&(g+=w[l++]<<b,b+=8)),u<(ne+=g&(1<<z)-1)){s.msg="invalid distance too far back",o.mode=30;break e}if(g>>>=z,b-=z,(z=m-d)<ne){if(f<(z=ne-z)&&o.sane){s.msg="invalid distance too far back",o.mode=30;break e}if(Z=h,(N=0)===v){if(N+=_-z,z<K){for(K-=z;X[m++]=h[N++],--z;);N=m-ne,Z=X}}else if(v<z){if(N+=_+v-z,(z-=v)<K){for(K-=z;X[m++]=h[N++],--z;);if(N=0,v<K){for(K-=z=v;X[m++]=h[N++],--z;);N=m-ne,Z=X}}}else if(N+=v-z,z<K){for(K-=z;X[m++]=h[N++],--z;);N=m-ne,Z=X}for(;2<K;)X[m++]=Z[N++],X[m++]=Z[N++],X[m++]=Z[N++],K-=3;K&&(X[m++]=Z[N++],1<K&&(X[m++]=Z[N++]))}else{for(N=m-ne;X[m++]=X[N++],X[m++]=X[N++],X[m++]=X[N++],2<(K-=3););K&&(X[m++]=X[N++],1<K&&(X[m++]=X[N++]))}break}}break}}while(l<c&&m<y);l-=K=b>>3,g&=(1<<(b-=K<<3))-1,s.next_in=l,s.next_out=m,s.avail_in=l<c?c-l+5:5-(l-c),s.avail_out=m<y?y-m+257:257-(m-y),o.hold=g,o.bits=b}},{}],49:[function(r,a,n){var s=r("../utils/common"),i=r("./adler32"),o=r("./crc32"),l=r("./inffast"),c=r("./inftrees"),m=1,d=2,y=0,u=-2,_=1,f=852,v=592;function h(N){return(N>>>24&255)+(N>>>8&65280)+((65280&N)<<8)+((255&N)<<24)}function g(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(N){var Z;return N&&N.state?(Z=N.state,N.total_in=N.total_out=Z.total=0,N.msg="",Z.wrap&&(N.adler=1&Z.wrap),Z.mode=_,Z.last=0,Z.havedict=0,Z.dmax=32768,Z.head=null,Z.hold=0,Z.bits=0,Z.lencode=Z.lendyn=new s.Buf32(f),Z.distcode=Z.distdyn=new s.Buf32(v),Z.sane=1,Z.back=-1,y):u}function k(N){var Z;return N&&N.state?((Z=N.state).wsize=0,Z.whave=0,Z.wnext=0,b(N)):u}function E(N,Z){var w,X;return N&&N.state?(X=N.state,Z<0?(w=0,Z=-Z):(w=1+(Z>>4),Z<48&&(Z&=15)),Z&&(Z<8||15<Z)?u:(X.window!==null&&X.wbits!==Z&&(X.window=null),X.wrap=w,X.wbits=Z,k(N))):u}function A(N,Z){var w,X;return N?(X=new g,(N.state=X).window=null,(w=E(N,Z))!==y&&(N.state=null),w):u}var C,D,z=!0;function K(N){if(z){var Z;for(C=new s.Buf32(512),D=new s.Buf32(32),Z=0;Z<144;)N.lens[Z++]=8;for(;Z<256;)N.lens[Z++]=9;for(;Z<280;)N.lens[Z++]=7;for(;Z<288;)N.lens[Z++]=8;for(c(m,N.lens,0,288,C,0,N.work,{bits:9}),Z=0;Z<32;)N.lens[Z++]=5;c(d,N.lens,0,32,D,0,N.work,{bits:5}),z=!1}N.lencode=C,N.lenbits=9,N.distcode=D,N.distbits=5}function ne(N,Z,w,X){var ge,se=N.state;return se.window===null&&(se.wsize=1<<se.wbits,se.wnext=0,se.whave=0,se.window=new s.Buf8(se.wsize)),X>=se.wsize?(s.arraySet(se.window,Z,w-se.wsize,se.wsize,0),se.wnext=0,se.whave=se.wsize):(X<(ge=se.wsize-se.wnext)&&(ge=X),s.arraySet(se.window,Z,w-X,ge,se.wnext),(X-=ge)?(s.arraySet(se.window,Z,w-X,X,0),se.wnext=X,se.whave=se.wsize):(se.wnext+=ge,se.wnext===se.wsize&&(se.wnext=0),se.whave<se.wsize&&(se.whave+=ge))),0}n.inflateReset=k,n.inflateReset2=E,n.inflateResetKeep=b,n.inflateInit=function(N){return A(N,15)},n.inflateInit2=A,n.inflate=function(N,Z){var w,X,ge,se,_e,J,W,S,T,B,$,I,G,oe,ae,pe,ye,U,q,te,p,x,V,R,P=0,L=new s.Buf8(4),ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!N||!N.state||!N.output||!N.input&&N.avail_in!==0)return u;(w=N.state).mode===12&&(w.mode=13),_e=N.next_out,ge=N.output,W=N.avail_out,se=N.next_in,X=N.input,J=N.avail_in,S=w.hold,T=w.bits,B=J,$=W,x=y;e:for(;;)switch(w.mode){case _:if(w.wrap===0){w.mode=13;break}for(;T<16;){if(J===0)break e;J--,S+=X[se++]<<T,T+=8}if(2&w.wrap&&S===35615){L[w.check=0]=255&S,L[1]=S>>>8&255,w.check=o(w.check,L,2,0),T=S=0,w.mode=2;break}if(w.flags=0,w.head&&(w.head.done=!1),!(1&w.wrap)||(((255&S)<<8)+(S>>8))%31){N.msg="incorrect header check",w.mode=30;break}if((15&S)!=8){N.msg="unknown compression method",w.mode=30;break}if(T-=4,p=8+(15&(S>>>=4)),w.wbits===0)w.wbits=p;else if(p>w.wbits){N.msg="invalid window size",w.mode=30;break}w.dmax=1<<p,N.adler=w.check=1,w.mode=512&S?10:12,T=S=0;break;case 2:for(;T<16;){if(J===0)break e;J--,S+=X[se++]<<T,T+=8}if(w.flags=S,(255&w.flags)!=8){N.msg="unknown compression method",w.mode=30;break}if(57344&w.flags){N.msg="unknown header flags set",w.mode=30;break}w.head&&(w.head.text=S>>8&1),512&w.flags&&(L[0]=255&S,L[1]=S>>>8&255,w.check=o(w.check,L,2,0)),T=S=0,w.mode=3;case 3:for(;T<32;){if(J===0)break e;J--,S+=X[se++]<<T,T+=8}w.head&&(w.head.time=S),512&w.flags&&(L[0]=255&S,L[1]=S>>>8&255,L[2]=S>>>16&255,L[3]=S>>>24&255,w.check=o(w.check,L,4,0)),T=S=0,w.mode=4;case 4:for(;T<16;){if(J===0)break e;J--,S+=X[se++]<<T,T+=8}w.head&&(w.head.xflags=255&S,w.head.os=S>>8),512&w.flags&&(L[0]=255&S,L[1]=S>>>8&255,w.check=o(w.check,L,2,0)),T=S=0,w.mode=5;case 5:if(1024&w.flags){for(;T<16;){if(J===0)break e;J--,S+=X[se++]<<T,T+=8}w.length=S,w.head&&(w.head.extra_len=S),512&w.flags&&(L[0]=255&S,L[1]=S>>>8&255,w.check=o(w.check,L,2,0)),T=S=0}else w.head&&(w.head.extra=null);w.mode=6;case 6:if(1024&w.flags&&(J<(I=w.length)&&(I=J),I&&(w.head&&(p=w.head.extra_len-w.length,w.head.extra||(w.head.extra=new Array(w.head.extra_len)),s.arraySet(w.head.extra,X,se,I,p)),512&w.flags&&(w.check=o(w.check,X,I,se)),J-=I,se+=I,w.length-=I),w.length))break e;w.length=0,w.mode=7;case 7:if(2048&w.flags){if(J===0)break e;for(I=0;p=X[se+I++],w.head&&p&&w.length<65536&&(w.head.name+=String.fromCharCode(p)),p&&I<J;);if(512&w.flags&&(w.check=o(w.check,X,I,se)),J-=I,se+=I,p)break e}else w.head&&(w.head.name=null);w.length=0,w.mode=8;case 8:if(4096&w.flags){if(J===0)break e;for(I=0;p=X[se+I++],w.head&&p&&w.length<65536&&(w.head.comment+=String.fromCharCode(p)),p&&I<J;);if(512&w.flags&&(w.check=o(w.check,X,I,se)),J-=I,se+=I,p)break e}else w.head&&(w.head.comment=null);w.mode=9;case 9:if(512&w.flags){for(;T<16;){if(J===0)break e;J--,S+=X[se++]<<T,T+=8}if(S!==(65535&w.check)){N.msg="header crc mismatch",w.mode=30;break}T=S=0}w.head&&(w.head.hcrc=w.flags>>9&1,w.head.done=!0),N.adler=w.check=0,w.mode=12;break;case 10:for(;T<32;){if(J===0)break e;J--,S+=X[se++]<<T,T+=8}N.adler=w.check=h(S),T=S=0,w.mode=11;case 11:if(w.havedict===0)return N.next_out=_e,N.avail_out=W,N.next_in=se,N.avail_in=J,w.hold=S,w.bits=T,2;N.adler=w.check=1,w.mode=12;case 12:if(Z===5||Z===6)break e;case 13:if(w.last){S>>>=7&T,T-=7&T,w.mode=27;break}for(;T<3;){if(J===0)break e;J--,S+=X[se++]<<T,T+=8}switch(w.last=1&S,T-=1,3&(S>>>=1)){case 0:w.mode=14;break;case 1:if(K(w),w.mode=20,Z!==6)break;S>>>=2,T-=2;break e;case 2:w.mode=17;break;case 3:N.msg="invalid block type",w.mode=30}S>>>=2,T-=2;break;case 14:for(S>>>=7&T,T-=7&T;T<32;){if(J===0)break e;J--,S+=X[se++]<<T,T+=8}if((65535&S)!=(S>>>16^65535)){N.msg="invalid stored block lengths",w.mode=30;break}if(w.length=65535&S,T=S=0,w.mode=15,Z===6)break e;case 15:w.mode=16;case 16:if(I=w.length){if(J<I&&(I=J),W<I&&(I=W),I===0)break e;s.arraySet(ge,X,se,I,_e),J-=I,se+=I,W-=I,_e+=I,w.length-=I;break}w.mode=12;break;case 17:for(;T<14;){if(J===0)break e;J--,S+=X[se++]<<T,T+=8}if(w.nlen=257+(31&S),S>>>=5,T-=5,w.ndist=1+(31&S),S>>>=5,T-=5,w.ncode=4+(15&S),S>>>=4,T-=4,286<w.nlen||30<w.ndist){N.msg="too many length or distance symbols",w.mode=30;break}w.have=0,w.mode=18;case 18:for(;w.have<w.ncode;){for(;T<3;){if(J===0)break e;J--,S+=X[se++]<<T,T+=8}w.lens[ee[w.have++]]=7&S,S>>>=3,T-=3}for(;w.have<19;)w.lens[ee[w.have++]]=0;if(w.lencode=w.lendyn,w.lenbits=7,V={bits:w.lenbits},x=c(0,w.lens,0,19,w.lencode,0,w.work,V),w.lenbits=V.bits,x){N.msg="invalid code lengths set",w.mode=30;break}w.have=0,w.mode=19;case 19:for(;w.have<w.nlen+w.ndist;){for(;pe=(P=w.lencode[S&(1<<w.lenbits)-1])>>>16&255,ye=65535&P,!((ae=P>>>24)<=T);){if(J===0)break e;J--,S+=X[se++]<<T,T+=8}if(ye<16)S>>>=ae,T-=ae,w.lens[w.have++]=ye;else{if(ye===16){for(R=ae+2;T<R;){if(J===0)break e;J--,S+=X[se++]<<T,T+=8}if(S>>>=ae,T-=ae,w.have===0){N.msg="invalid bit length repeat",w.mode=30;break}p=w.lens[w.have-1],I=3+(3&S),S>>>=2,T-=2}else if(ye===17){for(R=ae+3;T<R;){if(J===0)break e;J--,S+=X[se++]<<T,T+=8}T-=ae,p=0,I=3+(7&(S>>>=ae)),S>>>=3,T-=3}else{for(R=ae+7;T<R;){if(J===0)break e;J--,S+=X[se++]<<T,T+=8}T-=ae,p=0,I=11+(127&(S>>>=ae)),S>>>=7,T-=7}if(w.have+I>w.nlen+w.ndist){N.msg="invalid bit length repeat",w.mode=30;break}for(;I--;)w.lens[w.have++]=p}}if(w.mode===30)break;if(w.lens[256]===0){N.msg="invalid code -- missing end-of-block",w.mode=30;break}if(w.lenbits=9,V={bits:w.lenbits},x=c(m,w.lens,0,w.nlen,w.lencode,0,w.work,V),w.lenbits=V.bits,x){N.msg="invalid literal/lengths set",w.mode=30;break}if(w.distbits=6,w.distcode=w.distdyn,V={bits:w.distbits},x=c(d,w.lens,w.nlen,w.ndist,w.distcode,0,w.work,V),w.distbits=V.bits,x){N.msg="invalid distances set",w.mode=30;break}if(w.mode=20,Z===6)break e;case 20:w.mode=21;case 21:if(6<=J&&258<=W){N.next_out=_e,N.avail_out=W,N.next_in=se,N.avail_in=J,w.hold=S,w.bits=T,l(N,$),_e=N.next_out,ge=N.output,W=N.avail_out,se=N.next_in,X=N.input,J=N.avail_in,S=w.hold,T=w.bits,w.mode===12&&(w.back=-1);break}for(w.back=0;pe=(P=w.lencode[S&(1<<w.lenbits)-1])>>>16&255,ye=65535&P,!((ae=P>>>24)<=T);){if(J===0)break e;J--,S+=X[se++]<<T,T+=8}if(pe&&!(240&pe)){for(U=ae,q=pe,te=ye;pe=(P=w.lencode[te+((S&(1<<U+q)-1)>>U)])>>>16&255,ye=65535&P,!(U+(ae=P>>>24)<=T);){if(J===0)break e;J--,S+=X[se++]<<T,T+=8}S>>>=U,T-=U,w.back+=U}if(S>>>=ae,T-=ae,w.back+=ae,w.length=ye,pe===0){w.mode=26;break}if(32&pe){w.back=-1,w.mode=12;break}if(64&pe){N.msg="invalid literal/length code",w.mode=30;break}w.extra=15&pe,w.mode=22;case 22:if(w.extra){for(R=w.extra;T<R;){if(J===0)break e;J--,S+=X[se++]<<T,T+=8}w.length+=S&(1<<w.extra)-1,S>>>=w.extra,T-=w.extra,w.back+=w.extra}w.was=w.length,w.mode=23;case 23:for(;pe=(P=w.distcode[S&(1<<w.distbits)-1])>>>16&255,ye=65535&P,!((ae=P>>>24)<=T);){if(J===0)break e;J--,S+=X[se++]<<T,T+=8}if(!(240&pe)){for(U=ae,q=pe,te=ye;pe=(P=w.distcode[te+((S&(1<<U+q)-1)>>U)])>>>16&255,ye=65535&P,!(U+(ae=P>>>24)<=T);){if(J===0)break e;J--,S+=X[se++]<<T,T+=8}S>>>=U,T-=U,w.back+=U}if(S>>>=ae,T-=ae,w.back+=ae,64&pe){N.msg="invalid distance code",w.mode=30;break}w.offset=ye,w.extra=15&pe,w.mode=24;case 24:if(w.extra){for(R=w.extra;T<R;){if(J===0)break e;J--,S+=X[se++]<<T,T+=8}w.offset+=S&(1<<w.extra)-1,S>>>=w.extra,T-=w.extra,w.back+=w.extra}if(w.offset>w.dmax){N.msg="invalid distance too far back",w.mode=30;break}w.mode=25;case 25:if(W===0)break e;if(I=$-W,w.offset>I){if((I=w.offset-I)>w.whave&&w.sane){N.msg="invalid distance too far back",w.mode=30;break}G=I>w.wnext?(I-=w.wnext,w.wsize-I):w.wnext-I,I>w.length&&(I=w.length),oe=w.window}else oe=ge,G=_e-w.offset,I=w.length;for(W<I&&(I=W),W-=I,w.length-=I;ge[_e++]=oe[G++],--I;);w.length===0&&(w.mode=21);break;case 26:if(W===0)break e;ge[_e++]=w.length,W--,w.mode=21;break;case 27:if(w.wrap){for(;T<32;){if(J===0)break e;J--,S|=X[se++]<<T,T+=8}if($-=W,N.total_out+=$,w.total+=$,$&&(N.adler=w.check=w.flags?o(w.check,ge,$,_e-$):i(w.check,ge,$,_e-$)),$=W,(w.flags?S:h(S))!==w.check){N.msg="incorrect data check",w.mode=30;break}T=S=0}w.mode=28;case 28:if(w.wrap&&w.flags){for(;T<32;){if(J===0)break e;J--,S+=X[se++]<<T,T+=8}if(S!==(4294967295&w.total)){N.msg="incorrect length check",w.mode=30;break}T=S=0}w.mode=29;case 29:x=1;break e;case 30:x=-3;break e;case 31:return-4;case 32:default:return u}return N.next_out=_e,N.avail_out=W,N.next_in=se,N.avail_in=J,w.hold=S,w.bits=T,(w.wsize||$!==N.avail_out&&w.mode<30&&(w.mode<27||Z!==4))&&ne(N,N.output,N.next_out,$-N.avail_out)?(w.mode=31,-4):(B-=N.avail_in,$-=N.avail_out,N.total_in+=B,N.total_out+=$,w.total+=$,w.wrap&&$&&(N.adler=w.check=w.flags?o(w.check,ge,$,N.next_out-$):i(w.check,ge,$,N.next_out-$)),N.data_type=w.bits+(w.last?64:0)+(w.mode===12?128:0)+(w.mode===20||w.mode===15?256:0),(B==0&&$===0||Z===4)&&x===y&&(x=-5),x)},n.inflateEnd=function(N){if(!N||!N.state)return u;var Z=N.state;return Z.window&&(Z.window=null),N.state=null,y},n.inflateGetHeader=function(N,Z){var w;return N&&N.state&&2&(w=N.state).wrap?((w.head=Z).done=!1,y):u},n.inflateSetDictionary=function(N,Z){var w,X=Z.length;return N&&N.state?(w=N.state).wrap!==0&&w.mode!==11?u:w.mode===11&&i(1,Z,X,0)!==w.check?-3:ne(N,Z,X,X)?(w.mode=31,-4):(w.havedict=1,y):u},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,a,n){var s=r("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];a.exports=function(m,d,y,u,_,f,v,h){var g,b,k,E,A,C,D,z,K,ne=h.bits,N=0,Z=0,w=0,X=0,ge=0,se=0,_e=0,J=0,W=0,S=0,T=null,B=0,$=new s.Buf16(16),I=new s.Buf16(16),G=null,oe=0;for(N=0;N<=15;N++)$[N]=0;for(Z=0;Z<u;Z++)$[d[y+Z]]++;for(ge=ne,X=15;1<=X&&$[X]===0;X--);if(X<ge&&(ge=X),X===0)return _[f++]=20971520,_[f++]=20971520,h.bits=1,0;for(w=1;w<X&&$[w]===0;w++);for(ge<w&&(ge=w),N=J=1;N<=15;N++)if(J<<=1,(J-=$[N])<0)return-1;if(0<J&&(m===0||X!==1))return-1;for(I[1]=0,N=1;N<15;N++)I[N+1]=I[N]+$[N];for(Z=0;Z<u;Z++)d[y+Z]!==0&&(v[I[d[y+Z]]++]=Z);if(C=m===0?(T=G=v,19):m===1?(T=i,B-=257,G=o,oe-=257,256):(T=l,G=c,-1),N=w,A=f,_e=Z=S=0,k=-1,E=(W=1<<(se=ge))-1,m===1&&852<W||m===2&&592<W)return 1;for(;;){for(D=N-_e,K=v[Z]<C?(z=0,v[Z]):v[Z]>C?(z=G[oe+v[Z]],T[B+v[Z]]):(z=96,0),g=1<<N-_e,w=b=1<<se;_[A+(S>>_e)+(b-=g)]=D<<24|z<<16|K|0,b!==0;);for(g=1<<N-1;S&g;)g>>=1;if(g!==0?(S&=g-1,S+=g):S=0,Z++,--$[N]==0){if(N===X)break;N=d[y+v[Z]]}if(ge<N&&(S&E)!==k){for(_e===0&&(_e=ge),A+=w,J=1<<(se=N-_e);se+_e<X&&!((J-=$[se+_e])<=0);)se++,J<<=1;if(W+=1<<se,m===1&&852<W||m===2&&592<W)return 1;_[k=S&E]=ge<<24|se<<16|A-f|0}}return S!==0&&(_[A+S]=N-_e<<24|64<<16|0),h.bits=ge,0}},{"../utils/common":41}],51:[function(r,a,n){a.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,a,n){var s=r("../utils/common"),i=0,o=1;function l(P){for(var L=P.length;0<=--L;)P[L]=0}var c=0,m=29,d=256,y=d+1+m,u=30,_=19,f=2*y+1,v=15,h=16,g=7,b=256,k=16,E=17,A=18,C=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],D=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ne=new Array(2*(y+2));l(ne);var N=new Array(2*u);l(N);var Z=new Array(512);l(Z);var w=new Array(256);l(w);var X=new Array(m);l(X);var ge,se,_e,J=new Array(u);function W(P,L,ee,re,H){this.static_tree=P,this.extra_bits=L,this.extra_base=ee,this.elems=re,this.max_length=H,this.has_stree=P&&P.length}function S(P,L){this.dyn_tree=P,this.max_code=0,this.stat_desc=L}function T(P){return P<256?Z[P]:Z[256+(P>>>7)]}function B(P,L){P.pending_buf[P.pending++]=255&L,P.pending_buf[P.pending++]=L>>>8&255}function $(P,L,ee){P.bi_valid>h-ee?(P.bi_buf|=L<<P.bi_valid&65535,B(P,P.bi_buf),P.bi_buf=L>>h-P.bi_valid,P.bi_valid+=ee-h):(P.bi_buf|=L<<P.bi_valid&65535,P.bi_valid+=ee)}function I(P,L,ee){$(P,ee[2*L],ee[2*L+1])}function G(P,L){for(var ee=0;ee|=1&P,P>>>=1,ee<<=1,0<--L;);return ee>>>1}function oe(P,L,ee){var re,H,ie=new Array(v+1),fe=0;for(re=1;re<=v;re++)ie[re]=fe=fe+ee[re-1]<<1;for(H=0;H<=L;H++){var le=P[2*H+1];le!==0&&(P[2*H]=G(ie[le]++,le))}}function ae(P){var L;for(L=0;L<y;L++)P.dyn_ltree[2*L]=0;for(L=0;L<u;L++)P.dyn_dtree[2*L]=0;for(L=0;L<_;L++)P.bl_tree[2*L]=0;P.dyn_ltree[2*b]=1,P.opt_len=P.static_len=0,P.last_lit=P.matches=0}function pe(P){8<P.bi_valid?B(P,P.bi_buf):0<P.bi_valid&&(P.pending_buf[P.pending++]=P.bi_buf),P.bi_buf=0,P.bi_valid=0}function ye(P,L,ee,re){var H=2*L,ie=2*ee;return P[H]<P[ie]||P[H]===P[ie]&&re[L]<=re[ee]}function U(P,L,ee){for(var re=P.heap[ee],H=ee<<1;H<=P.heap_len&&(H<P.heap_len&&ye(L,P.heap[H+1],P.heap[H],P.depth)&&H++,!ye(L,re,P.heap[H],P.depth));)P.heap[ee]=P.heap[H],ee=H,H<<=1;P.heap[ee]=re}function q(P,L,ee){var re,H,ie,fe,le=0;if(P.last_lit!==0)for(;re=P.pending_buf[P.d_buf+2*le]<<8|P.pending_buf[P.d_buf+2*le+1],H=P.pending_buf[P.l_buf+le],le++,re===0?I(P,H,L):(I(P,(ie=w[H])+d+1,L),(fe=C[ie])!==0&&$(P,H-=X[ie],fe),I(P,ie=T(--re),ee),(fe=D[ie])!==0&&$(P,re-=J[ie],fe)),le<P.last_lit;);I(P,b,L)}function te(P,L){var ee,re,H,ie=L.dyn_tree,fe=L.stat_desc.static_tree,le=L.stat_desc.has_stree,ve=L.stat_desc.elems,Ne=-1;for(P.heap_len=0,P.heap_max=f,ee=0;ee<ve;ee++)ie[2*ee]!==0?(P.heap[++P.heap_len]=Ne=ee,P.depth[ee]=0):ie[2*ee+1]=0;for(;P.heap_len<2;)ie[2*(H=P.heap[++P.heap_len]=Ne<2?++Ne:0)]=1,P.depth[H]=0,P.opt_len--,le&&(P.static_len-=fe[2*H+1]);for(L.max_code=Ne,ee=P.heap_len>>1;1<=ee;ee--)U(P,ie,ee);for(H=ve;ee=P.heap[1],P.heap[1]=P.heap[P.heap_len--],U(P,ie,1),re=P.heap[1],P.heap[--P.heap_max]=ee,P.heap[--P.heap_max]=re,ie[2*H]=ie[2*ee]+ie[2*re],P.depth[H]=(P.depth[ee]>=P.depth[re]?P.depth[ee]:P.depth[re])+1,ie[2*ee+1]=ie[2*re+1]=H,P.heap[1]=H++,U(P,ie,1),2<=P.heap_len;);P.heap[--P.heap_max]=P.heap[1],function(Ce,Be){var st,it,Ut,je,Wt,$r,lt=Be.dyn_tree,at=Be.max_code,En=Be.stat_desc.static_tree,Sn=Be.stat_desc.has_stree,Cn=Be.stat_desc.extra_bits,Zr=Be.stat_desc.extra_base,Gt=Be.stat_desc.max_length,ir=0;for(je=0;je<=v;je++)Ce.bl_count[je]=0;for(lt[2*Ce.heap[Ce.heap_max]+1]=0,st=Ce.heap_max+1;st<f;st++)Gt<(je=lt[2*lt[2*(it=Ce.heap[st])+1]+1]+1)&&(je=Gt,ir++),lt[2*it+1]=je,at<it||(Ce.bl_count[je]++,Wt=0,Zr<=it&&(Wt=Cn[it-Zr]),$r=lt[2*it],Ce.opt_len+=$r*(je+Wt),Sn&&(Ce.static_len+=$r*(En[2*it+1]+Wt)));if(ir!==0){do{for(je=Gt-1;Ce.bl_count[je]===0;)je--;Ce.bl_count[je]--,Ce.bl_count[je+1]+=2,Ce.bl_count[Gt]--,ir-=2}while(0<ir);for(je=Gt;je!==0;je--)for(it=Ce.bl_count[je];it!==0;)at<(Ut=Ce.heap[--st])||(lt[2*Ut+1]!==je&&(Ce.opt_len+=(je-lt[2*Ut+1])*lt[2*Ut],lt[2*Ut+1]=je),it--)}}(P,L),oe(ie,Ne,P.bl_count)}function p(P,L,ee){var re,H,ie=-1,fe=L[1],le=0,ve=7,Ne=4;for(fe===0&&(ve=138,Ne=3),L[2*(ee+1)+1]=65535,re=0;re<=ee;re++)H=fe,fe=L[2*(re+1)+1],++le<ve&&H===fe||(le<Ne?P.bl_tree[2*H]+=le:H!==0?(H!==ie&&P.bl_tree[2*H]++,P.bl_tree[2*k]++):le<=10?P.bl_tree[2*E]++:P.bl_tree[2*A]++,ie=H,Ne=(le=0)===fe?(ve=138,3):H===fe?(ve=6,3):(ve=7,4))}function x(P,L,ee){var re,H,ie=-1,fe=L[1],le=0,ve=7,Ne=4;for(fe===0&&(ve=138,Ne=3),re=0;re<=ee;re++)if(H=fe,fe=L[2*(re+1)+1],!(++le<ve&&H===fe)){if(le<Ne)for(;I(P,H,P.bl_tree),--le!=0;);else H!==0?(H!==ie&&(I(P,H,P.bl_tree),le--),I(P,k,P.bl_tree),$(P,le-3,2)):le<=10?(I(P,E,P.bl_tree),$(P,le-3,3)):(I(P,A,P.bl_tree),$(P,le-11,7));ie=H,Ne=(le=0)===fe?(ve=138,3):H===fe?(ve=6,3):(ve=7,4)}}l(J);var V=!1;function R(P,L,ee,re){$(P,(c<<1)+(re?1:0),3),function(H,ie,fe,le){pe(H),le&&(B(H,fe),B(H,~fe)),s.arraySet(H.pending_buf,H.window,ie,fe,H.pending),H.pending+=fe}(P,L,ee,!0)}n._tr_init=function(P){V||(function(){var L,ee,re,H,ie,fe=new Array(v+1);for(H=re=0;H<m-1;H++)for(X[H]=re,L=0;L<1<<C[H];L++)w[re++]=H;for(w[re-1]=H,H=ie=0;H<16;H++)for(J[H]=ie,L=0;L<1<<D[H];L++)Z[ie++]=H;for(ie>>=7;H<u;H++)for(J[H]=ie<<7,L=0;L<1<<D[H]-7;L++)Z[256+ie++]=H;for(ee=0;ee<=v;ee++)fe[ee]=0;for(L=0;L<=143;)ne[2*L+1]=8,L++,fe[8]++;for(;L<=255;)ne[2*L+1]=9,L++,fe[9]++;for(;L<=279;)ne[2*L+1]=7,L++,fe[7]++;for(;L<=287;)ne[2*L+1]=8,L++,fe[8]++;for(oe(ne,y+1,fe),L=0;L<u;L++)N[2*L+1]=5,N[2*L]=G(L,5);ge=new W(ne,C,d+1,y,v),se=new W(N,D,0,u,v),_e=new W(new Array(0),z,0,_,g)}(),V=!0),P.l_desc=new S(P.dyn_ltree,ge),P.d_desc=new S(P.dyn_dtree,se),P.bl_desc=new S(P.bl_tree,_e),P.bi_buf=0,P.bi_valid=0,ae(P)},n._tr_stored_block=R,n._tr_flush_block=function(P,L,ee,re){var H,ie,fe=0;0<P.level?(P.strm.data_type===2&&(P.strm.data_type=function(le){var ve,Ne=4093624447;for(ve=0;ve<=31;ve++,Ne>>>=1)if(1&Ne&&le.dyn_ltree[2*ve]!==0)return i;if(le.dyn_ltree[18]!==0||le.dyn_ltree[20]!==0||le.dyn_ltree[26]!==0)return o;for(ve=32;ve<d;ve++)if(le.dyn_ltree[2*ve]!==0)return o;return i}(P)),te(P,P.l_desc),te(P,P.d_desc),fe=function(le){var ve;for(p(le,le.dyn_ltree,le.l_desc.max_code),p(le,le.dyn_dtree,le.d_desc.max_code),te(le,le.bl_desc),ve=_-1;3<=ve&&le.bl_tree[2*K[ve]+1]===0;ve--);return le.opt_len+=3*(ve+1)+5+5+4,ve}(P),H=P.opt_len+3+7>>>3,(ie=P.static_len+3+7>>>3)<=H&&(H=ie)):H=ie=ee+5,ee+4<=H&&L!==-1?R(P,L,ee,re):P.strategy===4||ie===H?($(P,2+(re?1:0),3),q(P,ne,N)):($(P,4+(re?1:0),3),function(le,ve,Ne,Ce){var Be;for($(le,ve-257,5),$(le,Ne-1,5),$(le,Ce-4,4),Be=0;Be<Ce;Be++)$(le,le.bl_tree[2*K[Be]+1],3);x(le,le.dyn_ltree,ve-1),x(le,le.dyn_dtree,Ne-1)}(P,P.l_desc.max_code+1,P.d_desc.max_code+1,fe+1),q(P,P.dyn_ltree,P.dyn_dtree)),ae(P),re&&pe(P)},n._tr_tally=function(P,L,ee){return P.pending_buf[P.d_buf+2*P.last_lit]=L>>>8&255,P.pending_buf[P.d_buf+2*P.last_lit+1]=255&L,P.pending_buf[P.l_buf+P.last_lit]=255&ee,P.last_lit++,L===0?P.dyn_ltree[2*ee]++:(P.matches++,L--,P.dyn_ltree[2*(w[ee]+d+1)]++,P.dyn_dtree[2*T(L)]++),P.last_lit===P.lit_bufsize-1},n._tr_align=function(P){$(P,2,3),I(P,b,ne),function(L){L.bi_valid===16?(B(L,L.bi_buf),L.bi_buf=0,L.bi_valid=0):8<=L.bi_valid&&(L.pending_buf[L.pending++]=255&L.bi_buf,L.bi_buf>>=8,L.bi_valid-=8)}(P)}},{"../utils/common":41}],53:[function(r,a,n){a.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,a,n){(function(s){(function(i,o){if(!i.setImmediate){var l,c,m,d,y=1,u={},_=!1,f=i.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(i);v=v&&v.setTimeout?v:i,l={}.toString.call(i.process)==="[object process]"?function(k){process.nextTick(function(){g(k)})}:function(){if(i.postMessage&&!i.importScripts){var k=!0,E=i.onmessage;return i.onmessage=function(){k=!1},i.postMessage("","*"),i.onmessage=E,k}}()?(d="setImmediate$"+Math.random()+"$",i.addEventListener?i.addEventListener("message",b,!1):i.attachEvent("onmessage",b),function(k){i.postMessage(d+k,"*")}):i.MessageChannel?((m=new MessageChannel).port1.onmessage=function(k){g(k.data)},function(k){m.port2.postMessage(k)}):f&&"onreadystatechange"in f.createElement("script")?(c=f.documentElement,function(k){var E=f.createElement("script");E.onreadystatechange=function(){g(k),E.onreadystatechange=null,c.removeChild(E),E=null},c.appendChild(E)}):function(k){setTimeout(g,0,k)},v.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var E=new Array(arguments.length-1),A=0;A<E.length;A++)E[A]=arguments[A+1];var C={callback:k,args:E};return u[y]=C,l(y),y++},v.clearImmediate=h}function h(k){delete u[k]}function g(k){if(_)setTimeout(g,0,k);else{var E=u[k];if(E){_=!0;try{(function(A){var C=A.callback,D=A.args;switch(D.length){case 0:C();break;case 1:C(D[0]);break;case 2:C(D[0],D[1]);break;case 3:C(D[0],D[1],D[2]);break;default:C.apply(o,D)}})(E)}finally{h(k),_=!1}}}}function b(k){k.source===i&&typeof k.data=="string"&&k.data.indexOf(d)===0&&g(+k.data.slice(d.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof Or<"u"?Or:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Po);const Vr=Un;var pn={},Oo={get exports(){return pn},set exports(t){pn=t}},ta={},Rt={},Yt={},xr={},Ie={},Mr={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends e{constructor(g){if(super(),!t.IDENTIFIER.test(g))throw new Error("CodeGen: name must be a valid identifier");this.str=g}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class a extends e{constructor(g){super(),this._items=typeof g=="string"?[g]:g}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const g=this._items[0];return g===""||g==='""'}get str(){var g;return(g=this._str)!==null&&g!==void 0?g:this._str=this._items.reduce((b,k)=>`${b}${k}`,"")}get names(){var g;return(g=this._names)!==null&&g!==void 0?g:this._names=this._items.reduce((b,k)=>(k instanceof r&&(b[k.str]=(b[k.str]||0)+1),b),{})}}t._Code=a,t.nil=new a("");function n(h,...g){const b=[h[0]];let k=0;for(;k<g.length;)o(b,g[k]),b.push(h[++k]);return new a(b)}t._=n;const s=new a("+");function i(h,...g){const b=[u(h[0])];let k=0;for(;k<g.length;)b.push(s),o(b,g[k]),b.push(s,u(h[++k]));return l(b),new a(b)}t.str=i;function o(h,g){g instanceof a?h.push(...g._items):g instanceof r?h.push(g):h.push(d(g))}t.addCodeArg=o;function l(h){let g=1;for(;g<h.length-1;){if(h[g]===s){const b=c(h[g-1],h[g+1]);if(b!==void 0){h.splice(g-1,3,b);continue}h[g++]="+"}g++}}function c(h,g){if(g==='""')return h;if(h==='""')return g;if(typeof h=="string")return g instanceof r||h[h.length-1]!=='"'?void 0:typeof g!="string"?`${h.slice(0,-1)}${g}"`:g[0]==='"'?h.slice(0,-1)+g.slice(1):void 0;if(typeof g=="string"&&g[0]==='"'&&!(h instanceof r))return`"${h}${g.slice(1)}`}function m(h,g){return g.emptyStr()?h:h.emptyStr()?g:i`${h}${g}`}t.strConcat=m;function d(h){return typeof h=="number"||typeof h=="boolean"||h===null?h:u(Array.isArray(h)?h.join(","):h)}function y(h){return new a(u(h))}t.stringify=y;function u(h){return JSON.stringify(h).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=u;function _(h){return typeof h=="string"&&t.IDENTIFIER.test(h)?new a(`.${h}`):n`[${h}]`}t.getProperty=_;function f(h){if(typeof h=="string"&&t.IDENTIFIER.test(h))return new a(`${h}`);throw new Error(`CodeGen: invalid export name: ${h}, use explicit $id name mapping`)}t.getEsmExportName=f;function v(h){return new a(h.toString())}t.regexpCode=v})(Mr);var Ln={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=Mr;class r extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var a;(function(l){l[l.Started=0]="Started",l[l.Completed=1]="Completed"})(a=t.UsedValueState||(t.UsedValueState={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class n{constructor({prefixes:c,parent:m}={}){this._names={},this._prefixes=c,this._parent=m}toName(c){return c instanceof e.Name?c:this.name(c)}name(c){return new e.Name(this._newName(c))}_newName(c){const m=this._names[c]||this._nameGroup(c);return`${c}${m.index++}`}_nameGroup(c){var m,d;if(!((d=(m=this._parent)===null||m===void 0?void 0:m._prefixes)===null||d===void 0)&&d.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}t.Scope=n;class s extends e.Name{constructor(c,m){super(m),this.prefix=c}setValue(c,{property:m,itemIndex:d}){this.value=c,this.scopePath=(0,e._)`.${new e.Name(m)}[${d}]`}}t.ValueScopeName=s;const i=(0,e._)`\n`;class o extends n{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?i:e.nil}}get(){return this._scope}name(c){return new s(c,this._newName(c))}value(c,m){var d;if(m.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const y=this.toName(c),{prefix:u}=y,_=(d=m.key)!==null&&d!==void 0?d:m.ref;let f=this._values[u];if(f){const g=f.get(_);if(g)return g}else f=this._values[u]=new Map;f.set(_,y);const v=this._scope[u]||(this._scope[u]=[]),h=v.length;return v[h]=m.ref,y.setValue(m,{property:u,itemIndex:h}),y}getValue(c,m){const d=this._values[c];if(d)return d.get(m)}scopeRefs(c,m=this._values){return this._reduceValues(m,d=>{if(d.scopePath===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return(0,e._)`${c}${d.scopePath}`})}scopeCode(c=this._values,m,d){return this._reduceValues(c,y=>{if(y.value===void 0)throw new Error(`CodeGen: name "${y}" has no value`);return y.value.code},m,d)}_reduceValues(c,m,d={},y){let u=e.nil;for(const _ in c){const f=c[_];if(!f)continue;const v=d[_]=d[_]||new Map;f.forEach(h=>{if(v.has(h))return;v.set(h,a.Started);let g=m(h);if(g){const b=this.opts.es5?t.varKinds.var:t.varKinds.const;u=(0,e._)`${u}${b} ${h} = ${g};${this.opts._n}`}else if(g=y==null?void 0:y(h))u=(0,e._)`${u}${g}${this.opts._n}`;else throw new r(h);v.set(h,a.Completed)})}return u}}t.ValueScope=o})(Ln);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=Mr,r=Ln;var a=Mr;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return a._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return a.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return a.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return a.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return a.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return a.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return a.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return a.Name}});var n=Ln;Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return n.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return n.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return n.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return n.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class s{optimizeNodes(){return this}optimizeNames($,I){return this}}class i extends s{constructor($,I,G){super(),this.varKind=$,this.name=I,this.rhs=G}render({es5:$,_n:I}){const G=$?r.varKinds.var:this.varKind,oe=this.rhs===void 0?"":` = ${this.rhs}`;return`${G} ${this.name}${oe};`+I}optimizeNames($,I){if($[this.name.str])return this.rhs&&(this.rhs=w(this.rhs,$,I)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class o extends s{constructor($,I,G){super(),this.lhs=$,this.rhs=I,this.sideEffects=G}render({_n:$}){return`${this.lhs} = ${this.rhs};`+$}optimizeNames($,I){if(!(this.lhs instanceof e.Name&&!$[this.lhs.str]&&!this.sideEffects))return this.rhs=w(this.rhs,$,I),this}get names(){const $=this.lhs instanceof e.Name?{}:{...this.lhs.names};return Z($,this.rhs)}}class l extends o{constructor($,I,G,oe){super($,G,oe),this.op=I}render({_n:$}){return`${this.lhs} ${this.op}= ${this.rhs};`+$}}class c extends s{constructor($){super(),this.label=$,this.names={}}render({_n:$}){return`${this.label}:`+$}}class m extends s{constructor($){super(),this.label=$,this.names={}}render({_n:$}){return`break${this.label?` ${this.label}`:""};`+$}}class d extends s{constructor($){super(),this.error=$}render({_n:$}){return`throw ${this.error};`+$}get names(){return this.error.names}}class y extends s{constructor($){super(),this.code=$}render({_n:$}){return`${this.code};`+$}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames($,I){return this.code=w(this.code,$,I),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class u extends s{constructor($=[]){super(),this.nodes=$}render($){return this.nodes.reduce((I,G)=>I+G.render($),"")}optimizeNodes(){const{nodes:$}=this;let I=$.length;for(;I--;){const G=$[I].optimizeNodes();Array.isArray(G)?$.splice(I,1,...G):G?$[I]=G:$.splice(I,1)}return $.length>0?this:void 0}optimizeNames($,I){const{nodes:G}=this;let oe=G.length;for(;oe--;){const ae=G[oe];ae.optimizeNames($,I)||(X($,ae.names),G.splice(oe,1))}return G.length>0?this:void 0}get names(){return this.nodes.reduce(($,I)=>N($,I.names),{})}}class _ extends u{render($){return"{"+$._n+super.render($)+"}"+$._n}}class f extends u{}class v extends _{}v.kind="else";class h extends _{constructor($,I){super(I),this.condition=$}render($){let I=`if(${this.condition})`+super.render($);return this.else&&(I+="else "+this.else.render($)),I}optimizeNodes(){super.optimizeNodes();const $=this.condition;if($===!0)return this.nodes;let I=this.else;if(I){const G=I.optimizeNodes();I=this.else=Array.isArray(G)?new v(G):G}if(I)return $===!1?I instanceof h?I:I.nodes:this.nodes.length?this:new h(ge($),I instanceof h?[I]:I.nodes);if(!($===!1||!this.nodes.length))return this}optimizeNames($,I){var G;if(this.else=(G=this.else)===null||G===void 0?void 0:G.optimizeNames($,I),!!(super.optimizeNames($,I)||this.else))return this.condition=w(this.condition,$,I),this}get names(){const $=super.names;return Z($,this.condition),this.else&&N($,this.else.names),$}}h.kind="if";class g extends _{}g.kind="for";class b extends g{constructor($){super(),this.iteration=$}render($){return`for(${this.iteration})`+super.render($)}optimizeNames($,I){if(super.optimizeNames($,I))return this.iteration=w(this.iteration,$,I),this}get names(){return N(super.names,this.iteration.names)}}class k extends g{constructor($,I,G,oe){super(),this.varKind=$,this.name=I,this.from=G,this.to=oe}render($){const I=$.es5?r.varKinds.var:this.varKind,{name:G,from:oe,to:ae}=this;return`for(${I} ${G}=${oe}; ${G}<${ae}; ${G}++)`+super.render($)}get names(){const $=Z(super.names,this.from);return Z($,this.to)}}class E extends g{constructor($,I,G,oe){super(),this.loop=$,this.varKind=I,this.name=G,this.iterable=oe}render($){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render($)}optimizeNames($,I){if(super.optimizeNames($,I))return this.iterable=w(this.iterable,$,I),this}get names(){return N(super.names,this.iterable.names)}}class A extends _{constructor($,I,G){super(),this.name=$,this.args=I,this.async=G}render($){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render($)}}A.kind="func";class C extends u{render($){return"return "+super.render($)}}C.kind="return";class D extends _{render($){let I="try"+super.render($);return this.catch&&(I+=this.catch.render($)),this.finally&&(I+=this.finally.render($)),I}optimizeNodes(){var $,I;return super.optimizeNodes(),($=this.catch)===null||$===void 0||$.optimizeNodes(),(I=this.finally)===null||I===void 0||I.optimizeNodes(),this}optimizeNames($,I){var G,oe;return super.optimizeNames($,I),(G=this.catch)===null||G===void 0||G.optimizeNames($,I),(oe=this.finally)===null||oe===void 0||oe.optimizeNames($,I),this}get names(){const $=super.names;return this.catch&&N($,this.catch.names),this.finally&&N($,this.finally.names),$}}class z extends _{constructor($){super(),this.error=$}render($){return`catch(${this.error})`+super.render($)}}z.kind="catch";class K extends _{render($){return"finally"+super.render($)}}K.kind="finally";class ne{constructor($,I={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...I,_n:I.lines?`
`:""},this._extScope=$,this._scope=new r.Scope({parent:$}),this._nodes=[new f]}toString(){return this._root.render(this.opts)}name($){return this._scope.name($)}scopeName($){return this._extScope.name($)}scopeValue($,I){const G=this._extScope.value($,I);return(this._values[G.prefix]||(this._values[G.prefix]=new Set)).add(G),G}getScopeValue($,I){return this._extScope.getValue($,I)}scopeRefs($){return this._extScope.scopeRefs($,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def($,I,G,oe){const ae=this._scope.toName(I);return G!==void 0&&oe&&(this._constants[ae.str]=G),this._leafNode(new i($,ae,G)),ae}const($,I,G){return this._def(r.varKinds.const,$,I,G)}let($,I,G){return this._def(r.varKinds.let,$,I,G)}var($,I,G){return this._def(r.varKinds.var,$,I,G)}assign($,I,G){return this._leafNode(new o($,I,G))}add($,I){return this._leafNode(new l($,t.operators.ADD,I))}code($){return typeof $=="function"?$():$!==e.nil&&this._leafNode(new y($)),this}object(...$){const I=["{"];for(const[G,oe]of $)I.length>1&&I.push(","),I.push(G),(G!==oe||this.opts.es5)&&(I.push(":"),(0,e.addCodeArg)(I,oe));return I.push("}"),new e._Code(I)}if($,I,G){if(this._blockNode(new h($)),I&&G)this.code(I).else().code(G).endIf();else if(I)this.code(I).endIf();else if(G)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf($){return this._elseNode(new h($))}else(){return this._elseNode(new v)}endIf(){return this._endBlockNode(h,v)}_for($,I){return this._blockNode($),I&&this.code(I).endFor(),this}for($,I){return this._for(new b($),I)}forRange($,I,G,oe,ae=this.opts.es5?r.varKinds.var:r.varKinds.let){const pe=this._scope.toName($);return this._for(new k(ae,pe,I,G),()=>oe(pe))}forOf($,I,G,oe=r.varKinds.const){const ae=this._scope.toName($);if(this.opts.es5){const pe=I instanceof e.Name?I:this.var("_arr",I);return this.forRange("_i",0,(0,e._)`${pe}.length`,ye=>{this.var(ae,(0,e._)`${pe}[${ye}]`),G(ae)})}return this._for(new E("of",oe,ae,I),()=>G(ae))}forIn($,I,G,oe=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf($,(0,e._)`Object.keys(${I})`,G);const ae=this._scope.toName($);return this._for(new E("in",oe,ae,I),()=>G(ae))}endFor(){return this._endBlockNode(g)}label($){return this._leafNode(new c($))}break($){return this._leafNode(new m($))}return($){const I=new C;if(this._blockNode(I),this.code($),I.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(C)}try($,I,G){if(!I&&!G)throw new Error('CodeGen: "try" without "catch" and "finally"');const oe=new D;if(this._blockNode(oe),this.code($),I){const ae=this.name("e");this._currNode=oe.catch=new z(ae),I(ae)}return G&&(this._currNode=oe.finally=new K,this.code(G)),this._endBlockNode(z,K)}throw($){return this._leafNode(new d($))}block($,I){return this._blockStarts.push(this._nodes.length),$&&this.code($).endBlock(I),this}endBlock($){const I=this._blockStarts.pop();if(I===void 0)throw new Error("CodeGen: not in self-balancing block");const G=this._nodes.length-I;if(G<0||$!==void 0&&G!==$)throw new Error(`CodeGen: wrong number of nodes: ${G} vs ${$} expected`);return this._nodes.length=I,this}func($,I=e.nil,G,oe){return this._blockNode(new A($,I,G)),oe&&this.code(oe).endFunc(),this}endFunc(){return this._endBlockNode(A)}optimize($=1){for(;$-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode($){return this._currNode.nodes.push($),this}_blockNode($){this._currNode.nodes.push($),this._nodes.push($)}_endBlockNode($,I){const G=this._currNode;if(G instanceof $||I&&G instanceof I)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${I?`${$.kind}/${I.kind}`:$.kind}"`)}_elseNode($){const I=this._currNode;if(!(I instanceof h))throw new Error('CodeGen: "else" without "if"');return this._currNode=I.else=$,this}get _root(){return this._nodes[0]}get _currNode(){const $=this._nodes;return $[$.length-1]}set _currNode($){const I=this._nodes;I[I.length-1]=$}}t.CodeGen=ne;function N(B,$){for(const I in $)B[I]=(B[I]||0)+($[I]||0);return B}function Z(B,$){return $ instanceof e._CodeOrName?N(B,$.names):B}function w(B,$,I){if(B instanceof e.Name)return G(B);if(!oe(B))return B;return new e._Code(B._items.reduce((ae,pe)=>(pe instanceof e.Name&&(pe=G(pe)),pe instanceof e._Code?ae.push(...pe._items):ae.push(pe),ae),[]));function G(ae){const pe=I[ae.str];return pe===void 0||$[ae.str]!==1?ae:(delete $[ae.str],pe)}function oe(ae){return ae instanceof e._Code&&ae._items.some(pe=>pe instanceof e.Name&&$[pe.str]===1&&I[pe.str]!==void 0)}}function X(B,$){for(const I in $)B[I]=(B[I]||0)-($[I]||0)}function ge(B){return typeof B=="boolean"||typeof B=="number"||B===null?!B:(0,e._)`!${T(B)}`}t.not=ge;const se=S(t.operators.AND);function _e(...B){return B.reduce(se)}t.and=_e;const J=S(t.operators.OR);function W(...B){return B.reduce(J)}t.or=W;function S(B){return($,I)=>$===e.nil?I:I===e.nil?$:(0,e._)`${T($)} ${B} ${T(I)}`}function T(B){return B instanceof e.Name?B:(0,e._)`(${B})`}})(Ie);var Re={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.checkStrictMode=t.getErrorPath=t.Type=t.useFunc=t.setEvaluated=t.evaluatedPropsToName=t.mergeEvaluated=t.eachItem=t.unescapeJsonPointer=t.escapeJsonPointer=t.escapeFragment=t.unescapeFragment=t.schemaRefOrVal=t.schemaHasRulesButRef=t.schemaHasRules=t.checkUnknownRules=t.alwaysValidSchema=t.toHash=void 0;const e=Ie,r=Mr;function a(A){const C={};for(const D of A)C[D]=!0;return C}t.toHash=a;function n(A,C){return typeof C=="boolean"?C:Object.keys(C).length===0?!0:(s(A,C),!i(C,A.self.RULES.all))}t.alwaysValidSchema=n;function s(A,C=A.schema){const{opts:D,self:z}=A;if(!D.strictSchema||typeof C=="boolean")return;const K=z.RULES.keywords;for(const ne in C)K[ne]||E(A,`unknown keyword: "${ne}"`)}t.checkUnknownRules=s;function i(A,C){if(typeof A=="boolean")return!A;for(const D in A)if(C[D])return!0;return!1}t.schemaHasRules=i;function o(A,C){if(typeof A=="boolean")return!A;for(const D in A)if(D!=="$ref"&&C.all[D])return!0;return!1}t.schemaHasRulesButRef=o;function l({topSchemaRef:A,schemaPath:C},D,z,K){if(!K){if(typeof D=="number"||typeof D=="boolean")return D;if(typeof D=="string")return(0,e._)`${D}`}return(0,e._)`${A}${C}${(0,e.getProperty)(z)}`}t.schemaRefOrVal=l;function c(A){return y(decodeURIComponent(A))}t.unescapeFragment=c;function m(A){return encodeURIComponent(d(A))}t.escapeFragment=m;function d(A){return typeof A=="number"?`${A}`:A.replace(/~/g,"~0").replace(/\//g,"~1")}t.escapeJsonPointer=d;function y(A){return A.replace(/~1/g,"/").replace(/~0/g,"~")}t.unescapeJsonPointer=y;function u(A,C){if(Array.isArray(A))for(const D of A)C(D);else C(A)}t.eachItem=u;function _({mergeNames:A,mergeToName:C,mergeValues:D,resultToName:z}){return(K,ne,N,Z)=>{const w=N===void 0?ne:N instanceof e.Name?(ne instanceof e.Name?A(K,ne,N):C(K,ne,N),N):ne instanceof e.Name?(C(K,N,ne),ne):D(ne,N);return Z===e.Name&&!(w instanceof e.Name)?z(K,w):w}}t.mergeEvaluated={props:_({mergeNames:(A,C,D)=>A.if((0,e._)`${D} !== true && ${C} !== undefined`,()=>{A.if((0,e._)`${C} === true`,()=>A.assign(D,!0),()=>A.assign(D,(0,e._)`${D} || {}`).code((0,e._)`Object.assign(${D}, ${C})`))}),mergeToName:(A,C,D)=>A.if((0,e._)`${D} !== true`,()=>{C===!0?A.assign(D,!0):(A.assign(D,(0,e._)`${D} || {}`),v(A,D,C))}),mergeValues:(A,C)=>A===!0?!0:{...A,...C},resultToName:f}),items:_({mergeNames:(A,C,D)=>A.if((0,e._)`${D} !== true && ${C} !== undefined`,()=>A.assign(D,(0,e._)`${C} === true ? true : ${D} > ${C} ? ${D} : ${C}`)),mergeToName:(A,C,D)=>A.if((0,e._)`${D} !== true`,()=>A.assign(D,C===!0?!0:(0,e._)`${D} > ${C} ? ${D} : ${C}`)),mergeValues:(A,C)=>A===!0?!0:Math.max(A,C),resultToName:(A,C)=>A.var("items",C)})};function f(A,C){if(C===!0)return A.var("props",!0);const D=A.var("props",(0,e._)`{}`);return C!==void 0&&v(A,D,C),D}t.evaluatedPropsToName=f;function v(A,C,D){Object.keys(D).forEach(z=>A.assign((0,e._)`${C}${(0,e.getProperty)(z)}`,!0))}t.setEvaluated=v;const h={};function g(A,C){return A.scopeValue("func",{ref:C,code:h[C.code]||(h[C.code]=new r._Code(C.code))})}t.useFunc=g;var b;(function(A){A[A.Num=0]="Num",A[A.Str=1]="Str"})(b=t.Type||(t.Type={}));function k(A,C,D){if(A instanceof e.Name){const z=C===b.Num;return D?z?(0,e._)`"[" + ${A} + "]"`:(0,e._)`"['" + ${A} + "']"`:z?(0,e._)`"/" + ${A}`:(0,e._)`"/" + ${A}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return D?(0,e.getProperty)(A).toString():"/"+d(A)}t.getErrorPath=k;function E(A,C,D=A.opts.strictSchema){if(D){if(C=`strict mode: ${C}`,D===!0)throw new Error(C);A.self.logger.warn(C)}}t.checkStrictMode=E})(Re);var Xr={},ri;function Zt(){if(ri)return Xr;ri=1,Object.defineProperty(Xr,"__esModule",{value:!0});const t=Ie,e={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};return Xr.default=e,Xr}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=Ie,r=Re,a=Zt();t.keywordError={message:({keyword:v})=>(0,e.str)`must pass "${v}" keyword validation`},t.keyword$DataError={message:({keyword:v,schemaType:h})=>h?(0,e.str)`"${v}" keyword must be ${h} ($data)`:(0,e.str)`"${v}" keyword is invalid ($data)`};function n(v,h=t.keywordError,g,b){const{it:k}=v,{gen:E,compositeRule:A,allErrors:C}=k,D=d(v,h,g);b??(A||C)?l(E,D):c(k,(0,e._)`[${D}]`)}t.reportError=n;function s(v,h=t.keywordError,g){const{it:b}=v,{gen:k,compositeRule:E,allErrors:A}=b,C=d(v,h,g);l(k,C),E||A||c(b,a.default.vErrors)}t.reportExtraError=s;function i(v,h){v.assign(a.default.errors,h),v.if((0,e._)`${a.default.vErrors} !== null`,()=>v.if(h,()=>v.assign((0,e._)`${a.default.vErrors}.length`,h),()=>v.assign(a.default.vErrors,null)))}t.resetErrorsCount=i;function o({gen:v,keyword:h,schemaValue:g,data:b,errsCount:k,it:E}){if(k===void 0)throw new Error("ajv implementation error");const A=v.name("err");v.forRange("i",k,a.default.errors,C=>{v.const(A,(0,e._)`${a.default.vErrors}[${C}]`),v.if((0,e._)`${A}.instancePath === undefined`,()=>v.assign((0,e._)`${A}.instancePath`,(0,e.strConcat)(a.default.instancePath,E.errorPath))),v.assign((0,e._)`${A}.schemaPath`,(0,e.str)`${E.errSchemaPath}/${h}`),E.opts.verbose&&(v.assign((0,e._)`${A}.schema`,g),v.assign((0,e._)`${A}.data`,b))})}t.extendErrors=o;function l(v,h){const g=v.const("err",h);v.if((0,e._)`${a.default.vErrors} === null`,()=>v.assign(a.default.vErrors,(0,e._)`[${g}]`),(0,e._)`${a.default.vErrors}.push(${g})`),v.code((0,e._)`${a.default.errors}++`)}function c(v,h){const{gen:g,validateName:b,schemaEnv:k}=v;k.$async?g.throw((0,e._)`new ${v.ValidationError}(${h})`):(g.assign((0,e._)`${b}.errors`,h),g.return(!1))}const m={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function d(v,h,g){const{createErrors:b}=v.it;return b===!1?(0,e._)`{}`:y(v,h,g)}function y(v,h,g={}){const{gen:b,it:k}=v,E=[u(k,g),_(v,g)];return f(v,h,E),b.object(...E)}function u({errorPath:v},{instancePath:h}){const g=h?(0,e.str)`${v}${(0,r.getErrorPath)(h,r.Type.Str)}`:v;return[a.default.instancePath,(0,e.strConcat)(a.default.instancePath,g)]}function _({keyword:v,it:{errSchemaPath:h}},{schemaPath:g,parentSchema:b}){let k=b?h:(0,e.str)`${h}/${v}`;return g&&(k=(0,e.str)`${k}${(0,r.getErrorPath)(g,r.Type.Str)}`),[m.schemaPath,k]}function f(v,{params:h,message:g},b){const{keyword:k,data:E,schemaValue:A,it:C}=v,{opts:D,propertyName:z,topSchemaRef:K,schemaPath:ne}=C;b.push([m.keyword,k],[m.params,typeof h=="function"?h(v):h||(0,e._)`{}`]),D.messages&&b.push([m.message,typeof g=="function"?g(v):g]),D.verbose&&b.push([m.schema,A],[m.parentSchema,(0,e._)`${K}${ne}`],[a.default.data,E]),z&&b.push([m.propertyName,z])}})(xr);var ni;function Ro(){if(ni)return Yt;ni=1,Object.defineProperty(Yt,"__esModule",{value:!0}),Yt.boolOrEmptySchema=Yt.topBoolOrEmptySchema=void 0;const t=xr,e=Ie,r=Zt(),a={message:"boolean schema is false"};function n(o){const{gen:l,schema:c,validateName:m}=o;c===!1?i(o,!1):typeof c=="object"&&c.$async===!0?l.return(r.default.data):(l.assign((0,e._)`${m}.errors`,null),l.return(!0))}Yt.topBoolOrEmptySchema=n;function s(o,l){const{gen:c,schema:m}=o;m===!1?(c.var(l,!1),i(o)):c.var(l,!0)}Yt.boolOrEmptySchema=s;function i(o,l){const{gen:c,data:m}=o,d={gen:c,keyword:"false schema",data:m,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:o};(0,t.reportError)(d,a,void 0,l)}return Yt}var Ur={},nr={};Object.defineProperty(nr,"__esModule",{value:!0});nr.getRules=nr.isJSONType=void 0;const No=["string","number","integer","boolean","null","object","array"],To=new Set(No);function Do(t){return typeof t=="string"&&To.has(t)}nr.isJSONType=Do;function jo(){const t={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...t,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},t.number,t.string,t.array,t.object],post:{rules:[]},all:{},keywords:{}}}nr.getRules=jo;var Nt={},si;function ra(){if(si)return Nt;si=1,Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.shouldUseRule=Nt.shouldUseGroup=Nt.schemaHasRulesForType=void 0;function t({schema:a,self:n},s){const i=n.RULES.types[s];return i&&i!==!0&&e(a,i)}Nt.schemaHasRulesForType=t;function e(a,n){return n.rules.some(s=>r(a,s))}Nt.shouldUseGroup=e;function r(a,n){var s;return a[n.keyword]!==void 0||((s=n.definition.implements)===null||s===void 0?void 0:s.some(i=>a[i]!==void 0))}return Nt.shouldUseRule=r,Nt}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.reportTypeError=t.checkDataTypes=t.checkDataType=t.coerceAndCheckDataType=t.getJSONTypes=t.getSchemaTypes=t.DataType=void 0;const e=nr,r=ra(),a=xr,n=Ie,s=Re;var i;(function(b){b[b.Correct=0]="Correct",b[b.Wrong=1]="Wrong"})(i=t.DataType||(t.DataType={}));function o(b){const k=l(b.type);if(k.includes("null")){if(b.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!k.length&&b.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');b.nullable===!0&&k.push("null")}return k}t.getSchemaTypes=o;function l(b){const k=Array.isArray(b)?b:b?[b]:[];if(k.every(e.isJSONType))return k;throw new Error("type must be JSONType or JSONType[]: "+k.join(","))}t.getJSONTypes=l;function c(b,k){const{gen:E,data:A,opts:C}=b,D=d(k,C.coerceTypes),z=k.length>0&&!(D.length===0&&k.length===1&&(0,r.schemaHasRulesForType)(b,k[0]));if(z){const K=f(k,A,C.strictNumbers,i.Wrong);E.if(K,()=>{D.length?y(b,k,D):h(b)})}return z}t.coerceAndCheckDataType=c;const m=new Set(["string","number","integer","boolean","null"]);function d(b,k){return k?b.filter(E=>m.has(E)||k==="array"&&E==="array"):[]}function y(b,k,E){const{gen:A,data:C,opts:D}=b,z=A.let("dataType",(0,n._)`typeof ${C}`),K=A.let("coerced",(0,n._)`undefined`);D.coerceTypes==="array"&&A.if((0,n._)`${z} == 'object' && Array.isArray(${C}) && ${C}.length == 1`,()=>A.assign(C,(0,n._)`${C}[0]`).assign(z,(0,n._)`typeof ${C}`).if(f(k,C,D.strictNumbers),()=>A.assign(K,C))),A.if((0,n._)`${K} !== undefined`);for(const N of E)(m.has(N)||N==="array"&&D.coerceTypes==="array")&&ne(N);A.else(),h(b),A.endIf(),A.if((0,n._)`${K} !== undefined`,()=>{A.assign(C,K),u(b,K)});function ne(N){switch(N){case"string":A.elseIf((0,n._)`${z} == "number" || ${z} == "boolean"`).assign(K,(0,n._)`"" + ${C}`).elseIf((0,n._)`${C} === null`).assign(K,(0,n._)`""`);return;case"number":A.elseIf((0,n._)`${z} == "boolean" || ${C} === null
              || (${z} == "string" && ${C} && ${C} == +${C})`).assign(K,(0,n._)`+${C}`);return;case"integer":A.elseIf((0,n._)`${z} === "boolean" || ${C} === null
              || (${z} === "string" && ${C} && ${C} == +${C} && !(${C} % 1))`).assign(K,(0,n._)`+${C}`);return;case"boolean":A.elseIf((0,n._)`${C} === "false" || ${C} === 0 || ${C} === null`).assign(K,!1).elseIf((0,n._)`${C} === "true" || ${C} === 1`).assign(K,!0);return;case"null":A.elseIf((0,n._)`${C} === "" || ${C} === 0 || ${C} === false`),A.assign(K,null);return;case"array":A.elseIf((0,n._)`${z} === "string" || ${z} === "number"
              || ${z} === "boolean" || ${C} === null`).assign(K,(0,n._)`[${C}]`)}}}function u({gen:b,parentData:k,parentDataProperty:E},A){b.if((0,n._)`${k} !== undefined`,()=>b.assign((0,n._)`${k}[${E}]`,A))}function _(b,k,E,A=i.Correct){const C=A===i.Correct?n.operators.EQ:n.operators.NEQ;let D;switch(b){case"null":return(0,n._)`${k} ${C} null`;case"array":D=(0,n._)`Array.isArray(${k})`;break;case"object":D=(0,n._)`${k} && typeof ${k} == "object" && !Array.isArray(${k})`;break;case"integer":D=z((0,n._)`!(${k} % 1) && !isNaN(${k})`);break;case"number":D=z();break;default:return(0,n._)`typeof ${k} ${C} ${b}`}return A===i.Correct?D:(0,n.not)(D);function z(K=n.nil){return(0,n.and)((0,n._)`typeof ${k} == "number"`,K,E?(0,n._)`isFinite(${k})`:n.nil)}}t.checkDataType=_;function f(b,k,E,A){if(b.length===1)return _(b[0],k,E,A);let C;const D=(0,s.toHash)(b);if(D.array&&D.object){const z=(0,n._)`typeof ${k} != "object"`;C=D.null?z:(0,n._)`!${k} || ${z}`,delete D.null,delete D.array,delete D.object}else C=n.nil;D.number&&delete D.integer;for(const z in D)C=(0,n.and)(C,_(z,k,E,A));return C}t.checkDataTypes=f;const v={message:({schema:b})=>`must be ${b}`,params:({schema:b,schemaValue:k})=>typeof b=="string"?(0,n._)`{type: ${b}}`:(0,n._)`{type: ${k}}`};function h(b){const k=g(b);(0,a.reportError)(k,v)}t.reportTypeError=h;function g(b){const{gen:k,data:E,schema:A}=b,C=(0,s.schemaRefOrVal)(b,A,"type");return{gen:k,keyword:"type",data:E,schema:A.type,schemaCode:C,schemaValue:C,parentSchema:A,params:{},it:b}}})(Ur);var Cr={},ii;function zo(){if(ii)return Cr;ii=1,Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.assignDefaults=void 0;const t=Ie,e=Re;function r(n,s){const{properties:i,items:o}=n.schema;if(s==="object"&&i)for(const l in i)a(n,l,i[l].default);else s==="array"&&Array.isArray(o)&&o.forEach((l,c)=>a(n,c,l.default))}Cr.assignDefaults=r;function a(n,s,i){const{gen:o,compositeRule:l,data:c,opts:m}=n;if(i===void 0)return;const d=(0,t._)`${c}${(0,t.getProperty)(s)}`;if(l){(0,e.checkStrictMode)(n,`default is ignored for: ${d}`);return}let y=(0,t._)`${d} === undefined`;m.useDefaults==="empty"&&(y=(0,t._)`${y} || ${d} === null || ${d} === ""`),o.if(y,(0,t._)`${d} = ${(0,t.stringify)(i)}`)}return Cr}var ht={},De={},ai;function $t(){if(ai)return De;ai=1,Object.defineProperty(De,"__esModule",{value:!0}),De.validateUnion=De.validateArray=De.usePattern=De.callValidateCode=De.schemaProperties=De.allSchemaProperties=De.noPropertyInData=De.propertyInData=De.isOwnProperty=De.hasPropFunc=De.reportMissingProp=De.checkMissingProp=De.checkReportMissingProp=void 0;const t=Ie,e=Re,r=Zt(),a=Re;function n(g,b){const{gen:k,data:E,it:A}=g;k.if(m(k,E,b,A.opts.ownProperties),()=>{g.setParams({missingProperty:(0,t._)`${b}`},!0),g.error()})}De.checkReportMissingProp=n;function s({gen:g,data:b,it:{opts:k}},E,A){return(0,t.or)(...E.map(C=>(0,t.and)(m(g,b,C,k.ownProperties),(0,t._)`${A} = ${C}`)))}De.checkMissingProp=s;function i(g,b){g.setParams({missingProperty:b},!0),g.error()}De.reportMissingProp=i;function o(g){return g.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}De.hasPropFunc=o;function l(g,b,k){return(0,t._)`${o(g)}.call(${b}, ${k})`}De.isOwnProperty=l;function c(g,b,k,E){const A=(0,t._)`${b}${(0,t.getProperty)(k)} !== undefined`;return E?(0,t._)`${A} && ${l(g,b,k)}`:A}De.propertyInData=c;function m(g,b,k,E){const A=(0,t._)`${b}${(0,t.getProperty)(k)} === undefined`;return E?(0,t.or)(A,(0,t.not)(l(g,b,k))):A}De.noPropertyInData=m;function d(g){return g?Object.keys(g).filter(b=>b!=="__proto__"):[]}De.allSchemaProperties=d;function y(g,b){return d(b).filter(k=>!(0,e.alwaysValidSchema)(g,b[k]))}De.schemaProperties=y;function u({schemaCode:g,data:b,it:{gen:k,topSchemaRef:E,schemaPath:A,errorPath:C},it:D},z,K,ne){const N=ne?(0,t._)`${g}, ${b}, ${E}${A}`:b,Z=[[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,C)],[r.default.parentData,D.parentData],[r.default.parentDataProperty,D.parentDataProperty],[r.default.rootData,r.default.rootData]];D.opts.dynamicRef&&Z.push([r.default.dynamicAnchors,r.default.dynamicAnchors]);const w=(0,t._)`${N}, ${k.object(...Z)}`;return K!==t.nil?(0,t._)`${z}.call(${K}, ${w})`:(0,t._)`${z}(${w})`}De.callValidateCode=u;const _=(0,t._)`new RegExp`;function f({gen:g,it:{opts:b}},k){const E=b.unicodeRegExp?"u":"",{regExp:A}=b.code,C=A(k,E);return g.scopeValue("pattern",{key:C.toString(),ref:C,code:(0,t._)`${A.code==="new RegExp"?_:(0,a.useFunc)(g,A)}(${k}, ${E})`})}De.usePattern=f;function v(g){const{gen:b,data:k,keyword:E,it:A}=g,C=b.name("valid");if(A.allErrors){const z=b.let("valid",!0);return D(()=>b.assign(z,!1)),z}return b.var(C,!0),D(()=>b.break()),C;function D(z){const K=b.const("len",(0,t._)`${k}.length`);b.forRange("i",0,K,ne=>{g.subschema({keyword:E,dataProp:ne,dataPropType:e.Type.Num},C),b.if((0,t.not)(C),z)})}}De.validateArray=v;function h(g){const{gen:b,schema:k,keyword:E,it:A}=g;if(!Array.isArray(k))throw new Error("ajv implementation error");if(k.some(K=>(0,e.alwaysValidSchema)(A,K))&&!A.opts.unevaluated)return;const D=b.let("valid",!1),z=b.name("_valid");b.block(()=>k.forEach((K,ne)=>{const N=g.subschema({keyword:E,schemaProp:ne,compositeRule:!0},z);b.assign(D,(0,t._)`${D} || ${z}`),g.mergeValidEvaluated(N,z)||b.if((0,t.not)(D))})),g.result(D,()=>g.reset(),()=>g.error(!0))}return De.validateUnion=h,De}var oi;function Bo(){if(oi)return ht;oi=1,Object.defineProperty(ht,"__esModule",{value:!0}),ht.validateKeywordUsage=ht.validSchemaType=ht.funcKeywordCode=ht.macroKeywordCode=void 0;const t=Ie,e=Zt(),r=$t(),a=xr;function n(y,u){const{gen:_,keyword:f,schema:v,parentSchema:h,it:g}=y,b=u.macro.call(g.self,v,h,g),k=c(_,f,b);g.opts.validateSchema!==!1&&g.self.validateSchema(b,!0);const E=_.name("valid");y.subschema({schema:b,schemaPath:t.nil,errSchemaPath:`${g.errSchemaPath}/${f}`,topSchemaRef:k,compositeRule:!0},E),y.pass(E,()=>y.error(!0))}ht.macroKeywordCode=n;function s(y,u){var _;const{gen:f,keyword:v,schema:h,parentSchema:g,$data:b,it:k}=y;l(k,u);const E=!b&&u.compile?u.compile.call(k.self,h,g,k):u.validate,A=c(f,v,E),C=f.let("valid");y.block$data(C,D),y.ok((_=u.valid)!==null&&_!==void 0?_:C);function D(){if(u.errors===!1)ne(),u.modifying&&i(y),N(()=>y.error());else{const Z=u.async?z():K();u.modifying&&i(y),N(()=>o(y,Z))}}function z(){const Z=f.let("ruleErrs",null);return f.try(()=>ne((0,t._)`await `),w=>f.assign(C,!1).if((0,t._)`${w} instanceof ${k.ValidationError}`,()=>f.assign(Z,(0,t._)`${w}.errors`),()=>f.throw(w))),Z}function K(){const Z=(0,t._)`${A}.errors`;return f.assign(Z,null),ne(t.nil),Z}function ne(Z=u.async?(0,t._)`await `:t.nil){const w=k.opts.passContext?e.default.this:e.default.self,X=!("compile"in u&&!b||u.schema===!1);f.assign(C,(0,t._)`${Z}${(0,r.callValidateCode)(y,A,w,X)}`,u.modifying)}function N(Z){var w;f.if((0,t.not)((w=u.valid)!==null&&w!==void 0?w:C),Z)}}ht.funcKeywordCode=s;function i(y){const{gen:u,data:_,it:f}=y;u.if(f.parentData,()=>u.assign(_,(0,t._)`${f.parentData}[${f.parentDataProperty}]`))}function o(y,u){const{gen:_}=y;_.if((0,t._)`Array.isArray(${u})`,()=>{_.assign(e.default.vErrors,(0,t._)`${e.default.vErrors} === null ? ${u} : ${e.default.vErrors}.concat(${u})`).assign(e.default.errors,(0,t._)`${e.default.vErrors}.length`),(0,a.extendErrors)(y)},()=>y.error())}function l({schemaEnv:y},u){if(u.async&&!y.$async)throw new Error("async keyword in sync schema")}function c(y,u,_){if(_===void 0)throw new Error(`keyword "${u}" failed to compile`);return y.scopeValue("keyword",typeof _=="function"?{ref:_}:{ref:_,code:(0,t.stringify)(_)})}function m(y,u,_=!1){return!u.length||u.some(f=>f==="array"?Array.isArray(y):f==="object"?y&&typeof y=="object"&&!Array.isArray(y):typeof y==f||_&&typeof y>"u")}ht.validSchemaType=m;function d({schema:y,opts:u,self:_,errSchemaPath:f},v,h){if(Array.isArray(v.keyword)?!v.keyword.includes(h):v.keyword!==h)throw new Error("ajv implementation error");const g=v.dependencies;if(g!=null&&g.some(b=>!Object.prototype.hasOwnProperty.call(y,b)))throw new Error(`parent schema must have dependencies of ${h}: ${g.join(",")}`);if(v.validateSchema&&!v.validateSchema(y[h])){const k=`keyword "${h}" value is invalid at path "${f}": `+_.errorsText(v.validateSchema.errors);if(u.validateSchema==="log")_.logger.error(k);else throw new Error(k)}}return ht.validateKeywordUsage=d,ht}var Tt={},li;function Fo(){if(li)return Tt;li=1,Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.extendSubschemaMode=Tt.extendSubschemaData=Tt.getSubschema=void 0;const t=Ie,e=Re;function r(s,{keyword:i,schemaProp:o,schema:l,schemaPath:c,errSchemaPath:m,topSchemaRef:d}){if(i!==void 0&&l!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(i!==void 0){const y=s.schema[i];return o===void 0?{schema:y,schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(i)}`,errSchemaPath:`${s.errSchemaPath}/${i}`}:{schema:y[o],schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(i)}${(0,t.getProperty)(o)}`,errSchemaPath:`${s.errSchemaPath}/${i}/${(0,e.escapeFragment)(o)}`}}if(l!==void 0){if(c===void 0||m===void 0||d===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:l,schemaPath:c,topSchemaRef:d,errSchemaPath:m}}throw new Error('either "keyword" or "schema" must be passed')}Tt.getSubschema=r;function a(s,i,{dataProp:o,dataPropType:l,data:c,dataTypes:m,propertyName:d}){if(c!==void 0&&o!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:y}=i;if(o!==void 0){const{errorPath:_,dataPathArr:f,opts:v}=i,h=y.let("data",(0,t._)`${i.data}${(0,t.getProperty)(o)}`,!0);u(h),s.errorPath=(0,t.str)`${_}${(0,e.getErrorPath)(o,l,v.jsPropertySyntax)}`,s.parentDataProperty=(0,t._)`${o}`,s.dataPathArr=[...f,s.parentDataProperty]}if(c!==void 0){const _=c instanceof t.Name?c:y.let("data",c,!0);u(_),d!==void 0&&(s.propertyName=d)}m&&(s.dataTypes=m);function u(_){s.data=_,s.dataLevel=i.dataLevel+1,s.dataTypes=[],i.definedProperties=new Set,s.parentData=i.data,s.dataNames=[...i.dataNames,_]}}Tt.extendSubschemaData=a;function n(s,{jtdDiscriminator:i,jtdMetadata:o,compositeRule:l,createErrors:c,allErrors:m}){l!==void 0&&(s.compositeRule=l),c!==void 0&&(s.createErrors=c),m!==void 0&&(s.allErrors=m),s.jtdDiscriminator=i,s.jtdMetadata=o}return Tt.extendSubschemaMode=n,Tt}var Qe={},na=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var a,n,s;if(Array.isArray(e)){if(a=e.length,a!=r.length)return!1;for(n=a;n--!==0;)if(!t(e[n],r[n]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(s=Object.keys(e),a=s.length,a!==Object.keys(r).length)return!1;for(n=a;n--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[n]))return!1;for(n=a;n--!==0;){var i=s[n];if(!t(e[i],r[i]))return!1}return!0}return e!==e&&r!==r},Vn={},Mo={get exports(){return Vn},set exports(t){Vn=t}},Kt=Mo.exports=function(t,e,r){typeof e=="function"&&(r=e,e={}),r=e.cb||r;var a=typeof r=="function"?r:r.pre||function(){},n=r.post||function(){};on(e,a,n,t,"",t)};Kt.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0};Kt.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0};Kt.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0};Kt.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function on(t,e,r,a,n,s,i,o,l,c){if(a&&typeof a=="object"&&!Array.isArray(a)){e(a,n,s,i,o,l,c);for(var m in a){var d=a[m];if(Array.isArray(d)){if(m in Kt.arrayKeywords)for(var y=0;y<d.length;y++)on(t,e,r,d[y],n+"/"+m+"/"+y,s,n,m,a,y)}else if(m in Kt.propsKeywords){if(d&&typeof d=="object")for(var u in d)on(t,e,r,d[u],n+"/"+m+"/"+Uo(u),s,n,m,a,u)}else(m in Kt.keywords||t.allKeys&&!(m in Kt.skipKeywords))&&on(t,e,r,d,n+"/"+m,s,n,m,a)}r(a,n,s,i,o,l,c)}}function Uo(t){return t.replace(/~/g,"~0").replace(/\//g,"~1")}Object.defineProperty(Qe,"__esModule",{value:!0});Qe.getSchemaRefs=Qe.resolveUrl=Qe.normalizeId=Qe._getFullPath=Qe.getFullPath=Qe.inlineRef=void 0;const Lo=Re,Vo=na,xo=Vn,Ko=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function qo(t,e=!0){return typeof t=="boolean"?!0:e===!0?!xn(t):e?sa(t)<=e:!1}Qe.inlineRef=qo;const Ho=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function xn(t){for(const e in t){if(Ho.has(e))return!0;const r=t[e];if(Array.isArray(r)&&r.some(xn)||typeof r=="object"&&xn(r))return!0}return!1}function sa(t){let e=0;for(const r in t){if(r==="$ref")return 1/0;if(e++,!Ko.has(r)&&(typeof t[r]=="object"&&(0,Lo.eachItem)(t[r],a=>e+=sa(a)),e===1/0))return 1/0}return e}function ia(t,e="",r){r!==!1&&(e=mr(e));const a=t.parse(e);return aa(t,a)}Qe.getFullPath=ia;function aa(t,e){return t.serialize(e).split("#")[0]+"#"}Qe._getFullPath=aa;const Zo=/#\/?$/;function mr(t){return t?t.replace(Zo,""):""}Qe.normalizeId=mr;function Wo(t,e,r){return r=mr(r),t.resolve(e,r)}Qe.resolveUrl=Wo;const Go=/^[a-z_][-a-z0-9._]*$/i;function Jo(t,e){if(typeof t=="boolean")return{};const{schemaId:r,uriResolver:a}=this.opts,n=mr(t[r]||e),s={"":n},i=ia(a,n,!1),o={},l=new Set;return xo(t,{allKeys:!0},(d,y,u,_)=>{if(_===void 0)return;const f=i+y;let v=s[_];typeof d[r]=="string"&&(v=h.call(this,d[r])),g.call(this,d.$anchor),g.call(this,d.$dynamicAnchor),s[y]=v;function h(b){const k=this.opts.uriResolver.resolve;if(b=mr(v?k(v,b):b),l.has(b))throw m(b);l.add(b);let E=this.refs[b];return typeof E=="string"&&(E=this.refs[E]),typeof E=="object"?c(d,E.schema,b):b!==mr(f)&&(b[0]==="#"?(c(d,o[b],b),o[b]=d):this.refs[b]=f),b}function g(b){if(typeof b=="string"){if(!Go.test(b))throw new Error(`invalid anchor "${b}"`);h.call(this,`#${b}`)}}}),o;function c(d,y,u){if(y!==void 0&&!Vo(d,y))throw m(u)}function m(d){return new Error(`reference "${d}" resolves to more than one schema`)}}Qe.getSchemaRefs=Jo;var ci;function wn(){if(ci)return Rt;ci=1,Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.getData=Rt.KeywordCxt=Rt.validateFunctionCode=void 0;const t=Ro(),e=Ur,r=ra(),a=Ur,n=zo(),s=Bo(),i=Fo(),o=Ie,l=Zt(),c=Qe,m=Re,d=xr;function y(U){if(E(U)&&(C(U),k(U))){v(U);return}u(U,()=>(0,t.topBoolOrEmptySchema)(U))}Rt.validateFunctionCode=y;function u({gen:U,validateName:q,schema:te,schemaEnv:p,opts:x},V){x.code.es5?U.func(q,(0,o._)`${l.default.data}, ${l.default.valCxt}`,p.$async,()=>{U.code((0,o._)`"use strict"; ${g(te,x)}`),f(U,x),U.code(V)}):U.func(q,(0,o._)`${l.default.data}, ${_(x)}`,p.$async,()=>U.code(g(te,x)).code(V))}function _(U){return(0,o._)`{${l.default.instancePath}="", ${l.default.parentData}, ${l.default.parentDataProperty}, ${l.default.rootData}=${l.default.data}${U.dynamicRef?(0,o._)`, ${l.default.dynamicAnchors}={}`:o.nil}}={}`}function f(U,q){U.if(l.default.valCxt,()=>{U.var(l.default.instancePath,(0,o._)`${l.default.valCxt}.${l.default.instancePath}`),U.var(l.default.parentData,(0,o._)`${l.default.valCxt}.${l.default.parentData}`),U.var(l.default.parentDataProperty,(0,o._)`${l.default.valCxt}.${l.default.parentDataProperty}`),U.var(l.default.rootData,(0,o._)`${l.default.valCxt}.${l.default.rootData}`),q.dynamicRef&&U.var(l.default.dynamicAnchors,(0,o._)`${l.default.valCxt}.${l.default.dynamicAnchors}`)},()=>{U.var(l.default.instancePath,(0,o._)`""`),U.var(l.default.parentData,(0,o._)`undefined`),U.var(l.default.parentDataProperty,(0,o._)`undefined`),U.var(l.default.rootData,l.default.data),q.dynamicRef&&U.var(l.default.dynamicAnchors,(0,o._)`{}`)})}function v(U){const{schema:q,opts:te,gen:p}=U;u(U,()=>{te.$comment&&q.$comment&&Z(U),K(U),p.let(l.default.vErrors,null),p.let(l.default.errors,0),te.unevaluated&&h(U),D(U),w(U)})}function h(U){const{gen:q,validateName:te}=U;U.evaluated=q.const("evaluated",(0,o._)`${te}.evaluated`),q.if((0,o._)`${U.evaluated}.dynamicProps`,()=>q.assign((0,o._)`${U.evaluated}.props`,(0,o._)`undefined`)),q.if((0,o._)`${U.evaluated}.dynamicItems`,()=>q.assign((0,o._)`${U.evaluated}.items`,(0,o._)`undefined`))}function g(U,q){const te=typeof U=="object"&&U[q.schemaId];return te&&(q.code.source||q.code.process)?(0,o._)`/*# sourceURL=${te} */`:o.nil}function b(U,q){if(E(U)&&(C(U),k(U))){A(U,q);return}(0,t.boolOrEmptySchema)(U,q)}function k({schema:U,self:q}){if(typeof U=="boolean")return!U;for(const te in U)if(q.RULES.all[te])return!0;return!1}function E(U){return typeof U.schema!="boolean"}function A(U,q){const{schema:te,gen:p,opts:x}=U;x.$comment&&te.$comment&&Z(U),ne(U),N(U);const V=p.const("_errs",l.default.errors);D(U,V),p.var(q,(0,o._)`${V} === ${l.default.errors}`)}function C(U){(0,m.checkUnknownRules)(U),z(U)}function D(U,q){if(U.opts.jtd)return ge(U,[],!1,q);const te=(0,e.getSchemaTypes)(U.schema),p=(0,e.coerceAndCheckDataType)(U,te);ge(U,te,!p,q)}function z(U){const{schema:q,errSchemaPath:te,opts:p,self:x}=U;q.$ref&&p.ignoreKeywordsWithRef&&(0,m.schemaHasRulesButRef)(q,x.RULES)&&x.logger.warn(`$ref: keywords ignored in schema at path "${te}"`)}function K(U){const{schema:q,opts:te}=U;q.default!==void 0&&te.useDefaults&&te.strictSchema&&(0,m.checkStrictMode)(U,"default is ignored in the schema root")}function ne(U){const q=U.schema[U.opts.schemaId];q&&(U.baseId=(0,c.resolveUrl)(U.opts.uriResolver,U.baseId,q))}function N(U){if(U.schema.$async&&!U.schemaEnv.$async)throw new Error("async schema in sync schema")}function Z({gen:U,schemaEnv:q,schema:te,errSchemaPath:p,opts:x}){const V=te.$comment;if(x.$comment===!0)U.code((0,o._)`${l.default.self}.logger.log(${V})`);else if(typeof x.$comment=="function"){const R=(0,o.str)`${p}/$comment`,P=U.scopeValue("root",{ref:q.root});U.code((0,o._)`${l.default.self}.opts.$comment(${V}, ${R}, ${P}.schema)`)}}function w(U){const{gen:q,schemaEnv:te,validateName:p,ValidationError:x,opts:V}=U;te.$async?q.if((0,o._)`${l.default.errors} === 0`,()=>q.return(l.default.data),()=>q.throw((0,o._)`new ${x}(${l.default.vErrors})`)):(q.assign((0,o._)`${p}.errors`,l.default.vErrors),V.unevaluated&&X(U),q.return((0,o._)`${l.default.errors} === 0`))}function X({gen:U,evaluated:q,props:te,items:p}){te instanceof o.Name&&U.assign((0,o._)`${q}.props`,te),p instanceof o.Name&&U.assign((0,o._)`${q}.items`,p)}function ge(U,q,te,p){const{gen:x,schema:V,data:R,allErrors:P,opts:L,self:ee}=U,{RULES:re}=ee;if(V.$ref&&(L.ignoreKeywordsWithRef||!(0,m.schemaHasRulesButRef)(V,re))){x.block(()=>oe(U,"$ref",re.all.$ref.definition));return}L.jtd||_e(U,q),x.block(()=>{for(const ie of re.rules)H(ie);H(re.post)});function H(ie){(0,r.shouldUseGroup)(V,ie)&&(ie.type?(x.if((0,a.checkDataType)(ie.type,R,L.strictNumbers)),se(U,ie),q.length===1&&q[0]===ie.type&&te&&(x.else(),(0,a.reportTypeError)(U)),x.endIf()):se(U,ie),P||x.if((0,o._)`${l.default.errors} === ${p||0}`))}}function se(U,q){const{gen:te,schema:p,opts:{useDefaults:x}}=U;x&&(0,n.assignDefaults)(U,q.type),te.block(()=>{for(const V of q.rules)(0,r.shouldUseRule)(p,V)&&oe(U,V.keyword,V.definition,q.type)})}function _e(U,q){U.schemaEnv.meta||!U.opts.strictTypes||(J(U,q),U.opts.allowUnionTypes||W(U,q),S(U,U.dataTypes))}function J(U,q){if(q.length){if(!U.dataTypes.length){U.dataTypes=q;return}q.forEach(te=>{B(U.dataTypes,te)||I(U,`type "${te}" not allowed by context "${U.dataTypes.join(",")}"`)}),$(U,q)}}function W(U,q){q.length>1&&!(q.length===2&&q.includes("null"))&&I(U,"use allowUnionTypes to allow union type keyword")}function S(U,q){const te=U.self.RULES.all;for(const p in te){const x=te[p];if(typeof x=="object"&&(0,r.shouldUseRule)(U.schema,x)){const{type:V}=x.definition;V.length&&!V.some(R=>T(q,R))&&I(U,`missing type "${V.join(",")}" for keyword "${p}"`)}}}function T(U,q){return U.includes(q)||q==="number"&&U.includes("integer")}function B(U,q){return U.includes(q)||q==="integer"&&U.includes("number")}function $(U,q){const te=[];for(const p of U.dataTypes)B(q,p)?te.push(p):q.includes("integer")&&p==="number"&&te.push("integer");U.dataTypes=te}function I(U,q){const te=U.schemaEnv.baseId+U.errSchemaPath;q+=` at "${te}" (strictTypes)`,(0,m.checkStrictMode)(U,q,U.opts.strictTypes)}class G{constructor(q,te,p){if((0,s.validateKeywordUsage)(q,te,p),this.gen=q.gen,this.allErrors=q.allErrors,this.keyword=p,this.data=q.data,this.schema=q.schema[p],this.$data=te.$data&&q.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,m.schemaRefOrVal)(q,this.schema,p,this.$data),this.schemaType=te.schemaType,this.parentSchema=q.schema,this.params={},this.it=q,this.def=te,this.$data)this.schemaCode=q.gen.const("vSchema",ye(this.$data,q));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,te.schemaType,te.allowUndefined))throw new Error(`${p} value must be ${JSON.stringify(te.schemaType)}`);("code"in te?te.trackErrors:te.errors!==!1)&&(this.errsCount=q.gen.const("_errs",l.default.errors))}result(q,te,p){this.failResult((0,o.not)(q),te,p)}failResult(q,te,p){this.gen.if(q),p?p():this.error(),te?(this.gen.else(),te(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(q,te){this.failResult((0,o.not)(q),void 0,te)}fail(q){if(q===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(q),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(q){if(!this.$data)return this.fail(q);const{schemaCode:te}=this;this.fail((0,o._)`${te} !== undefined && (${(0,o.or)(this.invalid$data(),q)})`)}error(q,te,p){if(te){this.setParams(te),this._error(q,p),this.setParams({});return}this._error(q,p)}_error(q,te){(q?d.reportExtraError:d.reportError)(this,this.def.error,te)}$dataError(){(0,d.reportError)(this,this.def.$dataError||d.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,d.resetErrorsCount)(this.gen,this.errsCount)}ok(q){this.allErrors||this.gen.if(q)}setParams(q,te){te?Object.assign(this.params,q):this.params=q}block$data(q,te,p=o.nil){this.gen.block(()=>{this.check$data(q,p),te()})}check$data(q=o.nil,te=o.nil){if(!this.$data)return;const{gen:p,schemaCode:x,schemaType:V,def:R}=this;p.if((0,o.or)((0,o._)`${x} === undefined`,te)),q!==o.nil&&p.assign(q,!0),(V.length||R.validateSchema)&&(p.elseIf(this.invalid$data()),this.$dataError(),q!==o.nil&&p.assign(q,!1)),p.else()}invalid$data(){const{gen:q,schemaCode:te,schemaType:p,def:x,it:V}=this;return(0,o.or)(R(),P());function R(){if(p.length){if(!(te instanceof o.Name))throw new Error("ajv implementation error");const L=Array.isArray(p)?p:[p];return(0,o._)`${(0,a.checkDataTypes)(L,te,V.opts.strictNumbers,a.DataType.Wrong)}`}return o.nil}function P(){if(x.validateSchema){const L=q.scopeValue("validate$data",{ref:x.validateSchema});return(0,o._)`!${L}(${te})`}return o.nil}}subschema(q,te){const p=(0,i.getSubschema)(this.it,q);(0,i.extendSubschemaData)(p,this.it,q),(0,i.extendSubschemaMode)(p,q);const x={...this.it,...p,items:void 0,props:void 0};return b(x,te),x}mergeEvaluated(q,te){const{it:p,gen:x}=this;p.opts.unevaluated&&(p.props!==!0&&q.props!==void 0&&(p.props=m.mergeEvaluated.props(x,q.props,p.props,te)),p.items!==!0&&q.items!==void 0&&(p.items=m.mergeEvaluated.items(x,q.items,p.items,te)))}mergeValidEvaluated(q,te){const{it:p,gen:x}=this;if(p.opts.unevaluated&&(p.props!==!0||p.items!==!0))return x.if(te,()=>this.mergeEvaluated(q,o.Name)),!0}}Rt.KeywordCxt=G;function oe(U,q,te,p){const x=new G(U,te,q);"code"in te?te.code(x,p):x.$data&&te.validate?(0,s.funcKeywordCode)(x,te):"macro"in te?(0,s.macroKeywordCode)(x,te):(te.compile||te.validate)&&(0,s.funcKeywordCode)(x,te)}const ae=/^\/(?:[^~]|~0|~1)*$/,pe=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ye(U,{dataLevel:q,dataNames:te,dataPathArr:p}){let x,V;if(U==="")return l.default.rootData;if(U[0]==="/"){if(!ae.test(U))throw new Error(`Invalid JSON-pointer: ${U}`);x=U,V=l.default.rootData}else{const ee=pe.exec(U);if(!ee)throw new Error(`Invalid JSON-pointer: ${U}`);const re=+ee[1];if(x=ee[2],x==="#"){if(re>=q)throw new Error(L("property/index",re));return p[q-re]}if(re>q)throw new Error(L("data",re));if(V=te[q-re],!x)return V}let R=V;const P=x.split("/");for(const ee of P)ee&&(V=(0,o._)`${V}${(0,o.getProperty)((0,m.unescapeJsonPointer)(ee))}`,R=(0,o._)`${R} && ${V}`);return R;function L(ee,re){return`Cannot access ${ee} ${re} levels up, current level is ${q}`}}return Rt.getData=ye,Rt}var Kr={};Object.defineProperty(Kr,"__esModule",{value:!0});class Qo extends Error{constructor(e){super("validation failed"),this.errors=e,this.ajv=this.validation=!0}}Kr.default=Qo;var qr={};Object.defineProperty(qr,"__esModule",{value:!0});const On=Qe;class Yo extends Error{constructor(e,r,a,n){super(n||`can't resolve reference ${a} from id ${r}`),this.missingRef=(0,On.resolveUrl)(e,r,a),this.missingSchema=(0,On.normalizeId)((0,On.getFullPath)(e,this.missingRef))}}qr.default=Yo;var rt={};Object.defineProperty(rt,"__esModule",{value:!0});rt.resolveSchema=rt.getCompilingSchema=rt.resolveRef=rt.compileSchema=rt.SchemaEnv=void 0;const pt=Ie,Xo=Kr,Xt=Zt(),yt=Qe,ui=Re,el=wn();class kn{constructor(e){var r;this.refs={},this.dynamicAnchors={};let a;typeof e.schema=="object"&&(a=e.schema),this.schema=e.schema,this.schemaId=e.schemaId,this.root=e.root||this,this.baseId=(r=e.baseId)!==null&&r!==void 0?r:(0,yt.normalizeId)(a==null?void 0:a[e.schemaId||"$id"]),this.schemaPath=e.schemaPath,this.localRefs=e.localRefs,this.meta=e.meta,this.$async=a==null?void 0:a.$async,this.refs={}}}rt.SchemaEnv=kn;function Qn(t){const e=oa.call(this,t);if(e)return e;const r=(0,yt.getFullPath)(this.opts.uriResolver,t.root.baseId),{es5:a,lines:n}=this.opts.code,{ownProperties:s}=this.opts,i=new pt.CodeGen(this.scope,{es5:a,lines:n,ownProperties:s});let o;t.$async&&(o=i.scopeValue("Error",{ref:Xo.default,code:(0,pt._)`require("ajv/dist/runtime/validation_error").default`}));const l=i.scopeName("validate");t.validateName=l;const c={gen:i,allErrors:this.opts.allErrors,data:Xt.default.data,parentData:Xt.default.parentData,parentDataProperty:Xt.default.parentDataProperty,dataNames:[Xt.default.data],dataPathArr:[pt.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:i.scopeValue("schema",this.opts.code.source===!0?{ref:t.schema,code:(0,pt.stringify)(t.schema)}:{ref:t.schema}),validateName:l,ValidationError:o,schema:t.schema,schemaEnv:t,rootId:r,baseId:t.baseId||r,schemaPath:pt.nil,errSchemaPath:t.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,pt._)`""`,opts:this.opts,self:this};let m;try{this._compilations.add(t),(0,el.validateFunctionCode)(c),i.optimize(this.opts.code.optimize);const d=i.toString();m=`${i.scopeRefs(Xt.default.scope)}return ${d}`,this.opts.code.process&&(m=this.opts.code.process(m,t));const u=new Function(`${Xt.default.self}`,`${Xt.default.scope}`,m)(this,this.scope.get());if(this.scope.value(l,{ref:u}),u.errors=null,u.schema=t.schema,u.schemaEnv=t,t.$async&&(u.$async=!0),this.opts.code.source===!0&&(u.source={validateName:l,validateCode:d,scopeValues:i._values}),this.opts.unevaluated){const{props:_,items:f}=c;u.evaluated={props:_ instanceof pt.Name?void 0:_,items:f instanceof pt.Name?void 0:f,dynamicProps:_ instanceof pt.Name,dynamicItems:f instanceof pt.Name},u.source&&(u.source.evaluated=(0,pt.stringify)(u.evaluated))}return t.validate=u,t}catch(d){throw delete t.validate,delete t.validateName,m&&this.logger.error("Error compiling schema, function code:",m),d}finally{this._compilations.delete(t)}}rt.compileSchema=Qn;function tl(t,e,r){var a;r=(0,yt.resolveUrl)(this.opts.uriResolver,e,r);const n=t.refs[r];if(n)return n;let s=sl.call(this,t,r);if(s===void 0){const i=(a=t.localRefs)===null||a===void 0?void 0:a[r],{schemaId:o}=this.opts;i&&(s=new kn({schema:i,schemaId:o,root:t,baseId:e}))}if(s!==void 0)return t.refs[r]=rl.call(this,s)}rt.resolveRef=tl;function rl(t){return(0,yt.inlineRef)(t.schema,this.opts.inlineRefs)?t.schema:t.validate?t:Qn.call(this,t)}function oa(t){for(const e of this._compilations)if(nl(e,t))return e}rt.getCompilingSchema=oa;function nl(t,e){return t.schema===e.schema&&t.root===e.root&&t.baseId===e.baseId}function sl(t,e){let r;for(;typeof(r=this.refs[e])=="string";)e=r;return r||this.schemas[e]||$n.call(this,t,e)}function $n(t,e){const r=this.opts.uriResolver.parse(e),a=(0,yt._getFullPath)(this.opts.uriResolver,r);let n=(0,yt.getFullPath)(this.opts.uriResolver,t.baseId,void 0);if(Object.keys(t.schema).length>0&&a===n)return Rn.call(this,r,t);const s=(0,yt.normalizeId)(a),i=this.refs[s]||this.schemas[s];if(typeof i=="string"){const o=$n.call(this,t,i);return typeof(o==null?void 0:o.schema)!="object"?void 0:Rn.call(this,r,o)}if(typeof(i==null?void 0:i.schema)=="object"){if(i.validate||Qn.call(this,i),s===(0,yt.normalizeId)(e)){const{schema:o}=i,{schemaId:l}=this.opts,c=o[l];return c&&(n=(0,yt.resolveUrl)(this.opts.uriResolver,n,c)),new kn({schema:o,schemaId:l,root:t,baseId:n})}return Rn.call(this,r,i)}}rt.resolveSchema=$n;const il=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function Rn(t,{baseId:e,schema:r,root:a}){var n;if(((n=t.fragment)===null||n===void 0?void 0:n[0])!=="/")return;for(const o of t.fragment.slice(1).split("/")){if(typeof r=="boolean")return;const l=r[(0,ui.unescapeFragment)(o)];if(l===void 0)return;r=l;const c=typeof r=="object"&&r[this.opts.schemaId];!il.has(o)&&c&&(e=(0,yt.resolveUrl)(this.opts.uriResolver,e,c))}let s;if(typeof r!="boolean"&&r.$ref&&!(0,ui.schemaHasRulesButRef)(r,this.RULES)){const o=(0,yt.resolveUrl)(this.opts.uriResolver,e,r.$ref);s=$n.call(this,a,o)}const{schemaId:i}=this.opts;if(s=s||new kn({schema:r,schemaId:i,root:a,baseId:e}),s.schema!==s.root.schema)return s}const al="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",ol="Meta-schema for $data reference (JSON AnySchema extension proposal)",ll="object",cl=["$data"],ul={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},fl=!1,dl={$id:al,description:ol,type:ll,required:cl,properties:ul,additionalProperties:fl};var Yn={},mn={},hl={get exports(){return mn},set exports(t){mn=t}};/** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */(function(t,e){(function(r,a){a(e)})(Or,function(r){function a(){for(var j=arguments.length,O=Array(j),M=0;M<j;M++)O[M]=arguments[M];if(O.length>1){O[0]=O[0].slice(0,-1);for(var Y=O.length-1,Q=1;Q<Y;++Q)O[Q]=O[Q].slice(1,-1);return O[Y]=O[Y].slice(1),O.join("")}else return O[0]}function n(j){return"(?:"+j+")"}function s(j){return j===void 0?"undefined":j===null?"null":Object.prototype.toString.call(j).split(" ").pop().split("]").shift().toLowerCase()}function i(j){return j.toUpperCase()}function o(j){return j!=null?j instanceof Array?j:typeof j.length!="number"||j.split||j.setInterval||j.call?[j]:Array.prototype.slice.call(j):[]}function l(j,O){var M=j;if(O)for(var Y in O)M[Y]=O[Y];return M}function c(j){var O="[A-Za-z]",M="[0-9]",Y=a(M,"[A-Fa-f]"),Q=n(n("%[EFef]"+Y+"%"+Y+Y+"%"+Y+Y)+"|"+n("%[89A-Fa-f]"+Y+"%"+Y+Y)+"|"+n("%"+Y+Y)),be="[\\:\\/\\?\\#\\[\\]\\@]",ke="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",Oe=a(be,ke),Fe=j?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",Ke=j?"[\\uE000-\\uF8FF]":"[]",Pe=a(O,M,"[\\-\\.\\_\\~]",Fe);n(O+a(O,M,"[\\+\\-\\.]")+"*"),n(n(Q+"|"+a(Pe,ke,"[\\:]"))+"*");var ze=n(n("25[0-5]")+"|"+n("2[0-4]"+M)+"|"+n("1"+M+M)+"|"+n("0?[1-9]"+M)+"|0?0?"+M),qe=n(ze+"\\."+ze+"\\."+ze+"\\."+ze),Ee=n(Y+"{1,4}"),Me=n(n(Ee+"\\:"+Ee)+"|"+qe),We=n(n(Ee+"\\:")+"{6}"+Me),Ue=n("\\:\\:"+n(Ee+"\\:")+"{5}"+Me),Lt=n(n(Ee)+"?\\:\\:"+n(Ee+"\\:")+"{4}"+Me),At=n(n(n(Ee+"\\:")+"{0,1}"+Ee)+"?\\:\\:"+n(Ee+"\\:")+"{3}"+Me),Et=n(n(n(Ee+"\\:")+"{0,2}"+Ee)+"?\\:\\:"+n(Ee+"\\:")+"{2}"+Me),or=n(n(n(Ee+"\\:")+"{0,3}"+Ee)+"?\\:\\:"+Ee+"\\:"+Me),Jt=n(n(n(Ee+"\\:")+"{0,4}"+Ee)+"?\\:\\:"+Me),ct=n(n(n(Ee+"\\:")+"{0,5}"+Ee)+"?\\:\\:"+Ee),St=n(n(n(Ee+"\\:")+"{0,6}"+Ee)+"?\\:\\:"),Qt=n([We,Ue,Lt,At,Et,or,Jt,ct,St].join("|")),Ot=n(n(Pe+"|"+Q)+"+");n("[vV]"+Y+"+\\."+a(Pe,ke,"[\\:]")+"+"),n(n(Q+"|"+a(Pe,ke))+"*");var Ar=n(Q+"|"+a(Pe,ke,"[\\:\\@]"));return n(n(Q+"|"+a(Pe,ke,"[\\@]"))+"+"),n(n(Ar+"|"+a("[\\/\\?]",Ke))+"*"),{NOT_SCHEME:new RegExp(a("[^]",O,M,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(a("[^\\%\\:]",Pe,ke),"g"),NOT_HOST:new RegExp(a("[^\\%\\[\\]\\:]",Pe,ke),"g"),NOT_PATH:new RegExp(a("[^\\%\\/\\:\\@]",Pe,ke),"g"),NOT_PATH_NOSCHEME:new RegExp(a("[^\\%\\/\\@]",Pe,ke),"g"),NOT_QUERY:new RegExp(a("[^\\%]",Pe,ke,"[\\:\\@\\/\\?]",Ke),"g"),NOT_FRAGMENT:new RegExp(a("[^\\%]",Pe,ke,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(a("[^]",Pe,ke),"g"),UNRESERVED:new RegExp(Pe,"g"),OTHER_CHARS:new RegExp(a("[^\\%]",Pe,Oe),"g"),PCT_ENCODED:new RegExp(Q,"g"),IPV4ADDRESS:new RegExp("^("+qe+")$"),IPV6ADDRESS:new RegExp("^\\[?("+Qt+")"+n(n("\\%25|\\%(?!"+Y+"{2})")+"("+Ot+")")+"?\\]?$")}}var m=c(!1),d=c(!0),y=function(){function j(O,M){var Y=[],Q=!0,be=!1,ke=void 0;try{for(var Oe=O[Symbol.iterator](),Fe;!(Q=(Fe=Oe.next()).done)&&(Y.push(Fe.value),!(M&&Y.length===M));Q=!0);}catch(Ke){be=!0,ke=Ke}finally{try{!Q&&Oe.return&&Oe.return()}finally{if(be)throw ke}}return Y}return function(O,M){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return j(O,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(j){if(Array.isArray(j)){for(var O=0,M=Array(j.length);O<j.length;O++)M[O]=j[O];return M}else return Array.from(j)},_=2147483647,f=36,v=1,h=26,g=38,b=700,k=72,E=128,A="-",C=/^xn--/,D=/[^\0-\x7E]/,z=/[\x2E\u3002\uFF0E\uFF61]/g,K={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ne=f-v,N=Math.floor,Z=String.fromCharCode;function w(j){throw new RangeError(K[j])}function X(j,O){for(var M=[],Y=j.length;Y--;)M[Y]=O(j[Y]);return M}function ge(j,O){var M=j.split("@"),Y="";M.length>1&&(Y=M[0]+"@",j=M[1]),j=j.replace(z,".");var Q=j.split("."),be=X(Q,O).join(".");return Y+be}function se(j){for(var O=[],M=0,Y=j.length;M<Y;){var Q=j.charCodeAt(M++);if(Q>=55296&&Q<=56319&&M<Y){var be=j.charCodeAt(M++);(be&64512)==56320?O.push(((Q&1023)<<10)+(be&1023)+65536):(O.push(Q),M--)}else O.push(Q)}return O}var _e=function(O){return String.fromCodePoint.apply(String,u(O))},J=function(O){return O-48<10?O-22:O-65<26?O-65:O-97<26?O-97:f},W=function(O,M){return O+22+75*(O<26)-((M!=0)<<5)},S=function(O,M,Y){var Q=0;for(O=Y?N(O/b):O>>1,O+=N(O/M);O>ne*h>>1;Q+=f)O=N(O/ne);return N(Q+(ne+1)*O/(O+g))},T=function(O){var M=[],Y=O.length,Q=0,be=E,ke=k,Oe=O.lastIndexOf(A);Oe<0&&(Oe=0);for(var Fe=0;Fe<Oe;++Fe)O.charCodeAt(Fe)>=128&&w("not-basic"),M.push(O.charCodeAt(Fe));for(var Ke=Oe>0?Oe+1:0;Ke<Y;){for(var Pe=Q,ze=1,qe=f;;qe+=f){Ke>=Y&&w("invalid-input");var Ee=J(O.charCodeAt(Ke++));(Ee>=f||Ee>N((_-Q)/ze))&&w("overflow"),Q+=Ee*ze;var Me=qe<=ke?v:qe>=ke+h?h:qe-ke;if(Ee<Me)break;var We=f-Me;ze>N(_/We)&&w("overflow"),ze*=We}var Ue=M.length+1;ke=S(Q-Pe,Ue,Pe==0),N(Q/Ue)>_-be&&w("overflow"),be+=N(Q/Ue),Q%=Ue,M.splice(Q++,0,be)}return String.fromCodePoint.apply(String,M)},B=function(O){var M=[];O=se(O);var Y=O.length,Q=E,be=0,ke=k,Oe=!0,Fe=!1,Ke=void 0;try{for(var Pe=O[Symbol.iterator](),ze;!(Oe=(ze=Pe.next()).done);Oe=!0){var qe=ze.value;qe<128&&M.push(Z(qe))}}catch(Er){Fe=!0,Ke=Er}finally{try{!Oe&&Pe.return&&Pe.return()}finally{if(Fe)throw Ke}}var Ee=M.length,Me=Ee;for(Ee&&M.push(A);Me<Y;){var We=_,Ue=!0,Lt=!1,At=void 0;try{for(var Et=O[Symbol.iterator](),or;!(Ue=(or=Et.next()).done);Ue=!0){var Jt=or.value;Jt>=Q&&Jt<We&&(We=Jt)}}catch(Er){Lt=!0,At=Er}finally{try{!Ue&&Et.return&&Et.return()}finally{if(Lt)throw At}}var ct=Me+1;We-Q>N((_-be)/ct)&&w("overflow"),be+=(We-Q)*ct,Q=We;var St=!0,Qt=!1,Ot=void 0;try{for(var Ar=O[Symbol.iterator](),js;!(St=(js=Ar.next()).done);St=!0){var zs=js.value;if(zs<Q&&++be>_&&w("overflow"),zs==Q){for(var Wr=be,Gr=f;;Gr+=f){var Jr=Gr<=ke?v:Gr>=ke+h?h:Gr-ke;if(Wr<Jr)break;var Bs=Wr-Jr,Fs=f-Jr;M.push(Z(W(Jr+Bs%Fs,0))),Wr=N(Bs/Fs)}M.push(Z(W(Wr,0))),ke=S(be,ct,Me==Ee),be=0,++Me}}}catch(Er){Qt=!0,Ot=Er}finally{try{!St&&Ar.return&&Ar.return()}finally{if(Qt)throw Ot}}++be,++Q}return M.join("")},$=function(O){return ge(O,function(M){return C.test(M)?T(M.slice(4).toLowerCase()):M})},I=function(O){return ge(O,function(M){return D.test(M)?"xn--"+B(M):M})},G={version:"2.1.0",ucs2:{decode:se,encode:_e},decode:T,encode:B,toASCII:I,toUnicode:$},oe={};function ae(j){var O=j.charCodeAt(0),M=void 0;return O<16?M="%0"+O.toString(16).toUpperCase():O<128?M="%"+O.toString(16).toUpperCase():O<2048?M="%"+(O>>6|192).toString(16).toUpperCase()+"%"+(O&63|128).toString(16).toUpperCase():M="%"+(O>>12|224).toString(16).toUpperCase()+"%"+(O>>6&63|128).toString(16).toUpperCase()+"%"+(O&63|128).toString(16).toUpperCase(),M}function pe(j){for(var O="",M=0,Y=j.length;M<Y;){var Q=parseInt(j.substr(M+1,2),16);if(Q<128)O+=String.fromCharCode(Q),M+=3;else if(Q>=194&&Q<224){if(Y-M>=6){var be=parseInt(j.substr(M+4,2),16);O+=String.fromCharCode((Q&31)<<6|be&63)}else O+=j.substr(M,6);M+=6}else if(Q>=224){if(Y-M>=9){var ke=parseInt(j.substr(M+4,2),16),Oe=parseInt(j.substr(M+7,2),16);O+=String.fromCharCode((Q&15)<<12|(ke&63)<<6|Oe&63)}else O+=j.substr(M,9);M+=9}else O+=j.substr(M,3),M+=3}return O}function ye(j,O){function M(Y){var Q=pe(Y);return Q.match(O.UNRESERVED)?Q:Y}return j.scheme&&(j.scheme=String(j.scheme).replace(O.PCT_ENCODED,M).toLowerCase().replace(O.NOT_SCHEME,"")),j.userinfo!==void 0&&(j.userinfo=String(j.userinfo).replace(O.PCT_ENCODED,M).replace(O.NOT_USERINFO,ae).replace(O.PCT_ENCODED,i)),j.host!==void 0&&(j.host=String(j.host).replace(O.PCT_ENCODED,M).toLowerCase().replace(O.NOT_HOST,ae).replace(O.PCT_ENCODED,i)),j.path!==void 0&&(j.path=String(j.path).replace(O.PCT_ENCODED,M).replace(j.scheme?O.NOT_PATH:O.NOT_PATH_NOSCHEME,ae).replace(O.PCT_ENCODED,i)),j.query!==void 0&&(j.query=String(j.query).replace(O.PCT_ENCODED,M).replace(O.NOT_QUERY,ae).replace(O.PCT_ENCODED,i)),j.fragment!==void 0&&(j.fragment=String(j.fragment).replace(O.PCT_ENCODED,M).replace(O.NOT_FRAGMENT,ae).replace(O.PCT_ENCODED,i)),j}function U(j){return j.replace(/^0*(.*)/,"$1")||"0"}function q(j,O){var M=j.match(O.IPV4ADDRESS)||[],Y=y(M,2),Q=Y[1];return Q?Q.split(".").map(U).join("."):j}function te(j,O){var M=j.match(O.IPV6ADDRESS)||[],Y=y(M,3),Q=Y[1],be=Y[2];if(Q){for(var ke=Q.toLowerCase().split("::").reverse(),Oe=y(ke,2),Fe=Oe[0],Ke=Oe[1],Pe=Ke?Ke.split(":").map(U):[],ze=Fe.split(":").map(U),qe=O.IPV4ADDRESS.test(ze[ze.length-1]),Ee=qe?7:8,Me=ze.length-Ee,We=Array(Ee),Ue=0;Ue<Ee;++Ue)We[Ue]=Pe[Ue]||ze[Me+Ue]||"";qe&&(We[Ee-1]=q(We[Ee-1],O));var Lt=We.reduce(function(ct,St,Qt){if(!St||St==="0"){var Ot=ct[ct.length-1];Ot&&Ot.index+Ot.length===Qt?Ot.length++:ct.push({index:Qt,length:1})}return ct},[]),At=Lt.sort(function(ct,St){return St.length-ct.length})[0],Et=void 0;if(At&&At.length>1){var or=We.slice(0,At.index),Jt=We.slice(At.index+At.length);Et=or.join(":")+"::"+Jt.join(":")}else Et=We.join(":");return be&&(Et+="%"+be),Et}else return j}var p=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,x="".match(/(){0}/)[1]===void 0;function V(j){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},M={},Y=O.iri!==!1?d:m;O.reference==="suffix"&&(j=(O.scheme?O.scheme+":":"")+"//"+j);var Q=j.match(p);if(Q){x?(M.scheme=Q[1],M.userinfo=Q[3],M.host=Q[4],M.port=parseInt(Q[5],10),M.path=Q[6]||"",M.query=Q[7],M.fragment=Q[8],isNaN(M.port)&&(M.port=Q[5])):(M.scheme=Q[1]||void 0,M.userinfo=j.indexOf("@")!==-1?Q[3]:void 0,M.host=j.indexOf("//")!==-1?Q[4]:void 0,M.port=parseInt(Q[5],10),M.path=Q[6]||"",M.query=j.indexOf("?")!==-1?Q[7]:void 0,M.fragment=j.indexOf("#")!==-1?Q[8]:void 0,isNaN(M.port)&&(M.port=j.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?Q[4]:void 0)),M.host&&(M.host=te(q(M.host,Y),Y)),M.scheme===void 0&&M.userinfo===void 0&&M.host===void 0&&M.port===void 0&&!M.path&&M.query===void 0?M.reference="same-document":M.scheme===void 0?M.reference="relative":M.fragment===void 0?M.reference="absolute":M.reference="uri",O.reference&&O.reference!=="suffix"&&O.reference!==M.reference&&(M.error=M.error||"URI is not a "+O.reference+" reference.");var be=oe[(O.scheme||M.scheme||"").toLowerCase()];if(!O.unicodeSupport&&(!be||!be.unicodeSupport)){if(M.host&&(O.domainHost||be&&be.domainHost))try{M.host=G.toASCII(M.host.replace(Y.PCT_ENCODED,pe).toLowerCase())}catch(ke){M.error=M.error||"Host's domain name can not be converted to ASCII via punycode: "+ke}ye(M,m)}else ye(M,Y);be&&be.parse&&be.parse(M,O)}else M.error=M.error||"URI can not be parsed.";return M}function R(j,O){var M=O.iri!==!1?d:m,Y=[];return j.userinfo!==void 0&&(Y.push(j.userinfo),Y.push("@")),j.host!==void 0&&Y.push(te(q(String(j.host),M),M).replace(M.IPV6ADDRESS,function(Q,be,ke){return"["+be+(ke?"%25"+ke:"")+"]"})),(typeof j.port=="number"||typeof j.port=="string")&&(Y.push(":"),Y.push(String(j.port))),Y.length?Y.join(""):void 0}var P=/^\.\.?\//,L=/^\/\.(\/|$)/,ee=/^\/\.\.(\/|$)/,re=/^\/?(?:.|\n)*?(?=\/|$)/;function H(j){for(var O=[];j.length;)if(j.match(P))j=j.replace(P,"");else if(j.match(L))j=j.replace(L,"/");else if(j.match(ee))j=j.replace(ee,"/"),O.pop();else if(j==="."||j==="..")j="";else{var M=j.match(re);if(M){var Y=M[0];j=j.slice(Y.length),O.push(Y)}else throw new Error("Unexpected dot segment condition")}return O.join("")}function ie(j){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},M=O.iri?d:m,Y=[],Q=oe[(O.scheme||j.scheme||"").toLowerCase()];if(Q&&Q.serialize&&Q.serialize(j,O),j.host&&!M.IPV6ADDRESS.test(j.host)){if(O.domainHost||Q&&Q.domainHost)try{j.host=O.iri?G.toUnicode(j.host):G.toASCII(j.host.replace(M.PCT_ENCODED,pe).toLowerCase())}catch(Oe){j.error=j.error||"Host's domain name can not be converted to "+(O.iri?"Unicode":"ASCII")+" via punycode: "+Oe}}ye(j,M),O.reference!=="suffix"&&j.scheme&&(Y.push(j.scheme),Y.push(":"));var be=R(j,O);if(be!==void 0&&(O.reference!=="suffix"&&Y.push("//"),Y.push(be),j.path&&j.path.charAt(0)!=="/"&&Y.push("/")),j.path!==void 0){var ke=j.path;!O.absolutePath&&(!Q||!Q.absolutePath)&&(ke=H(ke)),be===void 0&&(ke=ke.replace(/^\/\//,"/%2F")),Y.push(ke)}return j.query!==void 0&&(Y.push("?"),Y.push(j.query)),j.fragment!==void 0&&(Y.push("#"),Y.push(j.fragment)),Y.join("")}function fe(j,O){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Y=arguments[3],Q={};return Y||(j=V(ie(j,M),M),O=V(ie(O,M),M)),M=M||{},!M.tolerant&&O.scheme?(Q.scheme=O.scheme,Q.userinfo=O.userinfo,Q.host=O.host,Q.port=O.port,Q.path=H(O.path||""),Q.query=O.query):(O.userinfo!==void 0||O.host!==void 0||O.port!==void 0?(Q.userinfo=O.userinfo,Q.host=O.host,Q.port=O.port,Q.path=H(O.path||""),Q.query=O.query):(O.path?(O.path.charAt(0)==="/"?Q.path=H(O.path):((j.userinfo!==void 0||j.host!==void 0||j.port!==void 0)&&!j.path?Q.path="/"+O.path:j.path?Q.path=j.path.slice(0,j.path.lastIndexOf("/")+1)+O.path:Q.path=O.path,Q.path=H(Q.path)),Q.query=O.query):(Q.path=j.path,O.query!==void 0?Q.query=O.query:Q.query=j.query),Q.userinfo=j.userinfo,Q.host=j.host,Q.port=j.port),Q.scheme=j.scheme),Q.fragment=O.fragment,Q}function le(j,O,M){var Y=l({scheme:"null"},M);return ie(fe(V(j,Y),V(O,Y),Y,!0),Y)}function ve(j,O){return typeof j=="string"?j=ie(V(j,O),O):s(j)==="object"&&(j=V(ie(j,O),O)),j}function Ne(j,O,M){return typeof j=="string"?j=ie(V(j,M),M):s(j)==="object"&&(j=ie(j,M)),typeof O=="string"?O=ie(V(O,M),M):s(O)==="object"&&(O=ie(O,M)),j===O}function Ce(j,O){return j&&j.toString().replace(!O||!O.iri?m.ESCAPE:d.ESCAPE,ae)}function Be(j,O){return j&&j.toString().replace(!O||!O.iri?m.PCT_ENCODED:d.PCT_ENCODED,pe)}var st={scheme:"http",domainHost:!0,parse:function(O,M){return O.host||(O.error=O.error||"HTTP URIs must have a host."),O},serialize:function(O,M){var Y=String(O.scheme).toLowerCase()==="https";return(O.port===(Y?443:80)||O.port==="")&&(O.port=void 0),O.path||(O.path="/"),O}},it={scheme:"https",domainHost:st.domainHost,parse:st.parse,serialize:st.serialize};function Ut(j){return typeof j.secure=="boolean"?j.secure:String(j.scheme).toLowerCase()==="wss"}var je={scheme:"ws",domainHost:!0,parse:function(O,M){var Y=O;return Y.secure=Ut(Y),Y.resourceName=(Y.path||"/")+(Y.query?"?"+Y.query:""),Y.path=void 0,Y.query=void 0,Y},serialize:function(O,M){if((O.port===(Ut(O)?443:80)||O.port==="")&&(O.port=void 0),typeof O.secure=="boolean"&&(O.scheme=O.secure?"wss":"ws",O.secure=void 0),O.resourceName){var Y=O.resourceName.split("?"),Q=y(Y,2),be=Q[0],ke=Q[1];O.path=be&&be!=="/"?be:void 0,O.query=ke,O.resourceName=void 0}return O.fragment=void 0,O}},Wt={scheme:"wss",domainHost:je.domainHost,parse:je.parse,serialize:je.serialize},$r={},lt="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",at="[0-9A-Fa-f]",En=n(n("%[EFef]"+at+"%"+at+at+"%"+at+at)+"|"+n("%[89A-Fa-f]"+at+"%"+at+at)+"|"+n("%"+at+at)),Sn="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Cn="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Zr=a(Cn,'[\\"\\\\]'),Gt="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",ir=new RegExp(lt,"g"),ar=new RegExp(En,"g"),ka=new RegExp(a("[^]",Sn,"[\\.]",'[\\"]',Zr),"g"),Rs=new RegExp(a("[^]",lt,Gt),"g"),$a=Rs;function In(j){var O=pe(j);return O.match(ir)?O:j}var Ns={scheme:"mailto",parse:function(O,M){var Y=O,Q=Y.to=Y.path?Y.path.split(","):[];if(Y.path=void 0,Y.query){for(var be=!1,ke={},Oe=Y.query.split("&"),Fe=0,Ke=Oe.length;Fe<Ke;++Fe){var Pe=Oe[Fe].split("=");switch(Pe[0]){case"to":for(var ze=Pe[1].split(","),qe=0,Ee=ze.length;qe<Ee;++qe)Q.push(ze[qe]);break;case"subject":Y.subject=Be(Pe[1],M);break;case"body":Y.body=Be(Pe[1],M);break;default:be=!0,ke[Be(Pe[0],M)]=Be(Pe[1],M);break}}be&&(Y.headers=ke)}Y.query=void 0;for(var Me=0,We=Q.length;Me<We;++Me){var Ue=Q[Me].split("@");if(Ue[0]=Be(Ue[0]),M.unicodeSupport)Ue[1]=Be(Ue[1],M).toLowerCase();else try{Ue[1]=G.toASCII(Be(Ue[1],M).toLowerCase())}catch(Lt){Y.error=Y.error||"Email address's domain name can not be converted to ASCII via punycode: "+Lt}Q[Me]=Ue.join("@")}return Y},serialize:function(O,M){var Y=O,Q=o(O.to);if(Q){for(var be=0,ke=Q.length;be<ke;++be){var Oe=String(Q[be]),Fe=Oe.lastIndexOf("@"),Ke=Oe.slice(0,Fe).replace(ar,In).replace(ar,i).replace(ka,ae),Pe=Oe.slice(Fe+1);try{Pe=M.iri?G.toUnicode(Pe):G.toASCII(Be(Pe,M).toLowerCase())}catch(Me){Y.error=Y.error||"Email address's domain name can not be converted to "+(M.iri?"Unicode":"ASCII")+" via punycode: "+Me}Q[be]=Ke+"@"+Pe}Y.path=Q.join(",")}var ze=O.headers=O.headers||{};O.subject&&(ze.subject=O.subject),O.body&&(ze.body=O.body);var qe=[];for(var Ee in ze)ze[Ee]!==$r[Ee]&&qe.push(Ee.replace(ar,In).replace(ar,i).replace(Rs,ae)+"="+ze[Ee].replace(ar,In).replace(ar,i).replace($a,ae));return qe.length&&(Y.query=qe.join("&")),Y}},Aa=/^([^\:]+)\:(.*)/,Ts={scheme:"urn",parse:function(O,M){var Y=O.path&&O.path.match(Aa),Q=O;if(Y){var be=M.scheme||Q.scheme||"urn",ke=Y[1].toLowerCase(),Oe=Y[2],Fe=be+":"+(M.nid||ke),Ke=oe[Fe];Q.nid=ke,Q.nss=Oe,Q.path=void 0,Ke&&(Q=Ke.parse(Q,M))}else Q.error=Q.error||"URN can not be parsed.";return Q},serialize:function(O,M){var Y=M.scheme||O.scheme||"urn",Q=O.nid,be=Y+":"+(M.nid||Q),ke=oe[be];ke&&(O=ke.serialize(O,M));var Oe=O,Fe=O.nss;return Oe.path=(Q||M.nid)+":"+Fe,Oe}},Ea=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Ds={scheme:"urn:uuid",parse:function(O,M){var Y=O;return Y.uuid=Y.nss,Y.nss=void 0,!M.tolerant&&(!Y.uuid||!Y.uuid.match(Ea))&&(Y.error=Y.error||"UUID is not valid."),Y},serialize:function(O,M){var Y=O;return Y.nss=(O.uuid||"").toLowerCase(),Y}};oe[st.scheme]=st,oe[it.scheme]=it,oe[je.scheme]=je,oe[Wt.scheme]=Wt,oe[Ns.scheme]=Ns,oe[Ts.scheme]=Ts,oe[Ds.scheme]=Ds,r.SCHEMES=oe,r.pctEncChar=ae,r.pctDecChars=pe,r.parse=V,r.removeDotSegments=H,r.serialize=ie,r.resolveComponents=fe,r.resolve=le,r.normalize=ve,r.equal=Ne,r.escapeComponent=Ce,r.unescapeComponent=Be,Object.defineProperty(r,"__esModule",{value:!0})})})(hl,mn);Object.defineProperty(Yn,"__esModule",{value:!0});const la=mn;la.code='require("ajv/dist/runtime/uri").default';Yn.default=la;(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=wn();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var r=Ie;Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const a=Kr,n=qr,s=nr,i=rt,o=Ie,l=Qe,c=Ur,m=Re,d=dl,y=Yn,u=(W,S)=>new RegExp(W,S);u.code="new RegExp";const _=["removeAdditional","useDefaults","coerceTypes"],f=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),v={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},h={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},g=200;function b(W){var S,T,B,$,I,G,oe,ae,pe,ye,U,q,te,p,x,V,R,P,L,ee,re,H,ie,fe,le;const ve=W.strict,Ne=(S=W.code)===null||S===void 0?void 0:S.optimize,Ce=Ne===!0||Ne===void 0?1:Ne||0,Be=(B=(T=W.code)===null||T===void 0?void 0:T.regExp)!==null&&B!==void 0?B:u,st=($=W.uriResolver)!==null&&$!==void 0?$:y.default;return{strictSchema:(G=(I=W.strictSchema)!==null&&I!==void 0?I:ve)!==null&&G!==void 0?G:!0,strictNumbers:(ae=(oe=W.strictNumbers)!==null&&oe!==void 0?oe:ve)!==null&&ae!==void 0?ae:!0,strictTypes:(ye=(pe=W.strictTypes)!==null&&pe!==void 0?pe:ve)!==null&&ye!==void 0?ye:"log",strictTuples:(q=(U=W.strictTuples)!==null&&U!==void 0?U:ve)!==null&&q!==void 0?q:"log",strictRequired:(p=(te=W.strictRequired)!==null&&te!==void 0?te:ve)!==null&&p!==void 0?p:!1,code:W.code?{...W.code,optimize:Ce,regExp:Be}:{optimize:Ce,regExp:Be},loopRequired:(x=W.loopRequired)!==null&&x!==void 0?x:g,loopEnum:(V=W.loopEnum)!==null&&V!==void 0?V:g,meta:(R=W.meta)!==null&&R!==void 0?R:!0,messages:(P=W.messages)!==null&&P!==void 0?P:!0,inlineRefs:(L=W.inlineRefs)!==null&&L!==void 0?L:!0,schemaId:(ee=W.schemaId)!==null&&ee!==void 0?ee:"$id",addUsedSchema:(re=W.addUsedSchema)!==null&&re!==void 0?re:!0,validateSchema:(H=W.validateSchema)!==null&&H!==void 0?H:!0,validateFormats:(ie=W.validateFormats)!==null&&ie!==void 0?ie:!0,unicodeRegExp:(fe=W.unicodeRegExp)!==null&&fe!==void 0?fe:!0,int32range:(le=W.int32range)!==null&&le!==void 0?le:!0,uriResolver:st}}class k{constructor(S={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,S=this.opts={...S,...b(S)};const{es5:T,lines:B}=this.opts.code;this.scope=new o.ValueScope({scope:{},prefixes:f,es5:T,lines:B}),this.logger=N(S.logger);const $=S.validateFormats;S.validateFormats=!1,this.RULES=(0,s.getRules)(),E.call(this,v,S,"NOT SUPPORTED"),E.call(this,h,S,"DEPRECATED","warn"),this._metaOpts=K.call(this),S.formats&&D.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),S.keywords&&z.call(this,S.keywords),typeof S.meta=="object"&&this.addMetaSchema(S.meta),C.call(this),S.validateFormats=$}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:S,meta:T,schemaId:B}=this.opts;let $=d;B==="id"&&($={...d},$.id=$.$id,delete $.$id),T&&S&&this.addMetaSchema($,$[B],!1)}defaultMeta(){const{meta:S,schemaId:T}=this.opts;return this.opts.defaultMeta=typeof S=="object"?S[T]||S:void 0}validate(S,T){let B;if(typeof S=="string"){if(B=this.getSchema(S),!B)throw new Error(`no schema with key or ref "${S}"`)}else B=this.compile(S);const $=B(T);return"$async"in B||(this.errors=B.errors),$}compile(S,T){const B=this._addSchema(S,T);return B.validate||this._compileSchemaEnv(B)}compileAsync(S,T){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:B}=this.opts;return $.call(this,S,T);async function $(ye,U){await I.call(this,ye.$schema);const q=this._addSchema(ye,U);return q.validate||G.call(this,q)}async function I(ye){ye&&!this.getSchema(ye)&&await $.call(this,{$ref:ye},!0)}async function G(ye){try{return this._compileSchemaEnv(ye)}catch(U){if(!(U instanceof n.default))throw U;return oe.call(this,U),await ae.call(this,U.missingSchema),G.call(this,ye)}}function oe({missingSchema:ye,missingRef:U}){if(this.refs[ye])throw new Error(`AnySchema ${ye} is loaded but ${U} cannot be resolved`)}async function ae(ye){const U=await pe.call(this,ye);this.refs[ye]||await I.call(this,U.$schema),this.refs[ye]||this.addSchema(U,ye,T)}async function pe(ye){const U=this._loading[ye];if(U)return U;try{return await(this._loading[ye]=B(ye))}finally{delete this._loading[ye]}}}addSchema(S,T,B,$=this.opts.validateSchema){if(Array.isArray(S)){for(const G of S)this.addSchema(G,void 0,B,$);return this}let I;if(typeof S=="object"){const{schemaId:G}=this.opts;if(I=S[G],I!==void 0&&typeof I!="string")throw new Error(`schema ${G} must be string`)}return T=(0,l.normalizeId)(T||I),this._checkUnique(T),this.schemas[T]=this._addSchema(S,B,T,$,!0),this}addMetaSchema(S,T,B=this.opts.validateSchema){return this.addSchema(S,T,!0,B),this}validateSchema(S,T){if(typeof S=="boolean")return!0;let B;if(B=S.$schema,B!==void 0&&typeof B!="string")throw new Error("$schema must be a string");if(B=B||this.opts.defaultMeta||this.defaultMeta(),!B)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const $=this.validate(B,S);if(!$&&T){const I="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(I);else throw new Error(I)}return $}getSchema(S){let T;for(;typeof(T=A.call(this,S))=="string";)S=T;if(T===void 0){const{schemaId:B}=this.opts,$=new i.SchemaEnv({schema:{},schemaId:B});if(T=i.resolveSchema.call(this,$,S),!T)return;this.refs[S]=T}return T.validate||this._compileSchemaEnv(T)}removeSchema(S){if(S instanceof RegExp)return this._removeAllSchemas(this.schemas,S),this._removeAllSchemas(this.refs,S),this;switch(typeof S){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const T=A.call(this,S);return typeof T=="object"&&this._cache.delete(T.schema),delete this.schemas[S],delete this.refs[S],this}case"object":{const T=S;this._cache.delete(T);let B=S[this.opts.schemaId];return B&&(B=(0,l.normalizeId)(B),delete this.schemas[B],delete this.refs[B]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(S){for(const T of S)this.addKeyword(T);return this}addKeyword(S,T){let B;if(typeof S=="string")B=S,typeof T=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),T.keyword=B);else if(typeof S=="object"&&T===void 0){if(T=S,B=T.keyword,Array.isArray(B)&&!B.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(w.call(this,B,T),!T)return(0,m.eachItem)(B,I=>X.call(this,I)),this;se.call(this,T);const $={...T,type:(0,c.getJSONTypes)(T.type),schemaType:(0,c.getJSONTypes)(T.schemaType)};return(0,m.eachItem)(B,$.type.length===0?I=>X.call(this,I,$):I=>$.type.forEach(G=>X.call(this,I,$,G))),this}getKeyword(S){const T=this.RULES.all[S];return typeof T=="object"?T.definition:!!T}removeKeyword(S){const{RULES:T}=this;delete T.keywords[S],delete T.all[S];for(const B of T.rules){const $=B.rules.findIndex(I=>I.keyword===S);$>=0&&B.rules.splice($,1)}return this}addFormat(S,T){return typeof T=="string"&&(T=new RegExp(T)),this.formats[S]=T,this}errorsText(S=this.errors,{separator:T=", ",dataVar:B="data"}={}){return!S||S.length===0?"No errors":S.map($=>`${B}${$.instancePath} ${$.message}`).reduce(($,I)=>$+T+I)}$dataMetaSchema(S,T){const B=this.RULES.all;S=JSON.parse(JSON.stringify(S));for(const $ of T){const I=$.split("/").slice(1);let G=S;for(const oe of I)G=G[oe];for(const oe in B){const ae=B[oe];if(typeof ae!="object")continue;const{$data:pe}=ae.definition,ye=G[oe];pe&&ye&&(G[oe]=J(ye))}}return S}_removeAllSchemas(S,T){for(const B in S){const $=S[B];(!T||T.test(B))&&(typeof $=="string"?delete S[B]:$&&!$.meta&&(this._cache.delete($.schema),delete S[B]))}}_addSchema(S,T,B,$=this.opts.validateSchema,I=this.opts.addUsedSchema){let G;const{schemaId:oe}=this.opts;if(typeof S=="object")G=S[oe];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof S!="boolean")throw new Error("schema must be object or boolean")}let ae=this._cache.get(S);if(ae!==void 0)return ae;B=(0,l.normalizeId)(G||B);const pe=l.getSchemaRefs.call(this,S,B);return ae=new i.SchemaEnv({schema:S,schemaId:oe,meta:T,baseId:B,localRefs:pe}),this._cache.set(ae.schema,ae),I&&!B.startsWith("#")&&(B&&this._checkUnique(B),this.refs[B]=ae),$&&this.validateSchema(S,!0),ae}_checkUnique(S){if(this.schemas[S]||this.refs[S])throw new Error(`schema with key or id "${S}" already exists`)}_compileSchemaEnv(S){if(S.meta?this._compileMetaSchema(S):i.compileSchema.call(this,S),!S.validate)throw new Error("ajv implementation error");return S.validate}_compileMetaSchema(S){const T=this.opts;this.opts=this._metaOpts;try{i.compileSchema.call(this,S)}finally{this.opts=T}}}t.default=k,k.ValidationError=a.default,k.MissingRefError=n.default;function E(W,S,T,B="error"){for(const $ in W){const I=$;I in S&&this.logger[B](`${T}: option ${$}. ${W[I]}`)}}function A(W){return W=(0,l.normalizeId)(W),this.schemas[W]||this.refs[W]}function C(){const W=this.opts.schemas;if(W)if(Array.isArray(W))this.addSchema(W);else for(const S in W)this.addSchema(W[S],S)}function D(){for(const W in this.opts.formats){const S=this.opts.formats[W];S&&this.addFormat(W,S)}}function z(W){if(Array.isArray(W)){this.addVocabulary(W);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const S in W){const T=W[S];T.keyword||(T.keyword=S),this.addKeyword(T)}}function K(){const W={...this.opts};for(const S of _)delete W[S];return W}const ne={log(){},warn(){},error(){}};function N(W){if(W===!1)return ne;if(W===void 0)return console;if(W.log&&W.warn&&W.error)return W;throw new Error("logger must implement log, warn and error methods")}const Z=/^[a-z_$][a-z0-9_$:-]*$/i;function w(W,S){const{RULES:T}=this;if((0,m.eachItem)(W,B=>{if(T.keywords[B])throw new Error(`Keyword ${B} is already defined`);if(!Z.test(B))throw new Error(`Keyword ${B} has invalid name`)}),!!S&&S.$data&&!("code"in S||"validate"in S))throw new Error('$data keyword must have "code" or "validate" function')}function X(W,S,T){var B;const $=S==null?void 0:S.post;if(T&&$)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:I}=this;let G=$?I.post:I.rules.find(({type:ae})=>ae===T);if(G||(G={type:T,rules:[]},I.rules.push(G)),I.keywords[W]=!0,!S)return;const oe={keyword:W,definition:{...S,type:(0,c.getJSONTypes)(S.type),schemaType:(0,c.getJSONTypes)(S.schemaType)}};S.before?ge.call(this,G,oe,S.before):G.rules.push(oe),I.all[W]=oe,(B=S.implements)===null||B===void 0||B.forEach(ae=>this.addKeyword(ae))}function ge(W,S,T){const B=W.rules.findIndex($=>$.keyword===T);B>=0?W.rules.splice(B,0,S):(W.rules.push(S),this.logger.warn(`rule ${T} is not defined`))}function se(W){let{metaSchema:S}=W;S!==void 0&&(W.$data&&this.opts.$data&&(S=J(S)),W.validateSchema=this.compile(S,!0))}const _e={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function J(W){return{anyOf:[W,_e]}}})(ta);var Xn={},es={},ts={};Object.defineProperty(ts,"__esModule",{value:!0});const pl={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};ts.default=pl;var sr={};Object.defineProperty(sr,"__esModule",{value:!0});sr.callRef=sr.getValidate=void 0;const ml=qr,fi=$t(),tt=Ie,ur=Zt(),di=rt,en=Re,_l={keyword:"$ref",schemaType:"string",code(t){const{gen:e,schema:r,it:a}=t,{baseId:n,schemaEnv:s,validateName:i,opts:o,self:l}=a,{root:c}=s;if((r==="#"||r==="#/")&&n===c.baseId)return d();const m=di.resolveRef.call(l,c,n,r);if(m===void 0)throw new ml.default(a.opts.uriResolver,n,r);if(m instanceof di.SchemaEnv)return y(m);return u(m);function d(){if(s===c)return ln(t,i,s,s.$async);const _=e.scopeValue("root",{ref:c});return ln(t,(0,tt._)`${_}.validate`,c,c.$async)}function y(_){const f=ca(t,_);ln(t,f,_,_.$async)}function u(_){const f=e.scopeValue("schema",o.code.source===!0?{ref:_,code:(0,tt.stringify)(_)}:{ref:_}),v=e.name("valid"),h=t.subschema({schema:_,dataTypes:[],schemaPath:tt.nil,topSchemaRef:f,errSchemaPath:r},v);t.mergeEvaluated(h),t.ok(v)}}};function ca(t,e){const{gen:r}=t;return e.validate?r.scopeValue("validate",{ref:e.validate}):(0,tt._)`${r.scopeValue("wrapper",{ref:e})}.validate`}sr.getValidate=ca;function ln(t,e,r,a){const{gen:n,it:s}=t,{allErrors:i,schemaEnv:o,opts:l}=s,c=l.passContext?ur.default.this:tt.nil;a?m():d();function m(){if(!o.$async)throw new Error("async schema referenced by sync schema");const _=n.let("valid");n.try(()=>{n.code((0,tt._)`await ${(0,fi.callValidateCode)(t,e,c)}`),u(e),i||n.assign(_,!0)},f=>{n.if((0,tt._)`!(${f} instanceof ${s.ValidationError})`,()=>n.throw(f)),y(f),i||n.assign(_,!1)}),t.ok(_)}function d(){t.result((0,fi.callValidateCode)(t,e,c),()=>u(e),()=>y(e))}function y(_){const f=(0,tt._)`${_}.errors`;n.assign(ur.default.vErrors,(0,tt._)`${ur.default.vErrors} === null ? ${f} : ${ur.default.vErrors}.concat(${f})`),n.assign(ur.default.errors,(0,tt._)`${ur.default.vErrors}.length`)}function u(_){var f;if(!s.opts.unevaluated)return;const v=(f=r==null?void 0:r.validate)===null||f===void 0?void 0:f.evaluated;if(s.props!==!0)if(v&&!v.dynamicProps)v.props!==void 0&&(s.props=en.mergeEvaluated.props(n,v.props,s.props));else{const h=n.var("props",(0,tt._)`${_}.evaluated.props`);s.props=en.mergeEvaluated.props(n,h,s.props,tt.Name)}if(s.items!==!0)if(v&&!v.dynamicItems)v.items!==void 0&&(s.items=en.mergeEvaluated.items(n,v.items,s.items));else{const h=n.var("items",(0,tt._)`${_}.evaluated.items`);s.items=en.mergeEvaluated.items(n,h,s.items,tt.Name)}}}sr.callRef=ln;sr.default=_l;Object.defineProperty(es,"__esModule",{value:!0});const gl=ts,vl=sr,yl=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",gl.default,vl.default];es.default=yl;var rs={},ns={};Object.defineProperty(ns,"__esModule",{value:!0});const _n=Ie,Vt=_n.operators,gn={maximum:{okStr:"<=",ok:Vt.LTE,fail:Vt.GT},minimum:{okStr:">=",ok:Vt.GTE,fail:Vt.LT},exclusiveMaximum:{okStr:"<",ok:Vt.LT,fail:Vt.GTE},exclusiveMinimum:{okStr:">",ok:Vt.GT,fail:Vt.LTE}},bl={message:({keyword:t,schemaCode:e})=>(0,_n.str)`must be ${gn[t].okStr} ${e}`,params:({keyword:t,schemaCode:e})=>(0,_n._)`{comparison: ${gn[t].okStr}, limit: ${e}}`},wl={keyword:Object.keys(gn),type:"number",schemaType:"number",$data:!0,error:bl,code(t){const{keyword:e,data:r,schemaCode:a}=t;t.fail$data((0,_n._)`${r} ${gn[e].fail} ${a} || isNaN(${r})`)}};ns.default=wl;var ss={};Object.defineProperty(ss,"__esModule",{value:!0});const Tr=Ie,kl={message:({schemaCode:t})=>(0,Tr.str)`must be multiple of ${t}`,params:({schemaCode:t})=>(0,Tr._)`{multipleOf: ${t}}`},$l={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:kl,code(t){const{gen:e,data:r,schemaCode:a,it:n}=t,s=n.opts.multipleOfPrecision,i=e.let("res"),o=s?(0,Tr._)`Math.abs(Math.round(${i}) - ${i}) > 1e-${s}`:(0,Tr._)`${i} !== parseInt(${i})`;t.fail$data((0,Tr._)`(${a} === 0 || (${i} = ${r}/${a}, ${o}))`)}};ss.default=$l;var is={},as={};Object.defineProperty(as,"__esModule",{value:!0});function ua(t){const e=t.length;let r=0,a=0,n;for(;a<e;)r++,n=t.charCodeAt(a++),n>=55296&&n<=56319&&a<e&&(n=t.charCodeAt(a),(n&64512)===56320&&a++);return r}as.default=ua;ua.code='require("ajv/dist/runtime/ucs2length").default';Object.defineProperty(is,"__esModule",{value:!0});const er=Ie,Al=Re,El=as,Sl={message({keyword:t,schemaCode:e}){const r=t==="maxLength"?"more":"fewer";return(0,er.str)`must NOT have ${r} than ${e} characters`},params:({schemaCode:t})=>(0,er._)`{limit: ${t}}`},Cl={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:Sl,code(t){const{keyword:e,data:r,schemaCode:a,it:n}=t,s=e==="maxLength"?er.operators.GT:er.operators.LT,i=n.opts.unicode===!1?(0,er._)`${r}.length`:(0,er._)`${(0,Al.useFunc)(t.gen,El.default)}(${r})`;t.fail$data((0,er._)`${i} ${s} ${a}`)}};is.default=Cl;var os={};Object.defineProperty(os,"__esModule",{value:!0});const Il=$t(),vn=Ie,Pl={message:({schemaCode:t})=>(0,vn.str)`must match pattern "${t}"`,params:({schemaCode:t})=>(0,vn._)`{pattern: ${t}}`},Ol={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:Pl,code(t){const{data:e,$data:r,schema:a,schemaCode:n,it:s}=t,i=s.opts.unicodeRegExp?"u":"",o=r?(0,vn._)`(new RegExp(${n}, ${i}))`:(0,Il.usePattern)(t,a);t.fail$data((0,vn._)`!${o}.test(${e})`)}};os.default=Ol;var ls={};Object.defineProperty(ls,"__esModule",{value:!0});const Dr=Ie,Rl={message({keyword:t,schemaCode:e}){const r=t==="maxProperties"?"more":"fewer";return(0,Dr.str)`must NOT have ${r} than ${e} properties`},params:({schemaCode:t})=>(0,Dr._)`{limit: ${t}}`},Nl={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:Rl,code(t){const{keyword:e,data:r,schemaCode:a}=t,n=e==="maxProperties"?Dr.operators.GT:Dr.operators.LT;t.fail$data((0,Dr._)`Object.keys(${r}).length ${n} ${a}`)}};ls.default=Nl;var cs={};Object.defineProperty(cs,"__esModule",{value:!0});const Ir=$t(),jr=Ie,Tl=Re,Dl={message:({params:{missingProperty:t}})=>(0,jr.str)`must have required property '${t}'`,params:({params:{missingProperty:t}})=>(0,jr._)`{missingProperty: ${t}}`},jl={keyword:"required",type:"object",schemaType:"array",$data:!0,error:Dl,code(t){const{gen:e,schema:r,schemaCode:a,data:n,$data:s,it:i}=t,{opts:o}=i;if(!s&&r.length===0)return;const l=r.length>=o.loopRequired;if(i.allErrors?c():m(),o.strictRequired){const u=t.parentSchema.properties,{definedProperties:_}=t.it;for(const f of r)if((u==null?void 0:u[f])===void 0&&!_.has(f)){const v=i.schemaEnv.baseId+i.errSchemaPath,h=`required property "${f}" is not defined at "${v}" (strictRequired)`;(0,Tl.checkStrictMode)(i,h,i.opts.strictRequired)}}function c(){if(l||s)t.block$data(jr.nil,d);else for(const u of r)(0,Ir.checkReportMissingProp)(t,u)}function m(){const u=e.let("missing");if(l||s){const _=e.let("valid",!0);t.block$data(_,()=>y(u,_)),t.ok(_)}else e.if((0,Ir.checkMissingProp)(t,r,u)),(0,Ir.reportMissingProp)(t,u),e.else()}function d(){e.forOf("prop",a,u=>{t.setParams({missingProperty:u}),e.if((0,Ir.noPropertyInData)(e,n,u,o.ownProperties),()=>t.error())})}function y(u,_){t.setParams({missingProperty:u}),e.forOf(u,a,()=>{e.assign(_,(0,Ir.propertyInData)(e,n,u,o.ownProperties)),e.if((0,jr.not)(_),()=>{t.error(),e.break()})},jr.nil)}}};cs.default=jl;var us={};Object.defineProperty(us,"__esModule",{value:!0});const zr=Ie,zl={message({keyword:t,schemaCode:e}){const r=t==="maxItems"?"more":"fewer";return(0,zr.str)`must NOT have ${r} than ${e} items`},params:({schemaCode:t})=>(0,zr._)`{limit: ${t}}`},Bl={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:zl,code(t){const{keyword:e,data:r,schemaCode:a}=t,n=e==="maxItems"?zr.operators.GT:zr.operators.LT;t.fail$data((0,zr._)`${r}.length ${n} ${a}`)}};us.default=Bl;var fs={},Hr={};Object.defineProperty(Hr,"__esModule",{value:!0});const fa=na;fa.code='require("ajv/dist/runtime/equal").default';Hr.default=fa;Object.defineProperty(fs,"__esModule",{value:!0});const Nn=Ur,Je=Ie,Fl=Re,Ml=Hr,Ul={message:({params:{i:t,j:e}})=>(0,Je.str)`must NOT have duplicate items (items ## ${e} and ${t} are identical)`,params:({params:{i:t,j:e}})=>(0,Je._)`{i: ${t}, j: ${e}}`},Ll={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:Ul,code(t){const{gen:e,data:r,$data:a,schema:n,parentSchema:s,schemaCode:i,it:o}=t;if(!a&&!n)return;const l=e.let("valid"),c=s.items?(0,Nn.getSchemaTypes)(s.items):[];t.block$data(l,m,(0,Je._)`${i} === false`),t.ok(l);function m(){const _=e.let("i",(0,Je._)`${r}.length`),f=e.let("j");t.setParams({i:_,j:f}),e.assign(l,!0),e.if((0,Je._)`${_} > 1`,()=>(d()?y:u)(_,f))}function d(){return c.length>0&&!c.some(_=>_==="object"||_==="array")}function y(_,f){const v=e.name("item"),h=(0,Nn.checkDataTypes)(c,v,o.opts.strictNumbers,Nn.DataType.Wrong),g=e.const("indices",(0,Je._)`{}`);e.for((0,Je._)`;${_}--;`,()=>{e.let(v,(0,Je._)`${r}[${_}]`),e.if(h,(0,Je._)`continue`),c.length>1&&e.if((0,Je._)`typeof ${v} == "string"`,(0,Je._)`${v} += "_"`),e.if((0,Je._)`typeof ${g}[${v}] == "number"`,()=>{e.assign(f,(0,Je._)`${g}[${v}]`),t.error(),e.assign(l,!1).break()}).code((0,Je._)`${g}[${v}] = ${_}`)})}function u(_,f){const v=(0,Fl.useFunc)(e,Ml.default),h=e.name("outer");e.label(h).for((0,Je._)`;${_}--;`,()=>e.for((0,Je._)`${f} = ${_}; ${f}--;`,()=>e.if((0,Je._)`${v}(${r}[${_}], ${r}[${f}])`,()=>{t.error(),e.assign(l,!1).break(h)})))}}};fs.default=Ll;var ds={};Object.defineProperty(ds,"__esModule",{value:!0});const Kn=Ie,Vl=Re,xl=Hr,Kl={message:"must be equal to constant",params:({schemaCode:t})=>(0,Kn._)`{allowedValue: ${t}}`},ql={keyword:"const",$data:!0,error:Kl,code(t){const{gen:e,data:r,$data:a,schemaCode:n,schema:s}=t;a||s&&typeof s=="object"?t.fail$data((0,Kn._)`!${(0,Vl.useFunc)(e,xl.default)}(${r}, ${n})`):t.fail((0,Kn._)`${s} !== ${r}`)}};ds.default=ql;var hs={};Object.defineProperty(hs,"__esModule",{value:!0});const Rr=Ie,Hl=Re,Zl=Hr,Wl={message:"must be equal to one of the allowed values",params:({schemaCode:t})=>(0,Rr._)`{allowedValues: ${t}}`},Gl={keyword:"enum",schemaType:"array",$data:!0,error:Wl,code(t){const{gen:e,data:r,$data:a,schema:n,schemaCode:s,it:i}=t;if(!a&&n.length===0)throw new Error("enum must have non-empty array");const o=n.length>=i.opts.loopEnum;let l;const c=()=>l??(l=(0,Hl.useFunc)(e,Zl.default));let m;if(o||a)m=e.let("valid"),t.block$data(m,d);else{if(!Array.isArray(n))throw new Error("ajv implementation error");const u=e.const("vSchema",s);m=(0,Rr.or)(...n.map((_,f)=>y(u,f)))}t.pass(m);function d(){e.assign(m,!1),e.forOf("v",s,u=>e.if((0,Rr._)`${c()}(${r}, ${u})`,()=>e.assign(m,!0).break()))}function y(u,_){const f=n[_];return typeof f=="object"&&f!==null?(0,Rr._)`${c()}(${r}, ${u}[${_}])`:(0,Rr._)`${r} === ${f}`}}};hs.default=Gl;Object.defineProperty(rs,"__esModule",{value:!0});const Jl=ns,Ql=ss,Yl=is,Xl=os,ec=ls,tc=cs,rc=us,nc=fs,sc=ds,ic=hs,ac=[Jl.default,Ql.default,Yl.default,Xl.default,ec.default,tc.default,rc.default,nc.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},sc.default,ic.default];rs.default=ac;var ps={},wr={};Object.defineProperty(wr,"__esModule",{value:!0});wr.validateAdditionalItems=void 0;const tr=Ie,qn=Re,oc={message:({params:{len:t}})=>(0,tr.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,tr._)`{limit: ${t}}`},lc={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:oc,code(t){const{parentSchema:e,it:r}=t,{items:a}=e;if(!Array.isArray(a)){(0,qn.checkStrictMode)(r,'"additionalItems" is ignored when "items" is not an array of schemas');return}da(t,a)}};function da(t,e){const{gen:r,schema:a,data:n,keyword:s,it:i}=t;i.items=!0;const o=r.const("len",(0,tr._)`${n}.length`);if(a===!1)t.setParams({len:e.length}),t.pass((0,tr._)`${o} <= ${e.length}`);else if(typeof a=="object"&&!(0,qn.alwaysValidSchema)(i,a)){const c=r.var("valid",(0,tr._)`${o} <= ${e.length}`);r.if((0,tr.not)(c),()=>l(c)),t.ok(c)}function l(c){r.forRange("i",e.length,o,m=>{t.subschema({keyword:s,dataProp:m,dataPropType:qn.Type.Num},c),i.allErrors||r.if((0,tr.not)(c),()=>r.break())})}}wr.validateAdditionalItems=da;wr.default=lc;var ms={},kr={};Object.defineProperty(kr,"__esModule",{value:!0});kr.validateTuple=void 0;const hi=Ie,cn=Re,cc=$t(),uc={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(t){const{schema:e,it:r}=t;if(Array.isArray(e))return ha(t,"additionalItems",e);r.items=!0,!(0,cn.alwaysValidSchema)(r,e)&&t.ok((0,cc.validateArray)(t))}};function ha(t,e,r=t.schema){const{gen:a,parentSchema:n,data:s,keyword:i,it:o}=t;m(n),o.opts.unevaluated&&r.length&&o.items!==!0&&(o.items=cn.mergeEvaluated.items(a,r.length,o.items));const l=a.name("valid"),c=a.const("len",(0,hi._)`${s}.length`);r.forEach((d,y)=>{(0,cn.alwaysValidSchema)(o,d)||(a.if((0,hi._)`${c} > ${y}`,()=>t.subschema({keyword:i,schemaProp:y,dataProp:y},l)),t.ok(l))});function m(d){const{opts:y,errSchemaPath:u}=o,_=r.length,f=_===d.minItems&&(_===d.maxItems||d[e]===!1);if(y.strictTuples&&!f){const v=`"${i}" is ${_}-tuple, but minItems or maxItems/${e} are not specified or different at path "${u}"`;(0,cn.checkStrictMode)(o,v,y.strictTuples)}}}kr.validateTuple=ha;kr.default=uc;Object.defineProperty(ms,"__esModule",{value:!0});const fc=kr,dc={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:t=>(0,fc.validateTuple)(t,"items")};ms.default=dc;var _s={};Object.defineProperty(_s,"__esModule",{value:!0});const pi=Ie,hc=Re,pc=$t(),mc=wr,_c={message:({params:{len:t}})=>(0,pi.str)`must NOT have more than ${t} items`,params:({params:{len:t}})=>(0,pi._)`{limit: ${t}}`},gc={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:_c,code(t){const{schema:e,parentSchema:r,it:a}=t,{prefixItems:n}=r;a.items=!0,!(0,hc.alwaysValidSchema)(a,e)&&(n?(0,mc.validateAdditionalItems)(t,n):t.ok((0,pc.validateArray)(t)))}};_s.default=gc;var gs={};Object.defineProperty(gs,"__esModule",{value:!0});const ut=Ie,tn=Re,vc={message:({params:{min:t,max:e}})=>e===void 0?(0,ut.str)`must contain at least ${t} valid item(s)`:(0,ut.str)`must contain at least ${t} and no more than ${e} valid item(s)`,params:({params:{min:t,max:e}})=>e===void 0?(0,ut._)`{minContains: ${t}}`:(0,ut._)`{minContains: ${t}, maxContains: ${e}}`},yc={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:vc,code(t){const{gen:e,schema:r,parentSchema:a,data:n,it:s}=t;let i,o;const{minContains:l,maxContains:c}=a;s.opts.next?(i=l===void 0?1:l,o=c):i=1;const m=e.const("len",(0,ut._)`${n}.length`);if(t.setParams({min:i,max:o}),o===void 0&&i===0){(0,tn.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(o!==void 0&&i>o){(0,tn.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),t.fail();return}if((0,tn.alwaysValidSchema)(s,r)){let f=(0,ut._)`${m} >= ${i}`;o!==void 0&&(f=(0,ut._)`${f} && ${m} <= ${o}`),t.pass(f);return}s.items=!0;const d=e.name("valid");o===void 0&&i===1?u(d,()=>e.if(d,()=>e.break())):i===0?(e.let(d,!0),o!==void 0&&e.if((0,ut._)`${n}.length > 0`,y)):(e.let(d,!1),y()),t.result(d,()=>t.reset());function y(){const f=e.name("_valid"),v=e.let("count",0);u(f,()=>e.if(f,()=>_(v)))}function u(f,v){e.forRange("i",0,m,h=>{t.subschema({keyword:"contains",dataProp:h,dataPropType:tn.Type.Num,compositeRule:!0},f),v()})}function _(f){e.code((0,ut._)`${f}++`),o===void 0?e.if((0,ut._)`${f} >= ${i}`,()=>e.assign(d,!0).break()):(e.if((0,ut._)`${f} > ${o}`,()=>e.assign(d,!1).break()),i===1?e.assign(d,!0):e.if((0,ut._)`${f} >= ${i}`,()=>e.assign(d,!0)))}}};gs.default=yc;var pa={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=Ie,r=Re,a=$t();t.error={message:({params:{property:l,depsCount:c,deps:m}})=>{const d=c===1?"property":"properties";return(0,e.str)`must have ${d} ${m} when property ${l} is present`},params:({params:{property:l,depsCount:c,deps:m,missingProperty:d}})=>(0,e._)`{property: ${l},
    missingProperty: ${d},
    depsCount: ${c},
    deps: ${m}}`};const n={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(l){const[c,m]=s(l);i(l,c),o(l,m)}};function s({schema:l}){const c={},m={};for(const d in l){if(d==="__proto__")continue;const y=Array.isArray(l[d])?c:m;y[d]=l[d]}return[c,m]}function i(l,c=l.schema){const{gen:m,data:d,it:y}=l;if(Object.keys(c).length===0)return;const u=m.let("missing");for(const _ in c){const f=c[_];if(f.length===0)continue;const v=(0,a.propertyInData)(m,d,_,y.opts.ownProperties);l.setParams({property:_,depsCount:f.length,deps:f.join(", ")}),y.allErrors?m.if(v,()=>{for(const h of f)(0,a.checkReportMissingProp)(l,h)}):(m.if((0,e._)`${v} && (${(0,a.checkMissingProp)(l,f,u)})`),(0,a.reportMissingProp)(l,u),m.else())}}t.validatePropertyDeps=i;function o(l,c=l.schema){const{gen:m,data:d,keyword:y,it:u}=l,_=m.name("valid");for(const f in c)(0,r.alwaysValidSchema)(u,c[f])||(m.if((0,a.propertyInData)(m,d,f,u.opts.ownProperties),()=>{const v=l.subschema({keyword:y,schemaProp:f},_);l.mergeValidEvaluated(v,_)},()=>m.var(_,!0)),l.ok(_))}t.validateSchemaDeps=o,t.default=n})(pa);var vs={};Object.defineProperty(vs,"__esModule",{value:!0});const ma=Ie,bc=Re,wc={message:"property name must be valid",params:({params:t})=>(0,ma._)`{propertyName: ${t.propertyName}}`},kc={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:wc,code(t){const{gen:e,schema:r,data:a,it:n}=t;if((0,bc.alwaysValidSchema)(n,r))return;const s=e.name("valid");e.forIn("key",a,i=>{t.setParams({propertyName:i}),t.subschema({keyword:"propertyNames",data:i,dataTypes:["string"],propertyName:i,compositeRule:!0},s),e.if((0,ma.not)(s),()=>{t.error(!0),n.allErrors||e.break()})}),t.ok(s)}};vs.default=kc;var An={};Object.defineProperty(An,"__esModule",{value:!0});const rn=$t(),mt=Ie,$c=Zt(),nn=Re,Ac={message:"must NOT have additional properties",params:({params:t})=>(0,mt._)`{additionalProperty: ${t.additionalProperty}}`},Ec={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:Ac,code(t){const{gen:e,schema:r,parentSchema:a,data:n,errsCount:s,it:i}=t;if(!s)throw new Error("ajv implementation error");const{allErrors:o,opts:l}=i;if(i.props=!0,l.removeAdditional!=="all"&&(0,nn.alwaysValidSchema)(i,r))return;const c=(0,rn.allSchemaProperties)(a.properties),m=(0,rn.allSchemaProperties)(a.patternProperties);d(),t.ok((0,mt._)`${s} === ${$c.default.errors}`);function d(){e.forIn("key",n,v=>{!c.length&&!m.length?_(v):e.if(y(v),()=>_(v))})}function y(v){let h;if(c.length>8){const g=(0,nn.schemaRefOrVal)(i,a.properties,"properties");h=(0,rn.isOwnProperty)(e,g,v)}else c.length?h=(0,mt.or)(...c.map(g=>(0,mt._)`${v} === ${g}`)):h=mt.nil;return m.length&&(h=(0,mt.or)(h,...m.map(g=>(0,mt._)`${(0,rn.usePattern)(t,g)}.test(${v})`))),(0,mt.not)(h)}function u(v){e.code((0,mt._)`delete ${n}[${v}]`)}function _(v){if(l.removeAdditional==="all"||l.removeAdditional&&r===!1){u(v);return}if(r===!1){t.setParams({additionalProperty:v}),t.error(),o||e.break();return}if(typeof r=="object"&&!(0,nn.alwaysValidSchema)(i,r)){const h=e.name("valid");l.removeAdditional==="failing"?(f(v,h,!1),e.if((0,mt.not)(h),()=>{t.reset(),u(v)})):(f(v,h),o||e.if((0,mt.not)(h),()=>e.break()))}}function f(v,h,g){const b={keyword:"additionalProperties",dataProp:v,dataPropType:nn.Type.Str};g===!1&&Object.assign(b,{compositeRule:!0,createErrors:!1,allErrors:!1}),t.subschema(b,h)}}};An.default=Ec;var ys={};Object.defineProperty(ys,"__esModule",{value:!0});const Sc=wn(),mi=$t(),Tn=Re,_i=An,Cc={keyword:"properties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,parentSchema:a,data:n,it:s}=t;s.opts.removeAdditional==="all"&&a.additionalProperties===void 0&&_i.default.code(new Sc.KeywordCxt(s,_i.default,"additionalProperties"));const i=(0,mi.allSchemaProperties)(r);for(const d of i)s.definedProperties.add(d);s.opts.unevaluated&&i.length&&s.props!==!0&&(s.props=Tn.mergeEvaluated.props(e,(0,Tn.toHash)(i),s.props));const o=i.filter(d=>!(0,Tn.alwaysValidSchema)(s,r[d]));if(o.length===0)return;const l=e.name("valid");for(const d of o)c(d)?m(d):(e.if((0,mi.propertyInData)(e,n,d,s.opts.ownProperties)),m(d),s.allErrors||e.else().var(l,!0),e.endIf()),t.it.definedProperties.add(d),t.ok(l);function c(d){return s.opts.useDefaults&&!s.compositeRule&&r[d].default!==void 0}function m(d){t.subschema({keyword:"properties",schemaProp:d,dataProp:d},l)}}};ys.default=Cc;var bs={};Object.defineProperty(bs,"__esModule",{value:!0});const gi=$t(),sn=Ie,vi=Re,yi=Re,Ic={keyword:"patternProperties",type:"object",schemaType:"object",code(t){const{gen:e,schema:r,data:a,parentSchema:n,it:s}=t,{opts:i}=s,o=(0,gi.allSchemaProperties)(r),l=o.filter(f=>(0,vi.alwaysValidSchema)(s,r[f]));if(o.length===0||l.length===o.length&&(!s.opts.unevaluated||s.props===!0))return;const c=i.strictSchema&&!i.allowMatchingProperties&&n.properties,m=e.name("valid");s.props!==!0&&!(s.props instanceof sn.Name)&&(s.props=(0,yi.evaluatedPropsToName)(e,s.props));const{props:d}=s;y();function y(){for(const f of o)c&&u(f),s.allErrors?_(f):(e.var(m,!0),_(f),e.if(m))}function u(f){for(const v in c)new RegExp(f).test(v)&&(0,vi.checkStrictMode)(s,`property ${v} matches pattern ${f} (use allowMatchingProperties)`)}function _(f){e.forIn("key",a,v=>{e.if((0,sn._)`${(0,gi.usePattern)(t,f)}.test(${v})`,()=>{const h=l.includes(f);h||t.subschema({keyword:"patternProperties",schemaProp:f,dataProp:v,dataPropType:yi.Type.Str},m),s.opts.unevaluated&&d!==!0?e.assign((0,sn._)`${d}[${v}]`,!0):!h&&!s.allErrors&&e.if((0,sn.not)(m),()=>e.break())})})}}};bs.default=Ic;var ws={};Object.defineProperty(ws,"__esModule",{value:!0});const Pc=Re,Oc={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(t){const{gen:e,schema:r,it:a}=t;if((0,Pc.alwaysValidSchema)(a,r)){t.fail();return}const n=e.name("valid");t.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},n),t.failResult(n,()=>t.reset(),()=>t.error())},error:{message:"must NOT be valid"}};ws.default=Oc;var ks={};Object.defineProperty(ks,"__esModule",{value:!0});const Rc=$t(),Nc={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Rc.validateUnion,error:{message:"must match a schema in anyOf"}};ks.default=Nc;var $s={};Object.defineProperty($s,"__esModule",{value:!0});const un=Ie,Tc=Re,Dc={message:"must match exactly one schema in oneOf",params:({params:t})=>(0,un._)`{passingSchemas: ${t.passing}}`},jc={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:Dc,code(t){const{gen:e,schema:r,parentSchema:a,it:n}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");if(n.opts.discriminator&&a.discriminator)return;const s=r,i=e.let("valid",!1),o=e.let("passing",null),l=e.name("_valid");t.setParams({passing:o}),e.block(c),t.result(i,()=>t.reset(),()=>t.error(!0));function c(){s.forEach((m,d)=>{let y;(0,Tc.alwaysValidSchema)(n,m)?e.var(l,!0):y=t.subschema({keyword:"oneOf",schemaProp:d,compositeRule:!0},l),d>0&&e.if((0,un._)`${l} && ${i}`).assign(i,!1).assign(o,(0,un._)`[${o}, ${d}]`).else(),e.if(l,()=>{e.assign(i,!0),e.assign(o,d),y&&t.mergeEvaluated(y,un.Name)})})}}};$s.default=jc;var As={};Object.defineProperty(As,"__esModule",{value:!0});const zc=Re,Bc={keyword:"allOf",schemaType:"array",code(t){const{gen:e,schema:r,it:a}=t;if(!Array.isArray(r))throw new Error("ajv implementation error");const n=e.name("valid");r.forEach((s,i)=>{if((0,zc.alwaysValidSchema)(a,s))return;const o=t.subschema({keyword:"allOf",schemaProp:i},n);t.ok(n),t.mergeEvaluated(o)})}};As.default=Bc;var Es={};Object.defineProperty(Es,"__esModule",{value:!0});const yn=Ie,_a=Re,Fc={message:({params:t})=>(0,yn.str)`must match "${t.ifClause}" schema`,params:({params:t})=>(0,yn._)`{failingKeyword: ${t.ifClause}}`},Mc={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:Fc,code(t){const{gen:e,parentSchema:r,it:a}=t;r.then===void 0&&r.else===void 0&&(0,_a.checkStrictMode)(a,'"if" without "then" and "else" is ignored');const n=bi(a,"then"),s=bi(a,"else");if(!n&&!s)return;const i=e.let("valid",!0),o=e.name("_valid");if(l(),t.reset(),n&&s){const m=e.let("ifClause");t.setParams({ifClause:m}),e.if(o,c("then",m),c("else",m))}else n?e.if(o,c("then")):e.if((0,yn.not)(o),c("else"));t.pass(i,()=>t.error(!0));function l(){const m=t.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},o);t.mergeEvaluated(m)}function c(m,d){return()=>{const y=t.subschema({keyword:m},o);e.assign(i,o),t.mergeValidEvaluated(y,i),d?e.assign(d,(0,yn._)`${m}`):t.setParams({ifClause:m})}}}};function bi(t,e){const r=t.schema[e];return r!==void 0&&!(0,_a.alwaysValidSchema)(t,r)}Es.default=Mc;var Ss={};Object.defineProperty(Ss,"__esModule",{value:!0});const Uc=Re,Lc={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:t,parentSchema:e,it:r}){e.if===void 0&&(0,Uc.checkStrictMode)(r,`"${t}" without "if" is ignored`)}};Ss.default=Lc;Object.defineProperty(ps,"__esModule",{value:!0});const Vc=wr,xc=ms,Kc=kr,qc=_s,Hc=gs,Zc=pa,Wc=vs,Gc=An,Jc=ys,Qc=bs,Yc=ws,Xc=ks,eu=$s,tu=As,ru=Es,nu=Ss;function su(t=!1){const e=[Yc.default,Xc.default,eu.default,tu.default,ru.default,nu.default,Wc.default,Gc.default,Zc.default,Jc.default,Qc.default];return t?e.push(xc.default,qc.default):e.push(Vc.default,Kc.default),e.push(Hc.default),e}ps.default=su;var Cs={},Is={};Object.defineProperty(Is,"__esModule",{value:!0});const He=Ie,iu={message:({schemaCode:t})=>(0,He.str)`must match format "${t}"`,params:({schemaCode:t})=>(0,He._)`{format: ${t}}`},au={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:iu,code(t,e){const{gen:r,data:a,$data:n,schema:s,schemaCode:i,it:o}=t,{opts:l,errSchemaPath:c,schemaEnv:m,self:d}=o;if(!l.validateFormats)return;n?y():u();function y(){const _=r.scopeValue("formats",{ref:d.formats,code:l.code.formats}),f=r.const("fDef",(0,He._)`${_}[${i}]`),v=r.let("fType"),h=r.let("format");r.if((0,He._)`typeof ${f} == "object" && !(${f} instanceof RegExp)`,()=>r.assign(v,(0,He._)`${f}.type || "string"`).assign(h,(0,He._)`${f}.validate`),()=>r.assign(v,(0,He._)`"string"`).assign(h,f)),t.fail$data((0,He.or)(g(),b()));function g(){return l.strictSchema===!1?He.nil:(0,He._)`${i} && !${h}`}function b(){const k=m.$async?(0,He._)`(${f}.async ? await ${h}(${a}) : ${h}(${a}))`:(0,He._)`${h}(${a})`,E=(0,He._)`(typeof ${h} == "function" ? ${k} : ${h}.test(${a}))`;return(0,He._)`${h} && ${h} !== true && ${v} === ${e} && !${E}`}}function u(){const _=d.formats[s];if(!_){g();return}if(_===!0)return;const[f,v,h]=b(_);f===e&&t.pass(k());function g(){if(l.strictSchema===!1){d.logger.warn(E());return}throw new Error(E());function E(){return`unknown format "${s}" ignored in schema at path "${c}"`}}function b(E){const A=E instanceof RegExp?(0,He.regexpCode)(E):l.code.formats?(0,He._)`${l.code.formats}${(0,He.getProperty)(s)}`:void 0,C=r.scopeValue("formats",{key:s,ref:E,code:A});return typeof E=="object"&&!(E instanceof RegExp)?[E.type||"string",E.validate,(0,He._)`${C}.validate`]:["string",E,C]}function k(){if(typeof _=="object"&&!(_ instanceof RegExp)&&_.async){if(!m.$async)throw new Error("async format in sync schema");return(0,He._)`await ${h}(${a})`}return typeof v=="function"?(0,He._)`${h}(${a})`:(0,He._)`${h}.test(${a})`}}}};Is.default=au;Object.defineProperty(Cs,"__esModule",{value:!0});const ou=Is,lu=[ou.default];Cs.default=lu;var yr={};Object.defineProperty(yr,"__esModule",{value:!0});yr.contentVocabulary=yr.metadataVocabulary=void 0;yr.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"];yr.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"];Object.defineProperty(Xn,"__esModule",{value:!0});const cu=es,uu=rs,fu=ps,du=Cs,wi=yr,hu=[cu.default,uu.default,(0,fu.default)(),du.default,wi.metadataVocabulary,wi.contentVocabulary];Xn.default=hu;var Ps={},ga={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DiscrError=void 0,function(e){e.Tag="tag",e.Mapping="mapping"}(t.DiscrError||(t.DiscrError={}))})(ga);Object.defineProperty(Ps,"__esModule",{value:!0});const dr=Ie,Hn=ga,ki=rt,pu=Re,mu={message:({params:{discrError:t,tagName:e}})=>t===Hn.DiscrError.Tag?`tag "${e}" must be string`:`value of tag "${e}" must be in oneOf`,params:({params:{discrError:t,tag:e,tagName:r}})=>(0,dr._)`{error: ${t}, tag: ${r}, tagValue: ${e}}`},_u={keyword:"discriminator",type:"object",schemaType:"object",error:mu,code(t){const{gen:e,data:r,schema:a,parentSchema:n,it:s}=t,{oneOf:i}=n;if(!s.opts.discriminator)throw new Error("discriminator: requires discriminator option");const o=a.propertyName;if(typeof o!="string")throw new Error("discriminator: requires propertyName");if(a.mapping)throw new Error("discriminator: mapping is not supported");if(!i)throw new Error("discriminator: requires oneOf keyword");const l=e.let("valid",!1),c=e.const("tag",(0,dr._)`${r}${(0,dr.getProperty)(o)}`);e.if((0,dr._)`typeof ${c} == "string"`,()=>m(),()=>t.error(!1,{discrError:Hn.DiscrError.Tag,tag:c,tagName:o})),t.ok(l);function m(){const u=y();e.if(!1);for(const _ in u)e.elseIf((0,dr._)`${c} === ${_}`),e.assign(l,d(u[_]));e.else(),t.error(!1,{discrError:Hn.DiscrError.Mapping,tag:c,tagName:o}),e.endIf()}function d(u){const _=e.name("valid"),f=t.subschema({keyword:"oneOf",schemaProp:u},_);return t.mergeEvaluated(f,dr.Name),_}function y(){var u;const _={},f=h(n);let v=!0;for(let k=0;k<i.length;k++){let E=i[k];E!=null&&E.$ref&&!(0,pu.schemaHasRulesButRef)(E,s.self.RULES)&&(E=ki.resolveRef.call(s.self,s.schemaEnv.root,s.baseId,E==null?void 0:E.$ref),E instanceof ki.SchemaEnv&&(E=E.schema));const A=(u=E==null?void 0:E.properties)===null||u===void 0?void 0:u[o];if(typeof A!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${o}"`);v=v&&(f||h(E)),g(A,k)}if(!v)throw new Error(`discriminator: "${o}" must be required`);return _;function h({required:k}){return Array.isArray(k)&&k.includes(o)}function g(k,E){if(k.const)b(k.const,E);else if(k.enum)for(const A of k.enum)b(A,E);else throw new Error(`discriminator: "properties/${o}" must have "const" or "enum"`)}function b(k,E){if(typeof k!="string"||k in _)throw new Error(`discriminator: "${o}" values must be unique strings`);_[k]=E}}}};Ps.default=_u;const gu="http://json-schema.org/draft-07/schema#",vu="http://json-schema.org/draft-07/schema#",yu="Core schema meta-schema",bu={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},wu=["object","boolean"],ku={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},$u={$schema:gu,$id:vu,title:yu,definitions:bu,type:wu,properties:ku,default:!0};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;const r=ta,a=Xn,n=Ps,s=$u,i=["/properties"],o="http://json-schema.org/draft-07/schema";class l extends r.default{_addVocabularies(){super._addVocabularies(),a.default.forEach(_=>this.addVocabulary(_)),this.opts.discriminator&&this.addKeyword(n.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const _=this.opts.$data?this.$dataMetaSchema(s,i):s;this.addMetaSchema(_,o,!1),this.refs["http://json-schema.org/schema"]=o}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}t.exports=e=l,Object.defineProperty(e,"__esModule",{value:!0}),e.default=l;var c=wn();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var m=Ie;Object.defineProperty(e,"_",{enumerable:!0,get:function(){return m._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return m.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return m.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return m.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return m.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return m.CodeGen}});var d=Kr;Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return d.default}});var y=qr;Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return y.default}})})(Oo,pn);const Au=Io(pn),va=async t=>(await Vr.loadAsync(t)).file("pack.mcmeta")!==null,Eu=async t=>{const e=await t.text(),r={type:"array",items:{type:"object",properties:{title:{type:"string"},author:{type:"string"},"disc-namespace":{type:"string"},"model-data":{type:"integer"},"creeper-drop":{type:"boolean"},lores:{type:"array",items:{type:"string"}},"loot-tables":{type:"array",items:{type:"string"}}},required:["author","creeper-drop","disc-namespace","lores","model-data","title"]}};return new Au().compile(r)(JSON.parse(e))},Su=async(t,e)=>{try{const r=await t.text(),a=JSON.parse(r),n=await new Vr().loadAsync(e),s=await Promise.all(a.map(async i=>{const o=i["disc-namespace"].substring(i["disc-namespace"].indexOf(".")+1);console.log(o);const l=await n.file(`assets/minecraft/sounds/records/${o}.ogg`).async("blob"),c=await n.file(`assets/minecraft/textures/item/music_disc_${o}.png`).async("blob"),m=await n.file(`assets/minecraft/textures/item/fragment_${o}.png`).async("blob");return{name:i.title,author:i.author,namespace:i["disc-namespace"],creeperDrop:i["creeper-drop"],isMono:!0,normalize:!0,lores:i.lores.join(`
`),lootTables:$i(i["loot-tables"]??[]),fragmentLootTables:$i(i["fragment-loot-tables"]??[]),uploadedFile:new File([l],`music_disc.${o}.ogg`),oggFile:l,monoFile:l,texture:c,fragmentTexture:m}}));xt.set(s)}catch{alert("Can't import the resource pack. The resourcepack mismatches the discs.json file.")}},$i=t=>{const e=[];return t.forEach(r=>{const a=Fr.find(n=>n.source.includes(r));a&&(e.includes(a.source)||e.push(a.source))}),e};function Ai(t){let e,r,a=`url(${bn})`,n,s,i;return{c(){e=ce("div"),F(e,"class","popupbackground svelte-s6y2ol"),nt(e,"background-image",a)},m(o,l){he(o,e,l),n=!0,s||(i=[we(e,"click",t[9]),we(e,"keydown",null)],s=!0)},p:Se,i(o){n||(ot(()=>{n&&(r||(r=qt(e,bt,{},!0)),r.run(1))}),n=!0)},o(o){r||(r=qt(e,bt,{},!1)),r.run(0),n=!1},d(o){o&&de(e),o&&r&&r.end(),s=!1,Te(i)}}}function Ei(t){let e,r,a,n,s,i,o,l,c,m,d,y,u,_,f,v,h,g,b,k,E,A,C,D,z,K,ne,N,Z,w,X,ge,se,_e,J,W;return{c(){e=ce("div"),r=ce("div"),a=ce("div"),n=ce("img"),i=Ae(),o=ce("p"),o.textContent="Not Valid",l=Ae(),c=ce("p"),m=Ye(t[3]),u=Ae(),_=ce("div"),f=ce("input"),v=Ae(),h=ce("img"),b=Ae(),k=ce("p"),k.textContent="Not Valid",E=Ae(),A=ce("p"),C=Ye(t[4]),K=Ae(),ne=ce("p"),ne.textContent="Warning: Importing a resource pack will overwrite any existing resource pack in the tool!",N=Ae(),Z=ce("div"),w=ce("div"),X=ce("p"),X.textContent="Import",se=Ae(),_e=ce("div"),_e.innerHTML='<p id="generate_text" class="noselect svelte-s6y2ol">Discard</p>',Ge(n.src,s=Jn)||F(n,"src",s),F(n,"alt",""),F(n,"class","svelte-s6y2ol"),F(o,"id","error"),F(o,"class","svelte-s6y2ol"),F(a,"class",d=ft(t[1])+" svelte-s6y2ol"),F(f,"type","file"),F(f,"name","discs_input"),F(f,"id","discs_input"),F(f,"accept",".json"),F(f,"class","svelte-s6y2ol"),Ge(h.src,g=Gi)||F(h,"src",g),F(h,"alt",""),F(h,"class","svelte-s6y2ol"),F(k,"id","error"),F(k,"class","svelte-s6y2ol"),F(_,"class",D=ft(t[2])+" svelte-s6y2ol"),F(r,"class","popupcontainer svelte-s6y2ol"),nt(ne,"color","red"),nt(ne,"margin-bottom","0"),F(X,"id","generate_text"),F(X,"class","noselect svelte-s6y2ol"),F(w,"id","messagepopupconfirm"),F(w,"class",ge="popupconfirm "+t[5]+" svelte-s6y2ol"),F(_e,"id","messagepopupconfirm"),F(_e,"class","popupconfirm svelte-s6y2ol"),F(Z,"id","input"),F(Z,"class","svelte-s6y2ol"),F(e,"class","popup svelte-s6y2ol")},m(S,T){he(S,e,T),ue(e,r),ue(r,a),ue(a,n),ue(a,i),ue(a,o),ue(a,l),ue(a,c),ue(c,m),ue(r,u),ue(r,_),ue(_,f),ue(_,v),ue(_,h),ue(_,b),ue(_,k),ue(_,E),ue(_,A),ue(A,C),ue(e,K),ue(e,ne),ue(e,N),ue(e,Z),ue(Z,w),ue(w,X),ue(Z,se),ue(Z,_e),J||(W=[Le(_r.call(null,a,{accept:".zip",cb:t[6]})),we(a,"keydown",null),Le(gr.call(null,a,{accept:".zip",cb:t[6]})),Le(_r.call(null,_,{accept:".json",cb:t[7]})),we(_,"keydown",null),Le(gr.call(null,_,{accept:".json",cb:t[7]})),we(w,"click",t[10]),we(w,"keydown",null),we(_e,"click",t[9]),we(_e,"keydown",null)],J=!0)},p(S,T){T&8&&Ft(m,S[3]),T&2&&d!==(d=ft(S[1])+" svelte-s6y2ol")&&F(a,"class",d),T&16&&Ft(C,S[4]),T&4&&D!==(D=ft(S[2])+" svelte-s6y2ol")&&F(_,"class",D),T&32&&ge!==(ge="popupconfirm "+S[5]+" svelte-s6y2ol")&&F(w,"class",ge)},i(S){y||ot(()=>{y=Fn(a,bt,{}),y.start()}),z||ot(()=>{z=Fn(_,bt,{}),z.start()})},o:Se,d(S){S&&de(e),J=!1,Te(W)}}}function Cu(t){let e,r,a,n=t[0]&&Ai(t),s=t[0]&&Ei(t);return{c(){n&&n.c(),e=Ae(),s&&s.c(),r=Mt()},m(i,o){n&&n.m(i,o),he(i,e,o),s&&s.m(i,o),he(i,r,o),a=!0},p(i,[o]){i[0]?n?(n.p(i,o),o&1&&me(n,1)):(n=Ai(i),n.c(),me(n,1),n.m(e.parentNode,e)):n&&(Xe(),$e(n,1,1,()=>{n=null}),et()),i[0]?s?(s.p(i,o),o&1&&me(s,1)):(s=Ei(i),s.c(),me(s,1),s.m(r.parentNode,r)):s&&(s.d(1),s=null)},i(i){a||(me(n),me(s),a=!0)},o(i){$e(n),a=!1},d(i){n&&n.d(i),i&&de(e),s&&s.d(i),i&&de(r)}}}function Iu(t,e,r){let a,{active:n}=e,s="ready",i="Resource pack",o,l="ready",c="discs.json",m,d=!1;const y=async h=>{if(!h||h.length===0||!h[0])return;const g=h[0];g.name.length>13?r(3,i=g.name.substring(0,10)+"..."):r(3,i=g.name),await va(g)?r(1,s="success"):r(1,s="error"),o=g},u=async h=>{if(!h||h.length===0||!h[0])return;const g=h[0];g.name.length>13?r(4,c=g.name.substring(0,10)+"..."):r(4,c=g.name),await Eu(g)?r(2,l="success"):r(2,l="error"),m=g},_=async()=>{s==="success"&&l==="success"&&!d&&(d=!0,await Su(m,o),r(1,s="ready"),r(3,i="Resource pack"),o=void 0,r(2,l="ready"),r(4,c="discs.json"),m=void 0,f())},f=()=>r(0,n=!1),v=()=>_();return t.$$set=h=>{"active"in h&&r(0,n=h.active)},t.$$.update=()=>{t.$$.dirty&6&&r(5,a=s!=="success"||l!=="success"?"forbid":"")},[n,s,l,i,c,a,y,u,_,f,v]}class Pu extends kt{constructor(e){super(),wt(this,e,Iu,Cu,dt,{active:0})}}function Os(){return new Worker("/jext-reborn/assets/worker-377d6e3d.js")}const Ou=async t=>t.type=="audio/ogg"?new Blob([t],{type:"audio/ogg"}):await new Promise(e=>{const r=new FileReader,a=new Blob([t]);r.readAsArrayBuffer(a),r.onload=async()=>{const n=r.result,s=new Os;s.onmessage=i=>{e(new Blob([i.data],{type:"audio/ogg"})),s.terminate()},s.postMessage({audio:n,args:["-vn","-acodec","libvorbis"]})}}),Ru=async t=>await new Promise(e=>{const r=new FileReader;r.readAsArrayBuffer(t),r.onload=async()=>{const a=r.result,n=new Os;n.onmessage=s=>{e(new Blob([s.data],{type:"audio/ogg"})),n.terminate()},n.postMessage({audio:a,args:["-af","loudnorm"]})}}),Nu=async t=>await new Promise(e=>{const r=new FileReader;r.readAsArrayBuffer(t),r.onload=async()=>{const a=r.result,n=new Os;n.onmessage=s=>{e(new Blob([s.data],{type:"audio/ogg"})),n.terminate()},n.postMessage({audio:a,args:["-ac","1"]})}});function Tu(t){return{c:Se,m:Se,p:Se,i:Se,o:Se,d:Se}}function Du(t){let e,r,a,n,s,i,o,l,c,m,d,y,u,_,f,v,h,g,b,k,E,A,C,D,z,K,ne,N;r=new gt({props:{text:"Changes the disc icon",$$slots:{default:[ju]},$$scope:{ctx:t}}}),s=new gt({props:{text:"Toggles Creeper drops",$$slots:{default:[zu]},$$scope:{ctx:t}}}),o=new gt({props:{text:"Selects structures in which the disc can be found",$$slots:{default:[Bu]},$$scope:{ctx:t}}});const Z=[Mu,Fu],w=[];function X(J,W){return J[4]>=9?0:1}c=X(t),m=w[c]=Z[c](t),y=new gt({props:{text:"(M)ono: single audio channel but music fading<br>(S)tereo: multiple audio channels but no music fading",width:"22em",$$slots:{default:[Vu]},$$scope:{ctx:t}}}),_=new gt({props:{text:"Enabled: Normalizes the audio<br>Disabled: Keeps the song as is",width:"15em",$$slots:{default:[xu]},$$scope:{ctx:t}}}),v=new gt({props:{text:"Removes the disc",$$slots:{default:[Ku]},$$scope:{ctx:t}}});function ge(J,W){return J[0].namespace.length>90?Hu:qu}let se=ge(t),_e=se(t);return{c(){e=ce("div"),Ze(r.$$.fragment),a=Ae(),n=ce("div"),Ze(s.$$.fragment),i=Ae(),Ze(o.$$.fragment),l=Ae(),m.c(),d=Ae(),Ze(y.$$.fragment),u=Ae(),Ze(_.$$.fragment),f=Ae(),Ze(v.$$.fragment),h=Ae(),g=ce("div"),b=ce("input"),k=Ae(),E=ce("input"),A=Ae(),C=ce("p"),_e.c(),D=Ae(),z=ce("textarea"),F(n,"id","buttons"),F(n,"class","svelte-cnucw0"),F(e,"id","icons"),F(e,"class","svelte-cnucw0"),F(b,"type","text"),F(b,"name","song_name"),F(b,"id","song_name_input"),F(b,"class","svelte-cnucw0"),F(E,"type","text"),F(E,"name","song_author"),F(E,"id","song_author_input"),F(E,"class","svelte-cnucw0"),F(C,"id","disknamespace"),F(C,"class","svelte-cnucw0"),F(g,"id","names"),F(g,"class","svelte-cnucw0"),F(z,"name","song_lore"),F(z,"id","song_lore_input"),F(z,"cols","30"),F(z,"rows","6"),F(z,"class","svelte-cnucw0")},m(J,W){he(J,e,W),Ve(r,e,null),ue(e,a),ue(e,n),Ve(s,n,null),ue(n,i),Ve(o,n,null),ue(n,l),w[c].m(n,null),ue(n,d),Ve(y,n,null),ue(n,u),Ve(_,n,null),ue(n,f),Ve(v,n,null),he(J,h,W),he(J,g,W),ue(g,b),Ct(b,t[0].name),ue(g,k),ue(g,E),Ct(E,t[0].author),ue(g,A),ue(g,C),_e.m(C,null),he(J,D,W),he(J,z,W),Ct(z,t[0].lores),K=!0,ne||(N=[we(b,"input",t[19]),we(b,"input",t[5]),we(E,"input",t[20]),we(E,"input",t[5]),we(z,"input",t[21])],ne=!0)},p(J,W){const S={};W&16777217&&(S.$$scope={dirty:W,ctx:J}),r.$set(S);const T={};W&16777217&&(T.$$scope={dirty:W,ctx:J}),s.$set(T);const B={};W&16777220&&(B.$$scope={dirty:W,ctx:J}),o.$set(B);let $=c;c=X(J),c===$?w[c].p(J,W):(Xe(),$e(w[$],1,1,()=>{w[$]=null}),et(),m=w[c],m?m.p(J,W):(m=w[c]=Z[c](J),m.c()),me(m,1),m.m(n,d));const I={};W&16777217&&(I.$$scope={dirty:W,ctx:J}),y.$set(I);const G={};W&16777217&&(G.$$scope={dirty:W,ctx:J}),_.$set(G);const oe={};W&16777218&&(oe.$$scope={dirty:W,ctx:J}),v.$set(oe),W&1&&b.value!==J[0].name&&Ct(b,J[0].name),W&1&&E.value!==J[0].author&&Ct(E,J[0].author),se===(se=ge(J))&&_e?_e.p(J,W):(_e.d(1),_e=se(J),_e&&(_e.c(),_e.m(C,null))),W&1&&Ct(z,J[0].lores)},i(J){K||(me(r.$$.fragment,J),me(s.$$.fragment,J),me(o.$$.fragment,J),me(m),me(y.$$.fragment,J),me(_.$$.fragment,J),me(v.$$.fragment,J),K=!0)},o(J){$e(r.$$.fragment,J),$e(s.$$.fragment,J),$e(o.$$.fragment,J),$e(m),$e(y.$$.fragment,J),$e(_.$$.fragment,J),$e(v.$$.fragment,J),K=!1},d(J){J&&de(e),xe(r),xe(s),xe(o),w[c].d(),xe(y),xe(_),xe(v),J&&de(h),J&&de(g),_e.d(),J&&de(D),J&&de(z),ne=!1,Te(N)}}}function ju(t){let e,r,a,n;return{c(){e=ce("img"),F(e,"id","disc_texture"),Ge(e.src,r=URL.createObjectURL(t[0].texture))||F(e,"src",r),F(e,"height","64"),F(e,"width","64"),F(e,"alt","disc icon"),F(e,"class","svelte-cnucw0")},m(s,i){he(s,e,i),a||(n=[Le(Pt.call(null,e)),Le(_r.call(null,e,{accept:"image/*",cb:t[7]})),we(e,"keydown",null),Le(gr.call(null,e,{accept:"image/*",cb:t[7]}))],a=!0)},p(s,i){i&1&&!Ge(e.src,r=URL.createObjectURL(s[0].texture))&&F(e,"src",r)},d(s){s&&de(e),a=!1,Te(n)}}}function zu(t){let e,r,a,n,s;return{c(){e=ce("img"),F(e,"id","toggle_creeper"),Ge(e.src,r=Wa)||F(e,"src",r),F(e,"alt","creeper icon"),F(e,"class",a=ft(t[0].creeperDrop?"":"grayscale")+" svelte-cnucw0")},m(i,o){he(i,e,o),n||(s=[Le(Pt.call(null,e)),we(e,"click",t[14]),we(e,"keydown",null)],n=!0)},p(i,o){o&1&&a!==(a=ft(i[0].creeperDrop?"":"grayscale")+" svelte-cnucw0")&&F(e,"class",a)},d(i){i&&de(e),n=!1,Te(s)}}}function Bu(t){let e,r,a,n;return{c(){e=ce("img"),F(e,"id","loot_selector"),Ge(e.src,r=Za)||F(e,"src",r),F(e,"alt","chest icon"),F(e,"class","svelte-cnucw0")},m(s,i){he(s,e,i),a||(n=[Le(Pt.call(null,e)),we(e,"click",t[15]),we(e,"keydown",null)],a=!0)},p:Se,d(s){s&&de(e),a=!1,Te(n)}}}function Fu(t){let e,r;return e=new gt({props:{text:"Not available in versions lower than 1.19",$$slots:{default:[Uu]},$$scope:{ctx:t}}}),{c(){Ze(e.$$.fragment)},m(a,n){Ve(e,a,n),r=!0},p(a,n){const s={};n&16777216&&(s.$$scope={dirty:n,ctx:a}),e.$set(s)},i(a){r||(me(e.$$.fragment,a),r=!0)},o(a){$e(e.$$.fragment,a),r=!1},d(a){xe(e,a)}}}function Mu(t){let e,r;return e=new gt({props:{text:"Selects structures in which the disc fragments can be found",$$slots:{default:[Lu]},$$scope:{ctx:t}}}),{c(){Ze(e.$$.fragment)},m(a,n){Ve(e,a,n),r=!0},p(a,n){const s={};n&16777224&&(s.$$scope={dirty:n,ctx:a}),e.$set(s)},i(a){r||(me(e.$$.fragment,a),r=!0)},o(a){$e(e.$$.fragment,a),r=!1},d(a){xe(e,a)}}}function Uu(t){let e,r,a,n;return{c(){e=ce("img"),F(e,"id","loot_fragment_selector"),Ge(e.src,r=Qi)||F(e,"src",r),F(e,"alt","fragment icon"),F(e,"class","disabled svelte-cnucw0")},m(s,i){he(s,e,i),a||(n=Le(Pt.call(null,e)),a=!0)},p:Se,d(s){s&&de(e),a=!1,n()}}}function Lu(t){let e,r,a,n;return{c(){e=ce("img"),F(e,"id","loot_fragment_selector"),Ge(e.src,r=Qi)||F(e,"src",r),F(e,"alt","fragment icon"),F(e,"class","svelte-cnucw0")},m(s,i){he(s,e,i),a||(n=[Le(Pt.call(null,e)),we(e,"click",t[16]),we(e,"keydown",null)],a=!0)},p:Se,d(s){s&&de(e),a=!1,Te(n)}}}function Vu(t){let e,r=t[0].isMono?"M":"S",a,n,s;return{c(){e=ce("p"),a=Ye(r),F(e,"id","toggle_mono"),F(e,"class","svelte-cnucw0")},m(i,o){he(i,e,o),ue(e,a),n||(s=[Le(Pt.call(null,e)),we(e,"click",t[17]),we(e,"keydown",null)],n=!0)},p(i,o){o&1&&r!==(r=i[0].isMono?"M":"S")&&Ft(a,r)},d(i){i&&de(e),n=!1,Te(s)}}}function xu(t){let e,r,a,n;return{c(){e=ce("img"),Ge(e.src,r=t[0].normalize?Ls:Vs)||F(e,"src",r),F(e,"id","audio_normalize"),F(e,"alt","audio icon"),F(e,"class","svelte-cnucw0")},m(s,i){he(s,e,i),a||(n=[Le(Pt.call(null,e)),we(e,"click",t[18]),we(e,"keydown",null)],a=!0)},p(s,i){i&1&&!Ge(e.src,r=s[0].normalize?Ls:Vs)&&F(e,"src",r)},d(s){s&&de(e),a=!1,Te(n)}}}function Ku(t){let e,r,a;return{c(){e=ce("img"),F(e,"id","song_delete"),F(e,"alt","delete icon"),F(e,"class","svelte-cnucw0")},m(n,s){he(n,e,s),r||(a=[Le(Pt.call(null,e)),Le(Ka.call(null,e,{src:Ja,hover:Ga})),we(e,"click",function(){Ht(t[1])&&t[1].apply(this,arguments)}),we(e,"keydown",null)],r=!0)},p(n,s){t=n},d(n){n&&de(e),r=!1,Te(a)}}}function qu(t){let e=t[0].namespace+"",r;return{c(){r=Ye(e)},m(a,n){he(a,r,n)},p(a,n){n&1&&e!==(e=a[0].namespace+"")&&Ft(r,e)},d(a){a&&de(r)}}}function Hu(t){let e=t[0].namespace.substring(0,90)+"",r,a;return{c(){r=Ye(e),a=Ye("...")},m(n,s){he(n,r,s),he(n,a,s)},p(n,s){s&1&&e!==(e=n[0].namespace.substring(0,90)+"")&&Ft(r,e)},d(n){n&&de(r),n&&de(a)}}}function Zu(t){let e,r,a,n;return{c(){e=ce("div"),r=ce("img"),F(r,"alt","loading"),F(r,"class","svelte-cnucw0"),F(e,"id","loading"),F(e,"class","svelte-cnucw0")},m(s,i){he(s,e,i),ue(e,r),a||(n=Le(qa.call(null,r,Qa)),a=!0)},p:Se,i:Se,o:Se,d(s){s&&de(e),a=!1,n()}}}function Wu(t){let e,r,a,n,s,i,o,l,c,m,d;function y(k){t[9](k)}function u(k){t[10](k)}let _={};t[0].lootTables!==void 0&&(_.selectedDungeons=t[0].lootTables),t[2]!==void 0&&(_.active=t[2]),e=new ho({props:_}),vt.push(()=>jt(e,"selectedDungeons",y)),vt.push(()=>jt(e,"active",u));function f(k){t[11](k)}function v(k){t[12](k)}function h(k){t[13](k)}let g={};t[0].fragmentLootTables!==void 0&&(g.selectedDungeons=t[0].fragmentLootTables),t[3]!==void 0&&(g.active=t[3]),t[0].fragmentTexture!==void 0&&(g.texture=t[0].fragmentTexture),s=new lf({props:g}),vt.push(()=>jt(s,"selectedDungeons",f)),vt.push(()=>jt(s,"active",v)),vt.push(()=>jt(s,"texture",h));let b={ctx:t,current:null,token:null,hasCatch:!1,pending:Zu,then:Du,catch:Tu,value:23,blocks:[,,,]};return Zi(t[6],b),{c(){Ze(e.$$.fragment),n=Ae(),Ze(s.$$.fragment),c=Ae(),m=ce("div"),b.block.c(),F(m,"id","song"),F(m,"class","svelte-cnucw0")},m(k,E){Ve(e,k,E),he(k,n,E),Ve(s,k,E),he(k,c,E),he(k,m,E),b.block.m(m,b.anchor=null),b.mount=()=>m,b.anchor=null,d=!0},p(k,[E]){t=k;const A={};!r&&E&1&&(r=!0,A.selectedDungeons=t[0].lootTables,Dt(()=>r=!1)),!a&&E&4&&(a=!0,A.active=t[2],Dt(()=>a=!1)),e.$set(A);const C={};!i&&E&1&&(i=!0,C.selectedDungeons=t[0].fragmentLootTables,Dt(()=>i=!1)),!o&&E&8&&(o=!0,C.active=t[3],Dt(()=>o=!1)),!l&&E&1&&(l=!0,C.texture=t[0].fragmentTexture,Dt(()=>l=!1)),s.$set(C),Wi(b,t,E)},i(k){d||(me(e.$$.fragment,k),me(s.$$.fragment,k),me(b.block),d=!0)},o(k){$e(e.$$.fragment,k),$e(s.$$.fragment,k);for(let E=0;E<3;E+=1){const A=b.blocks[E];$e(A)}d=!1},d(k){xe(e,k),k&&de(n),xe(s,k),k&&de(c),k&&de(m),b.block.d(),b.token=null,b=null}}}function Gu(t,e,r){let a;It(t,vr,K=>r(4,a=K));let{song:n}=e,{id:s}=e,{onRemove:i=()=>{}}=e,o=!1,l=!1;const c=()=>{r(0,n.namespace=`${n.name}${n.author}${s}`.replace(/[^a-zA-Z0-9]/g,"").replaceAll("1","one").replaceAll("2","two").replaceAll("3","three").replaceAll("4","four").replaceAll("5","five").replaceAll("6","six").replaceAll("7","seven").replaceAll("8","eight").replaceAll("9","nine").replaceAll("0","zero").toLowerCase(),n)},d=(async()=>{if(n.name===""&&n.author===""){const K=n.uploadedFile.name.replace(/(\.mp3)|(\.ogg)|(\.wav)/g,"").split(/ ?- ?/g);K.length>=1&&r(0,n.name=K.shift(),n),K.length>=1&&r(0,n.author=K.join(),n)}c(),r(0,n.oggFile=await Ou(n.uploadedFile),n),r(0,n.fragmentTexture=await(await fetch(Ji)).blob(),n),r(0,n.texture=await(await fetch(Gi)).blob(),n)})(),y=K=>{const ne=K[0];ne&&r(0,n.texture=ne,n)};function u(K){t.$$.not_equal(n.lootTables,K)&&(n.lootTables=K,r(0,n))}function _(K){o=K,r(2,o)}function f(K){t.$$.not_equal(n.fragmentLootTables,K)&&(n.fragmentLootTables=K,r(0,n))}function v(K){l=K,r(3,l)}function h(K){t.$$.not_equal(n.fragmentTexture,K)&&(n.fragmentTexture=K,r(0,n))}const g=()=>r(0,n.creeperDrop=!n.creeperDrop,n),b=()=>r(2,o=!0),k=()=>r(3,l=!0),E=()=>r(0,n.isMono=!n.isMono,n),A=()=>r(0,n.normalize=!n.normalize,n);function C(){n.name=this.value,r(0,n)}function D(){n.author=this.value,r(0,n)}function z(){n.lores=this.value,r(0,n)}return t.$$set=K=>{"song"in K&&r(0,n=K.song),"id"in K&&r(8,s=K.id),"onRemove"in K&&r(1,i=K.onRemove)},[n,i,o,l,a,c,d,y,s,u,_,f,v,h,g,b,k,E,A,C,D,z]}class Ju extends kt{constructor(e){super(),wt(this,e,Gu,Wu,dt,{song:0,id:8,onRemove:1})}}function Si(t){let e,r,a,n,s;return{c(){e=ce("div"),F(e,"class","popupbackground svelte-14i2kdi"),nt(e,"background-image","url("+bn+")")},m(i,o){he(i,e,o),a=!0,n||(s=[we(e,"click",t[2]),we(e,"keydown",null)],n=!0)},p:Se,i(i){a||(ot(()=>{a&&(r||(r=qt(e,bt,{},!0)),r.run(1))}),a=!0)},o(i){r||(r=qt(e,bt,{},!1)),r.run(0),a=!1},d(i){i&&de(e),i&&r&&r.end(),n=!1,Te(s)}}}function Ci(t){let e,r,a,n,s,i,o;return{c(){e=ce("div"),r=ce("div"),a=Ye(t[1]),n=Ae(),s=ce("div"),s.innerHTML='<div id="content" class="svelte-14i2kdi"><p id="generate_text" class="noselect svelte-14i2kdi">OK</p></div>',F(r,"class","popupcontainer svelte-14i2kdi"),F(r,"id","messagepopupcontainer"),F(s,"id","messagepopupconfirm"),F(s,"class","popupconfirm svelte-14i2kdi"),F(e,"class","popup svelte-14i2kdi")},m(l,c){he(l,e,c),ue(e,r),ue(r,a),ue(e,n),ue(e,s),i||(o=[we(s,"click",t[2]),we(s,"keydown",null)],i=!0)},p(l,c){c&2&&Ft(a,l[1])},d(l){l&&de(e),i=!1,Te(o)}}}function Qu(t){let e,r,a,n=t[0]&&Si(t),s=t[0]&&Ci(t);return{c(){n&&n.c(),e=Ae(),s&&s.c(),r=Mt()},m(i,o){n&&n.m(i,o),he(i,e,o),s&&s.m(i,o),he(i,r,o),a=!0},p(i,[o]){i[0]?n?(n.p(i,o),o&1&&me(n,1)):(n=Si(i),n.c(),me(n,1),n.m(e.parentNode,e)):n&&(Xe(),$e(n,1,1,()=>{n=null}),et()),i[0]?s?s.p(i,o):(s=Ci(i),s.c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null)},i(i){a||(me(n),a=!0)},o(i){$e(n),a=!1},d(i){n&&n.d(i),i&&de(e),s&&s.d(i),i&&de(r)}}}function Yu(t,e,r){let{text:a}=e,{active:n}=e;const s=()=>r(0,n=!1);return t.$$set=i=>{"text"in i&&r(1,a=i.text),"active"in i&&r(0,n=i.active)},[n,a,s]}class Xu extends kt{constructor(e){super(),wt(this,e,Yu,Qu,dt,{text:1,active:0})}}function ef(t){let e,r,a;const n=t[4].default,s=ji(n,t,t[3],null);return{c(){s&&s.c(),e=Ae(),r=ce("span"),F(r,"id","tooltiptext"),F(r,"class","left svelte-i4awrz"),nt(r,"width",t[1])},m(i,o){s&&s.m(i,o),he(i,e,o),he(i,r,o),r.innerHTML=t[0],a=!0},p(i,o){s&&s.p&&(!a||o&8)&&Fi(s,n,i,i[3],a?Bi(n,i[3],o,null):Mi(i[3]),null),(!a||o&1)&&(r.innerHTML=i[0]),(!a||o&2)&&nt(r,"width",i[1])},i(i){a||(me(s,i),a=!0)},o(i){$e(s,i),a=!1},d(i){s&&s.d(i),i&&de(e),i&&de(r)}}}function tf(t){let e,r,a;const n=t[4].default,s=ji(n,t,t[3],null);return{c(){e=ce("span"),r=Ae(),s&&s.c(),F(e,"id","tooltiptext"),F(e,"class","right svelte-i4awrz"),nt(e,"width",t[1])},m(i,o){he(i,e,o),e.innerHTML=t[0],he(i,r,o),s&&s.m(i,o),a=!0},p(i,o){(!a||o&1)&&(e.innerHTML=i[0]),(!a||o&2)&&nt(e,"width",i[1]),s&&s.p&&(!a||o&8)&&Fi(s,n,i,i[3],a?Bi(n,i[3],o,null):Mi(i[3]),null)},i(i){a||(me(s,i),a=!0)},o(i){$e(s,i),a=!1},d(i){i&&de(e),i&&de(r),s&&s.d(i)}}}function rf(t){let e,r,a,n;const s=[tf,ef],i=[];function o(l,c){return l[2]?0:1}return r=o(t),a=i[r]=s[r](t),{c(){e=ce("div"),a.c(),F(e,"id","container"),F(e,"class","svelte-i4awrz")},m(l,c){he(l,e,c),i[r].m(e,null),n=!0},p(l,[c]){let m=r;r=o(l),r===m?i[r].p(l,c):(Xe(),$e(i[m],1,1,()=>{i[m]=null}),et(),a=i[r],a?a.p(l,c):(a=i[r]=s[r](l),a.c()),me(a,1),a.m(e,null))},i(l){n||(me(a),n=!0)},o(l){$e(a),n=!1},d(l){l&&de(e),i[r].d()}}}function nf(t,e,r){let{$$slots:a={},$$scope:n}=e,{text:s}=e,{width:i="120px"}=e,{right:o=!0}=e;return t.$$set=l=>{"text"in l&&r(0,s=l.text),"width"in l&&r(1,i=l.width),"right"in l&&r(2,o=l.right),"$$scope"in l&&r(3,n=l.$$scope)},[s,i,o,n,a]}class gt extends kt{constructor(e){super(),wt(this,e,nf,rf,dt,{text:0,width:1,right:2})}}function Ii(t,e,r){const a=t.slice();return a[8]=e[r],a}function Pi(t){let e,r,a=`url(${bn})`,n,s,i;return{c(){e=ce("div"),F(e,"class","popupbackground svelte-1w6xa2d"),nt(e,"background-image",a)},m(o,l){he(o,e,l),n=!0,s||(i=[we(e,"click",t[5]),we(e,"keydown",null)],s=!0)},p:Se,i(o){n||(ot(()=>{n&&(r||(r=qt(e,bt,{},!0)),r.run(1))}),n=!0)},o(o){r||(r=qt(e,bt,{},!1)),r.run(0),n=!1},d(o){o&&de(e),o&&r&&r.end(),s=!1,Te(i)}}}function Oi(t){let e,r,a,n,s,i,o,l,c,m,d,y=Fr,u=[];for(let f=0;f<y.length;f+=1)u[f]=Ni(Ii(t,y,f));const _=f=>$e(u[f],1,1,()=>{u[f]=null});return i=new gt({props:{text:"Selects a texture for the disc fragment",$$slots:{default:[sf]},$$scope:{ctx:t}}}),{c(){e=ce("div"),r=ce("div");for(let f=0;f<u.length;f+=1)u[f].c();a=Ae(),n=ce("div"),s=ce("div"),Ze(i.$$.fragment),o=Ae(),l=ce("div"),l.innerHTML='<div id="content" class="svelte-1w6xa2d"><p id="generate_text" class="noselect svelte-1w6xa2d">OK</p></div>',F(r,"class","popupcontainer svelte-1w6xa2d"),F(l,"id","messagepopupconfirm"),F(l,"class","popupconfirm svelte-1w6xa2d"),F(n,"id","out"),F(n,"class","svelte-1w6xa2d"),F(e,"class","popup svelte-1w6xa2d")},m(f,v){he(f,e,v),ue(e,r);for(let h=0;h<u.length;h+=1)u[h]&&u[h].m(r,null);ue(e,a),ue(e,n),ue(n,s),Ve(i,s,null),ue(n,o),ue(n,l),c=!0,m||(d=[we(l,"click",t[5]),we(l,"keydown",null)],m=!0)},p(f,v){if(v&13){y=Fr;let g;for(g=0;g<y.length;g+=1){const b=Ii(f,y,g);u[g]?(u[g].p(b,v),me(u[g],1)):(u[g]=Ni(b),u[g].c(),me(u[g],1),u[g].m(r,null))}for(Xe(),g=y.length;g<u.length;g+=1)_(g);et()}const h={};v&2048&&(h.$$scope={dirty:v,ctx:f}),i.$set(h)},i(f){if(!c){for(let v=0;v<y.length;v+=1)me(u[v]);me(i.$$.fragment,f),c=!0}},o(f){u=u.filter(Boolean);for(let v=0;v<u.length;v+=1)$e(u[v]);$e(i.$$.fragment,f),c=!1},d(f){f&&de(e),Lr(u,f),xe(i),m=!1,Te(d)}}}function Ri(t){let e,r;function a(){return t[7](t[8])}return e=new ea({props:{image:t[8].img,name:t[8].name,value:t[0].includes(t[8].source),onClick:a}}),{c(){Ze(e.$$.fragment)},m(n,s){Ve(e,n,s),r=!0},p(n,s){t=n;const i={};s&1&&(i.value=t[0].includes(t[8].source)),e.$set(i)},i(n){r||(me(e.$$.fragment,n),r=!0)},o(n){$e(e.$$.fragment,n),r=!1},d(n){xe(e,n)}}}function Ni(t){let e,r,a=t[8].minVersion&&t[8].minVersion<=t[2]&&Ri(t);return{c(){a&&a.c(),e=Mt()},m(n,s){a&&a.m(n,s),he(n,e,s),r=!0},p(n,s){n[8].minVersion&&n[8].minVersion<=n[2]?a?(a.p(n,s),s&4&&me(a,1)):(a=Ri(n),a.c(),me(a,1),a.m(e.parentNode,e)):a&&(Xe(),$e(a,1,1,()=>{a=null}),et())},i(n){r||(me(a),r=!0)},o(n){$e(a),r=!1},d(n){a&&a.d(n),n&&de(e)}}}function sf(t){let e,r,a,n;return{c(){e=ce("img"),Ge(e.src,r=Ji)||F(e,"src",r),F(e,"alt","fragment icon"),F(e,"id","fragment_icon"),F(e,"class","noselect svelte-1w6xa2d")},m(s,i){he(s,e,i),a||(n=[Le(Pt.call(null,e)),Le(_r.call(null,e,{accept:"image/png",cb:t[4]})),Le(gr.call(null,e,{accept:"image/png",cb:t[4]})),we(e,"keypress",null)],a=!0)},p:Se,d(s){s&&de(e),a=!1,Te(n)}}}function af(t){let e,r,a,n=t[1]&&Pi(t),s=t[1]&&Oi(t);return{c(){n&&n.c(),e=Ae(),s&&s.c(),r=Mt()},m(i,o){n&&n.m(i,o),he(i,e,o),s&&s.m(i,o),he(i,r,o),a=!0},p(i,[o]){i[1]?n?(n.p(i,o),o&2&&me(n,1)):(n=Pi(i),n.c(),me(n,1),n.m(e.parentNode,e)):n&&(Xe(),$e(n,1,1,()=>{n=null}),et()),i[1]?s?(s.p(i,o),o&2&&me(s,1)):(s=Oi(i),s.c(),me(s,1),s.m(r.parentNode,r)):s&&(Xe(),$e(s,1,1,()=>{s=null}),et())},i(i){a||(me(n),me(s),a=!0)},o(i){$e(n),$e(s),a=!1},d(i){n&&n.d(i),i&&de(e),s&&s.d(i),i&&de(r)}}}function of(t,e,r){let a;It(t,vr,d=>r(2,a=d));let{selectedDungeons:n}=e,{texture:s}=e,{active:i=!0}=e;const o=d=>{n.includes(d)?r(0,n=n.filter(y=>y!=d)):r(0,n=[...n,d])},l=d=>{const y=d[0];y&&r(6,s=y)},c=()=>r(1,i=!1),m=d=>o(d.source);return t.$$set=d=>{"selectedDungeons"in d&&r(0,n=d.selectedDungeons),"texture"in d&&r(6,s=d.texture),"active"in d&&r(1,i=d.active)},[n,i,a,o,l,c,s,m]}class lf extends kt{constructor(e){super(),wt(this,e,of,af,dt,{selectedDungeons:0,texture:6,active:1})}}const cf=t=>new Promise(e=>{const r=hf(t);e(new Blob([r],{type:"image/png"}))}),uf=(t,e)=>{const r=document.createElement("a");r.href=URL.createObjectURL(t),r.download=e,r.click()},Ti=async(t,e,r)=>await new Promise(a=>{const n=new Image;n.src=URL.createObjectURL(t),n.onload=()=>{const s=document.createElement("canvas");s.width=e,s.height=r,s.getContext("2d").drawImage(n,0,0,e,r);const o=s.toDataURL("image/png");a(cf(o))}}),ff=async t=>new Promise(e=>{const r=document.createElement("audio");r.src=URL.createObjectURL(t),r.onloadedmetadata=()=>{URL.revokeObjectURL(r.src),e(Math.ceil(r.duration))}}),df=(t,e)=>e.overrides?(t.overrides.push(...e.overrides),t):Object.assign(t,e),hf=t=>{const e=t.split(",")[1],r=window.atob(e),a=new ArrayBuffer(r.length),n=new Uint8Array(a);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return a};Array.prototype.mapAsync=async function(t){const e=this.map(t);return await Promise.all(e)};Array.prototype.forEachParallel=async function(t){await Promise.all(this.map(t))};const fn=br(0),rr=br(0);let _t=[],ya=12,ba=Jn,wa="your_pack_name";vr.subscribe(t=>ya=t);Mn.subscribe(t=>ba=t);Pr.subscribe(t=>wa=t);xt.subscribe(t=>_t=t);const pf=async()=>{const t=await Promise.all(_t.map(async(e,r)=>({title:e.name,author:e.author,duration:await ff(e.isMono?e.monoFile:e.oggFile),"disc-namespace":`music_disc.${e.namespace}`,"model-data":r+1,"creeper-drop":e.creeperDrop,lores:e.lores.split(`
`).length==1&&e.lores.split(`
`)[0]==""?[]:e.lores.split(`
`),"loot-tables":e.lootTables.join(",").split(",").filter(a=>a!=""),"fragment-loot-tables":e.fragmentLootTables.join(",").split(",").filter(a=>a!="")})));return JSON.stringify(t,null,2)},mf=async()=>{const t=new Vr,e=`
			{"pack": {"pack_format": ${ya},"description": "Adds custom musics discs"}}
		`;t.file("pack.mcmeta",e);const r=await(await(await fetch(ba)).blob()).arrayBuffer();t.file("pack.png",r);const a=t.folder("assets").folder("minecraft"),n={};_t.forEach(m=>{n[`music_disc.${m.namespace}`]={sounds:[{name:`records/${m.namespace}`,stream:!0}]}}),a.file("sounds.json",JSON.stringify(n,null,2));const s=a.folder("models").folder("item"),i=a.folder("sounds").folder("records"),o=a.folder("textures").folder("item"),l={parent:"item/generated",textures:{layer0:"item/music_disc_11"},overrides:_t.map((m,d)=>({predicate:{custom_model_data:d+1},model:`item/music_disc_${m.namespace}`}))},c={parent:"item/generated",textures:{layer0:"item/disc_fragment_5"},overrides:_t.map((m,d)=>({predicate:{custom_model_data:d+1},model:`item/fragment_${m.namespace}`}))};s.file("music_disc_11.json",JSON.stringify(l,null,2)),s.file("disc_fragment_5.json",JSON.stringify(c,null,2));for(let m=0;m<_t.length;m+=4){const d=_t.slice(m,m+4);await d.forEachParallel(async y=>{y.isMono&&!y.monoFile&&(y.monoFile=await Nu(y.oggFile),rr.update(u=>u+1))}),_t.splice(m,4,...d)}for(let m=0;m<_t.length;m++){const d=_t[m],y=await(await Ti(d.texture,16,16)).arrayBuffer();o.file(`music_disc_${d.namespace}.png`,y);const u=await(await Ti(d.fragmentTexture,16,16)).arrayBuffer();o.file(`fragment_${d.namespace}.png`,u);const _=d.isMono?d.monoFile:d.oggFile,v=await(d.normalize?await Ru(_):_).arrayBuffer();i.file(`${d.namespace}.ogg`,v),s.file(`music_disc_${d.namespace}.json`,JSON.stringify({parent:"item/generated",textures:{layer0:`item/music_disc_${d.namespace}`}},null,2)),s.file(`fragment_${d.namespace}.json`,JSON.stringify({parent:"item/generated",textures:{layer0:`item/fragment_${d.namespace}`}},null,2))}return t},_f=async t=>await new Promise((e,r)=>{const a=document.createElement("input");a.type="file",a.accept=".zip",a.click(),a.onchange=async()=>{(!a.files||a.files.length==0)&&r("No file was selected"),await va(a.files[0])||r("The selected file is not a valid resource pack"),await(await Vr.loadAsync(a.files[0])).forEach(async(s,i)=>{if(s!="pack.mcmeta"&&s!="pack.png")if(i.dir)t.folder(s)||t.folder(s);else if(!t.file(s))t.file(s,await i.async("arraybuffer"));else if(s.endsWith(".json")){const o=JSON.parse(await t.file(s).async("text")),l=JSON.parse(await i.async("text")),c=df(o,l);t.file(s,JSON.stringify(c,null,2))}else r("Cannot merge resource pack manually as there are conflicting files that cannot be merged")}),e(t)}}).catch(e=>e),gf=async t=>{rr.set(0),fn.set(_t.length+1+(t?1:0));let e=await mf();if(t){const a=await _f(e);if(typeof a=="string"){alert(a),rr.set(0),fn.set(0);return}e=a,rr.update(n=>n+1)}const r=await pf();rr.update(a=>a+1),e.generateAsync({type:"blob"}).then(async a=>{const n=new Vr;n.file("README.md",await(await fetch(Ya)).arrayBuffer()),n.file(`${wa}.zip`,await a.arrayBuffer()),n.file("discs.json",r),n.generateAsync({type:"blob"}).then(async s=>{uf(s,"open me.zip"),rr.set(0),fn.set(0)})})};function vf(t){let e,r,a=`url(${Yi})`,n,s,i,o,l,c;function m(y){t[10](y)}let d={options:["Generate","Merge"]};return t[1]!==void 0&&(d.selected=t[1]),s=new so({props:d}),vt.push(()=>jt(s,"selected",m)),{c(){e=ce("div"),n=Ae(),Ze(s.$$.fragment),F(e,"id","generate_button"),F(e,"class",r=ft(t[2]?"":"grayscale")+" svelte-83e0x7"),nt(e,"background-image",a)},m(y,u){he(y,e,u),he(y,n,u),Ve(s,y,u),o=!0,l||(c=[we(e,"click",function(){Ht(t[2]?t[7]:t[9])&&(t[2]?t[7]:t[9]).apply(this,arguments)}),we(e,"keydown",null)],l=!0)},p(y,u){t=y,(!o||u&4&&r!==(r=ft(t[2]?"":"grayscale")+" svelte-83e0x7"))&&F(e,"class",r);const _={};!i&&u&2&&(i=!0,_.selected=t[1],Dt(()=>i=!1)),s.$set(_)},i(y){o||(me(s.$$.fragment,y),o=!0)},o(y){$e(s.$$.fragment,y),o=!1},d(y){y&&de(e),y&&de(n),xe(s,y),l=!1,Te(c)}}}function yf(t){let e,r,a,n,s,i,o=`calc(100% / ${t[5]} * ${t[6]})`;return{c(){e=ce("div"),r=ce("img"),n=Ae(),s=ce("div"),i=ce("div"),Ge(r.src,a=Xi)||F(r,"src",a),F(r,"alt","loading"),F(r,"height","28"),F(r,"width","28"),F(i,"id","progress"),F(i,"class","svelte-83e0x7"),nt(i,"width",o),F(s,"id","progressbar"),F(s,"class","svelte-83e0x7"),F(e,"id","generate_button"),nt(e,"background-image","url("+Yi+")"),F(e,"class","svelte-83e0x7")},m(l,c){he(l,e,c),ue(e,r),ue(e,n),ue(e,s),ue(s,i)},p(l,c){c&96&&o!==(o=`calc(100% / ${l[5]} * ${l[6]})`)&&nt(i,"width",o)},i:Se,o:Se,d(l){l&&de(e)}}}function bf(t){let e,r,a,n,s,i,o,l,c,m,d,y;function u(g){t[8](g)}let _={text:t[4].length>0?"Can't generate discs while adding one":"Add at least a disc"};t[0]!==void 0&&(_.active=t[0]),r=new Xu({props:_}),vt.push(()=>jt(r,"active",u)),s=new Co({props:{canEdit:!t[3]}}),o=new to({});const f=[yf,vf],v=[];function h(g,b){return g[3]?0:1}return m=h(t),d=v[m]=f[m](t),{c(){e=ce("main"),Ze(r.$$.fragment),n=Ae(),Ze(s.$$.fragment),i=Ae(),Ze(o.$$.fragment),l=Ae(),c=ce("div"),d.c(),F(c,"id","footer"),F(c,"class","svelte-83e0x7"),F(e,"class","svelte-83e0x7")},m(g,b){he(g,e,b),Ve(r,e,null),ue(e,n),Ve(s,e,null),ue(e,i),Ve(o,e,null),ue(e,l),ue(e,c),v[m].m(c,null),y=!0},p(g,[b]){const k={};b&16&&(k.text=g[4].length>0?"Can't generate discs while adding one":"Add at least a disc"),!a&&b&1&&(a=!0,k.active=g[0],Dt(()=>a=!1)),r.$set(k);const E={};b&8&&(E.canEdit=!g[3]),s.$set(E);let A=m;m=h(g),m===A?v[m].p(g,b):(Xe(),$e(v[A],1,1,()=>{v[A]=null}),et(),d=v[m],d?d.p(g,b):(d=v[m]=f[m](g),d.c()),me(d,1),d.m(c,null))},i(g){y||(me(r.$$.fragment,g),me(s.$$.fragment,g),me(o.$$.fragment,g),me(d),y=!0)},o(g){$e(r.$$.fragment,g),$e(s.$$.fragment,g),$e(o.$$.fragment,g),$e(d),y=!1},d(g){g&&de(e),xe(r),xe(s),xe(o),v[m].d()}}}function wf(t,e,r){let a,n,s;It(t,xt,_=>r(4,a=_)),It(t,fn,_=>r(5,n=_)),It(t,rr,_=>r(6,s=_));let i=!1,o="Generate",l=!1,c=!1;xt.subscribe(_=>{r(2,l=_.every(f=>f.texture!=null)&&_.length>0)});const m=async()=>{c||(r(3,c=!0),await gf(o=="Merge"),r(3,c=!1))};function d(_){i=_,r(0,i)}const y=()=>r(0,i=!0);function u(_){o=_,r(1,o)}return[i,o,l,c,a,n,s,m,d,y,u]}class kf extends kt{constructor(e){super(),wt(this,e,wf,bf,dt,{})}}new kf({target:document.getElementById("app")});
