(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerpolicy&&(n.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?n.credentials="include":r.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(r){if(r.ep)return;r.ep=!0;const n=t(r);fetch(r.href,n)}})();function lt(){}const Ee=i=>i;function bn(i,e){for(const t in e)i[t]=e[t];return i}function yn(i){return i&&typeof i=="object"&&typeof i.then=="function"}function Xe(i){return i()}function De(){return Object.create(null)}function vt(i){i.forEach(Xe)}function Tt(i){return typeof i=="function"}function Wt(i,e){return i!=i?e==e:i!==e||i&&typeof i=="object"||typeof i=="function"}let ae;function wt(i,e){return ae||(ae=document.createElement("a")),ae.href=e,i===ae.href}function wn(i){return Object.keys(i).length===0}function kn(i,e,t,o){if(i){const r=Qe(i,e,t,o);return i[0](r)}}function Qe(i,e,t,o){return i[1]&&o?bn(t.ctx.slice(),i[1](o(e))):t.ctx}function An(i,e,t,o){if(i[2]&&o){const r=i[2](o(t));if(e.dirty===void 0)return r;if(typeof r=="object"){const n=[],s=Math.max(e.dirty.length,r.length);for(let l=0;l<s;l+=1)n[l]=e.dirty[l]|r[l];return n}return e.dirty|r}return e.dirty}function Sn(i,e,t,o,r,n){if(r){const s=Qe(e,t,o,n);i.p(s,r)}}function En(i){if(i.ctx.length>32){const e=[],t=i.ctx.length/32;for(let o=0;o<t;o++)e[o]=-1;return e}return-1}const $e=typeof window<"u";let tn=$e?()=>window.performance.now():()=>Date.now(),Ce=$e?i=>requestAnimationFrame(i):lt;const Jt=new Set;function en(i){Jt.forEach(e=>{e.c(i)||(Jt.delete(e),e.f())}),Jt.size!==0&&Ce(en)}function nn(i){let e;return Jt.size===0&&Ce(en),{promise:new Promise(t=>{Jt.add(e={c:i,f:t})}),abort(){Jt.delete(e)}}}function tt(i,e){i.appendChild(e)}function rn(i){if(!i)return document;const e=i.getRootNode?i.getRootNode():i.ownerDocument;return e&&e.host?e:i.ownerDocument}function Cn(i){const e=et("style");return zn(rn(i),e),e.sheet}function zn(i,e){return tt(i.head||i,e),e.sheet}function at(i,e,t){i.insertBefore(e,t||null)}function st(i){i.parentNode.removeChild(i)}function ze(i,e){for(let t=0;t<i.length;t+=1)i[t]&&i[t].d(e)}function et(i){return document.createElement(i)}function It(i){return document.createTextNode(i)}function mt(){return It(" ")}function jt(){return It("")}function ot(i,e,t,o){return i.addEventListener(e,t,o),()=>i.removeEventListener(e,t,o)}function T(i,e,t){t==null?i.removeAttribute(e):i.getAttribute(e)!==t&&i.setAttribute(e,t)}function In(i){return Array.from(i.childNodes)}function Mt(i,e){e=""+e,i.wholeText!==e&&(i.data=e)}function Ut(i,e){i.value=e==null?"":e}function ge(i,e,t,o){t===null?i.style.removeProperty(e):i.style.setProperty(e,t,o?"important":"")}function Te(i,e){for(let t=0;t<i.options.length;t+=1){const o=i.options[t];if(o.__value===e){o.selected=!0;return}}i.selectedIndex=-1}function Bn(i){const e=i.querySelector(":checked")||i.options[0];return e&&e.__value}function xn(i,e,{bubbles:t=!1,cancelable:o=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(i,t,o,e),r}const he=new Map;let pe=0;function Rn(i){let e=5381,t=i.length;for(;t--;)e=(e<<5)-e^i.charCodeAt(t);return e>>>0}function On(i,e){const t={stylesheet:Cn(e),rules:{}};return he.set(i,t),t}function we(i,e,t,o,r,n,s,l=0){const c=16.666/o;let f=`{
`;for(let _=0;_<=1;_+=c){const g=e+(t-e)*n(_);f+=_*100+`%{${s(g,1-g)}}
`}const m=f+`100% {${s(t,1-t)}}
}`,p=`__svelte_${Rn(m)}_${l}`,y=rn(i),{stylesheet:h,rules:b}=he.get(y)||On(y,i);b[p]||(b[p]=!0,h.insertRule(`@keyframes ${p} ${m}`,h.cssRules.length));const d=i.style.animation||"";return i.style.animation=`${d?`${d}, `:""}${p} ${o}ms linear ${r}ms 1 both`,pe+=1,p}function ke(i,e){const t=(i.style.animation||"").split(", "),o=t.filter(e?n=>n.indexOf(e)<0:n=>n.indexOf("__svelte")===-1),r=t.length-o.length;r&&(i.style.animation=o.join(", "),pe-=r,pe||Fn())}function Fn(){Ce(()=>{pe||(he.forEach(i=>{const{ownerNode:e}=i.stylesheet;e&&st(e)}),he.clear())})}let ie;function Nt(i){ie=i}function Dn(){if(!ie)throw new Error("Function called outside component initialization");return ie}const ee=[],kt=[],fe=[],Ae=[],Tn=Promise.resolve();let Se=!1;function Pn(){Se||(Se=!0,Tn.then(Ie))}function Bt(i){fe.push(i)}function St(i){Ae.push(i)}const be=new Set;let le=0;function Ie(){const i=ie;do{for(;le<ee.length;){const e=ee[le];le++,Nt(e),Nn(e.$$)}for(Nt(null),ee.length=0,le=0;kt.length;)kt.pop()();for(let e=0;e<fe.length;e+=1){const t=fe[e];be.has(t)||(be.add(t),t())}fe.length=0}while(ee.length);for(;Ae.length;)Ae.pop()();Se=!1,be.clear(),Nt(i)}function Nn(i){if(i.fragment!==null){i.update(),vt(i.before_update);const e=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(Bt)}}let te;function sn(){return te||(te=Promise.resolve(),te.then(()=>{te=null})),te}function re(i,e,t){i.dispatchEvent(xn(`${e?"intro":"outro"}${t}`))}const de=new Set;let Lt;function qt(){Lt={r:0,c:[],p:Lt}}function Kt(){Lt.r||vt(Lt.c),Lt=Lt.p}function ct(i,e){i&&i.i&&(de.delete(i),i.i(e))}function _t(i,e,t,o){if(i&&i.o){if(de.has(i))return;de.add(i),Lt.c.push(()=>{de.delete(i),o&&(t&&i.d(1),o())}),i.o(e)}else o&&o()}const on={duration:0};function _e(i,e,t){let o=e(i,t),r=!1,n,s,l=0;function c(){n&&ke(i,n)}function f(){const{delay:p=0,duration:y=300,easing:h=Ee,tick:b=lt,css:d}=o||on;d&&(n=we(i,0,1,y,p,h,d,l++)),b(0,1);const _=tn()+p,g=_+y;s&&s.abort(),r=!0,Bt(()=>re(i,!0,"start")),s=nn(v=>{if(r){if(v>=g)return b(1,0),re(i,!0,"end"),c(),r=!1;if(v>=_){const S=h((v-_)/y);b(S,1-S)}}return r})}let m=!1;return{start(){m||(m=!0,ke(i),Tt(o)?(o=o(),sn().then(f)):f())},invalidate(){m=!1},end(){r&&(c(),r=!1)}}}function me(i,e,t,o){let r=e(i,t),n=o?0:1,s=null,l=null,c=null;function f(){c&&ke(i,c)}function m(y,h){const b=y.b-n;return h*=Math.abs(b),{a:n,b:y.b,d:b,duration:h,start:y.start,end:y.start+h,group:y.group}}function p(y){const{delay:h=0,duration:b=300,easing:d=Ee,tick:_=lt,css:g}=r||on,v={start:tn()+h,b:y};y||(v.group=Lt,Lt.r+=1),s||l?l=v:(g&&(f(),c=we(i,n,y,b,h,d,g)),y&&_(0,1),s=m(v,b),Bt(()=>re(i,y,"start")),nn(S=>{if(l&&S>l.start&&(s=m(l,b),l=null,re(i,s.b,"start"),g&&(f(),c=we(i,n,s.b,s.duration,0,d,r.css))),s){if(S>=s.end)_(n=s.b,1-n),re(i,s.b,"end"),l||(s.b?f():--s.group.r||vt(s.group.c)),s=null;else if(S>=s.start){const I=S-s.start;n=s.a+s.d*d(I/s.duration),_(n,1-n)}}return!!(s||l)}))}return{run(y){Tt(r)?sn().then(()=>{r=r(),p(y)}):p(y)},end(){f(),s=l=null}}}function Be(i,e){const t=e.token={};function o(r,n,s,l){if(e.token!==t)return;e.resolved=l;let c=e.ctx;s!==void 0&&(c=c.slice(),c[s]=l);const f=r&&(e.current=r)(c);let m=!1;e.block&&(e.blocks?e.blocks.forEach((p,y)=>{y!==n&&p&&(qt(),_t(p,1,1,()=>{e.blocks[y]===p&&(e.blocks[y]=null)}),Kt())}):e.block.d(1),f.c(),ct(f,1),f.m(e.mount(),e.anchor),m=!0),e.block=f,e.blocks&&(e.blocks[n]=f),m&&Ie()}if(yn(i)){const r=Dn();if(i.then(n=>{Nt(r),o(e.then,1,e.value,n),Nt(null)},n=>{if(Nt(r),o(e.catch,2,e.error,n),Nt(null),!e.hasCatch)throw n}),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,i),!0;e.resolved=i}}function xe(i,e,t){const o=e.slice(),{resolved:r}=i;i.current===i.then&&(o[i.value]=r),i.current===i.catch&&(o[i.error]=r),i.block.p(o,t)}function Et(i,e,t){const o=i.$$.props[e];o!==void 0&&(i.$$.bound[o]=t,t(i.$$.ctx[o]))}function Rt(i){i&&i.c()}function Ct(i,e,t,o){const{fragment:r,after_update:n}=i.$$;r&&r.m(e,t),o||Bt(()=>{const s=i.$$.on_mount.map(Xe).filter(Tt);i.$$.on_destroy?i.$$.on_destroy.push(...s):vt(s),i.$$.on_mount=[]}),n.forEach(Bt)}function zt(i,e){const t=i.$$;t.fragment!==null&&(vt(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Ln(i,e){i.$$.dirty[0]===-1&&(ee.push(i),Pn(),i.$$.dirty.fill(0)),i.$$.dirty[e/31|0]|=1<<e%31}function Gt(i,e,t,o,r,n,s,l=[-1]){const c=ie;Nt(i);const f=i.$$={fragment:null,ctx:[],props:n,update:lt,not_equal:r,bound:De(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:De(),dirty:l,skip_bound:!1,root:e.target||c.$$.root};s&&s(f.root);let m=!1;if(f.ctx=t?t(i,e.props||{},(p,y,...h)=>{const b=h.length?h[0]:y;return f.ctx&&r(f.ctx[p],f.ctx[p]=b)&&(!f.skip_bound&&f.bound[p]&&f.bound[p](b),m&&Ln(i,p)),y}):[],f.update(),m=!0,vt(f.before_update),f.fragment=o?o(f.ctx):!1,e.target){if(e.hydrate){const p=In(e.target);f.fragment&&f.fragment.l(p),p.forEach(st)}else f.fragment&&f.fragment.c();e.intro&&ct(i.$$.fragment),Ct(i,e.target,e.anchor,e.customElement),Ie()}Nt(c)}class Ht{$destroy(){zt(this,1),this.$destroy=lt}$on(e,t){if(!Tt(t))return lt;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(t),()=>{const r=o.indexOf(t);r!==-1&&o.splice(r,1)}}$set(e){this.$$set&&!wn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function jn(i){var e=i.default;if(typeof e=="function"){var t=function(){return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(o){var r=Object.getOwnPropertyDescriptor(i,o);Object.defineProperty(t,o,r.get?r:{enumerable:!0,get:function(){return i[o]}})}),t}var Un={exports:{}};(function(i){var e=function(t){var o=Object.prototype,r=o.hasOwnProperty,n=Object.defineProperty||function(B,F,E){B[F]=E.value},s,l=typeof Symbol=="function"?Symbol:{},c=l.iterator||"@@iterator",f=l.asyncIterator||"@@asyncIterator",m=l.toStringTag||"@@toStringTag";function p(B,F,E){return Object.defineProperty(B,F,{value:E,enumerable:!0,configurable:!0,writable:!0}),B[F]}try{p({},"")}catch{p=function(F,E,z){return F[E]=z}}function y(B,F,E,z){var V=F&&F.prototype instanceof S?F:S,Y=Object.create(V.prototype),K=new Q(z||[]);return n(Y,"_invoke",{value:k(B,E,K)}),Y}t.wrap=y;function h(B,F,E){try{return{type:"normal",arg:B.call(F,E)}}catch(z){return{type:"throw",arg:z}}}var b="suspendedStart",d="suspendedYield",_="executing",g="completed",v={};function S(){}function I(){}function C(){}var U={};p(U,c,function(){return this});var N=Object.getPrototypeOf,L=N&&N(N(Z([])));L&&L!==o&&r.call(L,c)&&(U=L);var D=C.prototype=S.prototype=Object.create(U);I.prototype=C,n(D,"constructor",{value:C,configurable:!0}),n(C,"constructor",{value:I,configurable:!0}),I.displayName=p(C,m,"GeneratorFunction");function M(B){["next","throw","return"].forEach(function(F){p(B,F,function(E){return this._invoke(F,E)})})}t.isGeneratorFunction=function(B){var F=typeof B=="function"&&B.constructor;return F?F===I||(F.displayName||F.name)==="GeneratorFunction":!1},t.mark=function(B){return Object.setPrototypeOf?Object.setPrototypeOf(B,C):(B.__proto__=C,p(B,m,"GeneratorFunction")),B.prototype=Object.create(D),B},t.awrap=function(B){return{__await:B}};function G(B,F){function E(Y,K,ut,ht){var it=h(B[Y],B,K);if(it.type==="throw")ht(it.arg);else{var ft=it.arg,bt=ft.value;return bt&&typeof bt=="object"&&r.call(bt,"__await")?F.resolve(bt.__await).then(function(pt){E("next",pt,ut,ht)},function(pt){E("throw",pt,ut,ht)}):F.resolve(bt).then(function(pt){ft.value=pt,ut(ft)},function(pt){return E("throw",pt,ut,ht)})}}var z;function V(Y,K){function ut(){return new F(function(ht,it){E(Y,K,ht,it)})}return z=z?z.then(ut,ut):ut()}n(this,"_invoke",{value:V})}M(G.prototype),p(G.prototype,f,function(){return this}),t.AsyncIterator=G,t.async=function(B,F,E,z,V){V===void 0&&(V=Promise);var Y=new G(y(B,F,E,z),V);return t.isGeneratorFunction(F)?Y:Y.next().then(function(K){return K.done?K.value:Y.next()})};function k(B,F,E){var z=b;return function(Y,K){if(z===_)throw new Error("Generator is already running");if(z===g){if(Y==="throw")throw K;return nt()}for(E.method=Y,E.arg=K;;){var ut=E.delegate;if(ut){var ht=O(ut,E);if(ht){if(ht===v)continue;return ht}}if(E.method==="next")E.sent=E._sent=E.arg;else if(E.method==="throw"){if(z===b)throw z=g,E.arg;E.dispatchException(E.arg)}else E.method==="return"&&E.abrupt("return",E.arg);z=_;var it=h(B,F,E);if(it.type==="normal"){if(z=E.done?g:d,it.arg===v)continue;return{value:it.arg,done:E.done}}else it.type==="throw"&&(z=g,E.method="throw",E.arg=it.arg)}}}function O(B,F){var E=B.iterator[F.method];if(E===s){if(F.delegate=null,F.method==="throw"){if(B.iterator.return&&(F.method="return",F.arg=s,O(B,F),F.method==="throw"))return v;F.method="throw",F.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var z=h(E,B.iterator,F.arg);if(z.type==="throw")return F.method="throw",F.arg=z.arg,F.delegate=null,v;var V=z.arg;if(!V)return F.method="throw",F.arg=new TypeError("iterator result is not an object"),F.delegate=null,v;if(V.done)F[B.resultName]=V.value,F.next=B.nextLoc,F.method!=="return"&&(F.method="next",F.arg=s);else return V;return F.delegate=null,v}M(D),p(D,m,"Generator"),p(D,c,function(){return this}),p(D,"toString",function(){return"[object Generator]"});function u(B){var F={tryLoc:B[0]};1 in B&&(F.catchLoc=B[1]),2 in B&&(F.finallyLoc=B[2],F.afterLoc=B[3]),this.tryEntries.push(F)}function P(B){var F=B.completion||{};F.type="normal",delete F.arg,B.completion=F}function Q(B){this.tryEntries=[{tryLoc:"root"}],B.forEach(u,this),this.reset(!0)}t.keys=function(B){var F=Object(B),E=[];for(var z in F)E.push(z);return E.reverse(),function V(){for(;E.length;){var Y=E.pop();if(Y in F)return V.value=Y,V.done=!1,V}return V.done=!0,V}};function Z(B){if(B){var F=B[c];if(F)return F.call(B);if(typeof B.next=="function")return B;if(!isNaN(B.length)){var E=-1,z=function V(){for(;++E<B.length;)if(r.call(B,E))return V.value=B[E],V.done=!1,V;return V.value=s,V.done=!0,V};return z.next=z}}return{next:nt}}t.values=Z;function nt(){return{value:s,done:!0}}return Q.prototype={constructor:Q,reset:function(B){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(P),!B)for(var F in this)F.charAt(0)==="t"&&r.call(this,F)&&!isNaN(+F.slice(1))&&(this[F]=s)},stop:function(){this.done=!0;var B=this.tryEntries[0],F=B.completion;if(F.type==="throw")throw F.arg;return this.rval},dispatchException:function(B){if(this.done)throw B;var F=this;function E(ht,it){return Y.type="throw",Y.arg=B,F.next=ht,it&&(F.method="next",F.arg=s),!!it}for(var z=this.tryEntries.length-1;z>=0;--z){var V=this.tryEntries[z],Y=V.completion;if(V.tryLoc==="root")return E("end");if(V.tryLoc<=this.prev){var K=r.call(V,"catchLoc"),ut=r.call(V,"finallyLoc");if(K&&ut){if(this.prev<V.catchLoc)return E(V.catchLoc,!0);if(this.prev<V.finallyLoc)return E(V.finallyLoc)}else if(K){if(this.prev<V.catchLoc)return E(V.catchLoc,!0)}else if(ut){if(this.prev<V.finallyLoc)return E(V.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(B,F){for(var E=this.tryEntries.length-1;E>=0;--E){var z=this.tryEntries[E];if(z.tryLoc<=this.prev&&r.call(z,"finallyLoc")&&this.prev<z.finallyLoc){var V=z;break}}V&&(B==="break"||B==="continue")&&V.tryLoc<=F&&F<=V.finallyLoc&&(V=null);var Y=V?V.completion:{};return Y.type=B,Y.arg=F,V?(this.method="next",this.next=V.finallyLoc,v):this.complete(Y)},complete:function(B,F){if(B.type==="throw")throw B.arg;return B.type==="break"||B.type==="continue"?this.next=B.arg:B.type==="return"?(this.rval=this.arg=B.arg,this.method="return",this.next="end"):B.type==="normal"&&F&&(this.next=F),v},finish:function(B){for(var F=this.tryEntries.length-1;F>=0;--F){var E=this.tryEntries[F];if(E.finallyLoc===B)return this.complete(E.completion,E.afterLoc),P(E),v}},catch:function(B){for(var F=this.tryEntries.length-1;F>=0;--F){var E=this.tryEntries[F];if(E.tryLoc===B){var z=E.completion;if(z.type==="throw"){var V=z.arg;P(E)}return V}}throw new Error("illegal catch attempt")},delegateYield:function(B,F,E){return this.delegate={iterator:Z(B),resultName:F,nextLoc:E},this.method==="next"&&(this.arg=s),v}},t}(i.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(Un);var Zn={defaultArgs:["./ffmpeg","-nostdin","-y"],baseOptions:{log:!1,logger:()=>{},progress:()=>{},corePath:""}},Wn=(i,e)=>{const t=i._malloc(e.length*Uint32Array.BYTES_PER_ELEMENT);return e.forEach((o,r)=>{const n=i.lengthBytesUTF8(o)+1,s=i._malloc(n);i.stringToUTF8(o,s,n),i.setValue(t+Uint32Array.BYTES_PER_ELEMENT*r,s,"i32")}),[e.length,t]};const Mn="@ffmpeg/ffmpeg",Gn="0.11.6",Hn="FFmpeg WebAssembly version",Vn="src/index.js",qn="src/index.d.ts",Kn={example:"examples"},Yn={start:"node scripts/server.js","start:worker":"node scripts/worker-server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js","build:worker":"rimraf dist && webpack --config scripts/webpack.config.worker.prod.js",prepublishOnly:"npm run build",lint:"eslint src",wait:"rimraf dist && wait-on http://localhost:3000/dist/ffmpeg.dev.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:ffmpeg test:node:all","test:node":"node node_modules/mocha/bin/_mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser":"mocha-headless-chrome -a allow-file-access-from-files -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:ffmpeg":"npm run test:browser -- -f ./tests/ffmpeg.test.html"},Jn={"./src/node/index.js":"./src/browser/index.js"},Xn={type:"git",url:"git+https://github.com/ffmpegwasm/ffmpeg.wasm.git"},Qn=["ffmpeg","WebAssembly","video"],$n="Jerome Wu <jeromewus@gmail.com>",tr="MIT",er={url:"https://github.com/ffmpegwasm/ffmpeg.wasm/issues"},nr={node:">=12.16.1"},rr="https://github.com/ffmpegwasm/ffmpeg.wasm#readme",ir={"is-url":"^1.2.4","node-fetch":"^2.6.1","regenerator-runtime":"^0.13.7","resolve-url":"^0.2.1"},sr={"@babel/core":"^7.12.3","@babel/preset-env":"^7.12.1","@ffmpeg/core":"^0.11.0","@types/emscripten":"^1.39.4","babel-eslint":"^10.1.0","babel-loader":"^8.1.0",chai:"^4.2.0",cors:"^2.8.5",eslint:"^7.12.1","eslint-config-airbnb-base":"^14.1.0","eslint-plugin-import":"^2.22.1",express:"^4.17.1",mocha:"^8.2.1","mocha-headless-chrome":"^2.0.3","npm-run-all":"^4.1.5","wait-on":"^5.3.0",webpack:"^5.3.2","webpack-cli":"^4.1.0","webpack-dev-middleware":"^4.0.0"},an={name:Mn,version:Gn,description:Hn,main:Vn,types:qn,directories:Kn,scripts:Yn,browser:Jn,repository:Xn,keywords:Qn,author:$n,license:tr,bugs:er,engines:nr,homepage:rr,dependencies:ir,devDependencies:sr},or=(typeof process<"u",`https://unpkg.com/@ffmpeg/core@${an.devDependencies["@ffmpeg/core"].substring(1)}/dist/ffmpeg-core.js`),ar={corePath:or};let Re=!1,ln=()=>{};const lr=i=>{Re=i},cr=i=>{ln=i},ur=(i,e)=>{ln({type:i,message:e}),Re&&console.log(`[${i}] ${e}`)};var Vt={logging:Re,setLogging:lr,setCustomLogger:cr,log:ur};const fr=i=>`
createFFmpegCore is not defined. ffmpeg.wasm is unable to find createFFmpegCore after loading ffmpeg-core.js from ${i}. Use another URL when calling createFFmpeg():

const ffmpeg = createFFmpeg({
  corePath: 'http://localhost:3000/ffmpeg-core.js',
});
`;var Pe={CREATE_FFMPEG_CORE_IS_NOT_DEFINED:fr};const Yt=async(i,e)=>{Vt.log("info",`fetch ${i}`);const t=await(await fetch(i)).arrayBuffer();Vt.log("info",`${i} file size = ${t.byteLength} bytes`);const o=new Blob([t],{type:e}),r=URL.createObjectURL(o);return Vt.log("info",`${i} blob URL = ${r}`),r},dr=async({corePath:i,workerPath:e,wasmPath:t})=>{if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope){if(typeof i!="string")throw Error("corePath should be a string!");const l=new URL(i,import.meta.url).href,c=await Yt(l,"application/javascript"),f=await Yt(t!==void 0?t:l.replace("ffmpeg-core.js","ffmpeg-core.wasm"),"application/wasm"),m=await Yt(e!==void 0?e:l.replace("ffmpeg-core.js","ffmpeg-core.worker.js"),"application/javascript");return typeof createFFmpegCore>"u"?new Promise(p=>{if(globalThis.importScripts(c),typeof createFFmpegCore>"u")throw Error(Pe.CREATE_FFMPEG_CORE_IS_NOT_DEFINED(l));Vt.log("info","ffmpeg-core.js script loaded"),p({createFFmpegCore,corePath:c,wasmPath:f,workerPath:m})}):(Vt.log("info","ffmpeg-core.js script is loaded already"),Promise.resolve({createFFmpegCore,corePath:c,wasmPath:f,workerPath:m}))}if(typeof i!="string")throw Error("corePath should be a string!");const o=new URL(i,import.meta.url).href,r=await Yt(o,"application/javascript"),n=await Yt(t!==void 0?t:o.replace("ffmpeg-core.js","ffmpeg-core.wasm"),"application/wasm"),s=await Yt(e!==void 0?e:o.replace("ffmpeg-core.js","ffmpeg-core.worker.js"),"application/javascript");return typeof createFFmpegCore>"u"?new Promise(l=>{const c=document.createElement("script"),f=()=>{if(c.removeEventListener("load",f),typeof createFFmpegCore>"u")throw Error(Pe.CREATE_FFMPEG_CORE_IS_NOT_DEFINED(o));Vt.log("info","ffmpeg-core.js script loaded"),l({createFFmpegCore,corePath:r,wasmPath:n,workerPath:s})};c.src=r,c.type="text/javascript",c.addEventListener("load",f),document.getElementsByTagName("head")[0].appendChild(c)}):(Vt.log("info","ffmpeg-core.js script is loaded already"),Promise.resolve({createFFmpegCore,corePath:r,wasmPath:n,workerPath:s}))},hr=i=>new Promise((e,t)=>{const o=new FileReader;o.onload=()=>{e(o.result)},o.onerror=({target:{error:{code:r}}})=>{t(Error(`File could not be read! Code=${r}`))},o.readAsArrayBuffer(i)}),pr=async i=>{let e=i;return typeof i>"u"?new Uint8Array:(typeof i=="string"?/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(i)?e=atob(i.split(",")[1]).split("").map(t=>t.charCodeAt(0)):e=await(await fetch(new URL(i,import.meta.url).href)).arrayBuffer():(i instanceof File||i instanceof Blob)&&(e=await hr(i)),new Uint8Array(e))},mr=Object.freeze(Object.defineProperty({__proto__:null,defaultOptions:ar,getCreateFFmpegCore:dr,fetchFile:pr},Symbol.toStringTag,{value:"Module"})),cn=jn(mr),{defaultArgs:gr,baseOptions:_r}=Zn,vr=Wn,{defaultOptions:br,getCreateFFmpegCore:yr}=cn,{version:wr}=an,ye=Error("ffmpeg.wasm is not ready, make sure you have completed load().");var kr=(i={})=>{const{log:e,logger:t,progress:o,...r}={..._r,...br,...i};let n=null,s=null,l=null,c=null,f=!1,m=()=>{},p=e,y=o,h=0,b=0,d=!1,_=0;const g=u=>{u==="FFMPEG_END"&&l!==null&&(l(),l=null,c=null,f=!1)},v=(u,P)=>{m({type:u,message:P}),p&&console.log(`[${u}] ${P}`)},S=u=>{const[P,Q,Z]=u.split(":");return parseFloat(P)*60*60+parseFloat(Q)*60+parseFloat(Z)},I=(u,P)=>{if(typeof u=="string")if(u.startsWith("  Duration")){const Q=u.split(", ")[0].split(": ")[1],Z=S(Q);P({duration:Z,ratio:_}),(h===0||h>Z)&&(h=Z,d=!0)}else if(d&&u.startsWith("    Stream")){const Q=u.match(/([\d.]+) fps/);if(Q){const Z=parseFloat(Q[1]);b=h*Z}else b=0;d=!1}else if(u.startsWith("frame")||u.startsWith("size")){const Q=u.split("time=")[1].split(" ")[0],Z=S(Q),nt=u.match(/frame=\s*(\d+)/);if(b&&nt){const B=parseFloat(nt[1]);_=Math.min(B/b,1)}else _=Z/h;P({ratio:_,time:Z})}else u.startsWith("video:")&&(P({ratio:1}),h=0)},C=({type:u,message:P})=>{v(u,P),I(P,y),g(P)},U=async()=>{if(v("info","load ffmpeg-core"),n===null){v("info","loading ffmpeg-core");const{createFFmpegCore:u,corePath:P,workerPath:Q,wasmPath:Z}=await yr(r);n=await u({mainScriptUrlOrBlob:P,printErr:nt=>C({type:"fferr",message:nt}),print:nt=>C({type:"ffout",message:nt}),locateFile:(nt,B)=>{if(typeof window<"u"||typeof WorkerGlobalScope<"u"){if(typeof Z<"u"&&nt.endsWith("ffmpeg-core.wasm"))return Z;if(typeof Q<"u"&&nt.endsWith("ffmpeg-core.worker.js"))return Q}return B+nt}}),s=n.cwrap(r.mainName||"proxy_main","number",["number","number"]),v("info","ffmpeg-core loaded")}else throw Error("ffmpeg.wasm was loaded, you should not load it again, use ffmpeg.isLoaded() to check next time.")},N=()=>n!==null,L=(...u)=>{if(v("info",`run ffmpeg command: ${u.join(" ")}`),n===null)throw ye;if(f)throw Error("ffmpeg.wasm can only run one command at a time");return f=!0,new Promise((P,Q)=>{const Z=[...gr,...u].filter(nt=>nt.length!==0);l=P,c=Q,s(...vr(n,Z))})},D=(u,...P)=>{if(v("info",`run FS.${u} ${P.map(Q=>typeof Q=="string"?Q:`<${Q.length} bytes binary file>`).join(" ")}`),n===null)throw ye;{let Q=null;try{Q=n.FS[u](...P)}catch{throw Error(u==="readdir"?`ffmpeg.FS('readdir', '${P[0]}') error. Check if the path exists, ex: ffmpeg.FS('readdir', '/')`:u==="readFile"?`ffmpeg.FS('readFile', '${P[0]}') error. Check if the path exists`:"Oops, something went wrong in FS operation.")}return Q}},M=()=>{if(n===null)throw ye;c&&c("ffmpeg has exited"),f=!1;try{n.exit(1)}catch(u){v(u.message),c&&c(u)}finally{n=null,s=null,l=null,c=null}},G=u=>{y=u},k=u=>{m=u},O=u=>{p=u};return v("info",`use ffmpeg.wasm v${wr}`),{setProgress:G,setLogger:k,setLogging:O,load:U,isLoaded:N,run:L,exit:M,FS:D}};const Ar=kr,{fetchFile:Sr}=cn;var Er={createFFmpeg:Ar,fetchFile:Sr};const Dt=Er.createFFmpeg({corePath:"../ffmpeg-core/ffmpeg-core.js",mainName:"main"}),Cr=async i=>i.type=="audio/ogg"?new Blob([i],{type:"audio/ogg"}):await new Promise(e=>{const t=new FileReader,o=new Blob([i]);t.readAsArrayBuffer(o),t.onload=async()=>{const r=t.result;await Dt.load(),Dt.FS("writeFile","audio",new Uint8Array(r)),await Dt.run("-i","audio","-acodec","libvorbis","/output.ogg");const n=Dt.FS("readFile","/output.ogg");Dt.exit(),e(new Blob([n],{type:"audio/ogg"}))}}),zr=async i=>await new Promise(e=>{const t=new FileReader;t.readAsArrayBuffer(i),t.onload=async()=>{const o=t.result;await Dt.load(),Dt.FS("writeFile","audio",new Uint8Array(o)),await Dt.run("-i","audio","-ac","1","/output.ogg");const r=Dt.FS("readFile","/output.ogg");Dt.exit(),e(new Blob([r],{type:"audio/ogg"}))}}),Ir=async(i,e,t)=>await new Promise(o=>{const r=new Image;r.src=URL.createObjectURL(i),r.onload=()=>{const n=document.createElement("canvas");n.width=e,n.height=t,n.getContext("2d").drawImage(r,0,0,e,t);const l=n.toDataURL("image/png");o(Br(l))}}),Br=i=>new Promise(e=>{const t=xr(i);e(new Blob([t],{type:"image/png"}))}),xr=i=>{const e=i.split(",")[1],t=window.atob(e),o=new ArrayBuffer(t.length),r=new Uint8Array(o);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return o},Rr=(i,e)=>{const t=document.createElement("a");t.href=URL.createObjectURL(i),t.download=e,t.click()};function Or(i){let e,t,o,r,n;const s=i[2].default,l=kn(s,i,i[1],null);return{c(){e=et("div"),t=et("span"),o=It(i[0]),r=mt(),l&&l.c(),T(t,"id","tooltiptext"),T(t,"class","svelte-1xbdaqc"),T(e,"id","container"),T(e,"class","svelte-1xbdaqc")},m(c,f){at(c,e,f),tt(e,t),tt(t,o),tt(e,r),l&&l.m(e,null),n=!0},p(c,[f]){(!n||f&1)&&Mt(o,c[0]),l&&l.p&&(!n||f&2)&&Sn(l,s,c,c[1],n?An(s,c[1],f,null):En(c[1]),null)},i(c){n||(ct(l,c),n=!0)},o(c){_t(l,c),n=!1},d(c){c&&st(e),l&&l.d(c)}}}function Fr(i,e,t){let{$$slots:o={},$$scope:r}=e,{text:n}=e;return i.$$set=s=>{"text"in s&&t(0,n=s.text),"$$scope"in s&&t(1,r=s.$$scope)},[n,r,o]}class ne extends Ht{constructor(e){super(),Gt(this,e,Fr,Or,Wt,{text:0})}}const Dr="/jext-reborn/assets/default_disk.59365372.png",un="/jext-reborn/assets/loading.9ab4977f.webp",fn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAFxnpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjarVdZkuQoDP3nFHMEkBDLcVgj5gZz/Hkshsyq6umqjrHDNinL4klPSKRq//zd1V84iLxWVnxw0TmNw0YbKWEQ9DrivBtt530dzzvzLlfnBUHEePL66dPWT5DL/eDYye9yFfYbCtuQOYbnwWPmMa6vICGnJTd2G4ptDVwM/hVq3oaKfXFpX/a6N4/xW70JPKJUBRMxUWPDet7DQsDjIk5DjrvmAD0zJcxR4SFstjEE5M2956nfAv0e/D1SH6N/Rh+CT2nL+UMs3cOa+/qFkQ9yPtPQ68R8ENH7i+S1/+TOvnqvofe2vEvWIaJuZ9QM9hOhoZgRcp6fOZwel2Ds5xlxBp10AeVVF51xFhMNIfpdGWuqSaabNp/FFEC01MjjSVSIpyywp0iFB092nKaT58iVA3gr1BSos0wHi5nzxjlfMQEzVwNVMjBmJv2/ONV/vfzJqXovI0RGhxMr4KKR14AxmBt3aIEQ0zdvMgP8nJt+/ZI/SFUwKDPMAQ4mnZeJLObmFk+eGXqC51pCRvm6DSBEmFsAxjAY0M6wGGe0R7UxBnEMICgBObGlDAaMCFWAJMvsSHnCksHc+MabqUtCjoYYtQlECDv24CZyAlnWCvLH24AcSsJiRcSJl6AkSnLsrBPnnHejyCXP3nrxznsffPQpcLBBggs+hBBDihQZNVCiiz6GGGNKpBImSrCVoJ8gyZQ52yzZZZ9DjjkVpE+xRYorvoQSS6pUuaJMVFd9DTXW1IxqqBTNNmmu+RZabKkj1zp326W77nvosafD2mb10/kD1sxmjSZTQ88f1iBV3j8mzCgnMjgDY2QNGPeDASQ0Dc50MNbSYG5wpiNhUQgBpAxuVDWDMVBomyHp5nB3mfsWb0rCt3ij3zGnBnX/B3MK1H3m7QvW6uhzZTK2VuGIqWasvtYpII8CcgCoxzhAt1MbA8rNlx6dnj+CRjWaCi1xpSNMfenWwFXJJ93C6IWPULcp7LFxOVKK1VgBWwjwGFhtirJLVukKW5wDgasvQqlTOIB2KksDraLJ+l5Zn+wj9dKXckbrT590A/YDR2gWgM7FhyFVUyw8QaeSj08hLv+TzdejZbE45P2DtC437Sj+zySy9AJK9aOW84JoY3UHNwrSFuZrT5UFsblYrkm7TOZYjy/ex/V51bH1GzraYlWw2PmqO79GckBFWZEfLflE7WHosqFMCY/UtTv9Rh+TN9fkIdMeWd1MdGXJ52sgPnJyvkR9uc+HzkyPttTNB5JNq4elWnY+Wg7hyfOm0xxlc4Pil/MS85kHpX3S75I7CeaRmWtyZEq4SOPvkKpfQf0pUvUrqN9EWh6kClDDDYD1G6pDITrqei+zRK/rCcK9+krsrG4W6pXrCMHjVvN515RoO3Zgp3xscSiNH6Hi2pe/KE/IzCcKZetGxOMYKGEXFVe6P6rNpFXYurXdnjgOs7sERW7uyIuZ5mI83KCg7EBUikjIm42y5SaWu0JzX+FEpjZ36HBrshbYbrxKP+6UcIODLrAToR4PUM/c4pxPBTbrJa7h2vbItqfS5vsx2WWxoIDlT7W6JC79IpL1GULV2q3VP4WpvsT5BzDVlzjRUh6idXe3V/FOCvyJOUI0xenaaFX5YmBZqlm38lj9+OS8e18pFxJiVJPbGWnRZ85ET/IlwpRn/rRThEy56zDWatTIkYhefqRmtyQx9UU11aclnWR6f6pRLp+ccygwdwHXp9ySjzdBn2VdDWa8FSitCpmxk7orqm7qbXMv69ftPk9c5YvoqS/D+Sm8WP7P3sJ2NKlHblZ4W2aVbn5I2hlXXjLzu/jUN/B8C596B3jxtbyTYmwuT/fvi7xsbrPunGRuIqRlbNKu3MpSLhYbplM29lKpnG7yYqO+F2S5q7+Vrepem0XbHYT5brKWV0mHd5jqS5x/AFN9ifOnMLl3VSP+R/wLwQRCBdriyuEAAAGFaUNDUElDQyBwcm9maWxlAAB4nH2RPUjDUBSFT1ulpVQc2kHEIUPVxYKoiKNWoQgVQq3QqoPJS/+gSUOS4uIouBYc/FmsOrg46+rgKgiCPyCOTk6KLlLifUmhRYwPLu/jvHcO990H+JtVppo944CqWUYmlRRy+VUh+IowQlSjiErM1OdEMQ3P9XUPH9/vEjzL+96fq08pmAzwCcSzTDcs4g3i6U1L57xPHGNlSSE+Jx4zqEHiR67LLr9xLjns55kxI5uZJ44RC6UulruYlQ2VeIo4rqga5ftzLiuctzir1Tpr98lfGCloK8tcpxpCCotYgggBMuqooAoLCdo1Ukxk6Dzp4R90/CK5ZHJVwMixgBpUSI4f/A9+z9YsTk64SZEk0Pti2x/DQHAXaDVs+/vYtlsnQOAZuNI6/loTmPkkvdHR4kdA/zZwcd3R5D3gcgcYeNIlQ3KkAJW/WATez+ib8kD0FgivuXNrn+P0AcjSrNI3wMEhMFKi7HWPd4e65/bvnfb8fgBGIXKVL4xNQwAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+YKCAonM+tPNNQAAAELSURBVBjTNcE9SAJhAIDh9w5L+gSRMDUlIeiHhhAuTAocg6CWNgfnoKGIppaWyCgaAt1CCCvhIBCqrSCEIi4olKvxKjuzHBpEkA6PsKnnkfKPh50VY5UpobDgTRJ1RbkQR1iNNuVbA2ksM9KZVCYwmy+M90Z41aoMzfXRqlgs+zaQw4qH4v41PzmbYfcoLqebwtoVT1kDIQRyV7eTTltCU0s8W/c0glXM8zpvZpVscw9H3DlD/1KQyG6MnfVtpF+ZG71I6jLFp1zDESKAVnngJHfMx9k3AMmeBLObcRL2InLYM4hPBNDUEv/eT+tYNZv0XRo53zogFBf4p71k9C0KZZWBeR+G/oU/JvgD3DRc8fJrLSwAAAAASUVORK5CYII=",Tr="/jext-reborn/assets/chest.dc4b25ff.png",Pr="/jext-reborn/assets/delete_btn.871175bc.png",Nr="/jext-reborn/assets/delete_btn_hover.386c7405.png";function Zt(i,{delay:e=0,duration:t=400,easing:o=Ee}={}){const r=+getComputedStyle(i).opacity;return{delay:e,duration:t,easing:o,css:n=>`opacity: ${n*r}`}}function Lr(i){return{c:lt,m:lt,p:lt,i:lt,o:lt,d:lt}}function jr(i){let e;function t(n,s){return n[0]?Zr:Ur}let o=t(i),r=o(i);return{c(){r.c(),e=jt()},m(n,s){r.m(n,s),at(n,e,s)},p(n,s){o===(o=t(n))&&r?r.p(n,s):(r.d(1),r=o(n),r&&(r.c(),ct(r,1),r.m(e.parentNode,e)))},i(n){ct(r)},o:lt,d(n){r.d(n),n&&st(e)}}}function Ur(i){let e,t,o,r,n,s,l,c,f;return{c(){e=et("div"),t=et("img"),r=mt(),n=et("p"),s=It(i[2]),wt(t.src,o=i[1])||T(t,"src",o),T(t,"alt",i[2]),T(t,"class","svelte-72nmcc"),T(e,"class","svelte-72nmcc")},m(m,p){at(m,e,p),tt(e,t),tt(e,r),tt(e,n),tt(n,s),c||(f=[ot(e,"click",function(){Tt(i[3])&&i[3].apply(this,arguments)}),ot(e,"keydown",null)],c=!0)},p(m,p){i=m,p&2&&!wt(t.src,o=i[1])&&T(t,"src",o),p&4&&T(t,"alt",i[2]),p&4&&Mt(s,i[2])},i(m){l||Bt(()=>{l=_e(e,Zt,{}),l.start()})},o:lt,d(m){m&&st(e),c=!1,vt(f)}}}function Zr(i){let e,t,o,r,n,s,l,c,f;return{c(){e=et("div"),t=et("img"),r=mt(),n=et("p"),s=It(i[2]),wt(t.src,o=i[6])||T(t,"src",o),T(t,"alt",i[2]),T(t,"class","svelte-72nmcc"),T(e,"class","selected svelte-72nmcc")},m(m,p){at(m,e,p),tt(e,t),tt(e,r),tt(e,n),tt(n,s),c||(f=[ot(e,"click",function(){Tt(i[3])&&i[3].apply(this,arguments)}),ot(e,"keydown",null)],c=!0)},p(m,p){i=m,p&4&&T(t,"alt",i[2]),p&4&&Mt(s,i[2])},i(m){l||Bt(()=>{l=_e(e,Zt,{}),l.start()})},o:lt,d(m){m&&st(e),c=!1,vt(f)}}}function Wr(i){let e;function t(n,s){return n[0]?Gr:Mr}let o=t(i),r=o(i);return{c(){r.c(),e=jt()},m(n,s){r.m(n,s),at(n,e,s)},p(n,s){o===(o=t(n))&&r?r.p(n,s):(r.d(1),r=o(n),r&&(r.c(),ct(r,1),r.m(e.parentNode,e)))},i(n){ct(r)},o:lt,d(n){r.d(n),n&&st(e)}}}function Mr(i){let e,t,o,r,n,s,l,c,f;return{c(){e=et("div"),t=et("img"),r=mt(),n=et("p"),s=It(i[2]),wt(t.src,o=i[1])||T(t,"src",o),T(t,"alt",i[2]),T(t,"class","svelte-72nmcc"),T(e,"class","svelte-72nmcc")},m(m,p){at(m,e,p),tt(e,t),tt(e,r),tt(e,n),tt(n,s),c||(f=[ot(e,"click",function(){Tt(i[3])&&i[3].apply(this,arguments)}),ot(e,"keydown",null)],c=!0)},p(m,p){i=m,p&2&&!wt(t.src,o=i[1])&&T(t,"src",o),p&4&&T(t,"alt",i[2]),p&4&&Mt(s,i[2])},i(m){l||Bt(()=>{l=_e(e,Zt,{}),l.start()})},o:lt,d(m){m&&st(e),c=!1,vt(f)}}}function Gr(i){let e,t,o,r,n,s,l,c,f;return{c(){e=et("div"),t=et("img"),r=mt(),n=et("p"),s=It(i[2]),wt(t.src,o=un)||T(t,"src",o),T(t,"alt",i[2]),T(t,"class","svelte-72nmcc"),T(e,"class","selected svelte-72nmcc")},m(m,p){at(m,e,p),tt(e,t),tt(e,r),tt(e,n),tt(n,s),c||(f=[ot(e,"click",function(){Tt(i[3])&&i[3].apply(this,arguments)}),ot(e,"keydown",null)],c=!0)},p(m,p){i=m,p&4&&T(t,"alt",i[2]),p&4&&Mt(s,i[2])},i(m){l||Bt(()=>{l=_e(e,Zt,{}),l.start()})},o:lt,d(m){m&&st(e),c=!1,vt(f)}}}function Hr(i){let e,t={ctx:i,current:null,token:null,hasCatch:!1,pending:Wr,then:jr,catch:Lr,value:6};return Be(i[4],t),{c(){e=jt(),t.block.c()},m(o,r){at(o,e,r),t.block.m(o,t.anchor=r),t.mount=()=>e.parentNode,t.anchor=e},p(o,[r]){i=o,xe(t,i,r)},i(o){ct(t.block)},o:lt,d(o){o&&st(e),t.block.d(o),t.token=null,t=null}}}function Vr(i,e,t){let{value:o=!1}=e,{image:r}=e,{name:n}=e,{onClick:s=()=>{}}=e;const c=(async f=>{const p=await(await fetch(f)).blob();return URL.createObjectURL(p)})(r);return i.$$set=f=>{"value"in f&&t(0,o=f.value),"image"in f&&t(1,r=f.image),"name"in f&&t(2,n=f.name),"onClick"in f&&t(3,s=f.onClick)},[o,r,n,s,c]}class qr extends Ht{constructor(e){super(),Gt(this,e,Vr,Hr,Wt,{value:0,image:1,name:2,onClick:3})}}const dn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA0UlEQVR42nWSsQ1CMQxEvQ4rINFR0SOBxAgpaRgA/Q3YhelAF+mi9+/nF1YS2zn7zq7v+/H7tEu31/XYbea7nw6ruM/SRYlM0HtZluEzIO+KycporsI3qzGHeSW01tpwsJukkl0MAAcV0GdyJ6AKpa/cVlZyq9SG9yFicpR4TKDipOmzMjnH525m/g6QTp5uOT8zNt2D5J68SaVyPORsYPtJxVrVjBcraHSkwDH3TUxnguyZu1pRkD1v541wpjHb0MokKkz+WWgDkDtgkfbm7wJ/9oUoq3qXqFkAAAAASUVORK5CYII=",Ne=new Map([[4,"1.14 - 1.14.4"],[5,"1.15 - 1.16.1"],[6,"1.16.2-1.16.5"],[7,"1.17 - 1.17.1"],[8,"1.18 - 1.18.2"],[9,"1.19 - 1.19.2"]]),Le=[{source:"chests/ancient_city,chests/ancient_city_ice_box",img:"loottable_icons/Ancient_City.webp",name:"Ancient City",minVersion:9},{source:"chests/bastion_bridge,chests/bastion_hoglin_treasure,chests/bastion_other,chests/bastion_treasure",img:"loottable_icons/Bastion_Remnant.webp",name:"Bastion Remnant",minVersion:5},{source:"chests/desert_pyramid",img:"loottable_icons/Desert_pyramid.webp",name:"Desert Pyramid",minVersion:4},{source:"chests/simple_dungeon",img:"loottable_icons/Dungeon.webp",name:"Dungeon",minVersion:4},{source:"chests/end_city_treasure",img:"loottable_icons/End_City.webp",name:"End City",minVersion:4},{source:"chests/igloo_chest",img:"loottable_icons/Igloo.webp",name:"Igloo",minVersion:4},{source:"chests/jungle_temple",img:"loottable_icons/Jungle_pyramid.webp",name:"Jungle Temple",minVersion:4},{source:"chests/nether_bridge",img:"loottable_icons/Nether_Fortress.webp",name:"Nether Fortress",minVersion:4},{source:"chests/ruined_portal",img:"loottable_icons/Nether_portal.webp",name:"Ruined Portal",minVersion:5},{source:"chests/pillager_outpost",img:"loottable_icons/Pillager_outpost.webp",name:"Pillager Outpost",minVersion:4},{source:"chests/shipwreck_map,chests/shipwreck_supply,chests/shipwreck_treasure",img:"loottable_icons/Shipwreck.webp",name:"Shipwreck",minVersion:4},{source:"chests/stronghold_corridor,chests/stronghold_crossing",img:"loottable_icons/Stronghold.webp",name:"Stronghold",minVersion:4},{source:"chests/underwater_ruin_big,chests/underwater_ruin_small",img:"loottable_icons/Underwater_ruin.webp",name:"Underwater Ruins",minVersion:4},{source:"chests/village/village_plains_house,chests/village/village_savanna_house,chests/village/village_desert_house,chests/village/village_snowy_house,chests/village/village_taiga_house",img:"loottable_icons/Village.webp",name:"Village",minVersion:4},{source:"chests/woodland_mansion",img:"loottable_icons/Woodland_Mansion.webp",name:"Woodland Mansion",minVersion:4},{source:"chests/abandoned_mineshaft",img:"loottable_icons/Mineshaft.webp",name:"Mineshaft",minVersion:4}];function je(i,e,t){const o=i.slice();return o[6]=e[t],o}function Ue(i){let e,t,o,r,n,s,l,c=Le,f=[];for(let p=0;p<c.length;p+=1)f[p]=We(je(i,c,p));const m=p=>_t(f[p],1,1,()=>{f[p]=null});return{c(){e=et("div"),t=et("div");for(let p=0;p<f.length;p+=1)f[p].c();o=mt(),r=et("div"),r.innerHTML='<div id="content" class="svelte-1m5gm3z"><p id="generate_text" class="noselect svelte-1m5gm3z">OK</p></div>',T(t,"class","popupcontainer svelte-1m5gm3z"),T(r,"id","messagepopupconfirm"),T(r,"class","popupconfirm svelte-1m5gm3z"),T(e,"class","popup svelte-1m5gm3z")},m(p,y){at(p,e,y),tt(e,t);for(let h=0;h<f.length;h+=1)f[h].m(t,null);tt(e,o),tt(e,r),n=!0,s||(l=[ot(r,"click",i[4]),ot(r,"keydown",null)],s=!0)},p(p,y){if(y&13){c=Le;let h;for(h=0;h<c.length;h+=1){const b=je(p,c,h);f[h]?(f[h].p(b,y),ct(f[h],1)):(f[h]=We(b),f[h].c(),ct(f[h],1),f[h].m(t,null))}for(qt(),h=c.length;h<f.length;h+=1)m(h);Kt()}},i(p){if(!n){for(let y=0;y<c.length;y+=1)ct(f[y]);n=!0}},o(p){f=f.filter(Boolean);for(let y=0;y<f.length;y+=1)_t(f[y]);n=!1},d(p){p&&st(e),ze(f,p),s=!1,vt(l)}}}function Ze(i){let e,t;function o(){return i[5](i[6])}return e=new qr({props:{image:i[6].img,name:i[6].name,value:i[0].includes(i[6].source),onClick:o}}),{c(){Rt(e.$$.fragment)},m(r,n){Ct(e,r,n),t=!0},p(r,n){i=r;const s={};n&1&&(s.value=i[0].includes(i[6].source)),e.$set(s)},i(r){t||(ct(e.$$.fragment,r),t=!0)},o(r){_t(e.$$.fragment,r),t=!1},d(r){zt(e,r)}}}function We(i){let e,t,o=i[6].minVersion&&i[6].minVersion<=i[2]&&Ze(i);return{c(){o&&o.c(),e=jt()},m(r,n){o&&o.m(r,n),at(r,e,n),t=!0},p(r,n){r[6].minVersion&&r[6].minVersion<=r[2]?o?(o.p(r,n),n&4&&ct(o,1)):(o=Ze(r),o.c(),ct(o,1),o.m(e.parentNode,e)):o&&(qt(),_t(o,1,1,()=>{o=null}),Kt())},i(r){t||(ct(o),t=!0)},o(r){_t(o),t=!1},d(r){o&&o.d(r),r&&st(e)}}}function Kr(i){let e,t,o,r,n,s,l,c=i[1]&&Ue(i);return{c(){e=et("div"),o=mt(),c&&c.c(),r=jt(),T(e,"class","popupbackground svelte-1m5gm3z"),ge(e,"background-image","url("+dn+")")},m(f,m){at(f,e,m),at(f,o,m),c&&c.m(f,m),at(f,r,m),n=!0,s||(l=[ot(e,"click",i[4]),ot(e,"keydown",null)],s=!0)},p(f,[m]){f[1]?c?(c.p(f,m),m&2&&ct(c,1)):(c=Ue(f),c.c(),ct(c,1),c.m(r.parentNode,r)):c&&(qt(),_t(c,1,1,()=>{c=null}),Kt())},i(f){n||(Bt(()=>{t||(t=me(e,Zt,{},!0)),t.run(1)}),ct(c),n=!0)},o(f){t||(t=me(e,Zt,{},!1)),t.run(0),_t(c),n=!1},d(f){f&&st(e),f&&t&&t.end(),f&&st(o),c&&c.d(f),f&&st(r),s=!1,vt(l)}}}function Yr(i,e,t){let{selectedDungeons:o=[]}=e,{version:r}=e,{closePopup:n}=e;const s=f=>{o.includes(f)?t(0,o=o.filter(m=>m!=f)):t(0,o=[...o,f])},l=()=>{t(1,n=!1),document.querySelector(".popup").style.display="none"},c=f=>s(f.source);return i.$$set=f=>{"selectedDungeons"in f&&t(0,o=f.selectedDungeons),"version"in f&&t(2,r=f.version),"closePopup"in f&&t(1,n=f.closePopup)},[o,n,r,s,l,c]}class Jr extends Ht{constructor(e){super(),Gt(this,e,Yr,Kr,Wt,{selectedDungeons:0,version:2,closePopup:1})}}function Me(i){let e,t,o,r,n;function s(m){i[13](m)}function l(m){i[14](m)}function c(m){i[15](m)}let f={};return i[0].lootTables!==void 0&&(f.selectedDungeons=i[0].lootTables),i[1]!==void 0&&(f.version=i[1]),i[4]!==void 0&&(f.closePopup=i[4]),e=new Jr({props:f}),kt.push(()=>Et(e,"selectedDungeons",s)),kt.push(()=>Et(e,"version",l)),kt.push(()=>Et(e,"closePopup",c)),{c(){Rt(e.$$.fragment)},m(m,p){Ct(e,m,p),n=!0},p(m,p){const y={};!t&&p&1&&(t=!0,y.selectedDungeons=m[0].lootTables,St(()=>t=!1)),!o&&p&2&&(o=!0,y.version=m[1],St(()=>o=!1)),!r&&p&16&&(r=!0,y.closePopup=m[4],St(()=>r=!1)),e.$set(y)},i(m){n||(ct(e.$$.fragment,m),n=!0)},o(m){_t(e.$$.fragment,m),n=!1},d(m){zt(e,m)}}}function Xr(i){return{c:lt,m:lt,p:lt,i:lt,o:lt,d:lt}}function Qr(i){let e,t,o,r,n,s,l,c,f,m,p,y,h,b,d,_,g,v,S,I,C,U,N,L;t=new ne({props:{text:"Changes the disc icon",$$slots:{default:[$r]},$$scope:{ctx:i}}}),s=new ne({props:{text:"Toggles Creeper drops",$$slots:{default:[ni]},$$scope:{ctx:i}}}),f=new ne({props:{text:"Selects structures in which the disc can be found",$$slots:{default:[ri]},$$scope:{ctx:i}}}),y=new ne({props:{text:"Removes the disc",$$slots:{default:[oi]},$$scope:{ctx:i}}});function D(k,O){return k[0].namespace.length>90?li:ai}let M=D(i),G=M(i);return{c(){e=et("div"),Rt(t.$$.fragment),o=mt(),r=et("div"),n=et("div"),Rt(s.$$.fragment),l=mt(),c=et("div"),Rt(f.$$.fragment),m=mt(),p=et("div"),Rt(y.$$.fragment),h=mt(),b=et("div"),d=et("input"),_=mt(),g=et("input"),v=mt(),S=et("p"),G.c(),I=mt(),C=et("textarea"),T(n,"id","wrapper"),T(n,"class","svelte-12gqr3a"),T(c,"id","wrapper"),T(c,"class","svelte-12gqr3a"),T(p,"id","wrapper"),T(p,"class","svelte-12gqr3a"),T(r,"id","buttons"),T(r,"class","svelte-12gqr3a"),T(e,"id","icons"),T(e,"class","svelte-12gqr3a"),T(d,"type","text"),T(d,"name","song_name"),T(d,"id","song_name_input"),T(d,"class","svelte-12gqr3a"),T(g,"type","text"),T(g,"name","song_author"),T(g,"id","song_author_input"),T(g,"class","svelte-12gqr3a"),T(S,"id","disknamespace"),T(S,"class","svelte-12gqr3a"),T(b,"id","names"),T(b,"class","svelte-12gqr3a"),T(C,"name","song_lore"),T(C,"id","song_lore_input"),T(C,"cols","30"),T(C,"rows","6"),T(C,"class","svelte-12gqr3a")},m(k,O){at(k,e,O),Ct(t,e,null),tt(e,o),tt(e,r),tt(r,n),Ct(s,n,null),tt(r,l),tt(r,c),Ct(f,c,null),tt(r,m),tt(r,p),Ct(y,p,null),at(k,h,O),at(k,b,O),tt(b,d),Ut(d,i[0].name),tt(b,_),tt(b,g),Ut(g,i[0].author),tt(b,v),tt(b,S),G.m(S,null),at(k,I,O),at(k,C,O),Ut(C,i[0].lores),U=!0,N||(L=[ot(d,"input",i[16]),ot(d,"input",i[5]),ot(g,"input",i[17]),ot(g,"input",i[5]),ot(C,"input",i[18])],N=!0)},p(k,O){const u={};O&4194305&&(u.$$scope={dirty:O,ctx:k}),t.$set(u);const P={};O&4194305&&(P.$$scope={dirty:O,ctx:k}),s.$set(P);const Q={};O&4194304&&(Q.$$scope={dirty:O,ctx:k}),f.$set(Q);const Z={};O&4194316&&(Z.$$scope={dirty:O,ctx:k}),y.$set(Z),O&1&&d.value!==k[0].name&&Ut(d,k[0].name),O&1&&g.value!==k[0].author&&Ut(g,k[0].author),M===(M=D(k))&&G?G.p(k,O):(G.d(1),G=M(k),G&&(G.c(),G.m(S,null))),O&1&&Ut(C,k[0].lores)},i(k){U||(ct(t.$$.fragment,k),ct(s.$$.fragment,k),ct(f.$$.fragment,k),ct(y.$$.fragment,k),U=!0)},o(k){_t(t.$$.fragment,k),_t(s.$$.fragment,k),_t(f.$$.fragment,k),_t(y.$$.fragment,k),U=!1},d(k){k&&st(e),zt(t),zt(s),zt(f),zt(y),k&&st(h),k&&st(b),G.d(),k&&st(I),k&&st(C),N=!1,vt(L)}}}function $r(i){let e,t,o,r;return{c(){e=et("img"),T(e,"id","disc_texture"),wt(e.src,t=URL.createObjectURL(i[0].texture))||T(e,"src",t),T(e,"height","64"),T(e,"width","64"),T(e,"alt","disc icon"),T(e,"class","svelte-12gqr3a")},m(n,s){at(n,e,s),o||(r=[ot(e,"click",i[10]),ot(e,"keydown",null)],o=!0)},p(n,s){s&1&&!wt(e.src,t=URL.createObjectURL(n[0].texture))&&T(e,"src",t)},d(n){n&&st(e),o=!1,vt(r)}}}function ti(i){let e,t,o,r;return{c(){e=et("img"),T(e,"id","toggle_creeper"),wt(e.src,t=fn)||T(e,"src",t),T(e,"alt","creeper icon"),T(e,"class","svelte-12gqr3a")},m(n,s){at(n,e,s),o||(r=[ot(e,"click",i[8]),ot(e,"keydown",null)],o=!0)},p:lt,d(n){n&&st(e),o=!1,vt(r)}}}function ei(i){let e,t,o,r;return{c(){e=et("img"),T(e,"id","toggle_creeper"),wt(e.src,t=fn)||T(e,"src",t),T(e,"alt","creeper icon"),T(e,"class","grayscale svelte-12gqr3a")},m(n,s){at(n,e,s),o||(r=[ot(e,"click",i[8]),ot(e,"keydown",null)],o=!0)},p:lt,d(n){n&&st(e),o=!1,vt(r)}}}function ni(i){let e;function t(n,s){return n[0].creeperDrop?ti:ei}let o=t(i),r=o(i);return{c(){r.c(),e=jt()},m(n,s){r.m(n,s),at(n,e,s)},p(n,s){o===(o=t(n))&&r?r.p(n,s):(r.d(1),r=o(n),r&&(r.c(),r.m(e.parentNode,e)))},d(n){r.d(n),n&&st(e)}}}function ri(i){let e,t,o,r;return{c(){e=et("img"),T(e,"id","loot_selector"),wt(e.src,t=Tr)||T(e,"src",t),T(e,"alt","chest icon"),T(e,"class","svelte-12gqr3a")},m(n,s){at(n,e,s),o||(r=[ot(e,"click",i[11]),ot(e,"keydown",null)],o=!0)},p:lt,d(n){n&&st(e),o=!1,vt(r)}}}function ii(i){let e,t,o,r;return{c(){e=et("img"),T(e,"id","song_delete"),wt(e.src,t=Nr)||T(e,"src",t),T(e,"alt","delete icon"),T(e,"class","svelte-12gqr3a")},m(n,s){at(n,e,s),o||(r=[ot(e,"mouseleave",i[9]),ot(e,"click",function(){Tt(i[2])&&i[2].apply(this,arguments)}),ot(e,"keydown",null)],o=!0)},p(n,s){i=n},d(n){n&&st(e),o=!1,vt(r)}}}function si(i){let e,t,o,r;return{c(){e=et("img"),T(e,"id","song_delete"),wt(e.src,t=Pr)||T(e,"src",t),T(e,"alt","delete icon"),T(e,"class","svelte-12gqr3a")},m(n,s){at(n,e,s),o||(r=[ot(e,"mouseenter",i[9]),ot(e,"click",function(){Tt(i[2])&&i[2].apply(this,arguments)}),ot(e,"keydown",null)],o=!0)},p(n,s){i=n},d(n){n&&st(e),o=!1,vt(r)}}}function oi(i){let e;function t(n,s){return n[3]?ii:si}let o=t(i),r=o(i);return{c(){r.c(),e=jt()},m(n,s){r.m(n,s),at(n,e,s)},p(n,s){o===(o=t(n))&&r?r.p(n,s):(r.d(1),r=o(n),r&&(r.c(),r.m(e.parentNode,e)))},d(n){r.d(n),n&&st(e)}}}function ai(i){let e=i[0].namespace+"",t;return{c(){t=It(e)},m(o,r){at(o,t,r)},p(o,r){r&1&&e!==(e=o[0].namespace+"")&&Mt(t,e)},d(o){o&&st(t)}}}function li(i){let e=i[0].namespace.substring(0,90)+"",t,o;return{c(){t=It(e),o=It("...")},m(r,n){at(r,t,n),at(r,o,n)},p(r,n){n&1&&e!==(e=r[0].namespace.substring(0,90)+"")&&Mt(t,e)},d(r){r&&st(t),r&&st(o)}}}function ci(i){let e,t={ctx:i,current:null,token:null,hasCatch:!1,pending:di,then:fi,catch:ui,value:21};return Be(i[7],t),{c(){e=jt(),t.block.c()},m(o,r){at(o,e,r),t.block.m(o,t.anchor=r),t.mount=()=>e.parentNode,t.anchor=e},p(o,r){i=o,xe(t,i,r)},i:lt,o:lt,d(o){o&&st(e),t.block.d(o),t.token=null,t=null}}}function ui(i){return{c:lt,m:lt,p:lt,d:lt}}function fi(i){let e,t,o;return{c(){e=et("div"),t=et("img"),wt(t.src,o=un)||T(t,"src",o),T(t,"alt","loading"),T(t,"class","svelte-12gqr3a"),T(e,"id","loading"),T(e,"class","svelte-12gqr3a")},m(r,n){at(r,e,n),tt(e,t)},p:lt,d(r){r&&st(e)}}}function di(i){let e;return{c(){e=et("div"),e.innerHTML='<img src="" alt="loading" class="svelte-12gqr3a"/>',T(e,"id","loading"),T(e,"class","svelte-12gqr3a")},m(t,o){at(t,e,o)},p:lt,d(t){t&&st(e)}}}function hi(i){let e,t,o,r=i[4]&&Me(i),n={ctx:i,current:null,token:null,hasCatch:!1,pending:ci,then:Qr,catch:Xr,value:21,blocks:[,,,]};return Be(i[6],n),{c(){r&&r.c(),e=mt(),t=et("div"),n.block.c(),T(t,"id","song"),T(t,"class","svelte-12gqr3a")},m(s,l){r&&r.m(s,l),at(s,e,l),at(s,t,l),n.block.m(t,n.anchor=null),n.mount=()=>t,n.anchor=null,o=!0},p(s,[l]){i=s,i[4]?r?(r.p(i,l),l&16&&ct(r,1)):(r=Me(i),r.c(),ct(r,1),r.m(e.parentNode,e)):r&&(qt(),_t(r,1,1,()=>{r=null}),Kt()),xe(n,i,l)},i(s){o||(ct(r),ct(n.block),o=!0)},o(s){_t(r);for(let l=0;l<3;l+=1){const c=n.blocks[l];_t(c)}o=!1},d(s){r&&r.d(s),s&&st(e),s&&st(t),n.block.d(),n.token=null,n=null}}}function pi(i,e,t){let{song:o}=e,{id:r}=e,{version:n}=e,{onRemove:s=()=>{}}=e;const l=()=>{t(0,o.namespace=`${o.name}${o.author}${r}`.replace(/[^a-zA-Z0-9]/g,"").replaceAll("1","one").replaceAll("2","two").replaceAll("3","three").replaceAll("4","four").replaceAll("5","five").replaceAll("6","six").replaceAll("7","seven").replaceAll("8","eight").replaceAll("9","nine").replaceAll("0","zero").toLowerCase(),o)},c=async()=>{const L=o.uploadedFile.name.replace(/(\.mp3)|(\.ogg)|(\.wav)/g,"").split(/ ?- ?/g);L.length>=1&&t(0,o.name=L.shift(),o),L.length>=1&&t(0,o.author=L.join(),o),l(),t(0,o.oggFile=await Cr(o.uploadedFile),o),t(0,o.monoFile=await zr(o.oggFile),o),t(0,o.texture=await(await fetch(Dr)).blob(),o)},f=async()=>await new Promise(L=>{setTimeout(()=>{L()},1)}),m=c(),p=f(),y=()=>{t(0,o.creeperDrop=!o.creeperDrop,o)};let h=!1;const b=()=>{t(3,h=!h)},d=()=>{const L=document.createElement("input");L.type="file",L.accept="image/*",L.addEventListener("change",()=>{const D=L.files[0];D&&t(0,o.texture=D,o)}),L.click()};let _=!1;const g=()=>{t(4,_=!0)};function v(L){i.$$.not_equal(o.lootTables,L)&&(o.lootTables=L,t(0,o))}function S(L){n=L,t(1,n)}function I(L){_=L,t(4,_)}function C(){o.name=this.value,t(0,o)}function U(){o.author=this.value,t(0,o)}function N(){o.lores=this.value,t(0,o)}return i.$$set=L=>{"song"in L&&t(0,o=L.song),"id"in L&&t(12,r=L.id),"version"in L&&t(1,n=L.version),"onRemove"in L&&t(2,s=L.onRemove)},[o,n,s,h,_,l,m,p,y,b,d,g,r,v,S,I,C,U,N]}class mi extends Ht{constructor(e){super(),Gt(this,e,pi,hi,Wt,{song:0,id:12,version:1,onRemove:2})}}function Ge(i,e,t){const o=i.slice();return o[7]=e[t],o[8]=e,o[9]=t,o}function He(i){let e,t,o,r;function n(){return i[4](i[7])}function s(f){i[5](f,i[7],i[8],i[9])}function l(f){i[6](f)}let c={id:i[9],onRemove:n};return i[7]!==void 0&&(c.song=i[7]),i[1]!==void 0&&(c.version=i[1]),e=new mi({props:c}),kt.push(()=>Et(e,"song",s)),kt.push(()=>Et(e,"version",l)),{c(){Rt(e.$$.fragment)},m(f,m){Ct(e,f,m),r=!0},p(f,m){i=f;const p={};m&1&&(p.onRemove=n),!t&&m&1&&(t=!0,p.song=i[7],St(()=>t=!1)),!o&&m&2&&(o=!0,p.version=i[1],St(()=>o=!1)),e.$set(p)},i(f){r||(ct(e.$$.fragment,f),r=!0)},o(f){_t(e.$$.fragment,f),r=!1},d(f){zt(e,f)}}}function gi(i){let e,t,o,r,n,s,l,c,f,m=i[0],p=[];for(let h=0;h<m.length;h+=1)p[h]=He(Ge(i,m,h));const y=h=>_t(p[h],1,1,()=>{p[h]=null});return{c(){e=et("div"),t=et("div");for(let h=0;h<p.length;h+=1)p[h].c();o=mt(),r=et("hr"),n=mt(),s=et("div"),s.innerHTML='<h1 class="noselect svelte-15f98v0">+</h1>',T(t,"id","songscontainer"),T(r,"class","hidden"),T(s,"id","addsongsbtn"),T(s,"class","svelte-15f98v0"),T(e,"id","content"),T(e,"class","svelte-15f98v0")},m(h,b){at(h,e,b),tt(e,t);for(let d=0;d<p.length;d+=1)p[d].m(t,null);tt(e,o),tt(e,r),tt(e,n),tt(e,s),l=!0,c||(f=[ot(s,"click",i[2]),ot(s,"keydown",null)],c=!0)},p(h,[b]){if(b&11){m=h[0];let d;for(d=0;d<m.length;d+=1){const _=Ge(h,m,d);p[d]?(p[d].p(_,b),ct(p[d],1)):(p[d]=He(_),p[d].c(),ct(p[d],1),p[d].m(t,null))}for(qt(),d=m.length;d<p.length;d+=1)y(d);Kt()}},i(h){if(!l){for(let b=0;b<m.length;b+=1)ct(p[b]);l=!0}},o(h){p=p.filter(Boolean);for(let b=0;b<p.length;b+=1)_t(p[b]);l=!1},d(h){h&&st(e),ze(p,h),c=!1,vt(f)}}}function _i(i,e,t){let{discData:o=[]}=e,{version:r}=e;const n=()=>{const m=document.createElement("input");m.type="file",m.multiple=!0,m.accept="audio/*",m.click(),m.addEventListener("change",async()=>{if(!m.files||m.files.length===0)return;const p=[];for(let y=0;y<m.files.length;y++)p.push({uploadedFile:m.files[y],name:"Disc Name",author:"Disc Author",lores:`This is the lore of the disc

You can have multiple lines

If you don't want any lores you can leave this empty`,texture:null,creeperDrop:!0,lootTables:[],monoFile:null,namespace:"",oggFile:null});t(0,o=[...o,...p])})},s=m=>{t(0,o=o.filter(p=>p!=m))},l=m=>s(m);function c(m,p,y,h){y[h]=m,t(0,o)}function f(m){r=m,t(1,r)}return i.$$set=m=>{"discData"in m&&t(0,o=m.discData),"version"in m&&t(1,r=m.version)},[o,r,n,s,l,c,f]}class vi extends Ht{constructor(e){super(),Gt(this,e,_i,gi,Wt,{discData:0,version:1})}}const hn="/jext-reborn/assets/pack_icon.57c0be34.png";function Ve(i,e,t){const o=i.slice();return o[9]=e[t][0],o[10]=e[t][1],o}function bi(i){let e,t,o,r;return{c(){e=et("img"),wt(e.src,t=hn)||T(e,"src",t),T(e,"alt","pack icon"),T(e,"id","pack_icon"),T(e,"class","noselect svelte-1577ojo")},m(n,s){at(n,e,s),o||(r=[ot(e,"click",i[3]),ot(e,"keypress",null)],o=!0)},p:lt,d(n){n&&st(e),o=!1,vt(r)}}}function qe(i){let e,t=i[10]+"",o;return{c(){e=et("option"),o=It(t),e.__value=i[9],e.value=e.__value},m(r,n){at(r,e,n),tt(e,o)},p:lt,d(r){r&&st(e)}}}function yi(i){let e,t,o,r,n,s,l,c,f,m,p,y,h,b,d;t=new ne({props:{text:"Sets the resourcepack icon",$$slots:{default:[bi]},$$scope:{ctx:i}}});let _=[...Ne],g=[];for(let v=0;v<_.length;v+=1)g[v]=qe(Ve(i,_,v));return{c(){e=et("div"),Rt(t.$$.fragment),o=mt(),r=et("input"),n=mt(),s=et("input"),l=mt(),c=et("select");for(let v=0;v<g.length;v+=1)g[v].c();f=mt(),m=et("input"),p=mt(),y=et("label"),y.textContent="Use mono audio",T(r,"type","file"),T(r,"name","pack_icon"),T(r,"id","pack_icon_input"),T(r,"class","hidden"),T(r,"accept","image/png"),T(s,"type","text"),T(s,"name","pack_name"),T(s,"id","pack_name_input"),T(s,"class","svelte-1577ojo"),T(c,"name","version"),T(c,"id","version_input"),T(c,"class","svelte-1577ojo"),i[1]===void 0&&Bt(()=>i[7].call(c)),T(m,"type","checkbox"),T(m,"name","useMono"),T(m,"id","useMono"),T(m,"class","svelte-1577ojo"),T(y,"for","useMono"),T(y,"class","svelte-1577ojo"),T(e,"id","header"),T(e,"class","svelte-1577ojo")},m(v,S){at(v,e,S),Ct(t,e,null),tt(e,o),tt(e,r),tt(e,n),tt(e,s),Ut(s,i[0]),tt(e,l),tt(e,c);for(let I=0;I<g.length;I+=1)g[I].m(c,null);Te(c,i[1]),tt(e,f),tt(e,m),m.checked=i[2],tt(e,p),tt(e,y),h=!0,b||(d=[ot(s,"input",i[6]),ot(s,"input",i[4]),ot(c,"change",i[7]),ot(m,"change",i[8])],b=!0)},p(v,[S]){const I={};if(S&8192&&(I.$$scope={dirty:S,ctx:v}),t.$set(I),S&1&&s.value!==v[0]&&Ut(s,v[0]),S&0){_=[...Ne];let C;for(C=0;C<_.length;C+=1){const U=Ve(v,_,C);g[C]?g[C].p(U,S):(g[C]=qe(U),g[C].c(),g[C].m(c,null))}for(;C<g.length;C+=1)g[C].d(1);g.length=_.length}S&2&&Te(c,v[1]),S&4&&(m.checked=v[2])},i(v){h||(ct(t.$$.fragment,v),h=!0)},o(v){_t(t.$$.fragment,v),h=!1},d(v){v&&st(e),zt(t),ze(g,v),b=!1,vt(d)}}}function wi(i,e,t){let{packname:o="your_pack_name"}=e,{version:r=9}=e,{imagesrc:n=hn}=e,{useMono:s=!0}=e;const l=()=>{var y;(y=document.querySelector("#pack_icon_input"))==null||y.addEventListener("change",()=>{const h=document.querySelector("#pack_icon_input").files;if(!h||h.length===0)return;const b=h[0],d=new FileReader;d.onload=()=>{const _=new Image;_.onload=()=>{const g=document.createElement("canvas");g.width=64,g.height=64,g.getContext("2d").drawImage(_,0,0,64,64);const S=g.toDataURL("image/png");document.querySelector("#pack_icon").src=S},t(5,n=_.src=d.result)},d.readAsDataURL(b)}),document.querySelector("#pack_icon_input").click()},c=()=>{t(0,o=o.replace(" ","_").replace(/[^a-zA-Z0-9_]/g,"").toLowerCase())};function f(){o=this.value,t(0,o)}function m(){r=Bn(this),t(1,r)}function p(){s=this.checked,t(2,s)}return i.$$set=y=>{"packname"in y&&t(0,o=y.packname),"version"in y&&t(1,r=y.version),"imagesrc"in y&&t(5,n=y.imagesrc),"useMono"in y&&t(2,s=y.useMono)},[o,r,s,l,c,n,f,m,p]}class ki extends Ht{constructor(e){super(),Gt(this,e,wi,yi,Wt,{packname:0,version:1,imagesrc:5,useMono:2})}}function Ke(i){let e,t,o,r,n,s,l;return{c(){e=et("div"),t=et("div"),o=It(i[1]),r=mt(),n=et("div"),n.innerHTML='<div id="content" class="svelte-16n0rxp"><p id="generate_text" class="noselect svelte-16n0rxp">OK</p></div>',T(t,"class","popupcontainer svelte-16n0rxp"),T(t,"id","messagepopupcontainer"),T(n,"id","messagepopupconfirm"),T(n,"class","popupconfirm svelte-16n0rxp"),T(e,"class","popup svelte-16n0rxp")},m(c,f){at(c,e,f),tt(e,t),tt(t,o),tt(e,r),tt(e,n),s||(l=[ot(n,"click",i[2]),ot(n,"keydown",null)],s=!0)},p(c,f){f&2&&Mt(o,c[1])},d(c){c&&st(e),s=!1,vt(l)}}}function Ai(i){let e,t,o,r,n,s,l,c=i[0]&&Ke(i);return{c(){e=et("div"),o=mt(),c&&c.c(),r=jt(),T(e,"class","popupbackground svelte-16n0rxp"),ge(e,"background-image","url("+dn+")")},m(f,m){at(f,e,m),at(f,o,m),c&&c.m(f,m),at(f,r,m),n=!0,s||(l=[ot(e,"click",i[2]),ot(e,"keydown",null)],s=!0)},p(f,[m]){f[0]?c?c.p(f,m):(c=Ke(f),c.c(),c.m(r.parentNode,r)):c&&(c.d(1),c=null)},i(f){n||(Bt(()=>{t||(t=me(e,Zt,{},!0)),t.run(1)}),n=!0)},o(f){t||(t=me(e,Zt,{},!1)),t.run(0),n=!1},d(f){f&&st(e),f&&t&&t.end(),f&&st(o),c&&c.d(f),f&&st(r),s=!1,vt(l)}}}function Si(i,e,t){let{text:o}=e,{closePopup:r}=e;const n=()=>{t(0,r=!1)};return i.$$set=s=>{"text"in s&&t(1,o=s.text),"closePopup"in s&&t(0,r=s.closePopup)},[r,o,n]}class Ei extends Ht{constructor(e){super(),Gt(this,e,Si,Ai,Wt,{text:1,closePopup:0})}}const pn="/jext-reborn/assets/generate_btn.516338f5.png";function ue(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var mn={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(i,e){(function(t){i.exports=t()})(function(){return function t(o,r,n){function s(f,m){if(!r[f]){if(!o[f]){var p=typeof ue=="function"&&ue;if(!m&&p)return p(f,!0);if(l)return l(f,!0);var y=new Error("Cannot find module '"+f+"'");throw y.code="MODULE_NOT_FOUND",y}var h=r[f]={exports:{}};o[f][0].call(h.exports,function(b){var d=o[f][1][b];return s(d||b)},h,h.exports,t,o,r,n)}return r[f].exports}for(var l=typeof ue=="function"&&ue,c=0;c<n.length;c++)s(n[c]);return s}({1:[function(t,o,r){var n=t("./utils"),s=t("./support"),l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(c){for(var f,m,p,y,h,b,d,_=[],g=0,v=c.length,S=v,I=n.getTypeOf(c)!=="string";g<c.length;)S=v-g,p=I?(f=c[g++],m=g<v?c[g++]:0,g<v?c[g++]:0):(f=c.charCodeAt(g++),m=g<v?c.charCodeAt(g++):0,g<v?c.charCodeAt(g++):0),y=f>>2,h=(3&f)<<4|m>>4,b=1<S?(15&m)<<2|p>>6:64,d=2<S?63&p:64,_.push(l.charAt(y)+l.charAt(h)+l.charAt(b)+l.charAt(d));return _.join("")},r.decode=function(c){var f,m,p,y,h,b,d=0,_=0,g="data:";if(c.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var v,S=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===l.charAt(64)&&S--,c.charAt(c.length-2)===l.charAt(64)&&S--,S%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=s.uint8array?new Uint8Array(0|S):new Array(0|S);d<c.length;)f=l.indexOf(c.charAt(d++))<<2|(y=l.indexOf(c.charAt(d++)))>>4,m=(15&y)<<4|(h=l.indexOf(c.charAt(d++)))>>2,p=(3&h)<<6|(b=l.indexOf(c.charAt(d++))),v[_++]=f,h!==64&&(v[_++]=m),b!==64&&(v[_++]=p);return v}},{"./support":30,"./utils":32}],2:[function(t,o,r){var n=t("./external"),s=t("./stream/DataWorker"),l=t("./stream/Crc32Probe"),c=t("./stream/DataLengthProbe");function f(m,p,y,h,b){this.compressedSize=m,this.uncompressedSize=p,this.crc32=y,this.compression=h,this.compressedContent=b}f.prototype={getContentWorker:function(){var m=new s(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),p=this;return m.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new s(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(m,p,y){return m.pipe(new l).pipe(new c("uncompressedSize")).pipe(p.compressWorker(y)).pipe(new c("compressedSize")).withStreamInfo("compression",p)},o.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,o,r){var n=t("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},r.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,o,r){var n=t("./utils"),s=function(){for(var l,c=[],f=0;f<256;f++){l=f;for(var m=0;m<8;m++)l=1&l?3988292384^l>>>1:l>>>1;c[f]=l}return c}();o.exports=function(l,c){return l!==void 0&&l.length?n.getTypeOf(l)!=="string"?function(f,m,p,y){var h=s,b=y+p;f^=-1;for(var d=y;d<b;d++)f=f>>>8^h[255&(f^m[d])];return-1^f}(0|c,l,l.length,0):function(f,m,p,y){var h=s,b=y+p;f^=-1;for(var d=y;d<b;d++)f=f>>>8^h[255&(f^m.charCodeAt(d))];return-1^f}(0|c,l,l.length,0):0}},{"./utils":32}],5:[function(t,o,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(t,o,r){var n=null;n=typeof Promise<"u"?Promise:t("lie"),o.exports={Promise:n}},{lie:37}],7:[function(t,o,r){var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=t("pako"),l=t("./utils"),c=t("./stream/GenericWorker"),f=n?"uint8array":"array";function m(p,y){c.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=y,this.meta={}}r.magic="\b\0",l.inherits(m,c),m.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(l.transformTo(f,p.data),!1)},m.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(y){p.push({data:y,meta:p.meta})}},r.compressWorker=function(p){return new m("Deflate",p)},r.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,o,r){function n(h,b){var d,_="";for(d=0;d<b;d++)_+=String.fromCharCode(255&h),h>>>=8;return _}function s(h,b,d,_,g,v){var S,I,C=h.file,U=h.compression,N=v!==f.utf8encode,L=l.transformTo("string",v(C.name)),D=l.transformTo("string",f.utf8encode(C.name)),M=C.comment,G=l.transformTo("string",v(M)),k=l.transformTo("string",f.utf8encode(M)),O=D.length!==C.name.length,u=k.length!==M.length,P="",Q="",Z="",nt=C.dir,B=C.date,F={crc32:0,compressedSize:0,uncompressedSize:0};b&&!d||(F.crc32=h.crc32,F.compressedSize=h.compressedSize,F.uncompressedSize=h.uncompressedSize);var E=0;b&&(E|=8),N||!O&&!u||(E|=2048);var z=0,V=0;nt&&(z|=16),g==="UNIX"?(V=798,z|=function(K,ut){var ht=K;return K||(ht=ut?16893:33204),(65535&ht)<<16}(C.unixPermissions,nt)):(V=20,z|=function(K){return 63&(K||0)}(C.dosPermissions)),S=B.getUTCHours(),S<<=6,S|=B.getUTCMinutes(),S<<=5,S|=B.getUTCSeconds()/2,I=B.getUTCFullYear()-1980,I<<=4,I|=B.getUTCMonth()+1,I<<=5,I|=B.getUTCDate(),O&&(Q=n(1,1)+n(m(L),4)+D,P+="up"+n(Q.length,2)+Q),u&&(Z=n(1,1)+n(m(G),4)+k,P+="uc"+n(Z.length,2)+Z);var Y="";return Y+=`
\0`,Y+=n(E,2),Y+=U.magic,Y+=n(S,2),Y+=n(I,2),Y+=n(F.crc32,4),Y+=n(F.compressedSize,4),Y+=n(F.uncompressedSize,4),Y+=n(L.length,2),Y+=n(P.length,2),{fileRecord:p.LOCAL_FILE_HEADER+Y+L+P,dirRecord:p.CENTRAL_FILE_HEADER+n(V,2)+Y+n(G.length,2)+"\0\0\0\0"+n(z,4)+n(_,4)+L+P+G}}var l=t("../utils"),c=t("../stream/GenericWorker"),f=t("../utf8"),m=t("../crc32"),p=t("../signature");function y(h,b,d,_){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=d,this.encodeFileName=_,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}l.inherits(y,c),y.prototype.push=function(h){var b=h.meta.percent||0,d=this.entriesCount,_=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,c.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:d?(b+100*(d-_-1))/d:100}}))},y.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var b=this.streamFiles&&!h.file.dir;if(b){var d=s(h,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:d.fileRecord,meta:{percent:0}})}else this.accumulate=!0},y.prototype.closedSource=function(h){this.accumulate=!1;var b=this.streamFiles&&!h.file.dir,d=s(h,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(d.dirRecord),b)this.push({data:function(_){return p.DATA_DESCRIPTOR+n(_.crc32,4)+n(_.compressedSize,4)+n(_.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:d.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},y.prototype.flush=function(){for(var h=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var d=this.bytesWritten-h,_=function(g,v,S,I,C){var U=l.transformTo("string",C(I));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(g,2)+n(g,2)+n(v,4)+n(S,4)+n(U.length,2)+U}(this.dirRecords.length,d,h,this.zipComment,this.encodeFileName);this.push({data:_,meta:{percent:100}})},y.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},y.prototype.registerPrevious=function(h){this._sources.push(h);var b=this;return h.on("data",function(d){b.processChunk(d)}),h.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),h.on("error",function(d){b.error(d)}),this},y.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},y.prototype.error=function(h){var b=this._sources;if(!c.prototype.error.call(this,h))return!1;for(var d=0;d<b.length;d++)try{b[d].error(h)}catch{}return!0},y.prototype.lock=function(){c.prototype.lock.call(this);for(var h=this._sources,b=0;b<h.length;b++)h[b].lock()},o.exports=y},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,o,r){var n=t("../compressions"),s=t("./ZipFileWorker");r.generateWorker=function(l,c,f){var m=new s(c.streamFiles,f,c.platform,c.encodeFileName),p=0;try{l.forEach(function(y,h){p++;var b=function(v,S){var I=v||S,C=n[I];if(!C)throw new Error(I+" is not a valid compression method !");return C}(h.options.compression,c.compression),d=h.options.compressionOptions||c.compressionOptions||{},_=h.dir,g=h.date;h._compressWorker(b,d).withStreamInfo("file",{name:y,dir:_,date:g,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(m)}),m.entriesCount=p}catch(y){m.error(y)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,o,r){function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new n;for(var l in this)typeof this[l]!="function"&&(s[l]=this[l]);return s}}(n.prototype=t("./object")).loadAsync=t("./load"),n.support=t("./support"),n.defaults=t("./defaults"),n.version="3.10.1",n.loadAsync=function(s,l){return new n().loadAsync(s,l)},n.external=t("./external"),o.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,o,r){var n=t("./utils"),s=t("./external"),l=t("./utf8"),c=t("./zipEntries"),f=t("./stream/Crc32Probe"),m=t("./nodejsUtils");function p(y){return new s.Promise(function(h,b){var d=y.decompressed.getContentWorker().pipe(new f);d.on("error",function(_){b(_)}).on("end",function(){d.streamInfo.crc32!==y.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}o.exports=function(y,h){var b=this;return h=n.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:l.utf8decode}),m.isNode&&m.isStream(y)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",y,!0,h.optimizedBinaryString,h.base64).then(function(d){var _=new c(h);return _.load(d),_}).then(function(d){var _=[s.Promise.resolve(d)],g=d.files;if(h.checkCRC32)for(var v=0;v<g.length;v++)_.push(p(g[v]));return s.Promise.all(_)}).then(function(d){for(var _=d.shift(),g=_.files,v=0;v<g.length;v++){var S=g[v],I=S.fileNameStr,C=n.resolve(S.fileNameStr);b.file(C,S.decompressed,{binary:!0,optimizedBinaryString:!0,date:S.date,dir:S.dir,comment:S.fileCommentStr.length?S.fileCommentStr:null,unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions,createFolders:h.createFolders}),S.dir||(b.file(C).unsafeOriginalName=I)}return _.zipComment.length&&(b.comment=_.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,o,r){var n=t("../utils"),s=t("../stream/GenericWorker");function l(c,f){s.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(f)}n.inherits(l,s),l.prototype._bindStream=function(c){var f=this;(this._stream=c).pause(),c.on("data",function(m){f.push({data:m,meta:{percent:0}})}).on("error",function(m){f.isPaused?this.generatedError=m:f.error(m)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},l.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},l.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=l},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,o,r){var n=t("readable-stream").Readable;function s(l,c,f){n.call(this,c),this._helper=l;var m=this;l.on("data",function(p,y){m.push(p)||m._helper.pause(),f&&f(y)}).on("error",function(p){m.emit("error",p)}).on("end",function(){m.push(null)})}t("../utils").inherits(s,n),s.prototype._read=function(){this._helper.resume()},o.exports=s},{"../utils":32,"readable-stream":16}],14:[function(t,o,r){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(n,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(n,s);if(typeof n=="number")throw new Error('The "data" argument must not be a number');return new Buffer(n,s)},allocBuffer:function(n){if(Buffer.alloc)return Buffer.alloc(n);var s=new Buffer(n);return s.fill(0),s},isBuffer:function(n){return Buffer.isBuffer(n)},isStream:function(n){return n&&typeof n.on=="function"&&typeof n.pause=="function"&&typeof n.resume=="function"}}},{}],15:[function(t,o,r){function n(C,U,N){var L,D=l.getTypeOf(U),M=l.extend(N||{},m);M.date=M.date||new Date,M.compression!==null&&(M.compression=M.compression.toUpperCase()),typeof M.unixPermissions=="string"&&(M.unixPermissions=parseInt(M.unixPermissions,8)),M.unixPermissions&&16384&M.unixPermissions&&(M.dir=!0),M.dosPermissions&&16&M.dosPermissions&&(M.dir=!0),M.dir&&(C=g(C)),M.createFolders&&(L=_(C))&&v.call(this,L,!0);var G=D==="string"&&M.binary===!1&&M.base64===!1;N&&N.binary!==void 0||(M.binary=!G),(U instanceof p&&U.uncompressedSize===0||M.dir||!U||U.length===0)&&(M.base64=!1,M.binary=!0,U="",M.compression="STORE",D="string");var k=null;k=U instanceof p||U instanceof c?U:b.isNode&&b.isStream(U)?new d(C,U):l.prepareContent(C,U,M.binary,M.optimizedBinaryString,M.base64);var O=new y(C,k,M);this.files[C]=O}var s=t("./utf8"),l=t("./utils"),c=t("./stream/GenericWorker"),f=t("./stream/StreamHelper"),m=t("./defaults"),p=t("./compressedObject"),y=t("./zipObject"),h=t("./generate"),b=t("./nodejsUtils"),d=t("./nodejs/NodejsStreamInputAdapter"),_=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var U=C.lastIndexOf("/");return 0<U?C.substring(0,U):""},g=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},v=function(C,U){return U=U!==void 0?U:m.createFolders,C=g(C),this.files[C]||n.call(this,C,null,{dir:!0,createFolders:U}),this.files[C]};function S(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var I={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var U,N,L;for(U in this.files)L=this.files[U],(N=U.slice(this.root.length,U.length))&&U.slice(0,this.root.length)===this.root&&C(N,L)},filter:function(C){var U=[];return this.forEach(function(N,L){C(N,L)&&U.push(L)}),U},file:function(C,U,N){if(arguments.length!==1)return C=this.root+C,n.call(this,C,U,N),this;if(S(C)){var L=C;return this.filter(function(M,G){return!G.dir&&L.test(M)})}var D=this.files[this.root+C];return D&&!D.dir?D:null},folder:function(C){if(!C)return this;if(S(C))return this.filter(function(D,M){return M.dir&&C.test(D)});var U=this.root+C,N=v.call(this,U),L=this.clone();return L.root=N.name,L},remove:function(C){C=this.root+C;var U=this.files[C];if(U||(C.slice(-1)!=="/"&&(C+="/"),U=this.files[C]),U&&!U.dir)delete this.files[C];else for(var N=this.filter(function(D,M){return M.name.slice(0,C.length)===C}),L=0;L<N.length;L++)delete this.files[N[L].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var U,N={};try{if((N=l.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=N.type.toLowerCase(),N.compression=N.compression.toUpperCase(),N.type==="binarystring"&&(N.type="string"),!N.type)throw new Error("No output type specified.");l.checkSupport(N.type),N.platform!=="darwin"&&N.platform!=="freebsd"&&N.platform!=="linux"&&N.platform!=="sunos"||(N.platform="UNIX"),N.platform==="win32"&&(N.platform="DOS");var L=N.comment||this.comment||"";U=h.generateWorker(this,N,L)}catch(D){(U=new c("error")).error(D)}return new f(U,N.type||"string",N.mimeType)},generateAsync:function(C,U){return this.generateInternalStream(C).accumulate(U)},generateNodeStream:function(C,U){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(U)}};o.exports=I},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,o,r){o.exports=t("stream")},{stream:void 0}],17:[function(t,o,r){var n=t("./DataReader");function s(l){n.call(this,l);for(var c=0;c<this.data.length;c++)l[c]=255&l[c]}t("../utils").inherits(s,n),s.prototype.byteAt=function(l){return this.data[this.zero+l]},s.prototype.lastIndexOfSignature=function(l){for(var c=l.charCodeAt(0),f=l.charCodeAt(1),m=l.charCodeAt(2),p=l.charCodeAt(3),y=this.length-4;0<=y;--y)if(this.data[y]===c&&this.data[y+1]===f&&this.data[y+2]===m&&this.data[y+3]===p)return y-this.zero;return-1},s.prototype.readAndCheckSignature=function(l){var c=l.charCodeAt(0),f=l.charCodeAt(1),m=l.charCodeAt(2),p=l.charCodeAt(3),y=this.readData(4);return c===y[0]&&f===y[1]&&m===y[2]&&p===y[3]},s.prototype.readData=function(l){if(this.checkOffset(l),l===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},o.exports=s},{"../utils":32,"./DataReader":18}],18:[function(t,o,r){var n=t("../utils");function s(l){this.data=l,this.length=l.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(l){this.checkIndex(this.index+l)},checkIndex:function(l){if(this.length<this.zero+l||l<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+l+"). Corrupted zip ?")},setIndex:function(l){this.checkIndex(l),this.index=l},skip:function(l){this.setIndex(this.index+l)},byteAt:function(){},readInt:function(l){var c,f=0;for(this.checkOffset(l),c=this.index+l-1;c>=this.index;c--)f=(f<<8)+this.byteAt(c);return this.index+=l,f},readString:function(l){return n.transformTo("string",this.readData(l))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var l=this.readInt(4);return new Date(Date.UTC(1980+(l>>25&127),(l>>21&15)-1,l>>16&31,l>>11&31,l>>5&63,(31&l)<<1))}},o.exports=s},{"../utils":32}],19:[function(t,o,r){var n=t("./Uint8ArrayReader");function s(l){n.call(this,l)}t("../utils").inherits(s,n),s.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},o.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,o,r){var n=t("./DataReader");function s(l){n.call(this,l)}t("../utils").inherits(s,n),s.prototype.byteAt=function(l){return this.data.charCodeAt(this.zero+l)},s.prototype.lastIndexOfSignature=function(l){return this.data.lastIndexOf(l)-this.zero},s.prototype.readAndCheckSignature=function(l){return l===this.readData(4)},s.prototype.readData=function(l){this.checkOffset(l);var c=this.data.slice(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},o.exports=s},{"../utils":32,"./DataReader":18}],21:[function(t,o,r){var n=t("./ArrayReader");function s(l){n.call(this,l)}t("../utils").inherits(s,n),s.prototype.readData=function(l){if(this.checkOffset(l),l===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+l);return this.index+=l,c},o.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(t,o,r){var n=t("../utils"),s=t("../support"),l=t("./ArrayReader"),c=t("./StringReader"),f=t("./NodeBufferReader"),m=t("./Uint8ArrayReader");o.exports=function(p){var y=n.getTypeOf(p);return n.checkSupport(y),y!=="string"||s.uint8array?y==="nodebuffer"?new f(p):s.uint8array?new m(n.transformTo("uint8array",p)):new l(n.transformTo("array",p)):new c(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,o,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,o,r){var n=t("./GenericWorker"),s=t("../utils");function l(c){n.call(this,"ConvertWorker to "+c),this.destType=c}s.inherits(l,n),l.prototype.processChunk=function(c){this.push({data:s.transformTo(this.destType,c.data),meta:c.meta})},o.exports=l},{"../utils":32,"./GenericWorker":28}],25:[function(t,o,r){var n=t("./GenericWorker"),s=t("../crc32");function l(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(l,n),l.prototype.processChunk=function(c){this.streamInfo.crc32=s(c.data,this.streamInfo.crc32||0),this.push(c)},o.exports=l},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,o,r){var n=t("../utils"),s=t("./GenericWorker");function l(c){s.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}n.inherits(l,s),l.prototype.processChunk=function(c){if(c){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+c.data.length}s.prototype.processChunk.call(this,c)},o.exports=l},{"../utils":32,"./GenericWorker":28}],27:[function(t,o,r){var n=t("../utils"),s=t("./GenericWorker");function l(c){s.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(m){f.dataIsReady=!0,f.data=m,f.max=m&&m.length||0,f.type=n.getTypeOf(m),f.isPaused||f._tickAndRepeat()},function(m){f.error(m)})}n.inherits(l,s),l.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},l.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},l.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},l.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,f);break;case"uint8array":c=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":c=this.data.slice(this.index,f)}return this.index=f,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=l},{"../utils":32,"./GenericWorker":28}],28:[function(t,o,r){function n(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,l){return this._listeners[s].push(l),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,l){if(this._listeners[s])for(var c=0;c<this._listeners[s].length;c++)this._listeners[s][c].call(this,l)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var l=this;return s.on("data",function(c){l.processChunk(c)}),s.on("end",function(){l.end()}),s.on("error",function(c){l.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,l){return this.extraStreamInfo[s]=l,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},o.exports=n},{}],29:[function(t,o,r){var n=t("../utils"),s=t("./ConvertWorker"),l=t("./GenericWorker"),c=t("../base64"),f=t("../support"),m=t("../external"),p=null;if(f.nodestream)try{p=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function y(b,d){return new m.Promise(function(_,g){var v=[],S=b._internalType,I=b._outputType,C=b._mimeType;b.on("data",function(U,N){v.push(U),d&&d(N)}).on("error",function(U){v=[],g(U)}).on("end",function(){try{var U=function(N,L,D){switch(N){case"blob":return n.newBlob(n.transformTo("arraybuffer",L),D);case"base64":return c.encode(L);default:return n.transformTo(N,L)}}(I,function(N,L){var D,M=0,G=null,k=0;for(D=0;D<L.length;D++)k+=L[D].length;switch(N){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(G=new Uint8Array(k),D=0;D<L.length;D++)G.set(L[D],M),M+=L[D].length;return G;case"nodebuffer":return Buffer.concat(L);default:throw new Error("concat : unsupported type '"+N+"'")}}(S,v),C);_(U)}catch(N){g(N)}v=[]}).resume()})}function h(b,d,_){var g=d;switch(d){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=d,this._mimeType=_,n.checkSupport(g),this._worker=b.pipe(new s(g)),b.lock()}catch(v){this._worker=new l("error"),this._worker.error(v)}}h.prototype={accumulate:function(b){return y(this,b)},on:function(b,d){var _=this;return b==="data"?this._worker.on(b,function(g){d.call(_,g.data,g.meta)}):this._worker.on(b,function(){n.delay(d,arguments,_)}),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(n.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},b)}},o.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,o,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof Buffer<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var n=new ArrayBuffer(0);try{r.blob=new Blob([n],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(n),r.blob=s.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!t("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(t,o,r){for(var n=t("./utils"),s=t("./support"),l=t("./nodejsUtils"),c=t("./stream/GenericWorker"),f=new Array(256),m=0;m<256;m++)f[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;f[254]=f[254]=1;function p(){c.call(this,"utf-8 decode"),this.leftOver=null}function y(){c.call(this,"utf-8 encode")}r.utf8encode=function(h){return s.nodebuffer?l.newBufferFrom(h,"utf-8"):function(b){var d,_,g,v,S,I=b.length,C=0;for(v=0;v<I;v++)(64512&(_=b.charCodeAt(v)))==55296&&v+1<I&&(64512&(g=b.charCodeAt(v+1)))==56320&&(_=65536+(_-55296<<10)+(g-56320),v++),C+=_<128?1:_<2048?2:_<65536?3:4;for(d=s.uint8array?new Uint8Array(C):new Array(C),v=S=0;S<C;v++)(64512&(_=b.charCodeAt(v)))==55296&&v+1<I&&(64512&(g=b.charCodeAt(v+1)))==56320&&(_=65536+(_-55296<<10)+(g-56320),v++),_<128?d[S++]=_:(_<2048?d[S++]=192|_>>>6:(_<65536?d[S++]=224|_>>>12:(d[S++]=240|_>>>18,d[S++]=128|_>>>12&63),d[S++]=128|_>>>6&63),d[S++]=128|63&_);return d}(h)},r.utf8decode=function(h){return s.nodebuffer?n.transformTo("nodebuffer",h).toString("utf-8"):function(b){var d,_,g,v,S=b.length,I=new Array(2*S);for(d=_=0;d<S;)if((g=b[d++])<128)I[_++]=g;else if(4<(v=f[g]))I[_++]=65533,d+=v-1;else{for(g&=v===2?31:v===3?15:7;1<v&&d<S;)g=g<<6|63&b[d++],v--;1<v?I[_++]=65533:g<65536?I[_++]=g:(g-=65536,I[_++]=55296|g>>10&1023,I[_++]=56320|1023&g)}return I.length!==_&&(I.subarray?I=I.subarray(0,_):I.length=_),n.applyFromCharCode(I)}(h=n.transformTo(s.uint8array?"uint8array":"array",h))},n.inherits(p,c),p.prototype.processChunk=function(h){var b=n.transformTo(s.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var d=b;(b=new Uint8Array(d.length+this.leftOver.length)).set(this.leftOver,0),b.set(d,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var _=function(v,S){var I;for((S=S||v.length)>v.length&&(S=v.length),I=S-1;0<=I&&(192&v[I])==128;)I--;return I<0||I===0?S:I+f[v[I]]>S?I:S}(b),g=b;_!==b.length&&(s.uint8array?(g=b.subarray(0,_),this.leftOver=b.subarray(_,b.length)):(g=b.slice(0,_),this.leftOver=b.slice(_,b.length))),this.push({data:r.utf8decode(g),meta:h.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=p,n.inherits(y,c),y.prototype.processChunk=function(h){this.push({data:r.utf8encode(h.data),meta:h.meta})},r.Utf8EncodeWorker=y},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,o,r){var n=t("./support"),s=t("./base64"),l=t("./nodejsUtils"),c=t("./external");function f(d){return d}function m(d,_){for(var g=0;g<d.length;++g)_[g]=255&d.charCodeAt(g);return _}t("setimmediate"),r.newBlob=function(d,_){r.checkSupport("blob");try{return new Blob([d],{type:_})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(d),g.getBlob(_)}catch{throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(d,_,g){var v=[],S=0,I=d.length;if(I<=g)return String.fromCharCode.apply(null,d);for(;S<I;)_==="array"||_==="nodebuffer"?v.push(String.fromCharCode.apply(null,d.slice(S,Math.min(S+g,I)))):v.push(String.fromCharCode.apply(null,d.subarray(S,Math.min(S+g,I)))),S+=g;return v.join("")},stringifyByChar:function(d){for(var _="",g=0;g<d.length;g++)_+=String.fromCharCode(d[g]);return _},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&String.fromCharCode.apply(null,l.allocBuffer(1)).length===1}catch{return!1}}()}};function y(d){var _=65536,g=r.getTypeOf(d),v=!0;if(g==="uint8array"?v=p.applyCanBeUsed.uint8array:g==="nodebuffer"&&(v=p.applyCanBeUsed.nodebuffer),v)for(;1<_;)try{return p.stringifyByChunk(d,g,_)}catch{_=Math.floor(_/2)}return p.stringifyByChar(d)}function h(d,_){for(var g=0;g<d.length;g++)_[g]=d[g];return _}r.applyFromCharCode=y;var b={};b.string={string:f,array:function(d){return m(d,new Array(d.length))},arraybuffer:function(d){return b.string.uint8array(d).buffer},uint8array:function(d){return m(d,new Uint8Array(d.length))},nodebuffer:function(d){return m(d,l.allocBuffer(d.length))}},b.array={string:y,array:f,arraybuffer:function(d){return new Uint8Array(d).buffer},uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return l.newBufferFrom(d)}},b.arraybuffer={string:function(d){return y(new Uint8Array(d))},array:function(d){return h(new Uint8Array(d),new Array(d.byteLength))},arraybuffer:f,uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return l.newBufferFrom(new Uint8Array(d))}},b.uint8array={string:y,array:function(d){return h(d,new Array(d.length))},arraybuffer:function(d){return d.buffer},uint8array:f,nodebuffer:function(d){return l.newBufferFrom(d)}},b.nodebuffer={string:y,array:function(d){return h(d,new Array(d.length))},arraybuffer:function(d){return b.nodebuffer.uint8array(d).buffer},uint8array:function(d){return h(d,new Uint8Array(d.length))},nodebuffer:f},r.transformTo=function(d,_){if(_=_||"",!d)return _;r.checkSupport(d);var g=r.getTypeOf(_);return b[g][d](_)},r.resolve=function(d){for(var _=d.split("/"),g=[],v=0;v<_.length;v++){var S=_[v];S==="."||S===""&&v!==0&&v!==_.length-1||(S===".."?g.pop():g.push(S))}return g.join("/")},r.getTypeOf=function(d){return typeof d=="string"?"string":Object.prototype.toString.call(d)==="[object Array]"?"array":n.nodebuffer&&l.isBuffer(d)?"nodebuffer":n.uint8array&&d instanceof Uint8Array?"uint8array":n.arraybuffer&&d instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(d){if(!n[d.toLowerCase()])throw new Error(d+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(d){var _,g,v="";for(g=0;g<(d||"").length;g++)v+="\\x"+((_=d.charCodeAt(g))<16?"0":"")+_.toString(16).toUpperCase();return v},r.delay=function(d,_,g){setImmediate(function(){d.apply(g||null,_||[])})},r.inherits=function(d,_){function g(){}g.prototype=_.prototype,d.prototype=new g},r.extend=function(){var d,_,g={};for(d=0;d<arguments.length;d++)for(_ in arguments[d])Object.prototype.hasOwnProperty.call(arguments[d],_)&&g[_]===void 0&&(g[_]=arguments[d][_]);return g},r.prepareContent=function(d,_,g,v,S){return c.Promise.resolve(_).then(function(I){return n.blob&&(I instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(I))!==-1)&&typeof FileReader<"u"?new c.Promise(function(C,U){var N=new FileReader;N.onload=function(L){C(L.target.result)},N.onerror=function(L){U(L.target.error)},N.readAsArrayBuffer(I)}):I}).then(function(I){var C=r.getTypeOf(I);return C?(C==="arraybuffer"?I=r.transformTo("uint8array",I):C==="string"&&(S?I=s.decode(I):g&&v!==!0&&(I=function(U){return m(U,n.uint8array?new Uint8Array(U.length):new Array(U.length))}(I))),I):c.Promise.reject(new Error("Can't read the data of '"+d+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,o,r){var n=t("./reader/readerFor"),s=t("./utils"),l=t("./signature"),c=t("./zipEntry"),f=t("./support");function m(p){this.files=[],this.loadOptions=p}m.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(y)+", expected "+s.pretty(p)+")")}},isSignature:function(p,y){var h=this.reader.index;this.reader.setIndex(p);var b=this.reader.readString(4)===y;return this.reader.setIndex(h),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),y=f.uint8array?"uint8array":"array",h=s.transformTo(y,p);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,y,h,b=this.zip64EndOfCentralSize-44;0<b;)p=this.reader.readInt(2),y=this.reader.readInt(4),h=this.reader.readData(y),this.zip64ExtensibleData[p]={id:p,length:y,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,y;for(p=0;p<this.files.length;p++)y=this.files[p],this.reader.setIndex(y.localHeaderOffset),this.checkSignature(l.LOCAL_FILE_HEADER),y.readLocalPart(this.reader),y.handleUTF8(),y.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(l.CENTRAL_FILE_HEADER);)(p=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(l.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,l.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var y=p;if(this.checkSignature(l.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,l.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(l.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var b=y-h;if(0<b)this.isSignature(y,l.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(p){this.reader=n(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,o,r){var n=t("./reader/readerFor"),s=t("./utils"),l=t("./compressedObject"),c=t("./crc32"),f=t("./utf8"),m=t("./compressions"),p=t("./support");function y(h,b){this.options=h,this.loadOptions=b}y.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var b,d;if(h.skip(22),this.fileNameLength=h.readInt(2),d=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(d),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=function(_){for(var g in m)if(Object.prototype.hasOwnProperty.call(m,g)&&m[g].magic===_)return m[g];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new l(this.compressedSize,this.uncompressedSize,this.crc32,b,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var b=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(b),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=n(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var b,d,_,g=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<g;)b=h.readInt(2),d=h.readInt(2),_=h.readData(d),this.extraFields[b]={id:b,length:d,value:_};h.setIndex(g)},handleUTF8:function(){var h=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var d=s.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(d)}var _=this.findExtraFieldUnicodeComment();if(_!==null)this.fileCommentStr=_;else{var g=s.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var b=n(h.value);return b.readInt(1)!==1||c(this.fileName)!==b.readInt(4)?null:f.utf8decode(b.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var b=n(h.value);return b.readInt(1)!==1||c(this.fileComment)!==b.readInt(4)?null:f.utf8decode(b.readData(h.length-5))}return null}},o.exports=y},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,o,r){function n(b,d,_){this.name=b,this.dir=_.dir,this.date=_.date,this.comment=_.comment,this.unixPermissions=_.unixPermissions,this.dosPermissions=_.dosPermissions,this._data=d,this._dataBinary=_.binary,this.options={compression:_.compression,compressionOptions:_.compressionOptions}}var s=t("./stream/StreamHelper"),l=t("./stream/DataWorker"),c=t("./utf8"),f=t("./compressedObject"),m=t("./stream/GenericWorker");n.prototype={internalStream:function(b){var d=null,_="string";try{if(!b)throw new Error("No output type specified.");var g=(_=b.toLowerCase())==="string"||_==="text";_!=="binarystring"&&_!=="text"||(_="string"),d=this._decompressWorker();var v=!this._dataBinary;v&&!g&&(d=d.pipe(new c.Utf8EncodeWorker)),!v&&g&&(d=d.pipe(new c.Utf8DecodeWorker))}catch(S){(d=new m("error")).error(S)}return new s(d,_,"")},async:function(b,d){return this.internalStream(b).accumulate(d)},nodeStream:function(b,d){return this.internalStream(b||"nodebuffer").toNodejsStream(d)},_compressWorker:function(b,d){if(this._data instanceof f&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var _=this._decompressWorker();return this._dataBinary||(_=_.pipe(new c.Utf8EncodeWorker)),f.createWorkerFrom(_,b,d)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof m?this._data:new l(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<p.length;h++)n.prototype[p[h]]=y;o.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,o,r){(function(n){var s,l,c=n.MutationObserver||n.WebKitMutationObserver;if(c){var f=0,m=new c(b),p=n.document.createTextNode("");m.observe(p,{characterData:!0}),s=function(){p.data=f=++f%2}}else if(n.setImmediate||n.MessageChannel===void 0)s="document"in n&&"onreadystatechange"in n.document.createElement("script")?function(){var d=n.document.createElement("script");d.onreadystatechange=function(){b(),d.onreadystatechange=null,d.parentNode.removeChild(d),d=null},n.document.documentElement.appendChild(d)}:function(){setTimeout(b,0)};else{var y=new n.MessageChannel;y.port1.onmessage=b,s=function(){y.port2.postMessage(0)}}var h=[];function b(){var d,_;l=!0;for(var g=h.length;g;){for(_=h,h=[],d=-1;++d<g;)_[d]();g=h.length}l=!1}o.exports=function(d){h.push(d)!==1||l||s()}}).call(this,typeof ce<"u"?ce:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,o,r){var n=t("immediate");function s(){}var l={},c=["REJECTED"],f=["FULFILLED"],m=["PENDING"];function p(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,g!==s&&d(this,g)}function y(g,v,S){this.promise=g,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof S=="function"&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}function h(g,v,S){n(function(){var I;try{I=v(S)}catch(C){return l.reject(g,C)}I===g?l.reject(g,new TypeError("Cannot resolve promise with itself")):l.resolve(g,I)})}function b(g){var v=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof v=="function")return function(){v.apply(g,arguments)}}function d(g,v){var S=!1;function I(N){S||(S=!0,l.reject(g,N))}function C(N){S||(S=!0,l.resolve(g,N))}var U=_(function(){v(C,I)});U.status==="error"&&I(U.value)}function _(g,v){var S={};try{S.value=g(v),S.status="success"}catch(I){S.status="error",S.value=I}return S}(o.exports=p).prototype.finally=function(g){if(typeof g!="function")return this;var v=this.constructor;return this.then(function(S){return v.resolve(g()).then(function(){return S})},function(S){return v.resolve(g()).then(function(){throw S})})},p.prototype.catch=function(g){return this.then(null,g)},p.prototype.then=function(g,v){if(typeof g!="function"&&this.state===f||typeof v!="function"&&this.state===c)return this;var S=new this.constructor(s);return this.state!==m?h(S,this.state===f?g:v,this.outcome):this.queue.push(new y(S,g,v)),S},y.prototype.callFulfilled=function(g){l.resolve(this.promise,g)},y.prototype.otherCallFulfilled=function(g){h(this.promise,this.onFulfilled,g)},y.prototype.callRejected=function(g){l.reject(this.promise,g)},y.prototype.otherCallRejected=function(g){h(this.promise,this.onRejected,g)},l.resolve=function(g,v){var S=_(b,v);if(S.status==="error")return l.reject(g,S.value);var I=S.value;if(I)d(g,I);else{g.state=f,g.outcome=v;for(var C=-1,U=g.queue.length;++C<U;)g.queue[C].callFulfilled(v)}return g},l.reject=function(g,v){g.state=c,g.outcome=v;for(var S=-1,I=g.queue.length;++S<I;)g.queue[S].callRejected(v);return g},p.resolve=function(g){return g instanceof this?g:l.resolve(new this(s),g)},p.reject=function(g){var v=new this(s);return l.reject(v,g)},p.all=function(g){var v=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=g.length,I=!1;if(!S)return this.resolve([]);for(var C=new Array(S),U=0,N=-1,L=new this(s);++N<S;)D(g[N],N);return L;function D(M,G){v.resolve(M).then(function(k){C[G]=k,++U!==S||I||(I=!0,l.resolve(L,C))},function(k){I||(I=!0,l.reject(L,k))})}},p.race=function(g){var v=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=g.length,I=!1;if(!S)return this.resolve([]);for(var C=-1,U=new this(s);++C<S;)N=g[C],v.resolve(N).then(function(L){I||(I=!0,l.resolve(U,L))},function(L){I||(I=!0,l.reject(U,L))});var N;return U}},{immediate:36}],38:[function(t,o,r){var n={};(0,t("./lib/utils/common").assign)(n,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),o.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,o,r){var n=t("./zlib/deflate"),s=t("./utils/common"),l=t("./utils/strings"),c=t("./zlib/messages"),f=t("./zlib/zstream"),m=Object.prototype.toString,p=0,y=-1,h=0,b=8;function d(g){if(!(this instanceof d))return new d(g);this.options=s.assign({level:y,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},g||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var S=n.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(S!==p)throw new Error(c[S]);if(v.header&&n.deflateSetHeader(this.strm,v.header),v.dictionary){var I;if(I=typeof v.dictionary=="string"?l.string2buf(v.dictionary):m.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(S=n.deflateSetDictionary(this.strm,I))!==p)throw new Error(c[S]);this._dict_set=!0}}function _(g,v){var S=new d(v);if(S.push(g,!0),S.err)throw S.msg||c[S.err];return S.result}d.prototype.push=function(g,v){var S,I,C=this.strm,U=this.options.chunkSize;if(this.ended)return!1;I=v===~~v?v:v===!0?4:0,typeof g=="string"?C.input=l.string2buf(g):m.call(g)==="[object ArrayBuffer]"?C.input=new Uint8Array(g):C.input=g,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new s.Buf8(U),C.next_out=0,C.avail_out=U),(S=n.deflate(C,I))!==1&&S!==p)return this.onEnd(S),!(this.ended=!0);C.avail_out!==0&&(C.avail_in!==0||I!==4&&I!==2)||(this.options.to==="string"?this.onData(l.buf2binstring(s.shrinkBuf(C.output,C.next_out))):this.onData(s.shrinkBuf(C.output,C.next_out)))}while((0<C.avail_in||C.avail_out===0)&&S!==1);return I===4?(S=n.deflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===p):I!==2||(this.onEnd(p),!(C.avail_out=0))},d.prototype.onData=function(g){this.chunks.push(g)},d.prototype.onEnd=function(g){g===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},r.Deflate=d,r.deflate=_,r.deflateRaw=function(g,v){return(v=v||{}).raw=!0,_(g,v)},r.gzip=function(g,v){return(v=v||{}).gzip=!0,_(g,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,o,r){var n=t("./zlib/inflate"),s=t("./utils/common"),l=t("./utils/strings"),c=t("./zlib/constants"),f=t("./zlib/messages"),m=t("./zlib/zstream"),p=t("./zlib/gzheader"),y=Object.prototype.toString;function h(d){if(!(this instanceof h))return new h(d);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},d||{});var _=this.options;_.raw&&0<=_.windowBits&&_.windowBits<16&&(_.windowBits=-_.windowBits,_.windowBits===0&&(_.windowBits=-15)),!(0<=_.windowBits&&_.windowBits<16)||d&&d.windowBits||(_.windowBits+=32),15<_.windowBits&&_.windowBits<48&&(15&_.windowBits)==0&&(_.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var g=n.inflateInit2(this.strm,_.windowBits);if(g!==c.Z_OK)throw new Error(f[g]);this.header=new p,n.inflateGetHeader(this.strm,this.header)}function b(d,_){var g=new h(_);if(g.push(d,!0),g.err)throw g.msg||f[g.err];return g.result}h.prototype.push=function(d,_){var g,v,S,I,C,U,N=this.strm,L=this.options.chunkSize,D=this.options.dictionary,M=!1;if(this.ended)return!1;v=_===~~_?_:_===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof d=="string"?N.input=l.binstring2buf(d):y.call(d)==="[object ArrayBuffer]"?N.input=new Uint8Array(d):N.input=d,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new s.Buf8(L),N.next_out=0,N.avail_out=L),(g=n.inflate(N,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&D&&(U=typeof D=="string"?l.string2buf(D):y.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,g=n.inflateSetDictionary(this.strm,U)),g===c.Z_BUF_ERROR&&M===!0&&(g=c.Z_OK,M=!1),g!==c.Z_STREAM_END&&g!==c.Z_OK)return this.onEnd(g),!(this.ended=!0);N.next_out&&(N.avail_out!==0&&g!==c.Z_STREAM_END&&(N.avail_in!==0||v!==c.Z_FINISH&&v!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(S=l.utf8border(N.output,N.next_out),I=N.next_out-S,C=l.buf2string(N.output,S),N.next_out=I,N.avail_out=L-I,I&&s.arraySet(N.output,N.output,S,I,0),this.onData(C)):this.onData(s.shrinkBuf(N.output,N.next_out)))),N.avail_in===0&&N.avail_out===0&&(M=!0)}while((0<N.avail_in||N.avail_out===0)&&g!==c.Z_STREAM_END);return g===c.Z_STREAM_END&&(v=c.Z_FINISH),v===c.Z_FINISH?(g=n.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===c.Z_OK):v!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(N.avail_out=0))},h.prototype.onData=function(d){this.chunks.push(d)},h.prototype.onEnd=function(d){d===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},r.Inflate=h,r.inflate=b,r.inflateRaw=function(d,_){return(_=_||{}).raw=!0,b(d,_)},r.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,o,r){var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(c){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var m=f.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var p in m)m.hasOwnProperty(p)&&(c[p]=m[p])}}return c},r.shrinkBuf=function(c,f){return c.length===f?c:c.subarray?c.subarray(0,f):(c.length=f,c)};var s={arraySet:function(c,f,m,p,y){if(f.subarray&&c.subarray)c.set(f.subarray(m,m+p),y);else for(var h=0;h<p;h++)c[y+h]=f[m+h]},flattenChunks:function(c){var f,m,p,y,h,b;for(f=p=0,m=c.length;f<m;f++)p+=c[f].length;for(b=new Uint8Array(p),f=y=0,m=c.length;f<m;f++)h=c[f],b.set(h,y),y+=h.length;return b}},l={arraySet:function(c,f,m,p,y){for(var h=0;h<p;h++)c[y+h]=f[m+h]},flattenChunks:function(c){return[].concat.apply([],c)}};r.setTyped=function(c){c?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,s)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,l))},r.setTyped(n)},{}],42:[function(t,o,r){var n=t("./common"),s=!0,l=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{l=!1}for(var c=new n.Buf8(256),f=0;f<256;f++)c[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function m(p,y){if(y<65537&&(p.subarray&&l||!p.subarray&&s))return String.fromCharCode.apply(null,n.shrinkBuf(p,y));for(var h="",b=0;b<y;b++)h+=String.fromCharCode(p[b]);return h}c[254]=c[254]=1,r.string2buf=function(p){var y,h,b,d,_,g=p.length,v=0;for(d=0;d<g;d++)(64512&(h=p.charCodeAt(d)))==55296&&d+1<g&&(64512&(b=p.charCodeAt(d+1)))==56320&&(h=65536+(h-55296<<10)+(b-56320),d++),v+=h<128?1:h<2048?2:h<65536?3:4;for(y=new n.Buf8(v),d=_=0;_<v;d++)(64512&(h=p.charCodeAt(d)))==55296&&d+1<g&&(64512&(b=p.charCodeAt(d+1)))==56320&&(h=65536+(h-55296<<10)+(b-56320),d++),h<128?y[_++]=h:(h<2048?y[_++]=192|h>>>6:(h<65536?y[_++]=224|h>>>12:(y[_++]=240|h>>>18,y[_++]=128|h>>>12&63),y[_++]=128|h>>>6&63),y[_++]=128|63&h);return y},r.buf2binstring=function(p){return m(p,p.length)},r.binstring2buf=function(p){for(var y=new n.Buf8(p.length),h=0,b=y.length;h<b;h++)y[h]=p.charCodeAt(h);return y},r.buf2string=function(p,y){var h,b,d,_,g=y||p.length,v=new Array(2*g);for(h=b=0;h<g;)if((d=p[h++])<128)v[b++]=d;else if(4<(_=c[d]))v[b++]=65533,h+=_-1;else{for(d&=_===2?31:_===3?15:7;1<_&&h<g;)d=d<<6|63&p[h++],_--;1<_?v[b++]=65533:d<65536?v[b++]=d:(d-=65536,v[b++]=55296|d>>10&1023,v[b++]=56320|1023&d)}return m(v,b)},r.utf8border=function(p,y){var h;for((y=y||p.length)>p.length&&(y=p.length),h=y-1;0<=h&&(192&p[h])==128;)h--;return h<0||h===0?y:h+c[p[h]]>y?h:y}},{"./common":41}],43:[function(t,o,r){o.exports=function(n,s,l,c){for(var f=65535&n|0,m=n>>>16&65535|0,p=0;l!==0;){for(l-=p=2e3<l?2e3:l;m=m+(f=f+s[c++]|0)|0,--p;);f%=65521,m%=65521}return f|m<<16|0}},{}],44:[function(t,o,r){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,o,r){var n=function(){for(var s,l=[],c=0;c<256;c++){s=c;for(var f=0;f<8;f++)s=1&s?3988292384^s>>>1:s>>>1;l[c]=s}return l}();o.exports=function(s,l,c,f){var m=n,p=f+c;s^=-1;for(var y=f;y<p;y++)s=s>>>8^m[255&(s^l[y])];return-1^s}},{}],46:[function(t,o,r){var n,s=t("../utils/common"),l=t("./trees"),c=t("./adler32"),f=t("./crc32"),m=t("./messages"),p=0,y=4,h=0,b=-2,d=-1,_=4,g=2,v=8,S=9,I=286,C=30,U=19,N=2*I+1,L=15,D=3,M=258,G=M+D+1,k=42,O=113,u=1,P=2,Q=3,Z=4;function nt(a,W){return a.msg=m[W],W}function B(a){return(a<<1)-(4<a?9:0)}function F(a){for(var W=a.length;0<=--W;)a[W]=0}function E(a){var W=a.state,j=W.pending;j>a.avail_out&&(j=a.avail_out),j!==0&&(s.arraySet(a.output,W.pending_buf,W.pending_out,j,a.next_out),a.next_out+=j,W.pending_out+=j,a.total_out+=j,a.avail_out-=j,W.pending-=j,W.pending===0&&(W.pending_out=0))}function z(a,W){l._tr_flush_block(a,0<=a.block_start?a.block_start:-1,a.strstart-a.block_start,W),a.block_start=a.strstart,E(a.strm)}function V(a,W){a.pending_buf[a.pending++]=W}function Y(a,W){a.pending_buf[a.pending++]=W>>>8&255,a.pending_buf[a.pending++]=255&W}function K(a,W){var j,A,w=a.max_chain_length,x=a.strstart,H=a.prev_length,q=a.nice_match,R=a.strstart>a.w_size-G?a.strstart-(a.w_size-G):0,J=a.window,$=a.w_mask,X=a.prev,rt=a.strstart+M,gt=J[x+H-1],dt=J[x+H];a.prev_length>=a.good_match&&(w>>=2),q>a.lookahead&&(q=a.lookahead);do if(J[(j=W)+H]===dt&&J[j+H-1]===gt&&J[j]===J[x]&&J[++j]===J[x+1]){x+=2,j++;do;while(J[++x]===J[++j]&&J[++x]===J[++j]&&J[++x]===J[++j]&&J[++x]===J[++j]&&J[++x]===J[++j]&&J[++x]===J[++j]&&J[++x]===J[++j]&&J[++x]===J[++j]&&x<rt);if(A=M-(rt-x),x=rt-M,H<A){if(a.match_start=W,q<=(H=A))break;gt=J[x+H-1],dt=J[x+H]}}while((W=X[W&$])>R&&--w!=0);return H<=a.lookahead?H:a.lookahead}function ut(a){var W,j,A,w,x,H,q,R,J,$,X=a.w_size;do{if(w=a.window_size-a.lookahead-a.strstart,a.strstart>=X+(X-G)){for(s.arraySet(a.window,a.window,X,X,0),a.match_start-=X,a.strstart-=X,a.block_start-=X,W=j=a.hash_size;A=a.head[--W],a.head[W]=X<=A?A-X:0,--j;);for(W=j=X;A=a.prev[--W],a.prev[W]=X<=A?A-X:0,--j;);w+=X}if(a.strm.avail_in===0)break;if(H=a.strm,q=a.window,R=a.strstart+a.lookahead,J=w,$=void 0,$=H.avail_in,J<$&&($=J),j=$===0?0:(H.avail_in-=$,s.arraySet(q,H.input,H.next_in,$,R),H.state.wrap===1?H.adler=c(H.adler,q,$,R):H.state.wrap===2&&(H.adler=f(H.adler,q,$,R)),H.next_in+=$,H.total_in+=$,$),a.lookahead+=j,a.lookahead+a.insert>=D)for(x=a.strstart-a.insert,a.ins_h=a.window[x],a.ins_h=(a.ins_h<<a.hash_shift^a.window[x+1])&a.hash_mask;a.insert&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[x+D-1])&a.hash_mask,a.prev[x&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=x,x++,a.insert--,!(a.lookahead+a.insert<D)););}while(a.lookahead<G&&a.strm.avail_in!==0)}function ht(a,W){for(var j,A;;){if(a.lookahead<G){if(ut(a),a.lookahead<G&&W===p)return u;if(a.lookahead===0)break}if(j=0,a.lookahead>=D&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+D-1])&a.hash_mask,j=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),j!==0&&a.strstart-j<=a.w_size-G&&(a.match_length=K(a,j)),a.match_length>=D)if(A=l._tr_tally(a,a.strstart-a.match_start,a.match_length-D),a.lookahead-=a.match_length,a.match_length<=a.max_lazy_match&&a.lookahead>=D){for(a.match_length--;a.strstart++,a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+D-1])&a.hash_mask,j=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart,--a.match_length!=0;);a.strstart++}else a.strstart+=a.match_length,a.match_length=0,a.ins_h=a.window[a.strstart],a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+1])&a.hash_mask;else A=l._tr_tally(a,0,a.window[a.strstart]),a.lookahead--,a.strstart++;if(A&&(z(a,!1),a.strm.avail_out===0))return u}return a.insert=a.strstart<D-1?a.strstart:D-1,W===y?(z(a,!0),a.strm.avail_out===0?Q:Z):a.last_lit&&(z(a,!1),a.strm.avail_out===0)?u:P}function it(a,W){for(var j,A,w;;){if(a.lookahead<G){if(ut(a),a.lookahead<G&&W===p)return u;if(a.lookahead===0)break}if(j=0,a.lookahead>=D&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+D-1])&a.hash_mask,j=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),a.prev_length=a.match_length,a.prev_match=a.match_start,a.match_length=D-1,j!==0&&a.prev_length<a.max_lazy_match&&a.strstart-j<=a.w_size-G&&(a.match_length=K(a,j),a.match_length<=5&&(a.strategy===1||a.match_length===D&&4096<a.strstart-a.match_start)&&(a.match_length=D-1)),a.prev_length>=D&&a.match_length<=a.prev_length){for(w=a.strstart+a.lookahead-D,A=l._tr_tally(a,a.strstart-1-a.prev_match,a.prev_length-D),a.lookahead-=a.prev_length-1,a.prev_length-=2;++a.strstart<=w&&(a.ins_h=(a.ins_h<<a.hash_shift^a.window[a.strstart+D-1])&a.hash_mask,j=a.prev[a.strstart&a.w_mask]=a.head[a.ins_h],a.head[a.ins_h]=a.strstart),--a.prev_length!=0;);if(a.match_available=0,a.match_length=D-1,a.strstart++,A&&(z(a,!1),a.strm.avail_out===0))return u}else if(a.match_available){if((A=l._tr_tally(a,0,a.window[a.strstart-1]))&&z(a,!1),a.strstart++,a.lookahead--,a.strm.avail_out===0)return u}else a.match_available=1,a.strstart++,a.lookahead--}return a.match_available&&(A=l._tr_tally(a,0,a.window[a.strstart-1]),a.match_available=0),a.insert=a.strstart<D-1?a.strstart:D-1,W===y?(z(a,!0),a.strm.avail_out===0?Q:Z):a.last_lit&&(z(a,!1),a.strm.avail_out===0)?u:P}function ft(a,W,j,A,w){this.good_length=a,this.max_lazy=W,this.nice_length=j,this.max_chain=A,this.func=w}function bt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*N),this.dyn_dtree=new s.Buf16(2*(2*C+1)),this.bl_tree=new s.Buf16(2*(2*U+1)),F(this.dyn_ltree),F(this.dyn_dtree),F(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(L+1),this.heap=new s.Buf16(2*I+1),F(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*I+1),F(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function pt(a){var W;return a&&a.state?(a.total_in=a.total_out=0,a.data_type=g,(W=a.state).pending=0,W.pending_out=0,W.wrap<0&&(W.wrap=-W.wrap),W.status=W.wrap?k:O,a.adler=W.wrap===2?0:1,W.last_flush=p,l._tr_init(W),h):nt(a,b)}function Ot(a){var W=pt(a);return W===h&&function(j){j.window_size=2*j.w_size,F(j.head),j.max_lazy_match=n[j.level].max_lazy,j.good_match=n[j.level].good_length,j.nice_match=n[j.level].nice_length,j.max_chain_length=n[j.level].max_chain,j.strstart=0,j.block_start=0,j.lookahead=0,j.insert=0,j.match_length=j.prev_length=D-1,j.match_available=0,j.ins_h=0}(a.state),W}function xt(a,W,j,A,w,x){if(!a)return b;var H=1;if(W===d&&(W=6),A<0?(H=0,A=-A):15<A&&(H=2,A-=16),w<1||S<w||j!==v||A<8||15<A||W<0||9<W||x<0||_<x)return nt(a,b);A===8&&(A=9);var q=new bt;return(a.state=q).strm=a,q.wrap=H,q.gzhead=null,q.w_bits=A,q.w_size=1<<q.w_bits,q.w_mask=q.w_size-1,q.hash_bits=w+7,q.hash_size=1<<q.hash_bits,q.hash_mask=q.hash_size-1,q.hash_shift=~~((q.hash_bits+D-1)/D),q.window=new s.Buf8(2*q.w_size),q.head=new s.Buf16(q.hash_size),q.prev=new s.Buf16(q.w_size),q.lit_bufsize=1<<w+6,q.pending_buf_size=4*q.lit_bufsize,q.pending_buf=new s.Buf8(q.pending_buf_size),q.d_buf=1*q.lit_bufsize,q.l_buf=3*q.lit_bufsize,q.level=W,q.strategy=x,q.method=j,Ot(a)}n=[new ft(0,0,0,0,function(a,W){var j=65535;for(j>a.pending_buf_size-5&&(j=a.pending_buf_size-5);;){if(a.lookahead<=1){if(ut(a),a.lookahead===0&&W===p)return u;if(a.lookahead===0)break}a.strstart+=a.lookahead,a.lookahead=0;var A=a.block_start+j;if((a.strstart===0||a.strstart>=A)&&(a.lookahead=a.strstart-A,a.strstart=A,z(a,!1),a.strm.avail_out===0)||a.strstart-a.block_start>=a.w_size-G&&(z(a,!1),a.strm.avail_out===0))return u}return a.insert=0,W===y?(z(a,!0),a.strm.avail_out===0?Q:Z):(a.strstart>a.block_start&&(z(a,!1),a.strm.avail_out),u)}),new ft(4,4,8,4,ht),new ft(4,5,16,8,ht),new ft(4,6,32,32,ht),new ft(4,4,16,16,it),new ft(8,16,32,32,it),new ft(8,16,128,128,it),new ft(8,32,128,256,it),new ft(32,128,258,1024,it),new ft(32,258,258,4096,it)],r.deflateInit=function(a,W){return xt(a,W,v,15,8,0)},r.deflateInit2=xt,r.deflateReset=Ot,r.deflateResetKeep=pt,r.deflateSetHeader=function(a,W){return a&&a.state?a.state.wrap!==2?b:(a.state.gzhead=W,h):b},r.deflate=function(a,W){var j,A,w,x;if(!a||!a.state||5<W||W<0)return a?nt(a,b):b;if(A=a.state,!a.output||!a.input&&a.avail_in!==0||A.status===666&&W!==y)return nt(a,a.avail_out===0?-5:b);if(A.strm=a,j=A.last_flush,A.last_flush=W,A.status===k)if(A.wrap===2)a.adler=0,V(A,31),V(A,139),V(A,8),A.gzhead?(V(A,(A.gzhead.text?1:0)+(A.gzhead.hcrc?2:0)+(A.gzhead.extra?4:0)+(A.gzhead.name?8:0)+(A.gzhead.comment?16:0)),V(A,255&A.gzhead.time),V(A,A.gzhead.time>>8&255),V(A,A.gzhead.time>>16&255),V(A,A.gzhead.time>>24&255),V(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),V(A,255&A.gzhead.os),A.gzhead.extra&&A.gzhead.extra.length&&(V(A,255&A.gzhead.extra.length),V(A,A.gzhead.extra.length>>8&255)),A.gzhead.hcrc&&(a.adler=f(a.adler,A.pending_buf,A.pending,0)),A.gzindex=0,A.status=69):(V(A,0),V(A,0),V(A,0),V(A,0),V(A,0),V(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),V(A,3),A.status=O);else{var H=v+(A.w_bits-8<<4)<<8;H|=(2<=A.strategy||A.level<2?0:A.level<6?1:A.level===6?2:3)<<6,A.strstart!==0&&(H|=32),H+=31-H%31,A.status=O,Y(A,H),A.strstart!==0&&(Y(A,a.adler>>>16),Y(A,65535&a.adler)),a.adler=1}if(A.status===69)if(A.gzhead.extra){for(w=A.pending;A.gzindex<(65535&A.gzhead.extra.length)&&(A.pending!==A.pending_buf_size||(A.gzhead.hcrc&&A.pending>w&&(a.adler=f(a.adler,A.pending_buf,A.pending-w,w)),E(a),w=A.pending,A.pending!==A.pending_buf_size));)V(A,255&A.gzhead.extra[A.gzindex]),A.gzindex++;A.gzhead.hcrc&&A.pending>w&&(a.adler=f(a.adler,A.pending_buf,A.pending-w,w)),A.gzindex===A.gzhead.extra.length&&(A.gzindex=0,A.status=73)}else A.status=73;if(A.status===73)if(A.gzhead.name){w=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>w&&(a.adler=f(a.adler,A.pending_buf,A.pending-w,w)),E(a),w=A.pending,A.pending===A.pending_buf_size)){x=1;break}x=A.gzindex<A.gzhead.name.length?255&A.gzhead.name.charCodeAt(A.gzindex++):0,V(A,x)}while(x!==0);A.gzhead.hcrc&&A.pending>w&&(a.adler=f(a.adler,A.pending_buf,A.pending-w,w)),x===0&&(A.gzindex=0,A.status=91)}else A.status=91;if(A.status===91)if(A.gzhead.comment){w=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>w&&(a.adler=f(a.adler,A.pending_buf,A.pending-w,w)),E(a),w=A.pending,A.pending===A.pending_buf_size)){x=1;break}x=A.gzindex<A.gzhead.comment.length?255&A.gzhead.comment.charCodeAt(A.gzindex++):0,V(A,x)}while(x!==0);A.gzhead.hcrc&&A.pending>w&&(a.adler=f(a.adler,A.pending_buf,A.pending-w,w)),x===0&&(A.status=103)}else A.status=103;if(A.status===103&&(A.gzhead.hcrc?(A.pending+2>A.pending_buf_size&&E(a),A.pending+2<=A.pending_buf_size&&(V(A,255&a.adler),V(A,a.adler>>8&255),a.adler=0,A.status=O)):A.status=O),A.pending!==0){if(E(a),a.avail_out===0)return A.last_flush=-1,h}else if(a.avail_in===0&&B(W)<=B(j)&&W!==y)return nt(a,-5);if(A.status===666&&a.avail_in!==0)return nt(a,-5);if(a.avail_in!==0||A.lookahead!==0||W!==p&&A.status!==666){var q=A.strategy===2?function(R,J){for(var $;;){if(R.lookahead===0&&(ut(R),R.lookahead===0)){if(J===p)return u;break}if(R.match_length=0,$=l._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++,$&&(z(R,!1),R.strm.avail_out===0))return u}return R.insert=0,J===y?(z(R,!0),R.strm.avail_out===0?Q:Z):R.last_lit&&(z(R,!1),R.strm.avail_out===0)?u:P}(A,W):A.strategy===3?function(R,J){for(var $,X,rt,gt,dt=R.window;;){if(R.lookahead<=M){if(ut(R),R.lookahead<=M&&J===p)return u;if(R.lookahead===0)break}if(R.match_length=0,R.lookahead>=D&&0<R.strstart&&(X=dt[rt=R.strstart-1])===dt[++rt]&&X===dt[++rt]&&X===dt[++rt]){gt=R.strstart+M;do;while(X===dt[++rt]&&X===dt[++rt]&&X===dt[++rt]&&X===dt[++rt]&&X===dt[++rt]&&X===dt[++rt]&&X===dt[++rt]&&X===dt[++rt]&&rt<gt);R.match_length=M-(gt-rt),R.match_length>R.lookahead&&(R.match_length=R.lookahead)}if(R.match_length>=D?($=l._tr_tally(R,1,R.match_length-D),R.lookahead-=R.match_length,R.strstart+=R.match_length,R.match_length=0):($=l._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++),$&&(z(R,!1),R.strm.avail_out===0))return u}return R.insert=0,J===y?(z(R,!0),R.strm.avail_out===0?Q:Z):R.last_lit&&(z(R,!1),R.strm.avail_out===0)?u:P}(A,W):n[A.level].func(A,W);if(q!==Q&&q!==Z||(A.status=666),q===u||q===Q)return a.avail_out===0&&(A.last_flush=-1),h;if(q===P&&(W===1?l._tr_align(A):W!==5&&(l._tr_stored_block(A,0,0,!1),W===3&&(F(A.head),A.lookahead===0&&(A.strstart=0,A.block_start=0,A.insert=0))),E(a),a.avail_out===0))return A.last_flush=-1,h}return W!==y?h:A.wrap<=0?1:(A.wrap===2?(V(A,255&a.adler),V(A,a.adler>>8&255),V(A,a.adler>>16&255),V(A,a.adler>>24&255),V(A,255&a.total_in),V(A,a.total_in>>8&255),V(A,a.total_in>>16&255),V(A,a.total_in>>24&255)):(Y(A,a.adler>>>16),Y(A,65535&a.adler)),E(a),0<A.wrap&&(A.wrap=-A.wrap),A.pending!==0?h:1)},r.deflateEnd=function(a){var W;return a&&a.state?(W=a.state.status)!==k&&W!==69&&W!==73&&W!==91&&W!==103&&W!==O&&W!==666?nt(a,b):(a.state=null,W===O?nt(a,-3):h):b},r.deflateSetDictionary=function(a,W){var j,A,w,x,H,q,R,J,$=W.length;if(!a||!a.state||(x=(j=a.state).wrap)===2||x===1&&j.status!==k||j.lookahead)return b;for(x===1&&(a.adler=c(a.adler,W,$,0)),j.wrap=0,$>=j.w_size&&(x===0&&(F(j.head),j.strstart=0,j.block_start=0,j.insert=0),J=new s.Buf8(j.w_size),s.arraySet(J,W,$-j.w_size,j.w_size,0),W=J,$=j.w_size),H=a.avail_in,q=a.next_in,R=a.input,a.avail_in=$,a.next_in=0,a.input=W,ut(j);j.lookahead>=D;){for(A=j.strstart,w=j.lookahead-(D-1);j.ins_h=(j.ins_h<<j.hash_shift^j.window[A+D-1])&j.hash_mask,j.prev[A&j.w_mask]=j.head[j.ins_h],j.head[j.ins_h]=A,A++,--w;);j.strstart=A,j.lookahead=D-1,ut(j)}return j.strstart+=j.lookahead,j.block_start=j.strstart,j.insert=j.lookahead,j.lookahead=0,j.match_length=j.prev_length=D-1,j.match_available=0,a.next_in=q,a.input=R,a.avail_in=H,j.wrap=x,h},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,o,r){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,o,r){o.exports=function(n,s){var l,c,f,m,p,y,h,b,d,_,g,v,S,I,C,U,N,L,D,M,G,k,O,u,P;l=n.state,c=n.next_in,u=n.input,f=c+(n.avail_in-5),m=n.next_out,P=n.output,p=m-(s-n.avail_out),y=m+(n.avail_out-257),h=l.dmax,b=l.wsize,d=l.whave,_=l.wnext,g=l.window,v=l.hold,S=l.bits,I=l.lencode,C=l.distcode,U=(1<<l.lenbits)-1,N=(1<<l.distbits)-1;t:do{S<15&&(v+=u[c++]<<S,S+=8,v+=u[c++]<<S,S+=8),L=I[v&U];e:for(;;){if(v>>>=D=L>>>24,S-=D,(D=L>>>16&255)===0)P[m++]=65535&L;else{if(!(16&D)){if((64&D)==0){L=I[(65535&L)+(v&(1<<D)-1)];continue e}if(32&D){l.mode=12;break t}n.msg="invalid literal/length code",l.mode=30;break t}M=65535&L,(D&=15)&&(S<D&&(v+=u[c++]<<S,S+=8),M+=v&(1<<D)-1,v>>>=D,S-=D),S<15&&(v+=u[c++]<<S,S+=8,v+=u[c++]<<S,S+=8),L=C[v&N];n:for(;;){if(v>>>=D=L>>>24,S-=D,!(16&(D=L>>>16&255))){if((64&D)==0){L=C[(65535&L)+(v&(1<<D)-1)];continue n}n.msg="invalid distance code",l.mode=30;break t}if(G=65535&L,S<(D&=15)&&(v+=u[c++]<<S,(S+=8)<D&&(v+=u[c++]<<S,S+=8)),h<(G+=v&(1<<D)-1)){n.msg="invalid distance too far back",l.mode=30;break t}if(v>>>=D,S-=D,(D=m-p)<G){if(d<(D=G-D)&&l.sane){n.msg="invalid distance too far back",l.mode=30;break t}if(O=g,(k=0)===_){if(k+=b-D,D<M){for(M-=D;P[m++]=g[k++],--D;);k=m-G,O=P}}else if(_<D){if(k+=b+_-D,(D-=_)<M){for(M-=D;P[m++]=g[k++],--D;);if(k=0,_<M){for(M-=D=_;P[m++]=g[k++],--D;);k=m-G,O=P}}}else if(k+=_-D,D<M){for(M-=D;P[m++]=g[k++],--D;);k=m-G,O=P}for(;2<M;)P[m++]=O[k++],P[m++]=O[k++],P[m++]=O[k++],M-=3;M&&(P[m++]=O[k++],1<M&&(P[m++]=O[k++]))}else{for(k=m-G;P[m++]=P[k++],P[m++]=P[k++],P[m++]=P[k++],2<(M-=3););M&&(P[m++]=P[k++],1<M&&(P[m++]=P[k++]))}break}}break}}while(c<f&&m<y);c-=M=S>>3,v&=(1<<(S-=M<<3))-1,n.next_in=c,n.next_out=m,n.avail_in=c<f?f-c+5:5-(c-f),n.avail_out=m<y?y-m+257:257-(m-y),l.hold=v,l.bits=S}},{}],49:[function(t,o,r){var n=t("../utils/common"),s=t("./adler32"),l=t("./crc32"),c=t("./inffast"),f=t("./inftrees"),m=1,p=2,y=0,h=-2,b=1,d=852,_=592;function g(k){return(k>>>24&255)+(k>>>8&65280)+((65280&k)<<8)+((255&k)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function S(k){var O;return k&&k.state?(O=k.state,k.total_in=k.total_out=O.total=0,k.msg="",O.wrap&&(k.adler=1&O.wrap),O.mode=b,O.last=0,O.havedict=0,O.dmax=32768,O.head=null,O.hold=0,O.bits=0,O.lencode=O.lendyn=new n.Buf32(d),O.distcode=O.distdyn=new n.Buf32(_),O.sane=1,O.back=-1,y):h}function I(k){var O;return k&&k.state?((O=k.state).wsize=0,O.whave=0,O.wnext=0,S(k)):h}function C(k,O){var u,P;return k&&k.state?(P=k.state,O<0?(u=0,O=-O):(u=1+(O>>4),O<48&&(O&=15)),O&&(O<8||15<O)?h:(P.window!==null&&P.wbits!==O&&(P.window=null),P.wrap=u,P.wbits=O,I(k))):h}function U(k,O){var u,P;return k?(P=new v,(k.state=P).window=null,(u=C(k,O))!==y&&(k.state=null),u):h}var N,L,D=!0;function M(k){if(D){var O;for(N=new n.Buf32(512),L=new n.Buf32(32),O=0;O<144;)k.lens[O++]=8;for(;O<256;)k.lens[O++]=9;for(;O<280;)k.lens[O++]=7;for(;O<288;)k.lens[O++]=8;for(f(m,k.lens,0,288,N,0,k.work,{bits:9}),O=0;O<32;)k.lens[O++]=5;f(p,k.lens,0,32,L,0,k.work,{bits:5}),D=!1}k.lencode=N,k.lenbits=9,k.distcode=L,k.distbits=5}function G(k,O,u,P){var Q,Z=k.state;return Z.window===null&&(Z.wsize=1<<Z.wbits,Z.wnext=0,Z.whave=0,Z.window=new n.Buf8(Z.wsize)),P>=Z.wsize?(n.arraySet(Z.window,O,u-Z.wsize,Z.wsize,0),Z.wnext=0,Z.whave=Z.wsize):(P<(Q=Z.wsize-Z.wnext)&&(Q=P),n.arraySet(Z.window,O,u-P,Q,Z.wnext),(P-=Q)?(n.arraySet(Z.window,O,u-P,P,0),Z.wnext=P,Z.whave=Z.wsize):(Z.wnext+=Q,Z.wnext===Z.wsize&&(Z.wnext=0),Z.whave<Z.wsize&&(Z.whave+=Q))),0}r.inflateReset=I,r.inflateReset2=C,r.inflateResetKeep=S,r.inflateInit=function(k){return U(k,15)},r.inflateInit2=U,r.inflate=function(k,O){var u,P,Q,Z,nt,B,F,E,z,V,Y,K,ut,ht,it,ft,bt,pt,Ot,xt,a,W,j,A,w=0,x=new n.Buf8(4),H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return h;(u=k.state).mode===12&&(u.mode=13),nt=k.next_out,Q=k.output,F=k.avail_out,Z=k.next_in,P=k.input,B=k.avail_in,E=u.hold,z=u.bits,V=B,Y=F,W=y;t:for(;;)switch(u.mode){case b:if(u.wrap===0){u.mode=13;break}for(;z<16;){if(B===0)break t;B--,E+=P[Z++]<<z,z+=8}if(2&u.wrap&&E===35615){x[u.check=0]=255&E,x[1]=E>>>8&255,u.check=l(u.check,x,2,0),z=E=0,u.mode=2;break}if(u.flags=0,u.head&&(u.head.done=!1),!(1&u.wrap)||(((255&E)<<8)+(E>>8))%31){k.msg="incorrect header check",u.mode=30;break}if((15&E)!=8){k.msg="unknown compression method",u.mode=30;break}if(z-=4,a=8+(15&(E>>>=4)),u.wbits===0)u.wbits=a;else if(a>u.wbits){k.msg="invalid window size",u.mode=30;break}u.dmax=1<<a,k.adler=u.check=1,u.mode=512&E?10:12,z=E=0;break;case 2:for(;z<16;){if(B===0)break t;B--,E+=P[Z++]<<z,z+=8}if(u.flags=E,(255&u.flags)!=8){k.msg="unknown compression method",u.mode=30;break}if(57344&u.flags){k.msg="unknown header flags set",u.mode=30;break}u.head&&(u.head.text=E>>8&1),512&u.flags&&(x[0]=255&E,x[1]=E>>>8&255,u.check=l(u.check,x,2,0)),z=E=0,u.mode=3;case 3:for(;z<32;){if(B===0)break t;B--,E+=P[Z++]<<z,z+=8}u.head&&(u.head.time=E),512&u.flags&&(x[0]=255&E,x[1]=E>>>8&255,x[2]=E>>>16&255,x[3]=E>>>24&255,u.check=l(u.check,x,4,0)),z=E=0,u.mode=4;case 4:for(;z<16;){if(B===0)break t;B--,E+=P[Z++]<<z,z+=8}u.head&&(u.head.xflags=255&E,u.head.os=E>>8),512&u.flags&&(x[0]=255&E,x[1]=E>>>8&255,u.check=l(u.check,x,2,0)),z=E=0,u.mode=5;case 5:if(1024&u.flags){for(;z<16;){if(B===0)break t;B--,E+=P[Z++]<<z,z+=8}u.length=E,u.head&&(u.head.extra_len=E),512&u.flags&&(x[0]=255&E,x[1]=E>>>8&255,u.check=l(u.check,x,2,0)),z=E=0}else u.head&&(u.head.extra=null);u.mode=6;case 6:if(1024&u.flags&&(B<(K=u.length)&&(K=B),K&&(u.head&&(a=u.head.extra_len-u.length,u.head.extra||(u.head.extra=new Array(u.head.extra_len)),n.arraySet(u.head.extra,P,Z,K,a)),512&u.flags&&(u.check=l(u.check,P,K,Z)),B-=K,Z+=K,u.length-=K),u.length))break t;u.length=0,u.mode=7;case 7:if(2048&u.flags){if(B===0)break t;for(K=0;a=P[Z+K++],u.head&&a&&u.length<65536&&(u.head.name+=String.fromCharCode(a)),a&&K<B;);if(512&u.flags&&(u.check=l(u.check,P,K,Z)),B-=K,Z+=K,a)break t}else u.head&&(u.head.name=null);u.length=0,u.mode=8;case 8:if(4096&u.flags){if(B===0)break t;for(K=0;a=P[Z+K++],u.head&&a&&u.length<65536&&(u.head.comment+=String.fromCharCode(a)),a&&K<B;);if(512&u.flags&&(u.check=l(u.check,P,K,Z)),B-=K,Z+=K,a)break t}else u.head&&(u.head.comment=null);u.mode=9;case 9:if(512&u.flags){for(;z<16;){if(B===0)break t;B--,E+=P[Z++]<<z,z+=8}if(E!==(65535&u.check)){k.msg="header crc mismatch",u.mode=30;break}z=E=0}u.head&&(u.head.hcrc=u.flags>>9&1,u.head.done=!0),k.adler=u.check=0,u.mode=12;break;case 10:for(;z<32;){if(B===0)break t;B--,E+=P[Z++]<<z,z+=8}k.adler=u.check=g(E),z=E=0,u.mode=11;case 11:if(u.havedict===0)return k.next_out=nt,k.avail_out=F,k.next_in=Z,k.avail_in=B,u.hold=E,u.bits=z,2;k.adler=u.check=1,u.mode=12;case 12:if(O===5||O===6)break t;case 13:if(u.last){E>>>=7&z,z-=7&z,u.mode=27;break}for(;z<3;){if(B===0)break t;B--,E+=P[Z++]<<z,z+=8}switch(u.last=1&E,z-=1,3&(E>>>=1)){case 0:u.mode=14;break;case 1:if(M(u),u.mode=20,O!==6)break;E>>>=2,z-=2;break t;case 2:u.mode=17;break;case 3:k.msg="invalid block type",u.mode=30}E>>>=2,z-=2;break;case 14:for(E>>>=7&z,z-=7&z;z<32;){if(B===0)break t;B--,E+=P[Z++]<<z,z+=8}if((65535&E)!=(E>>>16^65535)){k.msg="invalid stored block lengths",u.mode=30;break}if(u.length=65535&E,z=E=0,u.mode=15,O===6)break t;case 15:u.mode=16;case 16:if(K=u.length){if(B<K&&(K=B),F<K&&(K=F),K===0)break t;n.arraySet(Q,P,Z,K,nt),B-=K,Z+=K,F-=K,nt+=K,u.length-=K;break}u.mode=12;break;case 17:for(;z<14;){if(B===0)break t;B--,E+=P[Z++]<<z,z+=8}if(u.nlen=257+(31&E),E>>>=5,z-=5,u.ndist=1+(31&E),E>>>=5,z-=5,u.ncode=4+(15&E),E>>>=4,z-=4,286<u.nlen||30<u.ndist){k.msg="too many length or distance symbols",u.mode=30;break}u.have=0,u.mode=18;case 18:for(;u.have<u.ncode;){for(;z<3;){if(B===0)break t;B--,E+=P[Z++]<<z,z+=8}u.lens[H[u.have++]]=7&E,E>>>=3,z-=3}for(;u.have<19;)u.lens[H[u.have++]]=0;if(u.lencode=u.lendyn,u.lenbits=7,j={bits:u.lenbits},W=f(0,u.lens,0,19,u.lencode,0,u.work,j),u.lenbits=j.bits,W){k.msg="invalid code lengths set",u.mode=30;break}u.have=0,u.mode=19;case 19:for(;u.have<u.nlen+u.ndist;){for(;ft=(w=u.lencode[E&(1<<u.lenbits)-1])>>>16&255,bt=65535&w,!((it=w>>>24)<=z);){if(B===0)break t;B--,E+=P[Z++]<<z,z+=8}if(bt<16)E>>>=it,z-=it,u.lens[u.have++]=bt;else{if(bt===16){for(A=it+2;z<A;){if(B===0)break t;B--,E+=P[Z++]<<z,z+=8}if(E>>>=it,z-=it,u.have===0){k.msg="invalid bit length repeat",u.mode=30;break}a=u.lens[u.have-1],K=3+(3&E),E>>>=2,z-=2}else if(bt===17){for(A=it+3;z<A;){if(B===0)break t;B--,E+=P[Z++]<<z,z+=8}z-=it,a=0,K=3+(7&(E>>>=it)),E>>>=3,z-=3}else{for(A=it+7;z<A;){if(B===0)break t;B--,E+=P[Z++]<<z,z+=8}z-=it,a=0,K=11+(127&(E>>>=it)),E>>>=7,z-=7}if(u.have+K>u.nlen+u.ndist){k.msg="invalid bit length repeat",u.mode=30;break}for(;K--;)u.lens[u.have++]=a}}if(u.mode===30)break;if(u.lens[256]===0){k.msg="invalid code -- missing end-of-block",u.mode=30;break}if(u.lenbits=9,j={bits:u.lenbits},W=f(m,u.lens,0,u.nlen,u.lencode,0,u.work,j),u.lenbits=j.bits,W){k.msg="invalid literal/lengths set",u.mode=30;break}if(u.distbits=6,u.distcode=u.distdyn,j={bits:u.distbits},W=f(p,u.lens,u.nlen,u.ndist,u.distcode,0,u.work,j),u.distbits=j.bits,W){k.msg="invalid distances set",u.mode=30;break}if(u.mode=20,O===6)break t;case 20:u.mode=21;case 21:if(6<=B&&258<=F){k.next_out=nt,k.avail_out=F,k.next_in=Z,k.avail_in=B,u.hold=E,u.bits=z,c(k,Y),nt=k.next_out,Q=k.output,F=k.avail_out,Z=k.next_in,P=k.input,B=k.avail_in,E=u.hold,z=u.bits,u.mode===12&&(u.back=-1);break}for(u.back=0;ft=(w=u.lencode[E&(1<<u.lenbits)-1])>>>16&255,bt=65535&w,!((it=w>>>24)<=z);){if(B===0)break t;B--,E+=P[Z++]<<z,z+=8}if(ft&&(240&ft)==0){for(pt=it,Ot=ft,xt=bt;ft=(w=u.lencode[xt+((E&(1<<pt+Ot)-1)>>pt)])>>>16&255,bt=65535&w,!(pt+(it=w>>>24)<=z);){if(B===0)break t;B--,E+=P[Z++]<<z,z+=8}E>>>=pt,z-=pt,u.back+=pt}if(E>>>=it,z-=it,u.back+=it,u.length=bt,ft===0){u.mode=26;break}if(32&ft){u.back=-1,u.mode=12;break}if(64&ft){k.msg="invalid literal/length code",u.mode=30;break}u.extra=15&ft,u.mode=22;case 22:if(u.extra){for(A=u.extra;z<A;){if(B===0)break t;B--,E+=P[Z++]<<z,z+=8}u.length+=E&(1<<u.extra)-1,E>>>=u.extra,z-=u.extra,u.back+=u.extra}u.was=u.length,u.mode=23;case 23:for(;ft=(w=u.distcode[E&(1<<u.distbits)-1])>>>16&255,bt=65535&w,!((it=w>>>24)<=z);){if(B===0)break t;B--,E+=P[Z++]<<z,z+=8}if((240&ft)==0){for(pt=it,Ot=ft,xt=bt;ft=(w=u.distcode[xt+((E&(1<<pt+Ot)-1)>>pt)])>>>16&255,bt=65535&w,!(pt+(it=w>>>24)<=z);){if(B===0)break t;B--,E+=P[Z++]<<z,z+=8}E>>>=pt,z-=pt,u.back+=pt}if(E>>>=it,z-=it,u.back+=it,64&ft){k.msg="invalid distance code",u.mode=30;break}u.offset=bt,u.extra=15&ft,u.mode=24;case 24:if(u.extra){for(A=u.extra;z<A;){if(B===0)break t;B--,E+=P[Z++]<<z,z+=8}u.offset+=E&(1<<u.extra)-1,E>>>=u.extra,z-=u.extra,u.back+=u.extra}if(u.offset>u.dmax){k.msg="invalid distance too far back",u.mode=30;break}u.mode=25;case 25:if(F===0)break t;if(K=Y-F,u.offset>K){if((K=u.offset-K)>u.whave&&u.sane){k.msg="invalid distance too far back",u.mode=30;break}ut=K>u.wnext?(K-=u.wnext,u.wsize-K):u.wnext-K,K>u.length&&(K=u.length),ht=u.window}else ht=Q,ut=nt-u.offset,K=u.length;for(F<K&&(K=F),F-=K,u.length-=K;Q[nt++]=ht[ut++],--K;);u.length===0&&(u.mode=21);break;case 26:if(F===0)break t;Q[nt++]=u.length,F--,u.mode=21;break;case 27:if(u.wrap){for(;z<32;){if(B===0)break t;B--,E|=P[Z++]<<z,z+=8}if(Y-=F,k.total_out+=Y,u.total+=Y,Y&&(k.adler=u.check=u.flags?l(u.check,Q,Y,nt-Y):s(u.check,Q,Y,nt-Y)),Y=F,(u.flags?E:g(E))!==u.check){k.msg="incorrect data check",u.mode=30;break}z=E=0}u.mode=28;case 28:if(u.wrap&&u.flags){for(;z<32;){if(B===0)break t;B--,E+=P[Z++]<<z,z+=8}if(E!==(4294967295&u.total)){k.msg="incorrect length check",u.mode=30;break}z=E=0}u.mode=29;case 29:W=1;break t;case 30:W=-3;break t;case 31:return-4;case 32:default:return h}return k.next_out=nt,k.avail_out=F,k.next_in=Z,k.avail_in=B,u.hold=E,u.bits=z,(u.wsize||Y!==k.avail_out&&u.mode<30&&(u.mode<27||O!==4))&&G(k,k.output,k.next_out,Y-k.avail_out)?(u.mode=31,-4):(V-=k.avail_in,Y-=k.avail_out,k.total_in+=V,k.total_out+=Y,u.total+=Y,u.wrap&&Y&&(k.adler=u.check=u.flags?l(u.check,Q,Y,k.next_out-Y):s(u.check,Q,Y,k.next_out-Y)),k.data_type=u.bits+(u.last?64:0)+(u.mode===12?128:0)+(u.mode===20||u.mode===15?256:0),(V==0&&Y===0||O===4)&&W===y&&(W=-5),W)},r.inflateEnd=function(k){if(!k||!k.state)return h;var O=k.state;return O.window&&(O.window=null),k.state=null,y},r.inflateGetHeader=function(k,O){var u;return k&&k.state?(2&(u=k.state).wrap)==0?h:((u.head=O).done=!1,y):h},r.inflateSetDictionary=function(k,O){var u,P=O.length;return k&&k.state?(u=k.state).wrap!==0&&u.mode!==11?h:u.mode===11&&s(1,O,P,0)!==u.check?-3:G(k,O,P,P)?(u.mode=31,-4):(u.havedict=1,y):h},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,o,r){var n=t("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],l=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(m,p,y,h,b,d,_,g){var v,S,I,C,U,N,L,D,M,G=g.bits,k=0,O=0,u=0,P=0,Q=0,Z=0,nt=0,B=0,F=0,E=0,z=null,V=0,Y=new n.Buf16(16),K=new n.Buf16(16),ut=null,ht=0;for(k=0;k<=15;k++)Y[k]=0;for(O=0;O<h;O++)Y[p[y+O]]++;for(Q=G,P=15;1<=P&&Y[P]===0;P--);if(P<Q&&(Q=P),P===0)return b[d++]=20971520,b[d++]=20971520,g.bits=1,0;for(u=1;u<P&&Y[u]===0;u++);for(Q<u&&(Q=u),k=B=1;k<=15;k++)if(B<<=1,(B-=Y[k])<0)return-1;if(0<B&&(m===0||P!==1))return-1;for(K[1]=0,k=1;k<15;k++)K[k+1]=K[k]+Y[k];for(O=0;O<h;O++)p[y+O]!==0&&(_[K[p[y+O]]++]=O);if(N=m===0?(z=ut=_,19):m===1?(z=s,V-=257,ut=l,ht-=257,256):(z=c,ut=f,-1),k=u,U=d,nt=O=E=0,I=-1,C=(F=1<<(Z=Q))-1,m===1&&852<F||m===2&&592<F)return 1;for(;;){for(L=k-nt,M=_[O]<N?(D=0,_[O]):_[O]>N?(D=ut[ht+_[O]],z[V+_[O]]):(D=96,0),v=1<<k-nt,u=S=1<<Z;b[U+(E>>nt)+(S-=v)]=L<<24|D<<16|M|0,S!==0;);for(v=1<<k-1;E&v;)v>>=1;if(v!==0?(E&=v-1,E+=v):E=0,O++,--Y[k]==0){if(k===P)break;k=p[y+_[O]]}if(Q<k&&(E&C)!==I){for(nt===0&&(nt=Q),U+=u,B=1<<(Z=k-nt);Z+nt<P&&!((B-=Y[Z+nt])<=0);)Z++,B<<=1;if(F+=1<<Z,m===1&&852<F||m===2&&592<F)return 1;b[I=E&C]=Q<<24|Z<<16|U-d|0}}return E!==0&&(b[U+E]=k-nt<<24|64<<16|0),g.bits=Q,0}},{"../utils/common":41}],51:[function(t,o,r){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,o,r){var n=t("../utils/common"),s=0,l=1;function c(w){for(var x=w.length;0<=--x;)w[x]=0}var f=0,m=29,p=256,y=p+1+m,h=30,b=19,d=2*y+1,_=15,g=16,v=7,S=256,I=16,C=17,U=18,N=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],G=new Array(2*(y+2));c(G);var k=new Array(2*h);c(k);var O=new Array(512);c(O);var u=new Array(256);c(u);var P=new Array(m);c(P);var Q,Z,nt,B=new Array(h);function F(w,x,H,q,R){this.static_tree=w,this.extra_bits=x,this.extra_base=H,this.elems=q,this.max_length=R,this.has_stree=w&&w.length}function E(w,x){this.dyn_tree=w,this.max_code=0,this.stat_desc=x}function z(w){return w<256?O[w]:O[256+(w>>>7)]}function V(w,x){w.pending_buf[w.pending++]=255&x,w.pending_buf[w.pending++]=x>>>8&255}function Y(w,x,H){w.bi_valid>g-H?(w.bi_buf|=x<<w.bi_valid&65535,V(w,w.bi_buf),w.bi_buf=x>>g-w.bi_valid,w.bi_valid+=H-g):(w.bi_buf|=x<<w.bi_valid&65535,w.bi_valid+=H)}function K(w,x,H){Y(w,H[2*x],H[2*x+1])}function ut(w,x){for(var H=0;H|=1&w,w>>>=1,H<<=1,0<--x;);return H>>>1}function ht(w,x,H){var q,R,J=new Array(_+1),$=0;for(q=1;q<=_;q++)J[q]=$=$+H[q-1]<<1;for(R=0;R<=x;R++){var X=w[2*R+1];X!==0&&(w[2*R]=ut(J[X]++,X))}}function it(w){var x;for(x=0;x<y;x++)w.dyn_ltree[2*x]=0;for(x=0;x<h;x++)w.dyn_dtree[2*x]=0;for(x=0;x<b;x++)w.bl_tree[2*x]=0;w.dyn_ltree[2*S]=1,w.opt_len=w.static_len=0,w.last_lit=w.matches=0}function ft(w){8<w.bi_valid?V(w,w.bi_buf):0<w.bi_valid&&(w.pending_buf[w.pending++]=w.bi_buf),w.bi_buf=0,w.bi_valid=0}function bt(w,x,H,q){var R=2*x,J=2*H;return w[R]<w[J]||w[R]===w[J]&&q[x]<=q[H]}function pt(w,x,H){for(var q=w.heap[H],R=H<<1;R<=w.heap_len&&(R<w.heap_len&&bt(x,w.heap[R+1],w.heap[R],w.depth)&&R++,!bt(x,q,w.heap[R],w.depth));)w.heap[H]=w.heap[R],H=R,R<<=1;w.heap[H]=q}function Ot(w,x,H){var q,R,J,$,X=0;if(w.last_lit!==0)for(;q=w.pending_buf[w.d_buf+2*X]<<8|w.pending_buf[w.d_buf+2*X+1],R=w.pending_buf[w.l_buf+X],X++,q===0?K(w,R,x):(K(w,(J=u[R])+p+1,x),($=N[J])!==0&&Y(w,R-=P[J],$),K(w,J=z(--q),H),($=L[J])!==0&&Y(w,q-=B[J],$)),X<w.last_lit;);K(w,S,x)}function xt(w,x){var H,q,R,J=x.dyn_tree,$=x.stat_desc.static_tree,X=x.stat_desc.has_stree,rt=x.stat_desc.elems,gt=-1;for(w.heap_len=0,w.heap_max=d,H=0;H<rt;H++)J[2*H]!==0?(w.heap[++w.heap_len]=gt=H,w.depth[H]=0):J[2*H+1]=0;for(;w.heap_len<2;)J[2*(R=w.heap[++w.heap_len]=gt<2?++gt:0)]=1,w.depth[R]=0,w.opt_len--,X&&(w.static_len-=$[2*R+1]);for(x.max_code=gt,H=w.heap_len>>1;1<=H;H--)pt(w,J,H);for(R=rt;H=w.heap[1],w.heap[1]=w.heap[w.heap_len--],pt(w,J,1),q=w.heap[1],w.heap[--w.heap_max]=H,w.heap[--w.heap_max]=q,J[2*R]=J[2*H]+J[2*q],w.depth[R]=(w.depth[H]>=w.depth[q]?w.depth[H]:w.depth[q])+1,J[2*H+1]=J[2*q+1]=R,w.heap[1]=R++,pt(w,J,1),2<=w.heap_len;);w.heap[--w.heap_max]=w.heap[1],function(dt,At){var Xt,Ft,Qt,yt,se,ve,Pt=At.dyn_tree,Oe=At.max_code,gn=At.stat_desc.static_tree,_n=At.stat_desc.has_stree,vn=At.stat_desc.extra_bits,Fe=At.stat_desc.extra_base,$t=At.stat_desc.max_length,oe=0;for(yt=0;yt<=_;yt++)dt.bl_count[yt]=0;for(Pt[2*dt.heap[dt.heap_max]+1]=0,Xt=dt.heap_max+1;Xt<d;Xt++)$t<(yt=Pt[2*Pt[2*(Ft=dt.heap[Xt])+1]+1]+1)&&(yt=$t,oe++),Pt[2*Ft+1]=yt,Oe<Ft||(dt.bl_count[yt]++,se=0,Fe<=Ft&&(se=vn[Ft-Fe]),ve=Pt[2*Ft],dt.opt_len+=ve*(yt+se),_n&&(dt.static_len+=ve*(gn[2*Ft+1]+se)));if(oe!==0){do{for(yt=$t-1;dt.bl_count[yt]===0;)yt--;dt.bl_count[yt]--,dt.bl_count[yt+1]+=2,dt.bl_count[$t]--,oe-=2}while(0<oe);for(yt=$t;yt!==0;yt--)for(Ft=dt.bl_count[yt];Ft!==0;)Oe<(Qt=dt.heap[--Xt])||(Pt[2*Qt+1]!==yt&&(dt.opt_len+=(yt-Pt[2*Qt+1])*Pt[2*Qt],Pt[2*Qt+1]=yt),Ft--)}}(w,x),ht(J,gt,w.bl_count)}function a(w,x,H){var q,R,J=-1,$=x[1],X=0,rt=7,gt=4;for($===0&&(rt=138,gt=3),x[2*(H+1)+1]=65535,q=0;q<=H;q++)R=$,$=x[2*(q+1)+1],++X<rt&&R===$||(X<gt?w.bl_tree[2*R]+=X:R!==0?(R!==J&&w.bl_tree[2*R]++,w.bl_tree[2*I]++):X<=10?w.bl_tree[2*C]++:w.bl_tree[2*U]++,J=R,gt=(X=0)===$?(rt=138,3):R===$?(rt=6,3):(rt=7,4))}function W(w,x,H){var q,R,J=-1,$=x[1],X=0,rt=7,gt=4;for($===0&&(rt=138,gt=3),q=0;q<=H;q++)if(R=$,$=x[2*(q+1)+1],!(++X<rt&&R===$)){if(X<gt)for(;K(w,R,w.bl_tree),--X!=0;);else R!==0?(R!==J&&(K(w,R,w.bl_tree),X--),K(w,I,w.bl_tree),Y(w,X-3,2)):X<=10?(K(w,C,w.bl_tree),Y(w,X-3,3)):(K(w,U,w.bl_tree),Y(w,X-11,7));J=R,gt=(X=0)===$?(rt=138,3):R===$?(rt=6,3):(rt=7,4)}}c(B);var j=!1;function A(w,x,H,q){Y(w,(f<<1)+(q?1:0),3),function(R,J,$,X){ft(R),X&&(V(R,$),V(R,~$)),n.arraySet(R.pending_buf,R.window,J,$,R.pending),R.pending+=$}(w,x,H,!0)}r._tr_init=function(w){j||(function(){var x,H,q,R,J,$=new Array(_+1);for(R=q=0;R<m-1;R++)for(P[R]=q,x=0;x<1<<N[R];x++)u[q++]=R;for(u[q-1]=R,R=J=0;R<16;R++)for(B[R]=J,x=0;x<1<<L[R];x++)O[J++]=R;for(J>>=7;R<h;R++)for(B[R]=J<<7,x=0;x<1<<L[R]-7;x++)O[256+J++]=R;for(H=0;H<=_;H++)$[H]=0;for(x=0;x<=143;)G[2*x+1]=8,x++,$[8]++;for(;x<=255;)G[2*x+1]=9,x++,$[9]++;for(;x<=279;)G[2*x+1]=7,x++,$[7]++;for(;x<=287;)G[2*x+1]=8,x++,$[8]++;for(ht(G,y+1,$),x=0;x<h;x++)k[2*x+1]=5,k[2*x]=ut(x,5);Q=new F(G,N,p+1,y,_),Z=new F(k,L,0,h,_),nt=new F(new Array(0),D,0,b,v)}(),j=!0),w.l_desc=new E(w.dyn_ltree,Q),w.d_desc=new E(w.dyn_dtree,Z),w.bl_desc=new E(w.bl_tree,nt),w.bi_buf=0,w.bi_valid=0,it(w)},r._tr_stored_block=A,r._tr_flush_block=function(w,x,H,q){var R,J,$=0;0<w.level?(w.strm.data_type===2&&(w.strm.data_type=function(X){var rt,gt=4093624447;for(rt=0;rt<=31;rt++,gt>>>=1)if(1&gt&&X.dyn_ltree[2*rt]!==0)return s;if(X.dyn_ltree[18]!==0||X.dyn_ltree[20]!==0||X.dyn_ltree[26]!==0)return l;for(rt=32;rt<p;rt++)if(X.dyn_ltree[2*rt]!==0)return l;return s}(w)),xt(w,w.l_desc),xt(w,w.d_desc),$=function(X){var rt;for(a(X,X.dyn_ltree,X.l_desc.max_code),a(X,X.dyn_dtree,X.d_desc.max_code),xt(X,X.bl_desc),rt=b-1;3<=rt&&X.bl_tree[2*M[rt]+1]===0;rt--);return X.opt_len+=3*(rt+1)+5+5+4,rt}(w),R=w.opt_len+3+7>>>3,(J=w.static_len+3+7>>>3)<=R&&(R=J)):R=J=H+5,H+4<=R&&x!==-1?A(w,x,H,q):w.strategy===4||J===R?(Y(w,2+(q?1:0),3),Ot(w,G,k)):(Y(w,4+(q?1:0),3),function(X,rt,gt,dt){var At;for(Y(X,rt-257,5),Y(X,gt-1,5),Y(X,dt-4,4),At=0;At<dt;At++)Y(X,X.bl_tree[2*M[At]+1],3);W(X,X.dyn_ltree,rt-1),W(X,X.dyn_dtree,gt-1)}(w,w.l_desc.max_code+1,w.d_desc.max_code+1,$+1),Ot(w,w.dyn_ltree,w.dyn_dtree)),it(w),q&&ft(w)},r._tr_tally=function(w,x,H){return w.pending_buf[w.d_buf+2*w.last_lit]=x>>>8&255,w.pending_buf[w.d_buf+2*w.last_lit+1]=255&x,w.pending_buf[w.l_buf+w.last_lit]=255&H,w.last_lit++,x===0?w.dyn_ltree[2*H]++:(w.matches++,x--,w.dyn_ltree[2*(u[H]+p+1)]++,w.dyn_dtree[2*z(x)]++),w.last_lit===w.lit_bufsize-1},r._tr_align=function(w){Y(w,2,3),K(w,S,G),function(x){x.bi_valid===16?(V(x,x.bi_buf),x.bi_buf=0,x.bi_valid=0):8<=x.bi_valid&&(x.pending_buf[x.pending++]=255&x.bi_buf,x.bi_buf>>=8,x.bi_valid-=8)}(w)}},{"../utils/common":41}],53:[function(t,o,r){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,o,r){(function(n){(function(s,l){if(!s.setImmediate){var c,f,m,p,y=1,h={},b=!1,d=s.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(s);_=_&&_.setTimeout?_:s,c={}.toString.call(s.process)==="[object process]"?function(I){process.nextTick(function(){v(I)})}:function(){if(s.postMessage&&!s.importScripts){var I=!0,C=s.onmessage;return s.onmessage=function(){I=!1},s.postMessage("","*"),s.onmessage=C,I}}()?(p="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",S,!1):s.attachEvent("onmessage",S),function(I){s.postMessage(p+I,"*")}):s.MessageChannel?((m=new MessageChannel).port1.onmessage=function(I){v(I.data)},function(I){m.port2.postMessage(I)}):d&&"onreadystatechange"in d.createElement("script")?(f=d.documentElement,function(I){var C=d.createElement("script");C.onreadystatechange=function(){v(I),C.onreadystatechange=null,f.removeChild(C),C=null},f.appendChild(C)}):function(I){setTimeout(v,0,I)},_.setImmediate=function(I){typeof I!="function"&&(I=new Function(""+I));for(var C=new Array(arguments.length-1),U=0;U<C.length;U++)C[U]=arguments[U+1];var N={callback:I,args:C};return h[y]=N,c(y),y++},_.clearImmediate=g}function g(I){delete h[I]}function v(I){if(b)setTimeout(v,0,I);else{var C=h[I];if(C){b=!0;try{(function(U){var N=U.callback,L=U.args;switch(L.length){case 0:N();break;case 1:N(L[0]);break;case 2:N(L[0],L[1]);break;case 3:N(L[0],L[1],L[2]);break;default:N.apply(l,L)}})(C)}finally{g(I),b=!1}}}}function S(I){I.source===s&&typeof I.data=="string"&&I.data.indexOf(p)===0&&v(+I.data.slice(p.length))}})(typeof self>"u"?n===void 0?this:n:self)}).call(this,typeof ce<"u"?ce:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(mn);const Ye=mn.exports,Ci="data:text/plain;base64,IyBIb3cgdG8gc2V0dXAgdGhlIHBsdWdpbg0KDQojIyBPbmNlIHlvdSBoYXZlIGRvd25sb2FkZWQgdGhpcyBmaWxlIHB1dCB0aGUgZGlzY3MuanNvbiBmaWxlIGluIHRoZSByb290IG9mIHBsdWdpbiBkaXJlY3RvcnkNCg0KYGBgDQpTZXJ2ZXINCuKUlOKUgOKUgOKUgC4uLg0K4pSU4pSA4pSA4pSAcGx1Z2lucw0KICAgIOKUlOKUgOKUgOKUgEp1a2Vib3hFeHRlbmRlZFJlYm9ybg0KICAgIOKUgiAgIOKUlOKUgOKUgOKUgGRpc2NzLmpzb24NCgnilIIJ4pSU4pSA4pSA4pSAY29uZmlnLmpzb24NCgnilIIJ4pSU4pSA4pSA4pSALi4uDQoJ4pSU4pSA4pSA4pSASmV4dC5qYXINCgnilJTilIDilIDilIAuLi4NCmBgYA0KDQojIyBBcyBmb3IgdGhlIHJlc291cmNlIHBhY2sgZmlsZSB5b3UgY2FuIHNldCBpdCB1cCBieSBlZGl0aW5nIHRoZSBzZXJ2ZXIgY29uZmlnIGZpbGUNCg0KRXhhbXBsZSB1cGxvYWQgeW91ciBmaWxlIHRvIGRyb3Bib3guDQpHZW5lcmF0ZSBhIGRvd25sb2FkIHVybCBhbmQgcmVwbGFjZSB0aGUgZGw9MCBhdCB0aGUgZW5kIG9mIHRoZSB1cmwgd2l0aCBhIGRsPTENCg0KRXhhbXBsZToNCm9yaWdpbmFsIHVybDogaHR0cHM6Ly93d3cuZHJvcGJveC5jb20vcy9tc2llN2h1Y25wYmtmeS90ZXN0LlBORz9kbD0wDQplZGl0ZWQgICB1cmw6IGh0dHBzOi8vd3d3LmRyb3Bib3guY29tL3MvbXNpZTdodWNucGJrZnkvdGVzdC5QTkc/ZGw9MQ0KDQp0aGVuIGluIHRoZSBzZXJ2ZXIucHJvcGVydGllcyBmaWxlIHNldCB0aGUgc2VydmVyLXJlc291cmNlLXBhY2sgdG8gdGhlIGVkaXRlZCB1cmwNCg0KIyBZb3VyIHBsdWdpbiBpcyBub3cgcmVhZHkgdG8gZ28sIHJlc3RhcnQgdGhlIHNlcnZlciB0byBzdGFydCB1c2luZyBqZXh0",zi=async(i,e,t,o,r)=>{const n=new Ye,s=`
        {"pack": {"pack_format": ${e},"description": "Adds custom musics discs"}}
    `;n.file("pack.mcmeta",s);const c=await(await(await fetch(t)).blob()).arrayBuffer();n.file("pack.png",c);const f=n.folder("assets").folder("minecraft"),m={};i.forEach(d=>{m[`music_disc.${d.namespace}`]={sounds:[{name:`records/${d.namespace}`,stream:!0}]}}),f.file("sounds.json",JSON.stringify(m,null,2));const p=f.folder("models").folder("item"),y=f.folder("sounds").folder("records"),h=f.folder("textures").folder("item"),b={parent:"item/generated",textures:{layer0:"item/music_disc_11"},overrides:i.map((d,_)=>({predicate:{custom_model_data:_},model:`item/music_disc_${d.namespace}`}))};p.file("music_disc_11.json",JSON.stringify(b,null,2));for(let d=0;d<i.length;d++){const _=i[d],g=await(await Ir(_.texture,16,16)).arrayBuffer();h.file(`music_disc_${_.namespace}.png`,g);const v=r?await _.monoFile.arrayBuffer():await _.oggFile.arrayBuffer();y.file(`${_.namespace}.ogg`,v),console.log(_),p.file(`music_disc_${_.namespace}.json`,JSON.stringify({parent:"item/generated",textures:{layer0:`item/music_disc_${_.namespace}`}},null,2))}n.generateAsync({type:"blob"}).then(async d=>{const _=new Ye,g=i.map((v,S)=>({title:v.name,author:v.author,"disc-namespace":`music_disc.${v.namespace}`,"model-data":S,"creeper-drop":v.creeperDrop,lores:v.lores.split(`
`),"loot-tables":v.lootTables.join(",").split(",")}));_.file("README.md",await(await fetch(Ci)).arrayBuffer()),_.file(`${o}.zip`,await d.arrayBuffer()),_.file("discs.json",JSON.stringify(g,null,2)),_.generateAsync({type:"blob"}).then(async v=>{Rr(v,"open me.zip")})})};function Je(i){let e,t,o;function r(s){i[8](s)}let n={text:"Add at least a disc"};return i[5]!==void 0&&(n.closePopup=i[5]),e=new Ei({props:n}),kt.push(()=>Et(e,"closePopup",r)),{c(){Rt(e.$$.fragment)},m(s,l){Ct(e,s,l),o=!0},p(s,l){const c={};!t&&l&32&&(t=!0,c.closePopup=s[5],St(()=>t=!1)),e.$set(c)},i(s){o||(ct(e.$$.fragment,s),o=!0)},o(s){_t(e.$$.fragment,s),o=!1},d(s){zt(e,s)}}}function Ii(i){let e,t,o,r;return{c(){e=et("div"),t=et("p"),t.textContent="GENERATE",T(t,"id","generate_text"),T(t,"class","noselect svelte-10qhf59"),T(e,"id","generate_button"),ge(e,"background-image","url("+pn+")"),T(e,"class","grayscale svelte-10qhf59")},m(n,s){at(n,e,s),tt(e,t),o||(r=[ot(e,"click",i[6]),ot(e,"keydown",null)],o=!0)},p:lt,d(n){n&&st(e),o=!1,vt(r)}}}function Bi(i){let e,t,o,r;return{c(){e=et("div"),t=et("p"),t.textContent="GENERATE",T(t,"id","generate_text"),T(t,"class","noselect svelte-10qhf59"),T(e,"id","generate_button"),ge(e,"background-image","url("+pn+")"),T(e,"class","svelte-10qhf59")},m(n,s){at(n,e,s),tt(e,t),o||(r=[ot(e,"click",i[7]),ot(e,"keydown",null)],o=!0)},p:lt,d(n){n&&st(e),o=!1,vt(r)}}}function xi(i){let e,t,o,r,n,s,l,c,f,m,p,y,h,b,d=i[5]&&Je(i);function _(G){i[9](G)}function g(G){i[10](G)}function v(G){i[11](G)}function S(G){i[12](G)}let I={};i[1]!==void 0&&(I.packname=i[1]),i[2]!==void 0&&(I.version=i[2]),i[0]!==void 0&&(I.imagesrc=i[0]),i[3]!==void 0&&(I.useMono=i[3]),o=new ki({props:I}),kt.push(()=>Et(o,"packname",_)),kt.push(()=>Et(o,"version",g)),kt.push(()=>Et(o,"imagesrc",v)),kt.push(()=>Et(o,"useMono",S));function C(G){i[13](G)}function U(G){i[14](G)}let N={};i[4]!==void 0&&(N.discData=i[4]),i[2]!==void 0&&(N.version=i[2]),f=new vi({props:N}),kt.push(()=>Et(f,"discData",C)),kt.push(()=>Et(f,"version",U));function L(G,k){return G[4].length>0?Bi:Ii}let D=L(i),M=D(i);return{c(){e=et("main"),d&&d.c(),t=mt(),Rt(o.$$.fragment),c=mt(),Rt(f.$$.fragment),y=mt(),h=et("div"),M.c(),T(h,"id","footer"),T(h,"class","svelte-10qhf59"),T(e,"class","svelte-10qhf59")},m(G,k){at(G,e,k),d&&d.m(e,null),tt(e,t),Ct(o,e,null),tt(e,c),Ct(f,e,null),tt(e,y),tt(e,h),M.m(h,null),b=!0},p(G,[k]){G[5]?d?(d.p(G,k),k&32&&ct(d,1)):(d=Je(G),d.c(),ct(d,1),d.m(e,t)):d&&(qt(),_t(d,1,1,()=>{d=null}),Kt());const O={};!r&&k&2&&(r=!0,O.packname=G[1],St(()=>r=!1)),!n&&k&4&&(n=!0,O.version=G[2],St(()=>n=!1)),!s&&k&1&&(s=!0,O.imagesrc=G[0],St(()=>s=!1)),!l&&k&8&&(l=!0,O.useMono=G[3],St(()=>l=!1)),o.$set(O);const u={};!m&&k&16&&(m=!0,u.discData=G[4],St(()=>m=!1)),!p&&k&4&&(p=!0,u.version=G[2],St(()=>p=!1)),f.$set(u),D===(D=L(G))&&M?M.p(G,k):(M.d(1),M=D(G),M&&(M.c(),M.m(h,null)))},i(G){b||(ct(d),ct(o.$$.fragment,G),ct(f.$$.fragment,G),b=!0)},o(G){_t(d),_t(o.$$.fragment,G),_t(f.$$.fragment,G),b=!1},d(G){G&&st(e),d&&d.d(),zt(o),zt(f),M.d()}}}function Ri(i,e,t){let o,r,n,s,l=[],c=!1;const f=()=>{t(5,c=!0)},m=()=>{zi(l,n,o,r,s)};function p(v){c=v,t(5,c)}function y(v){r=v,t(1,r)}function h(v){n=v,t(2,n)}function b(v){o=v,t(0,o)}function d(v){s=v,t(3,s)}function _(v){l=v,t(4,l)}function g(v){n=v,t(2,n)}return[o,r,n,s,l,c,f,m,p,y,h,b,d,_,g]}class Oi extends Ht{constructor(e){super(),Gt(this,e,Ri,xi,Wt,{})}}new Oi({target:document.getElementById("app")});
