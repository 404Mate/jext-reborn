(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerpolicy&&(n.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?n.credentials="include":r.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(r){if(r.ep)return;r.ep=!0;const n=t(r);fetch(r.href,n)}})();function lt(){}const Ee=i=>i;function vn(i,e){for(const t in e)i[t]=e[t];return i}function yn(i){return i&&typeof i=="object"&&typeof i.then=="function"}function Xe(i){return i()}function De(){return Object.create(null)}function bt(i){i.forEach(Xe)}function Tt(i){return typeof i=="function"}function Wt(i,e){return i!=i?e==e:i!==e||i&&typeof i=="object"||typeof i=="function"}let le;function wt(i,e){return le||(le=document.createElement("a")),le.href=e,i===le.href}function wn(i){return Object.keys(i).length===0}function kn(i,e,t,o){if(i){const r=Qe(i,e,t,o);return i[0](r)}}function Qe(i,e,t,o){return i[1]&&o?vn(t.ctx.slice(),i[1](o(e))):t.ctx}function An(i,e,t,o){if(i[2]&&o){const r=i[2](o(t));if(e.dirty===void 0)return r;if(typeof r=="object"){const n=[],s=Math.max(e.dirty.length,r.length);for(let a=0;a<s;a+=1)n[a]=e.dirty[a]|r[a];return n}return e.dirty|r}return e.dirty}function Sn(i,e,t,o,r,n){if(r){const s=Qe(e,t,o,n);i.p(s,r)}}function En(i){if(i.ctx.length>32){const e=[],t=i.ctx.length/32;for(let o=0;o<t;o++)e[o]=-1;return e}return-1}const $e=typeof window<"u";let tn=$e?()=>window.performance.now():()=>Date.now(),Ce=$e?i=>requestAnimationFrame(i):lt;const Xt=new Set;function en(i){Xt.forEach(e=>{e.c(i)||(Xt.delete(e),e.f())}),Xt.size!==0&&Ce(en)}function nn(i){let e;return Xt.size===0&&Ce(en),{promise:new Promise(t=>{Xt.add(e={c:i,f:t})}),abort(){Xt.delete(e)}}}function et(i,e){i.appendChild(e)}function rn(i){if(!i)return document;const e=i.getRootNode?i.getRootNode():i.ownerDocument;return e&&e.host?e:i.ownerDocument}function Cn(i){const e=tt("style");return zn(rn(i),e),e.sheet}function zn(i,e){return et(i.head||i,e),e.sheet}function ot(i,e,t){i.insertBefore(e,t||null)}function it(i){i.parentNode.removeChild(i)}function ze(i,e){for(let t=0;t<i.length;t+=1)i[t]&&i[t].d(e)}function tt(i){return document.createElement(i)}function Rt(i){return document.createTextNode(i)}function _t(){return Rt(" ")}function Pt(){return Rt("")}function at(i,e,t,o){return i.addEventListener(e,t,o),()=>i.removeEventListener(e,t,o)}function P(i,e,t){t==null?i.removeAttribute(e):i.getAttribute(e)!==t&&i.setAttribute(e,t)}function In(i){return Array.from(i.childNodes)}function Vt(i,e){e=""+e,i.wholeText!==e&&(i.data=e)}function jt(i,e){i.value=e==null?"":e}function Qt(i,e,t,o){t===null?i.style.removeProperty(e):i.style.setProperty(e,t,o?"important":"")}function Te(i,e){for(let t=0;t<i.options.length;t+=1){const o=i.options[t];if(o.__value===e){o.selected=!0;return}}i.selectedIndex=-1}function Bn(i){const e=i.querySelector(":checked")||i.options[0];return e&&e.__value}function xn(i,e,{bubbles:t=!1,cancelable:o=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(i,t,o,e),r}const pe=new Map;let me=0;function Rn(i){let e=5381,t=i.length;for(;t--;)e=(e<<5)-e^i.charCodeAt(t);return e>>>0}function On(i,e){const t={stylesheet:Cn(e),rules:{}};return pe.set(i,t),t}function we(i,e,t,o,r,n,s,a=0){const c=16.666/o;let d=`{
`;for(let g=0;g<=1;g+=c){const _=e+(t-e)*n(g);d+=g*100+`%{${s(_,1-_)}}
`}const m=d+`100% {${s(t,1-t)}}
}`,p=`__svelte_${Rn(m)}_${a}`,y=rn(i),{stylesheet:h,rules:b}=pe.get(y)||On(y,i);b[p]||(b[p]=!0,h.insertRule(`@keyframes ${p} ${m}`,h.cssRules.length));const f=i.style.animation||"";return i.style.animation=`${f?`${f}, `:""}${p} ${o}ms linear ${r}ms 1 both`,me+=1,p}function ke(i,e){const t=(i.style.animation||"").split(", "),o=t.filter(e?n=>n.indexOf(e)<0:n=>n.indexOf("__svelte")===-1),r=t.length-o.length;r&&(i.style.animation=o.join(", "),me-=r,me||Fn())}function Fn(){Ce(()=>{me||(pe.forEach(i=>{const{ownerNode:e}=i.stylesheet;e&&it(e)}),pe.clear())})}let se;function Nt(i){se=i}function Dn(){if(!se)throw new Error("Function called outside component initialization");return se}const re=[],kt=[],de=[],Ae=[],Tn=Promise.resolve();let Se=!1;function Pn(){Se||(Se=!0,Tn.then(Ie))}function Bt(i){de.push(i)}function Ct(i){Ae.push(i)}const ve=new Set;let ce=0;function Ie(){const i=se;do{for(;ce<re.length;){const e=re[ce];ce++,Nt(e),Ln(e.$$)}for(Nt(null),re.length=0,ce=0;kt.length;)kt.pop()();for(let e=0;e<de.length;e+=1){const t=de[e];ve.has(t)||(ve.add(t),t())}de.length=0}while(re.length);for(;Ae.length;)Ae.pop()();Se=!1,ve.clear(),Nt(i)}function Ln(i){if(i.fragment!==null){i.update(),bt(i.before_update);const e=i.dirty;i.dirty=[-1],i.fragment&&i.fragment.p(i.ctx,e),i.after_update.forEach(Bt)}}let ne;function sn(){return ne||(ne=Promise.resolve(),ne.then(()=>{ne=null})),ne}function ie(i,e,t){i.dispatchEvent(xn(`${e?"intro":"outro"}${t}`))}const he=new Set;let Ut;function Kt(){Ut={r:0,c:[],p:Ut}}function qt(){Ut.r||bt(Ut.c),Ut=Ut.p}function ct(i,e){i&&i.i&&(he.delete(i),i.i(e))}function mt(i,e,t,o){if(i&&i.o){if(he.has(i))return;he.add(i),Ut.c.push(()=>{he.delete(i),o&&(t&&i.d(1),o())}),i.o(e)}else o&&o()}const on={duration:0};function _e(i,e,t){let o=e(i,t),r=!1,n,s,a=0;function c(){n&&ke(i,n)}function d(){const{delay:p=0,duration:y=300,easing:h=Ee,tick:b=lt,css:f}=o||on;f&&(n=we(i,0,1,y,p,h,f,a++)),b(0,1);const g=tn()+p,_=g+y;s&&s.abort(),r=!0,Bt(()=>ie(i,!0,"start")),s=nn(v=>{if(r){if(v>=_)return b(1,0),ie(i,!0,"end"),c(),r=!1;if(v>=g){const S=h((v-g)/y);b(S,1-S)}}return r})}let m=!1;return{start(){m||(m=!0,ke(i),Tt(o)?(o=o(),sn().then(d)):d())},invalidate(){m=!1},end(){r&&(c(),r=!1)}}}function ge(i,e,t,o){let r=e(i,t),n=o?0:1,s=null,a=null,c=null;function d(){c&&ke(i,c)}function m(y,h){const b=y.b-n;return h*=Math.abs(b),{a:n,b:y.b,d:b,duration:h,start:y.start,end:y.start+h,group:y.group}}function p(y){const{delay:h=0,duration:b=300,easing:f=Ee,tick:g=lt,css:_}=r||on,v={start:tn()+h,b:y};y||(v.group=Ut,Ut.r+=1),s||a?a=v:(_&&(d(),c=we(i,n,y,b,h,f,_)),y&&g(0,1),s=m(v,b),Bt(()=>ie(i,y,"start")),nn(S=>{if(a&&S>a.start&&(s=m(a,b),a=null,ie(i,s.b,"start"),_&&(d(),c=we(i,n,s.b,s.duration,0,f,r.css))),s){if(S>=s.end)g(n=s.b,1-n),ie(i,s.b,"end"),a||(s.b?d():--s.group.r||bt(s.group.c)),s=null;else if(S>=s.start){const z=S-s.start;n=s.a+s.d*f(z/s.duration),g(n,1-n)}}return!!(s||a)}))}return{run(y){Tt(r)?sn().then(()=>{r=r(),p(y)}):p(y)},end(){d(),s=a=null}}}function Be(i,e){const t=e.token={};function o(r,n,s,a){if(e.token!==t)return;e.resolved=a;let c=e.ctx;s!==void 0&&(c=c.slice(),c[s]=a);const d=r&&(e.current=r)(c);let m=!1;e.block&&(e.blocks?e.blocks.forEach((p,y)=>{y!==n&&p&&(Kt(),mt(p,1,1,()=>{e.blocks[y]===p&&(e.blocks[y]=null)}),qt())}):e.block.d(1),d.c(),ct(d,1),d.m(e.mount(),e.anchor),m=!0),e.block=d,e.blocks&&(e.blocks[n]=d),m&&Ie()}if(yn(i)){const r=Dn();if(i.then(n=>{Nt(r),o(e.then,1,e.value,n),Nt(null)},n=>{if(Nt(r),o(e.catch,2,e.error,n),Nt(null),!e.hasCatch)throw n}),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,i),!0;e.resolved=i}}function xe(i,e,t){const o=e.slice(),{resolved:r}=i;i.current===i.then&&(o[i.value]=r),i.current===i.catch&&(o[i.error]=r),i.block.p(o,t)}function zt(i,e,t){const o=i.$$.props[e];o!==void 0&&(i.$$.bound[o]=t,t(i.$$.ctx[o]))}function It(i){i&&i.c()}function At(i,e,t,o){const{fragment:r,after_update:n}=i.$$;r&&r.m(e,t),o||Bt(()=>{const s=i.$$.on_mount.map(Xe).filter(Tt);i.$$.on_destroy?i.$$.on_destroy.push(...s):bt(s),i.$$.on_mount=[]}),n.forEach(Bt)}function St(i,e){const t=i.$$;t.fragment!==null&&(bt(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function Nn(i,e){i.$$.dirty[0]===-1&&(re.push(i),Pn(),i.$$.dirty.fill(0)),i.$$.dirty[e/31|0]|=1<<e%31}function Mt(i,e,t,o,r,n,s,a=[-1]){const c=se;Nt(i);const d=i.$$={fragment:null,ctx:[],props:n,update:lt,not_equal:r,bound:De(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:De(),dirty:a,skip_bound:!1,root:e.target||c.$$.root};s&&s(d.root);let m=!1;if(d.ctx=t?t(i,e.props||{},(p,y,...h)=>{const b=h.length?h[0]:y;return d.ctx&&r(d.ctx[p],d.ctx[p]=b)&&(!d.skip_bound&&d.bound[p]&&d.bound[p](b),m&&Nn(i,p)),y}):[],d.update(),m=!0,bt(d.before_update),d.fragment=o?o(d.ctx):!1,e.target){if(e.hydrate){const p=In(e.target);d.fragment&&d.fragment.l(p),p.forEach(it)}else d.fragment&&d.fragment.c();e.intro&&ct(i.$$.fragment),At(i,e.target,e.anchor,e.customElement),Ie()}Nt(c)}class Gt{$destroy(){St(this,1),this.$destroy=lt}$on(e,t){if(!Tt(t))return lt;const o=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return o.push(t),()=>{const r=o.indexOf(t);r!==-1&&o.splice(r,1)}}$set(e){this.$$set&&!wn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}var ue=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Un(i){var e=i.default;if(typeof e=="function"){var t=function(){return e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(o){var r=Object.getOwnPropertyDescriptor(i,o);Object.defineProperty(t,o,r.get?r:{enumerable:!0,get:function(){return i[o]}})}),t}var jn={exports:{}};(function(i){var e=function(t){var o=Object.prototype,r=o.hasOwnProperty,n=Object.defineProperty||function(B,F,E){B[F]=E.value},s,a=typeof Symbol=="function"?Symbol:{},c=a.iterator||"@@iterator",d=a.asyncIterator||"@@asyncIterator",m=a.toStringTag||"@@toStringTag";function p(B,F,E){return Object.defineProperty(B,F,{value:E,enumerable:!0,configurable:!0,writable:!0}),B[F]}try{p({},"")}catch{p=function(F,E,I){return F[E]=I}}function y(B,F,E,I){var V=F&&F.prototype instanceof S?F:S,Y=Object.create(V.prototype),q=new Q(I||[]);return n(Y,"_invoke",{value:k(B,E,q)}),Y}t.wrap=y;function h(B,F,E){try{return{type:"normal",arg:B.call(F,E)}}catch(I){return{type:"throw",arg:I}}}var b="suspendedStart",f="suspendedYield",g="executing",_="completed",v={};function S(){}function z(){}function C(){}var j={};p(j,c,function(){return this});var L=Object.getPrototypeOf,N=L&&L(L(Z([])));N&&N!==o&&r.call(N,c)&&(j=N);var D=C.prototype=S.prototype=Object.create(j);z.prototype=C,n(D,"constructor",{value:C,configurable:!0}),n(C,"constructor",{value:z,configurable:!0}),z.displayName=p(C,m,"GeneratorFunction");function M(B){["next","throw","return"].forEach(function(F){p(B,F,function(E){return this._invoke(F,E)})})}t.isGeneratorFunction=function(B){var F=typeof B=="function"&&B.constructor;return F?F===z||(F.displayName||F.name)==="GeneratorFunction":!1},t.mark=function(B){return Object.setPrototypeOf?Object.setPrototypeOf(B,C):(B.__proto__=C,p(B,m,"GeneratorFunction")),B.prototype=Object.create(D),B},t.awrap=function(B){return{__await:B}};function G(B,F){function E(Y,q,ut,ht){var st=h(B[Y],B,q);if(st.type==="throw")ht(st.arg);else{var ft=st.arg,vt=ft.value;return vt&&typeof vt=="object"&&r.call(vt,"__await")?F.resolve(vt.__await).then(function(pt){E("next",pt,ut,ht)},function(pt){E("throw",pt,ut,ht)}):F.resolve(vt).then(function(pt){ft.value=pt,ut(ft)},function(pt){return E("throw",pt,ut,ht)})}}var I;function V(Y,q){function ut(){return new F(function(ht,st){E(Y,q,ht,st)})}return I=I?I.then(ut,ut):ut()}n(this,"_invoke",{value:V})}M(G.prototype),p(G.prototype,d,function(){return this}),t.AsyncIterator=G,t.async=function(B,F,E,I,V){V===void 0&&(V=Promise);var Y=new G(y(B,F,E,I),V);return t.isGeneratorFunction(F)?Y:Y.next().then(function(q){return q.done?q.value:Y.next()})};function k(B,F,E){var I=b;return function(Y,q){if(I===g)throw new Error("Generator is already running");if(I===_){if(Y==="throw")throw q;return nt()}for(E.method=Y,E.arg=q;;){var ut=E.delegate;if(ut){var ht=O(ut,E);if(ht){if(ht===v)continue;return ht}}if(E.method==="next")E.sent=E._sent=E.arg;else if(E.method==="throw"){if(I===b)throw I=_,E.arg;E.dispatchException(E.arg)}else E.method==="return"&&E.abrupt("return",E.arg);I=g;var st=h(B,F,E);if(st.type==="normal"){if(I=E.done?_:f,st.arg===v)continue;return{value:st.arg,done:E.done}}else st.type==="throw"&&(I=_,E.method="throw",E.arg=st.arg)}}}function O(B,F){var E=B.iterator[F.method];if(E===s){if(F.delegate=null,F.method==="throw"){if(B.iterator.return&&(F.method="return",F.arg=s,O(B,F),F.method==="throw"))return v;F.method="throw",F.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var I=h(E,B.iterator,F.arg);if(I.type==="throw")return F.method="throw",F.arg=I.arg,F.delegate=null,v;var V=I.arg;if(!V)return F.method="throw",F.arg=new TypeError("iterator result is not an object"),F.delegate=null,v;if(V.done)F[B.resultName]=V.value,F.next=B.nextLoc,F.method!=="return"&&(F.method="next",F.arg=s);else return V;return F.delegate=null,v}M(D),p(D,m,"Generator"),p(D,c,function(){return this}),p(D,"toString",function(){return"[object Generator]"});function u(B){var F={tryLoc:B[0]};1 in B&&(F.catchLoc=B[1]),2 in B&&(F.finallyLoc=B[2],F.afterLoc=B[3]),this.tryEntries.push(F)}function T(B){var F=B.completion||{};F.type="normal",delete F.arg,B.completion=F}function Q(B){this.tryEntries=[{tryLoc:"root"}],B.forEach(u,this),this.reset(!0)}t.keys=function(B){var F=Object(B),E=[];for(var I in F)E.push(I);return E.reverse(),function V(){for(;E.length;){var Y=E.pop();if(Y in F)return V.value=Y,V.done=!1,V}return V.done=!0,V}};function Z(B){if(B){var F=B[c];if(F)return F.call(B);if(typeof B.next=="function")return B;if(!isNaN(B.length)){var E=-1,I=function V(){for(;++E<B.length;)if(r.call(B,E))return V.value=B[E],V.done=!1,V;return V.value=s,V.done=!0,V};return I.next=I}}return{next:nt}}t.values=Z;function nt(){return{value:s,done:!0}}return Q.prototype={constructor:Q,reset:function(B){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(T),!B)for(var F in this)F.charAt(0)==="t"&&r.call(this,F)&&!isNaN(+F.slice(1))&&(this[F]=s)},stop:function(){this.done=!0;var B=this.tryEntries[0],F=B.completion;if(F.type==="throw")throw F.arg;return this.rval},dispatchException:function(B){if(this.done)throw B;var F=this;function E(ht,st){return Y.type="throw",Y.arg=B,F.next=ht,st&&(F.method="next",F.arg=s),!!st}for(var I=this.tryEntries.length-1;I>=0;--I){var V=this.tryEntries[I],Y=V.completion;if(V.tryLoc==="root")return E("end");if(V.tryLoc<=this.prev){var q=r.call(V,"catchLoc"),ut=r.call(V,"finallyLoc");if(q&&ut){if(this.prev<V.catchLoc)return E(V.catchLoc,!0);if(this.prev<V.finallyLoc)return E(V.finallyLoc)}else if(q){if(this.prev<V.catchLoc)return E(V.catchLoc,!0)}else if(ut){if(this.prev<V.finallyLoc)return E(V.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(B,F){for(var E=this.tryEntries.length-1;E>=0;--E){var I=this.tryEntries[E];if(I.tryLoc<=this.prev&&r.call(I,"finallyLoc")&&this.prev<I.finallyLoc){var V=I;break}}V&&(B==="break"||B==="continue")&&V.tryLoc<=F&&F<=V.finallyLoc&&(V=null);var Y=V?V.completion:{};return Y.type=B,Y.arg=F,V?(this.method="next",this.next=V.finallyLoc,v):this.complete(Y)},complete:function(B,F){if(B.type==="throw")throw B.arg;return B.type==="break"||B.type==="continue"?this.next=B.arg:B.type==="return"?(this.rval=this.arg=B.arg,this.method="return",this.next="end"):B.type==="normal"&&F&&(this.next=F),v},finish:function(B){for(var F=this.tryEntries.length-1;F>=0;--F){var E=this.tryEntries[F];if(E.finallyLoc===B)return this.complete(E.completion,E.afterLoc),T(E),v}},catch:function(B){for(var F=this.tryEntries.length-1;F>=0;--F){var E=this.tryEntries[F];if(E.tryLoc===B){var I=E.completion;if(I.type==="throw"){var V=I.arg;T(E)}return V}}throw new Error("illegal catch attempt")},delegateYield:function(B,F,E){return this.delegate={iterator:Z(B),resultName:F,nextLoc:E},this.method==="next"&&(this.arg=s),v}},t}(i.exports);try{regeneratorRuntime=e}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}})(jn);var Zn={defaultArgs:["./ffmpeg","-nostdin","-y"],baseOptions:{log:!1,logger:()=>{},progress:()=>{},corePath:""}},Wn=(i,e)=>{const t=i._malloc(e.length*Uint32Array.BYTES_PER_ELEMENT);return e.forEach((o,r)=>{const n=i.lengthBytesUTF8(o)+1,s=i._malloc(n);i.stringToUTF8(o,s,n),i.setValue(t+Uint32Array.BYTES_PER_ELEMENT*r,s,"i32")}),[e.length,t]};const Mn="@ffmpeg/ffmpeg",Gn="0.11.6",Hn="FFmpeg WebAssembly version",Vn="src/index.js",Kn="src/index.d.ts",qn={example:"examples"},Yn={start:"node scripts/server.js","start:worker":"node scripts/worker-server.js",build:"rimraf dist && webpack --config scripts/webpack.config.prod.js","build:worker":"rimraf dist && webpack --config scripts/webpack.config.worker.prod.js",prepublishOnly:"npm run build",lint:"eslint src",wait:"rimraf dist && wait-on http://localhost:3000/dist/ffmpeg.dev.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:ffmpeg test:node:all","test:node":"node node_modules/mocha/bin/_mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js","test:browser":"mocha-headless-chrome -a allow-file-access-from-files -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:ffmpeg":"npm run test:browser -- -f ./tests/ffmpeg.test.html"},Jn={"./src/node/index.js":"./src/browser/index.js"},Xn={type:"git",url:"git+https://github.com/ffmpegwasm/ffmpeg.wasm.git"},Qn=["ffmpeg","WebAssembly","video"],$n="Jerome Wu <jeromewus@gmail.com>",tr="MIT",er={url:"https://github.com/ffmpegwasm/ffmpeg.wasm/issues"},nr={node:">=12.16.1"},rr="https://github.com/ffmpegwasm/ffmpeg.wasm#readme",ir={"is-url":"^1.2.4","node-fetch":"^2.6.1","regenerator-runtime":"^0.13.7","resolve-url":"^0.2.1"},sr={"@babel/core":"^7.12.3","@babel/preset-env":"^7.12.1","@ffmpeg/core":"^0.11.0","@types/emscripten":"^1.39.4","babel-eslint":"^10.1.0","babel-loader":"^8.1.0",chai:"^4.2.0",cors:"^2.8.5",eslint:"^7.12.1","eslint-config-airbnb-base":"^14.1.0","eslint-plugin-import":"^2.22.1",express:"^4.17.1",mocha:"^8.2.1","mocha-headless-chrome":"^2.0.3","npm-run-all":"^4.1.5","wait-on":"^5.3.0",webpack:"^5.3.2","webpack-cli":"^4.1.0","webpack-dev-middleware":"^4.0.0"},an={name:Mn,version:Gn,description:Hn,main:Vn,types:Kn,directories:qn,scripts:Yn,browser:Jn,repository:Xn,keywords:Qn,author:$n,license:tr,bugs:er,engines:nr,homepage:rr,dependencies:ir,devDependencies:sr},or=(typeof process<"u",`https://unpkg.com/@ffmpeg/core@${an.devDependencies["@ffmpeg/core"].substring(1)}/dist/ffmpeg-core.js`),ar={corePath:or};let Re=!1,ln=()=>{};const lr=i=>{Re=i},cr=i=>{ln=i},ur=(i,e)=>{ln({type:i,message:e}),Re&&console.log(`[${i}] ${e}`)};var Ht={logging:Re,setLogging:lr,setCustomLogger:cr,log:ur};const fr=i=>`
createFFmpegCore is not defined. ffmpeg.wasm is unable to find createFFmpegCore after loading ffmpeg-core.js from ${i}. Use another URL when calling createFFmpeg():

const ffmpeg = createFFmpeg({
  corePath: 'http://localhost:3000/ffmpeg-core.js',
});
`;var Pe={CREATE_FFMPEG_CORE_IS_NOT_DEFINED:fr};const Yt=async(i,e)=>{Ht.log("info",`fetch ${i}`);const t=await(await fetch(i)).arrayBuffer();Ht.log("info",`${i} file size = ${t.byteLength} bytes`);const o=new Blob([t],{type:e}),r=URL.createObjectURL(o);return Ht.log("info",`${i} blob URL = ${r}`),r},dr=async({corePath:i,workerPath:e,wasmPath:t})=>{if(typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope){if(typeof i!="string")throw Error("corePath should be a string!");const a=new URL(i,import.meta.url).href,c=await Yt(a,"application/javascript"),d=await Yt(t!==void 0?t:a.replace("ffmpeg-core.js","ffmpeg-core.wasm"),"application/wasm"),m=await Yt(e!==void 0?e:a.replace("ffmpeg-core.js","ffmpeg-core.worker.js"),"application/javascript");return typeof createFFmpegCore>"u"?new Promise(p=>{if(globalThis.importScripts(c),typeof createFFmpegCore>"u")throw Error(Pe.CREATE_FFMPEG_CORE_IS_NOT_DEFINED(a));Ht.log("info","ffmpeg-core.js script loaded"),p({createFFmpegCore,corePath:c,wasmPath:d,workerPath:m})}):(Ht.log("info","ffmpeg-core.js script is loaded already"),Promise.resolve({createFFmpegCore,corePath:c,wasmPath:d,workerPath:m}))}if(typeof i!="string")throw Error("corePath should be a string!");const o=new URL(i,import.meta.url).href,r=await Yt(o,"application/javascript"),n=await Yt(t!==void 0?t:o.replace("ffmpeg-core.js","ffmpeg-core.wasm"),"application/wasm"),s=await Yt(e!==void 0?e:o.replace("ffmpeg-core.js","ffmpeg-core.worker.js"),"application/javascript");return typeof createFFmpegCore>"u"?new Promise(a=>{const c=document.createElement("script"),d=()=>{if(c.removeEventListener("load",d),typeof createFFmpegCore>"u")throw Error(Pe.CREATE_FFMPEG_CORE_IS_NOT_DEFINED(o));Ht.log("info","ffmpeg-core.js script loaded"),a({createFFmpegCore,corePath:r,wasmPath:n,workerPath:s})};c.src=r,c.type="text/javascript",c.addEventListener("load",d),document.getElementsByTagName("head")[0].appendChild(c)}):(Ht.log("info","ffmpeg-core.js script is loaded already"),Promise.resolve({createFFmpegCore,corePath:r,wasmPath:n,workerPath:s}))},hr=i=>new Promise((e,t)=>{const o=new FileReader;o.onload=()=>{e(o.result)},o.onerror=({target:{error:{code:r}}})=>{t(Error(`File could not be read! Code=${r}`))},o.readAsArrayBuffer(i)}),pr=async i=>{let e=i;return typeof i>"u"?new Uint8Array:(typeof i=="string"?/data:_data\/([a-zA-Z]*);base64,([^"]*)/.test(i)?e=atob(i.split(",")[1]).split("").map(t=>t.charCodeAt(0)):e=await(await fetch(new URL(i,import.meta.url).href)).arrayBuffer():(i instanceof File||i instanceof Blob)&&(e=await hr(i)),new Uint8Array(e))},mr=Object.freeze(Object.defineProperty({__proto__:null,defaultOptions:ar,getCreateFFmpegCore:dr,fetchFile:pr},Symbol.toStringTag,{value:"Module"})),cn=Un(mr),{defaultArgs:gr,baseOptions:_r}=Zn,br=Wn,{defaultOptions:vr,getCreateFFmpegCore:yr}=cn,{version:wr}=an,ye=Error("ffmpeg.wasm is not ready, make sure you have completed load().");var kr=(i={})=>{const{log:e,logger:t,progress:o,...r}={..._r,...vr,...i};let n=null,s=null,a=null,c=null,d=!1,m=()=>{},p=e,y=o,h=0,b=0,f=!1,g=0;const _=u=>{u==="FFMPEG_END"&&a!==null&&(a(),a=null,c=null,d=!1)},v=(u,T)=>{m({type:u,message:T}),p&&console.log(`[${u}] ${T}`)},S=u=>{const[T,Q,Z]=u.split(":");return parseFloat(T)*60*60+parseFloat(Q)*60+parseFloat(Z)},z=(u,T)=>{if(typeof u=="string")if(u.startsWith("  Duration")){const Q=u.split(", ")[0].split(": ")[1],Z=S(Q);T({duration:Z,ratio:g}),(h===0||h>Z)&&(h=Z,f=!0)}else if(f&&u.startsWith("    Stream")){const Q=u.match(/([\d.]+) fps/);if(Q){const Z=parseFloat(Q[1]);b=h*Z}else b=0;f=!1}else if(u.startsWith("frame")||u.startsWith("size")){const Q=u.split("time=")[1].split(" ")[0],Z=S(Q),nt=u.match(/frame=\s*(\d+)/);if(b&&nt){const B=parseFloat(nt[1]);g=Math.min(B/b,1)}else g=Z/h;T({ratio:g,time:Z})}else u.startsWith("video:")&&(T({ratio:1}),h=0)},C=({type:u,message:T})=>{v(u,T),z(T,y),_(T)},j=async()=>{if(v("info","load ffmpeg-core"),n===null){v("info","loading ffmpeg-core");const{createFFmpegCore:u,corePath:T,workerPath:Q,wasmPath:Z}=await yr(r);n=await u({mainScriptUrlOrBlob:T,printErr:nt=>C({type:"fferr",message:nt}),print:nt=>C({type:"ffout",message:nt}),locateFile:(nt,B)=>{if(typeof window<"u"||typeof WorkerGlobalScope<"u"){if(typeof Z<"u"&&nt.endsWith("ffmpeg-core.wasm"))return Z;if(typeof Q<"u"&&nt.endsWith("ffmpeg-core.worker.js"))return Q}return B+nt}}),s=n.cwrap(r.mainName||"proxy_main","number",["number","number"]),v("info","ffmpeg-core loaded")}else throw Error("ffmpeg.wasm was loaded, you should not load it again, use ffmpeg.isLoaded() to check next time.")},L=()=>n!==null,N=(...u)=>{if(v("info",`run ffmpeg command: ${u.join(" ")}`),n===null)throw ye;if(d)throw Error("ffmpeg.wasm can only run one command at a time");return d=!0,new Promise((T,Q)=>{const Z=[...gr,...u].filter(nt=>nt.length!==0);a=T,c=Q,s(...br(n,Z))})},D=(u,...T)=>{if(v("info",`run FS.${u} ${T.map(Q=>typeof Q=="string"?Q:`<${Q.length} bytes binary file>`).join(" ")}`),n===null)throw ye;{let Q=null;try{Q=n.FS[u](...T)}catch{throw Error(u==="readdir"?`ffmpeg.FS('readdir', '${T[0]}') error. Check if the path exists, ex: ffmpeg.FS('readdir', '/')`:u==="readFile"?`ffmpeg.FS('readFile', '${T[0]}') error. Check if the path exists`:"Oops, something went wrong in FS operation.")}return Q}},M=()=>{if(n===null)throw ye;c&&c("ffmpeg has exited"),d=!1;try{n.exit(1)}catch(u){v(u.message),c&&c(u)}finally{n=null,s=null,a=null,c=null}},G=u=>{y=u},k=u=>{m=u},O=u=>{p=u};return v("info",`use ffmpeg.wasm v${wr}`),{setProgress:G,setLogger:k,setLogging:O,load:j,isLoaded:L,run:N,exit:M,FS:D}};const Ar=kr,{fetchFile:Sr}=cn;var Er={createFFmpeg:Ar,fetchFile:Sr};const Dt=Er.createFFmpeg({corePath:"../ffmpeg-core/ffmpeg-core.js",mainName:"main"}),Cr=async i=>i.type=="audio/ogg"?new Blob([i],{type:"audio/ogg"}):await new Promise(e=>{const t=new FileReader,o=new Blob([i]);t.readAsArrayBuffer(o),t.onload=async()=>{const r=t.result;await Dt.load(),Dt.FS("writeFile","audio",new Uint8Array(r)),await Dt.run("-i","audio","-acodec","libvorbis","/output.ogg");const n=Dt.FS("readFile","/output.ogg");Dt.exit(),e(new Blob([n],{type:"audio/ogg"}))}}),zr=async i=>await new Promise(e=>{const t=new FileReader;t.readAsArrayBuffer(i),t.onload=async()=>{const o=t.result;await Dt.load(),Dt.FS("writeFile","audio",new Uint8Array(o)),await Dt.run("-i","audio","-ac","1","/output.ogg");const r=Dt.FS("readFile","/output.ogg");Dt.exit(),e(new Blob([r],{type:"audio/ogg"}))}}),Ir=async(i,e,t)=>await new Promise(o=>{const r=new Image;r.src=URL.createObjectURL(i),r.onload=()=>{const n=document.createElement("canvas");n.width=e,n.height=t,n.getContext("2d").drawImage(r,0,0,e,t);const a=n.toDataURL("image/png");o(Br(a))}}),Br=i=>new Promise(e=>{const t=xr(i);e(new Blob([t],{type:"image/png"}))}),xr=i=>{const e=i.split(",")[1],t=window.atob(e),o=new ArrayBuffer(t.length),r=new Uint8Array(o);for(let n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return o},Rr=(i,e)=>{const t=document.createElement("a");t.href=URL.createObjectURL(i),t.download=e,t.click()};function Or(i){let e,t,o,r;const n=i[3].default,s=kn(n,i,i[2],null);return{c(){e=tt("div"),t=tt("span"),o=_t(),s&&s.c(),P(t,"id","tooltiptext"),Qt(t,"width",i[1]),P(t,"class","svelte-1fq2bta"),P(e,"id","container"),P(e,"class","svelte-1fq2bta")},m(a,c){ot(a,e,c),et(e,t),t.innerHTML=i[0],et(e,o),s&&s.m(e,null),r=!0},p(a,[c]){(!r||c&1)&&(t.innerHTML=a[0]),(!r||c&2)&&Qt(t,"width",a[1]),s&&s.p&&(!r||c&4)&&Sn(s,n,a,a[2],r?An(n,a[2],c,null):En(a[2]),null)},i(a){r||(ct(s,a),r=!0)},o(a){mt(s,a),r=!1},d(a){a&&it(e),s&&s.d(a)}}}function Fr(i,e,t){let{$$slots:o={},$$scope:r}=e,{text:n}=e,{width:s="120px"}=e;return i.$$set=a=>{"text"in a&&t(0,n=a.text),"width"in a&&t(1,s=a.width),"$$scope"in a&&t(2,r=a.$$scope)},[n,s,r,o]}class Jt extends Gt{constructor(e){super(),Mt(this,e,Fr,Or,Wt,{text:0,width:1})}}const Dr="/jext-reborn/assets/default_disk.59365372.png",un="/jext-reborn/assets/loading.9ab4977f.webp",fn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAFxnpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjarVdZkuQoDP3nFHMEkBDLcVgj5gZz/Hkshsyq6umqjrHDNinL4klPSKRq//zd1V84iLxWVnxw0TmNw0YbKWEQ9DrivBtt530dzzvzLlfnBUHEePL66dPWT5DL/eDYye9yFfYbCtuQOYbnwWPmMa6vICGnJTd2G4ptDVwM/hVq3oaKfXFpX/a6N4/xW70JPKJUBRMxUWPDet7DQsDjIk5DjrvmAD0zJcxR4SFstjEE5M2956nfAv0e/D1SH6N/Rh+CT2nL+UMs3cOa+/qFkQ9yPtPQ68R8ENH7i+S1/+TOvnqvofe2vEvWIaJuZ9QM9hOhoZgRcp6fOZwel2Ds5xlxBp10AeVVF51xFhMNIfpdGWuqSaabNp/FFEC01MjjSVSIpyywp0iFB092nKaT58iVA3gr1BSos0wHi5nzxjlfMQEzVwNVMjBmJv2/ONV/vfzJqXovI0RGhxMr4KKR14AxmBt3aIEQ0zdvMgP8nJt+/ZI/SFUwKDPMAQ4mnZeJLObmFk+eGXqC51pCRvm6DSBEmFsAxjAY0M6wGGe0R7UxBnEMICgBObGlDAaMCFWAJMvsSHnCksHc+MabqUtCjoYYtQlECDv24CZyAlnWCvLH24AcSsJiRcSJl6AkSnLsrBPnnHejyCXP3nrxznsffPQpcLBBggs+hBBDihQZNVCiiz6GGGNKpBImSrCVoJ8gyZQ52yzZZZ9DjjkVpE+xRYorvoQSS6pUuaJMVFd9DTXW1IxqqBTNNmmu+RZabKkj1zp326W77nvosafD2mb10/kD1sxmjSZTQ88f1iBV3j8mzCgnMjgDY2QNGPeDASQ0Dc50MNbSYG5wpiNhUQgBpAxuVDWDMVBomyHp5nB3mfsWb0rCt3ij3zGnBnX/B3MK1H3m7QvW6uhzZTK2VuGIqWasvtYpII8CcgCoxzhAt1MbA8rNlx6dnj+CRjWaCi1xpSNMfenWwFXJJ93C6IWPULcp7LFxOVKK1VgBWwjwGFhtirJLVukKW5wDgasvQqlTOIB2KksDraLJ+l5Zn+wj9dKXckbrT590A/YDR2gWgM7FhyFVUyw8QaeSj08hLv+TzdejZbE45P2DtC437Sj+zySy9AJK9aOW84JoY3UHNwrSFuZrT5UFsblYrkm7TOZYjy/ex/V51bH1GzraYlWw2PmqO79GckBFWZEfLflE7WHosqFMCY/UtTv9Rh+TN9fkIdMeWd1MdGXJ52sgPnJyvkR9uc+HzkyPttTNB5JNq4elWnY+Wg7hyfOm0xxlc4Pil/MS85kHpX3S75I7CeaRmWtyZEq4SOPvkKpfQf0pUvUrqN9EWh6kClDDDYD1G6pDITrqei+zRK/rCcK9+krsrG4W6pXrCMHjVvN515RoO3Zgp3xscSiNH6Hi2pe/KE/IzCcKZetGxOMYKGEXFVe6P6rNpFXYurXdnjgOs7sERW7uyIuZ5mI83KCg7EBUikjIm42y5SaWu0JzX+FEpjZ36HBrshbYbrxKP+6UcIODLrAToR4PUM/c4pxPBTbrJa7h2vbItqfS5vsx2WWxoIDlT7W6JC79IpL1GULV2q3VP4WpvsT5BzDVlzjRUh6idXe3V/FOCvyJOUI0xenaaFX5YmBZqlm38lj9+OS8e18pFxJiVJPbGWnRZ85ET/IlwpRn/rRThEy56zDWatTIkYhefqRmtyQx9UU11aclnWR6f6pRLp+ccygwdwHXp9ySjzdBn2VdDWa8FSitCpmxk7orqm7qbXMv69ftPk9c5YvoqS/D+Sm8WP7P3sJ2NKlHblZ4W2aVbn5I2hlXXjLzu/jUN/B8C596B3jxtbyTYmwuT/fvi7xsbrPunGRuIqRlbNKu3MpSLhYbplM29lKpnG7yYqO+F2S5q7+Vrepem0XbHYT5brKWV0mHd5jqS5x/AFN9ifOnMLl3VSP+R/wLwQRCBdriyuEAAAGFaUNDUElDQyBwcm9maWxlAAB4nH2RPUjDUBSFT1ulpVQc2kHEIUPVxYKoiKNWoQgVQq3QqoPJS/+gSUOS4uIouBYc/FmsOrg46+rgKgiCPyCOTk6KLlLifUmhRYwPLu/jvHcO990H+JtVppo944CqWUYmlRRy+VUh+IowQlSjiErM1OdEMQ3P9XUPH9/vEjzL+96fq08pmAzwCcSzTDcs4g3i6U1L57xPHGNlSSE+Jx4zqEHiR67LLr9xLjns55kxI5uZJ44RC6UulruYlQ2VeIo4rqga5ftzLiuctzir1Tpr98lfGCloK8tcpxpCCotYgggBMuqooAoLCdo1Ukxk6Dzp4R90/CK5ZHJVwMixgBpUSI4f/A9+z9YsTk64SZEk0Pti2x/DQHAXaDVs+/vYtlsnQOAZuNI6/loTmPkkvdHR4kdA/zZwcd3R5D3gcgcYeNIlQ3KkAJW/WATez+ib8kD0FgivuXNrn+P0AcjSrNI3wMEhMFKi7HWPd4e65/bvnfb8fgBGIXKVL4xNQwAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB+YKCAonM+tPNNQAAAELSURBVBjTNcE9SAJhAIDh9w5L+gSRMDUlIeiHhhAuTAocg6CWNgfnoKGIppaWyCgaAt1CCCvhIBCqrSCEIi4olKvxKjuzHBpEkA6PsKnnkfKPh50VY5UpobDgTRJ1RbkQR1iNNuVbA2ksM9KZVCYwmy+M90Z41aoMzfXRqlgs+zaQw4qH4v41PzmbYfcoLqebwtoVT1kDIQRyV7eTTltCU0s8W/c0glXM8zpvZpVscw9H3DlD/1KQyG6MnfVtpF+ZG71I6jLFp1zDESKAVnngJHfMx9k3AMmeBLObcRL2InLYM4hPBNDUEv/eT+tYNZv0XRo53zogFBf4p71k9C0KZZWBeR+G/oU/JvgD3DRc8fJrLSwAAAAASUVORK5CYII=",Tr="/jext-reborn/assets/chest.dc4b25ff.png",Pr="/jext-reborn/assets/delete_btn.871175bc.png",Lr="/jext-reborn/assets/delete_btn_hover.386c7405.png";function Zt(i,{delay:e=0,duration:t=400,easing:o=Ee}={}){const r=+getComputedStyle(i).opacity;return{delay:e,duration:t,easing:o,css:n=>`opacity: ${n*r}`}}function Nr(i){return{c:lt,m:lt,p:lt,i:lt,o:lt,d:lt}}function Ur(i){let e;function t(n,s){return n[0]?Zr:jr}let o=t(i),r=o(i);return{c(){r.c(),e=Pt()},m(n,s){r.m(n,s),ot(n,e,s)},p(n,s){o===(o=t(n))&&r?r.p(n,s):(r.d(1),r=o(n),r&&(r.c(),ct(r,1),r.m(e.parentNode,e)))},i(n){ct(r)},o:lt,d(n){r.d(n),n&&it(e)}}}function jr(i){let e,t,o,r,n,s,a,c,d;return{c(){e=tt("div"),t=tt("img"),r=_t(),n=tt("p"),s=Rt(i[2]),wt(t.src,o=i[1])||P(t,"src",o),P(t,"alt",i[2]),P(t,"class","svelte-72nmcc"),P(e,"class","svelte-72nmcc")},m(m,p){ot(m,e,p),et(e,t),et(e,r),et(e,n),et(n,s),c||(d=[at(e,"click",function(){Tt(i[3])&&i[3].apply(this,arguments)}),at(e,"keydown",null)],c=!0)},p(m,p){i=m,p&2&&!wt(t.src,o=i[1])&&P(t,"src",o),p&4&&P(t,"alt",i[2]),p&4&&Vt(s,i[2])},i(m){a||Bt(()=>{a=_e(e,Zt,{}),a.start()})},o:lt,d(m){m&&it(e),c=!1,bt(d)}}}function Zr(i){let e,t,o,r,n,s,a,c,d;return{c(){e=tt("div"),t=tt("img"),r=_t(),n=tt("p"),s=Rt(i[2]),wt(t.src,o=i[6])||P(t,"src",o),P(t,"alt",i[2]),P(t,"class","svelte-72nmcc"),P(e,"class","selected svelte-72nmcc")},m(m,p){ot(m,e,p),et(e,t),et(e,r),et(e,n),et(n,s),c||(d=[at(e,"click",function(){Tt(i[3])&&i[3].apply(this,arguments)}),at(e,"keydown",null)],c=!0)},p(m,p){i=m,p&4&&P(t,"alt",i[2]),p&4&&Vt(s,i[2])},i(m){a||Bt(()=>{a=_e(e,Zt,{}),a.start()})},o:lt,d(m){m&&it(e),c=!1,bt(d)}}}function Wr(i){let e;function t(n,s){return n[0]?Gr:Mr}let o=t(i),r=o(i);return{c(){r.c(),e=Pt()},m(n,s){r.m(n,s),ot(n,e,s)},p(n,s){o===(o=t(n))&&r?r.p(n,s):(r.d(1),r=o(n),r&&(r.c(),ct(r,1),r.m(e.parentNode,e)))},i(n){ct(r)},o:lt,d(n){r.d(n),n&&it(e)}}}function Mr(i){let e,t,o,r,n,s,a,c,d;return{c(){e=tt("div"),t=tt("img"),r=_t(),n=tt("p"),s=Rt(i[2]),wt(t.src,o=i[1])||P(t,"src",o),P(t,"alt",i[2]),P(t,"class","svelte-72nmcc"),P(e,"class","svelte-72nmcc")},m(m,p){ot(m,e,p),et(e,t),et(e,r),et(e,n),et(n,s),c||(d=[at(e,"click",function(){Tt(i[3])&&i[3].apply(this,arguments)}),at(e,"keydown",null)],c=!0)},p(m,p){i=m,p&2&&!wt(t.src,o=i[1])&&P(t,"src",o),p&4&&P(t,"alt",i[2]),p&4&&Vt(s,i[2])},i(m){a||Bt(()=>{a=_e(e,Zt,{}),a.start()})},o:lt,d(m){m&&it(e),c=!1,bt(d)}}}function Gr(i){let e,t,o,r,n,s,a,c,d;return{c(){e=tt("div"),t=tt("img"),r=_t(),n=tt("p"),s=Rt(i[2]),wt(t.src,o=un)||P(t,"src",o),P(t,"alt",i[2]),P(t,"class","svelte-72nmcc"),P(e,"class","selected svelte-72nmcc")},m(m,p){ot(m,e,p),et(e,t),et(e,r),et(e,n),et(n,s),c||(d=[at(e,"click",function(){Tt(i[3])&&i[3].apply(this,arguments)}),at(e,"keydown",null)],c=!0)},p(m,p){i=m,p&4&&P(t,"alt",i[2]),p&4&&Vt(s,i[2])},i(m){a||Bt(()=>{a=_e(e,Zt,{}),a.start()})},o:lt,d(m){m&&it(e),c=!1,bt(d)}}}function Hr(i){let e,t={ctx:i,current:null,token:null,hasCatch:!1,pending:Wr,then:Ur,catch:Nr,value:6};return Be(i[4],t),{c(){e=Pt(),t.block.c()},m(o,r){ot(o,e,r),t.block.m(o,t.anchor=r),t.mount=()=>e.parentNode,t.anchor=e},p(o,[r]){i=o,xe(t,i,r)},i(o){ct(t.block)},o:lt,d(o){o&&it(e),t.block.d(o),t.token=null,t=null}}}function Vr(i,e,t){let{value:o=!1}=e,{image:r}=e,{name:n}=e,{onClick:s=()=>{}}=e;const c=(async d=>{const p=await(await fetch(d)).blob();return URL.createObjectURL(p)})(r);return i.$$set=d=>{"value"in d&&t(0,o=d.value),"image"in d&&t(1,r=d.image),"name"in d&&t(2,n=d.name),"onClick"in d&&t(3,s=d.onClick)},[o,r,n,s,c]}class Kr extends Gt{constructor(e){super(),Mt(this,e,Vr,Hr,Wt,{value:0,image:1,name:2,onClick:3})}}const dn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA0UlEQVR42nWSsQ1CMQxEvQ4rINFR0SOBxAgpaRgA/Q3YhelAF+mi9+/nF1YS2zn7zq7v+/H7tEu31/XYbea7nw6ruM/SRYlM0HtZluEzIO+KycporsI3qzGHeSW01tpwsJukkl0MAAcV0GdyJ6AKpa/cVlZyq9SG9yFicpR4TKDipOmzMjnH525m/g6QTp5uOT8zNt2D5J68SaVyPORsYPtJxVrVjBcraHSkwDH3TUxnguyZu1pRkD1v541wpjHb0MokKkz+WWgDkDtgkfbm7wJ/9oUoq3qXqFkAAAAASUVORK5CYII=",Le=new Map([[4,"1.14 - 1.14.4"],[5,"1.15 - 1.16.1"],[6,"1.16.2-1.16.5"],[7,"1.17 - 1.17.1"],[8,"1.18 - 1.18.2"],[9,"1.19 - 1.19.2"]]),Ne=[{source:"chests/ancient_city,chests/ancient_city_ice_box",img:"loottable_icons/Ancient_City.webp",name:"Ancient City",minVersion:9},{source:"chests/bastion_bridge,chests/bastion_hoglin_treasure,chests/bastion_other,chests/bastion_treasure",img:"loottable_icons/Bastion_Remnant.webp",name:"Bastion Remnant",minVersion:5},{source:"chests/desert_pyramid",img:"loottable_icons/Desert_pyramid.webp",name:"Desert Pyramid",minVersion:4},{source:"chests/simple_dungeon",img:"loottable_icons/Dungeon.webp",name:"Dungeon",minVersion:4},{source:"chests/end_city_treasure",img:"loottable_icons/End_City.webp",name:"End City",minVersion:4},{source:"chests/igloo_chest",img:"loottable_icons/Igloo.webp",name:"Igloo",minVersion:4},{source:"chests/jungle_temple",img:"loottable_icons/Jungle_pyramid.webp",name:"Jungle Temple",minVersion:4},{source:"chests/nether_bridge",img:"loottable_icons/Nether_Fortress.webp",name:"Nether Fortress",minVersion:4},{source:"chests/ruined_portal",img:"loottable_icons/Nether_portal.webp",name:"Ruined Portal",minVersion:5},{source:"chests/pillager_outpost",img:"loottable_icons/Pillager_outpost.webp",name:"Pillager Outpost",minVersion:4},{source:"chests/shipwreck_map,chests/shipwreck_supply,chests/shipwreck_treasure",img:"loottable_icons/Shipwreck.webp",name:"Shipwreck",minVersion:4},{source:"chests/stronghold_corridor,chests/stronghold_crossing",img:"loottable_icons/Stronghold.webp",name:"Stronghold",minVersion:4},{source:"chests/underwater_ruin_big,chests/underwater_ruin_small",img:"loottable_icons/Underwater_ruin.webp",name:"Underwater Ruins",minVersion:4},{source:"chests/village/village_plains_house,chests/village/village_savanna_house,chests/village/village_desert_house,chests/village/village_snowy_house,chests/village/village_taiga_house",img:"loottable_icons/Village.webp",name:"Village",minVersion:4},{source:"chests/woodland_mansion",img:"loottable_icons/Woodland_Mansion.webp",name:"Woodland Mansion",minVersion:4},{source:"chests/abandoned_mineshaft",img:"loottable_icons/Mineshaft.webp",name:"Mineshaft",minVersion:4}];function Ue(i,e,t){const o=i.slice();return o[6]=e[t],o}function je(i){let e,t,o,r,n,s,a,c=Ne,d=[];for(let p=0;p<c.length;p+=1)d[p]=We(Ue(i,c,p));const m=p=>mt(d[p],1,1,()=>{d[p]=null});return{c(){e=tt("div"),t=tt("div");for(let p=0;p<d.length;p+=1)d[p].c();o=_t(),r=tt("div"),r.innerHTML='<div id="content" class="svelte-1m5gm3z"><p id="generate_text" class="noselect svelte-1m5gm3z">OK</p></div>',P(t,"class","popupcontainer svelte-1m5gm3z"),P(r,"id","messagepopupconfirm"),P(r,"class","popupconfirm svelte-1m5gm3z"),P(e,"class","popup svelte-1m5gm3z")},m(p,y){ot(p,e,y),et(e,t);for(let h=0;h<d.length;h+=1)d[h].m(t,null);et(e,o),et(e,r),n=!0,s||(a=[at(r,"click",i[4]),at(r,"keydown",null)],s=!0)},p(p,y){if(y&13){c=Ne;let h;for(h=0;h<c.length;h+=1){const b=Ue(p,c,h);d[h]?(d[h].p(b,y),ct(d[h],1)):(d[h]=We(b),d[h].c(),ct(d[h],1),d[h].m(t,null))}for(Kt(),h=c.length;h<d.length;h+=1)m(h);qt()}},i(p){if(!n){for(let y=0;y<c.length;y+=1)ct(d[y]);n=!0}},o(p){d=d.filter(Boolean);for(let y=0;y<d.length;y+=1)mt(d[y]);n=!1},d(p){p&&it(e),ze(d,p),s=!1,bt(a)}}}function Ze(i){let e,t;function o(){return i[5](i[6])}return e=new Kr({props:{image:i[6].img,name:i[6].name,value:i[0].includes(i[6].source),onClick:o}}),{c(){It(e.$$.fragment)},m(r,n){At(e,r,n),t=!0},p(r,n){i=r;const s={};n&1&&(s.value=i[0].includes(i[6].source)),e.$set(s)},i(r){t||(ct(e.$$.fragment,r),t=!0)},o(r){mt(e.$$.fragment,r),t=!1},d(r){St(e,r)}}}function We(i){let e,t,o=i[6].minVersion&&i[6].minVersion<=i[2]&&Ze(i);return{c(){o&&o.c(),e=Pt()},m(r,n){o&&o.m(r,n),ot(r,e,n),t=!0},p(r,n){r[6].minVersion&&r[6].minVersion<=r[2]?o?(o.p(r,n),n&4&&ct(o,1)):(o=Ze(r),o.c(),ct(o,1),o.m(e.parentNode,e)):o&&(Kt(),mt(o,1,1,()=>{o=null}),qt())},i(r){t||(ct(o),t=!0)},o(r){mt(o),t=!1},d(r){o&&o.d(r),r&&it(e)}}}function qr(i){let e,t,o,r,n,s,a,c=i[1]&&je(i);return{c(){e=tt("div"),o=_t(),c&&c.c(),r=Pt(),P(e,"class","popupbackground svelte-1m5gm3z"),Qt(e,"background-image","url("+dn+")")},m(d,m){ot(d,e,m),ot(d,o,m),c&&c.m(d,m),ot(d,r,m),n=!0,s||(a=[at(e,"click",i[4]),at(e,"keydown",null)],s=!0)},p(d,[m]){d[1]?c?(c.p(d,m),m&2&&ct(c,1)):(c=je(d),c.c(),ct(c,1),c.m(r.parentNode,r)):c&&(Kt(),mt(c,1,1,()=>{c=null}),qt())},i(d){n||(Bt(()=>{t||(t=ge(e,Zt,{},!0)),t.run(1)}),ct(c),n=!0)},o(d){t||(t=ge(e,Zt,{},!1)),t.run(0),mt(c),n=!1},d(d){d&&it(e),d&&t&&t.end(),d&&it(o),c&&c.d(d),d&&it(r),s=!1,bt(a)}}}function Yr(i,e,t){let{selectedDungeons:o=[]}=e,{version:r}=e,{closePopup:n}=e;const s=d=>{o.includes(d)?t(0,o=o.filter(m=>m!=d)):t(0,o=[...o,d])},a=()=>{t(1,n=!1),document.querySelector(".popup").style.display="none"},c=d=>s(d.source);return i.$$set=d=>{"selectedDungeons"in d&&t(0,o=d.selectedDungeons),"version"in d&&t(2,r=d.version),"closePopup"in d&&t(1,n=d.closePopup)},[o,n,r,s,a,c]}class Jr extends Gt{constructor(e){super(),Mt(this,e,Yr,qr,Wt,{selectedDungeons:0,version:2,closePopup:1})}}function Me(i){let e,t,o,r,n;function s(m){i[13](m)}function a(m){i[14](m)}function c(m){i[15](m)}let d={};return i[0].lootTables!==void 0&&(d.selectedDungeons=i[0].lootTables),i[1]!==void 0&&(d.version=i[1]),i[4]!==void 0&&(d.closePopup=i[4]),e=new Jr({props:d}),kt.push(()=>zt(e,"selectedDungeons",s)),kt.push(()=>zt(e,"version",a)),kt.push(()=>zt(e,"closePopup",c)),{c(){It(e.$$.fragment)},m(m,p){At(e,m,p),n=!0},p(m,p){const y={};!t&&p&1&&(t=!0,y.selectedDungeons=m[0].lootTables,Ct(()=>t=!1)),!o&&p&2&&(o=!0,y.version=m[1],Ct(()=>o=!1)),!r&&p&16&&(r=!0,y.closePopup=m[4],Ct(()=>r=!1)),e.$set(y)},i(m){n||(ct(e.$$.fragment,m),n=!0)},o(m){mt(e.$$.fragment,m),n=!1},d(m){St(e,m)}}}function Xr(i){return{c:lt,m:lt,p:lt,i:lt,o:lt,d:lt}}function Qr(i){let e,t,o,r,n,s,a,c,d,m,p,y,h,b,f,g,_,v,S,z,C,j,L,N;t=new Jt({props:{text:"Changes the disc icon",$$slots:{default:[$r]},$$scope:{ctx:i}}}),s=new Jt({props:{text:"Toggles Creeper drops",$$slots:{default:[ni]},$$scope:{ctx:i}}}),d=new Jt({props:{text:"Selects structures in which the disc can be found",$$slots:{default:[ri]},$$scope:{ctx:i}}}),y=new Jt({props:{text:"Removes the disc",$$slots:{default:[oi]},$$scope:{ctx:i}}});function D(k,O){return k[0].namespace.length>90?li:ai}let M=D(i),G=M(i);return{c(){e=tt("div"),It(t.$$.fragment),o=_t(),r=tt("div"),n=tt("div"),It(s.$$.fragment),a=_t(),c=tt("div"),It(d.$$.fragment),m=_t(),p=tt("div"),It(y.$$.fragment),h=_t(),b=tt("div"),f=tt("input"),g=_t(),_=tt("input"),v=_t(),S=tt("p"),G.c(),z=_t(),C=tt("textarea"),P(n,"id","wrapper"),P(n,"class","svelte-12gqr3a"),P(c,"id","wrapper"),P(c,"class","svelte-12gqr3a"),P(p,"id","wrapper"),P(p,"class","svelte-12gqr3a"),P(r,"id","buttons"),P(r,"class","svelte-12gqr3a"),P(e,"id","icons"),P(e,"class","svelte-12gqr3a"),P(f,"type","text"),P(f,"name","song_name"),P(f,"id","song_name_input"),P(f,"class","svelte-12gqr3a"),P(_,"type","text"),P(_,"name","song_author"),P(_,"id","song_author_input"),P(_,"class","svelte-12gqr3a"),P(S,"id","disknamespace"),P(S,"class","svelte-12gqr3a"),P(b,"id","names"),P(b,"class","svelte-12gqr3a"),P(C,"name","song_lore"),P(C,"id","song_lore_input"),P(C,"cols","30"),P(C,"rows","6"),P(C,"class","svelte-12gqr3a")},m(k,O){ot(k,e,O),At(t,e,null),et(e,o),et(e,r),et(r,n),At(s,n,null),et(r,a),et(r,c),At(d,c,null),et(r,m),et(r,p),At(y,p,null),ot(k,h,O),ot(k,b,O),et(b,f),jt(f,i[0].name),et(b,g),et(b,_),jt(_,i[0].author),et(b,v),et(b,S),G.m(S,null),ot(k,z,O),ot(k,C,O),jt(C,i[0].lores),j=!0,L||(N=[at(f,"input",i[16]),at(f,"input",i[5]),at(_,"input",i[17]),at(_,"input",i[5]),at(C,"input",i[18])],L=!0)},p(k,O){const u={};O&4194305&&(u.$$scope={dirty:O,ctx:k}),t.$set(u);const T={};O&4194305&&(T.$$scope={dirty:O,ctx:k}),s.$set(T);const Q={};O&4194304&&(Q.$$scope={dirty:O,ctx:k}),d.$set(Q);const Z={};O&4194316&&(Z.$$scope={dirty:O,ctx:k}),y.$set(Z),O&1&&f.value!==k[0].name&&jt(f,k[0].name),O&1&&_.value!==k[0].author&&jt(_,k[0].author),M===(M=D(k))&&G?G.p(k,O):(G.d(1),G=M(k),G&&(G.c(),G.m(S,null))),O&1&&jt(C,k[0].lores)},i(k){j||(ct(t.$$.fragment,k),ct(s.$$.fragment,k),ct(d.$$.fragment,k),ct(y.$$.fragment,k),j=!0)},o(k){mt(t.$$.fragment,k),mt(s.$$.fragment,k),mt(d.$$.fragment,k),mt(y.$$.fragment,k),j=!1},d(k){k&&it(e),St(t),St(s),St(d),St(y),k&&it(h),k&&it(b),G.d(),k&&it(z),k&&it(C),L=!1,bt(N)}}}function $r(i){let e,t,o,r;return{c(){e=tt("img"),P(e,"id","disc_texture"),wt(e.src,t=URL.createObjectURL(i[0].texture))||P(e,"src",t),P(e,"height","64"),P(e,"width","64"),P(e,"alt","disc icon"),P(e,"class","svelte-12gqr3a")},m(n,s){ot(n,e,s),o||(r=[at(e,"click",i[10]),at(e,"keydown",null)],o=!0)},p(n,s){s&1&&!wt(e.src,t=URL.createObjectURL(n[0].texture))&&P(e,"src",t)},d(n){n&&it(e),o=!1,bt(r)}}}function ti(i){let e,t,o,r;return{c(){e=tt("img"),P(e,"id","toggle_creeper"),wt(e.src,t=fn)||P(e,"src",t),P(e,"alt","creeper icon"),P(e,"class","svelte-12gqr3a")},m(n,s){ot(n,e,s),o||(r=[at(e,"click",i[8]),at(e,"keydown",null)],o=!0)},p:lt,d(n){n&&it(e),o=!1,bt(r)}}}function ei(i){let e,t,o,r;return{c(){e=tt("img"),P(e,"id","toggle_creeper"),wt(e.src,t=fn)||P(e,"src",t),P(e,"alt","creeper icon"),P(e,"class","grayscale svelte-12gqr3a")},m(n,s){ot(n,e,s),o||(r=[at(e,"click",i[8]),at(e,"keydown",null)],o=!0)},p:lt,d(n){n&&it(e),o=!1,bt(r)}}}function ni(i){let e;function t(n,s){return n[0].creeperDrop?ti:ei}let o=t(i),r=o(i);return{c(){r.c(),e=Pt()},m(n,s){r.m(n,s),ot(n,e,s)},p(n,s){o===(o=t(n))&&r?r.p(n,s):(r.d(1),r=o(n),r&&(r.c(),r.m(e.parentNode,e)))},d(n){r.d(n),n&&it(e)}}}function ri(i){let e,t,o,r;return{c(){e=tt("img"),P(e,"id","loot_selector"),wt(e.src,t=Tr)||P(e,"src",t),P(e,"alt","chest icon"),P(e,"class","svelte-12gqr3a")},m(n,s){ot(n,e,s),o||(r=[at(e,"click",i[11]),at(e,"keydown",null)],o=!0)},p:lt,d(n){n&&it(e),o=!1,bt(r)}}}function ii(i){let e,t,o,r;return{c(){e=tt("img"),P(e,"id","song_delete"),wt(e.src,t=Lr)||P(e,"src",t),P(e,"alt","delete icon"),P(e,"class","svelte-12gqr3a")},m(n,s){ot(n,e,s),o||(r=[at(e,"mouseleave",i[9]),at(e,"click",function(){Tt(i[2])&&i[2].apply(this,arguments)}),at(e,"keydown",null)],o=!0)},p(n,s){i=n},d(n){n&&it(e),o=!1,bt(r)}}}function si(i){let e,t,o,r;return{c(){e=tt("img"),P(e,"id","song_delete"),wt(e.src,t=Pr)||P(e,"src",t),P(e,"alt","delete icon"),P(e,"class","svelte-12gqr3a")},m(n,s){ot(n,e,s),o||(r=[at(e,"mouseenter",i[9]),at(e,"click",function(){Tt(i[2])&&i[2].apply(this,arguments)}),at(e,"keydown",null)],o=!0)},p(n,s){i=n},d(n){n&&it(e),o=!1,bt(r)}}}function oi(i){let e;function t(n,s){return n[3]?ii:si}let o=t(i),r=o(i);return{c(){r.c(),e=Pt()},m(n,s){r.m(n,s),ot(n,e,s)},p(n,s){o===(o=t(n))&&r?r.p(n,s):(r.d(1),r=o(n),r&&(r.c(),r.m(e.parentNode,e)))},d(n){r.d(n),n&&it(e)}}}function ai(i){let e=i[0].namespace+"",t;return{c(){t=Rt(e)},m(o,r){ot(o,t,r)},p(o,r){r&1&&e!==(e=o[0].namespace+"")&&Vt(t,e)},d(o){o&&it(t)}}}function li(i){let e=i[0].namespace.substring(0,90)+"",t,o;return{c(){t=Rt(e),o=Rt("...")},m(r,n){ot(r,t,n),ot(r,o,n)},p(r,n){n&1&&e!==(e=r[0].namespace.substring(0,90)+"")&&Vt(t,e)},d(r){r&&it(t),r&&it(o)}}}function ci(i){let e,t={ctx:i,current:null,token:null,hasCatch:!1,pending:di,then:fi,catch:ui,value:21};return Be(i[7],t),{c(){e=Pt(),t.block.c()},m(o,r){ot(o,e,r),t.block.m(o,t.anchor=r),t.mount=()=>e.parentNode,t.anchor=e},p(o,r){i=o,xe(t,i,r)},i:lt,o:lt,d(o){o&&it(e),t.block.d(o),t.token=null,t=null}}}function ui(i){return{c:lt,m:lt,p:lt,d:lt}}function fi(i){let e,t,o;return{c(){e=tt("div"),t=tt("img"),wt(t.src,o=un)||P(t,"src",o),P(t,"alt","loading"),P(t,"class","svelte-12gqr3a"),P(e,"id","loading"),P(e,"class","svelte-12gqr3a")},m(r,n){ot(r,e,n),et(e,t)},p:lt,d(r){r&&it(e)}}}function di(i){let e;return{c(){e=tt("div"),e.innerHTML='<img src="" alt="loading" class="svelte-12gqr3a"/>',P(e,"id","loading"),P(e,"class","svelte-12gqr3a")},m(t,o){ot(t,e,o)},p:lt,d(t){t&&it(e)}}}function hi(i){let e,t,o,r=i[4]&&Me(i),n={ctx:i,current:null,token:null,hasCatch:!1,pending:ci,then:Qr,catch:Xr,value:21,blocks:[,,,]};return Be(i[6],n),{c(){r&&r.c(),e=_t(),t=tt("div"),n.block.c(),P(t,"id","song"),P(t,"class","svelte-12gqr3a")},m(s,a){r&&r.m(s,a),ot(s,e,a),ot(s,t,a),n.block.m(t,n.anchor=null),n.mount=()=>t,n.anchor=null,o=!0},p(s,[a]){i=s,i[4]?r?(r.p(i,a),a&16&&ct(r,1)):(r=Me(i),r.c(),ct(r,1),r.m(e.parentNode,e)):r&&(Kt(),mt(r,1,1,()=>{r=null}),qt()),xe(n,i,a)},i(s){o||(ct(r),ct(n.block),o=!0)},o(s){mt(r);for(let a=0;a<3;a+=1){const c=n.blocks[a];mt(c)}o=!1},d(s){r&&r.d(s),s&&it(e),s&&it(t),n.block.d(),n.token=null,n=null}}}function pi(i,e,t){let{song:o}=e,{id:r}=e,{version:n}=e,{onRemove:s=()=>{}}=e;const a=()=>{t(0,o.namespace=`${o.name}${o.author}${r}`.replace(/[^a-zA-Z0-9]/g,"").replaceAll("1","one").replaceAll("2","two").replaceAll("3","three").replaceAll("4","four").replaceAll("5","five").replaceAll("6","six").replaceAll("7","seven").replaceAll("8","eight").replaceAll("9","nine").replaceAll("0","zero").toLowerCase(),o)},c=async()=>{const N=o.uploadedFile.name.replace(/(\.mp3)|(\.ogg)|(\.wav)/g,"").split(/ ?- ?/g);N.length>=1&&t(0,o.name=N.shift(),o),N.length>=1&&t(0,o.author=N.join(),o),a(),t(0,o.oggFile=await Cr(o.uploadedFile),o),t(0,o.monoFile=await zr(o.oggFile),o),t(0,o.texture=await(await fetch(Dr)).blob(),o)},d=async()=>await new Promise(N=>{setTimeout(()=>{N()},1)}),m=c(),p=d(),y=()=>{t(0,o.creeperDrop=!o.creeperDrop,o)};let h=!1;const b=()=>{t(3,h=!h)},f=()=>{const N=document.createElement("input");N.type="file",N.accept="image/*",N.addEventListener("change",()=>{const D=N.files[0];D&&t(0,o.texture=D,o)}),N.click()};let g=!1;const _=()=>{t(4,g=!0)};function v(N){i.$$.not_equal(o.lootTables,N)&&(o.lootTables=N,t(0,o))}function S(N){n=N,t(1,n)}function z(N){g=N,t(4,g)}function C(){o.name=this.value,t(0,o)}function j(){o.author=this.value,t(0,o)}function L(){o.lores=this.value,t(0,o)}return i.$$set=N=>{"song"in N&&t(0,o=N.song),"id"in N&&t(12,r=N.id),"version"in N&&t(1,n=N.version),"onRemove"in N&&t(2,s=N.onRemove)},[o,n,s,h,g,a,m,p,y,b,f,_,r,v,S,z,C,j,L]}class mi extends Gt{constructor(e){super(),Mt(this,e,pi,hi,Wt,{song:0,id:12,version:1,onRemove:2})}}function Ge(i,e,t){const o=i.slice();return o[7]=e[t],o[8]=e,o[9]=t,o}function He(i){let e,t,o,r;function n(){return i[4](i[7])}function s(d){i[5](d,i[7],i[8],i[9])}function a(d){i[6](d)}let c={id:i[9],onRemove:n};return i[7]!==void 0&&(c.song=i[7]),i[1]!==void 0&&(c.version=i[1]),e=new mi({props:c}),kt.push(()=>zt(e,"song",s)),kt.push(()=>zt(e,"version",a)),{c(){It(e.$$.fragment)},m(d,m){At(e,d,m),r=!0},p(d,m){i=d;const p={};m&1&&(p.onRemove=n),!t&&m&1&&(t=!0,p.song=i[7],Ct(()=>t=!1)),!o&&m&2&&(o=!0,p.version=i[1],Ct(()=>o=!1)),e.$set(p)},i(d){r||(ct(e.$$.fragment,d),r=!0)},o(d){mt(e.$$.fragment,d),r=!1},d(d){St(e,d)}}}function gi(i){let e,t,o,r,n,s,a,c,d,m=i[0],p=[];for(let h=0;h<m.length;h+=1)p[h]=He(Ge(i,m,h));const y=h=>mt(p[h],1,1,()=>{p[h]=null});return{c(){e=tt("div"),t=tt("div");for(let h=0;h<p.length;h+=1)p[h].c();o=_t(),r=tt("hr"),n=_t(),s=tt("div"),s.innerHTML='<h1 class="noselect svelte-15f98v0">+</h1>',P(t,"id","songscontainer"),P(r,"class","hidden"),P(s,"id","addsongsbtn"),P(s,"class","svelte-15f98v0"),P(e,"id","content"),P(e,"class","svelte-15f98v0")},m(h,b){ot(h,e,b),et(e,t);for(let f=0;f<p.length;f+=1)p[f].m(t,null);et(e,o),et(e,r),et(e,n),et(e,s),a=!0,c||(d=[at(s,"click",i[2]),at(s,"keydown",null)],c=!0)},p(h,[b]){if(b&11){m=h[0];let f;for(f=0;f<m.length;f+=1){const g=Ge(h,m,f);p[f]?(p[f].p(g,b),ct(p[f],1)):(p[f]=He(g),p[f].c(),ct(p[f],1),p[f].m(t,null))}for(Kt(),f=m.length;f<p.length;f+=1)y(f);qt()}},i(h){if(!a){for(let b=0;b<m.length;b+=1)ct(p[b]);a=!0}},o(h){p=p.filter(Boolean);for(let b=0;b<p.length;b+=1)mt(p[b]);a=!1},d(h){h&&it(e),ze(p,h),c=!1,bt(d)}}}function _i(i,e,t){let{discData:o=[]}=e,{version:r}=e;const n=()=>{const m=document.createElement("input");m.type="file",m.multiple=!0,m.accept="audio/*",m.click(),m.addEventListener("change",async()=>{if(!m.files||m.files.length===0)return;const p=[];for(let y=0;y<m.files.length;y++)p.push({uploadedFile:m.files[y],name:"Disc Name",author:"Disc Author",lores:`This is the lore of the disc

You can have multiple lines

If you don't want any lores you can leave this empty`,texture:null,creeperDrop:!0,lootTables:[],monoFile:null,namespace:"",oggFile:null});t(0,o=[...o,...p])})},s=m=>{t(0,o=o.filter(p=>p!=m))},a=m=>s(m);function c(m,p,y,h){y[h]=m,t(0,o)}function d(m){r=m,t(1,r)}return i.$$set=m=>{"discData"in m&&t(0,o=m.discData),"version"in m&&t(1,r=m.version)},[o,r,n,s,a,c,d]}class bi extends Gt{constructor(e){super(),Mt(this,e,_i,gi,Wt,{discData:0,version:1})}}const hn="/jext-reborn/assets/pack_icon.57c0be34.png";function Ve(i,e,t){const o=i.slice();return o[9]=e[t][0],o[10]=e[t][1],o}function vi(i){let e,t,o,r;return{c(){e=tt("img"),wt(e.src,t=hn)||P(e,"src",t),P(e,"alt","pack icon"),P(e,"id","pack_icon"),P(e,"class","noselect svelte-11vhtmc")},m(n,s){ot(n,e,s),o||(r=[at(e,"click",i[3]),at(e,"keypress",null)],o=!0)},p:lt,d(n){n&&it(e),o=!1,bt(r)}}}function Ke(i){let e,t=i[10]+"",o;return{c(){e=tt("option"),o=Rt(t),e.__value=i[9],e.value=e.__value},m(r,n){ot(r,e,n),et(e,o)},p:lt,d(r){r&&it(e)}}}function yi(i){let e,t,o;return{c(){e=tt("button"),e.textContent="Stereo",P(e,"class","svelte-11vhtmc")},m(r,n){ot(r,e,n),t||(o=at(e,"click",i[5]),t=!0)},p:lt,d(r){r&&it(e),t=!1,o()}}}function wi(i){let e,t,o;return{c(){e=tt("button"),e.textContent="Mono",P(e,"class","svelte-11vhtmc")},m(r,n){ot(r,e,n),t||(o=at(e,"click",i[5]),t=!0)},p:lt,d(r){r&&it(e),t=!1,o()}}}function ki(i){let e;function t(n,s){return n[2]?wi:yi}let o=t(i),r=o(i);return{c(){r.c(),e=Pt()},m(n,s){r.m(n,s),ot(n,e,s)},p(n,s){o===(o=t(n))&&r?r.p(n,s):(r.d(1),r=o(n),r&&(r.c(),r.m(e.parentNode,e)))},d(n){r.d(n),n&&it(e)}}}function Ai(i){let e,t,o,r,n,s,a,c,d,m,p,y,h;t=new Jt({props:{text:"Sets the resourcepack icon",$$slots:{default:[vi]},$$scope:{ctx:i}}});let b=[...Le],f=[];for(let g=0;g<b.length;g+=1)f[g]=Ke(Ve(i,b,g));return m=new Jt({props:{text:"Mono: single audio channel but music fading<br>Stereo: multiple audio channels but no music fading",width:"22em",$$slots:{default:[ki]},$$scope:{ctx:i}}}),{c(){e=tt("div"),It(t.$$.fragment),o=_t(),r=tt("input"),n=_t(),s=tt("input"),a=_t(),c=tt("select");for(let g=0;g<f.length;g+=1)f[g].c();d=_t(),It(m.$$.fragment),P(r,"type","file"),P(r,"name","pack_icon"),P(r,"id","pack_icon_input"),P(r,"class","hidden"),P(r,"accept","image/png"),P(s,"type","text"),P(s,"name","pack_name"),P(s,"id","pack_name_input"),P(s,"class","svelte-11vhtmc"),P(c,"name","version"),P(c,"id","version_input"),P(c,"class","svelte-11vhtmc"),i[1]===void 0&&Bt(()=>i[8].call(c)),P(e,"id","header"),P(e,"class","svelte-11vhtmc")},m(g,_){ot(g,e,_),At(t,e,null),et(e,o),et(e,r),et(e,n),et(e,s),jt(s,i[0]),et(e,a),et(e,c);for(let v=0;v<f.length;v+=1)f[v].m(c,null);Te(c,i[1]),et(e,d),At(m,e,null),p=!0,y||(h=[at(s,"input",i[7]),at(s,"input",i[4]),at(c,"change",i[8])],y=!0)},p(g,[_]){const v={};if(_&8192&&(v.$$scope={dirty:_,ctx:g}),t.$set(v),_&1&&s.value!==g[0]&&jt(s,g[0]),_&0){b=[...Le];let z;for(z=0;z<b.length;z+=1){const C=Ve(g,b,z);f[z]?f[z].p(C,_):(f[z]=Ke(C),f[z].c(),f[z].m(c,null))}for(;z<f.length;z+=1)f[z].d(1);f.length=b.length}_&2&&Te(c,g[1]);const S={};_&8196&&(S.$$scope={dirty:_,ctx:g}),m.$set(S)},i(g){p||(ct(t.$$.fragment,g),ct(m.$$.fragment,g),p=!0)},o(g){mt(t.$$.fragment,g),mt(m.$$.fragment,g),p=!1},d(g){g&&it(e),St(t),ze(f,g),St(m),y=!1,bt(h)}}}function Si(i,e,t){let{packname:o="your_pack_name"}=e,{version:r=9}=e,{imagesrc:n=hn}=e,{useMono:s=!0}=e;const a=()=>{var y;(y=document.querySelector("#pack_icon_input"))==null||y.addEventListener("change",()=>{const h=document.querySelector("#pack_icon_input").files;if(!h||h.length===0)return;const b=h[0],f=new FileReader;f.onload=()=>{const g=new Image;g.onload=()=>{const _=document.createElement("canvas");_.width=64,_.height=64,_.getContext("2d").drawImage(g,0,0,64,64);const S=_.toDataURL("image/png");document.querySelector("#pack_icon").src=S},t(6,n=g.src=f.result)},f.readAsDataURL(b)}),document.querySelector("#pack_icon_input").click()},c=()=>{t(0,o=o.replace(" ","_").replace(/[^a-zA-Z0-9_]/g,"").toLowerCase())},d=()=>t(2,s=!s);function m(){o=this.value,t(0,o)}function p(){r=Bn(this),t(1,r)}return i.$$set=y=>{"packname"in y&&t(0,o=y.packname),"version"in y&&t(1,r=y.version),"imagesrc"in y&&t(6,n=y.imagesrc),"useMono"in y&&t(2,s=y.useMono)},[o,r,s,a,c,d,n,m,p]}class Ei extends Gt{constructor(e){super(),Mt(this,e,Si,Ai,Wt,{packname:0,version:1,imagesrc:6,useMono:2})}}function qe(i){let e,t,o,r,n,s,a;return{c(){e=tt("div"),t=tt("div"),o=Rt(i[1]),r=_t(),n=tt("div"),n.innerHTML='<div id="content" class="svelte-16n0rxp"><p id="generate_text" class="noselect svelte-16n0rxp">OK</p></div>',P(t,"class","popupcontainer svelte-16n0rxp"),P(t,"id","messagepopupcontainer"),P(n,"id","messagepopupconfirm"),P(n,"class","popupconfirm svelte-16n0rxp"),P(e,"class","popup svelte-16n0rxp")},m(c,d){ot(c,e,d),et(e,t),et(t,o),et(e,r),et(e,n),s||(a=[at(n,"click",i[2]),at(n,"keydown",null)],s=!0)},p(c,d){d&2&&Vt(o,c[1])},d(c){c&&it(e),s=!1,bt(a)}}}function Ci(i){let e,t,o,r,n,s,a,c=i[0]&&qe(i);return{c(){e=tt("div"),o=_t(),c&&c.c(),r=Pt(),P(e,"class","popupbackground svelte-16n0rxp"),Qt(e,"background-image","url("+dn+")")},m(d,m){ot(d,e,m),ot(d,o,m),c&&c.m(d,m),ot(d,r,m),n=!0,s||(a=[at(e,"click",i[2]),at(e,"keydown",null)],s=!0)},p(d,[m]){d[0]?c?c.p(d,m):(c=qe(d),c.c(),c.m(r.parentNode,r)):c&&(c.d(1),c=null)},i(d){n||(Bt(()=>{t||(t=ge(e,Zt,{},!0)),t.run(1)}),n=!0)},o(d){t||(t=ge(e,Zt,{},!1)),t.run(0),n=!1},d(d){d&&it(e),d&&t&&t.end(),d&&it(o),c&&c.d(d),d&&it(r),s=!1,bt(a)}}}function zi(i,e,t){let{text:o}=e,{closePopup:r}=e;const n=()=>{t(0,r=!1)};return i.$$set=s=>{"text"in s&&t(1,o=s.text),"closePopup"in s&&t(0,r=s.closePopup)},[r,o,n]}class Ii extends Gt{constructor(e){super(),Mt(this,e,zi,Ci,Wt,{text:1,closePopup:0})}}const pn="/jext-reborn/assets/generate_btn.516338f5.png";function fe(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var mn={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(i,e){(function(t){i.exports=t()})(function(){return function t(o,r,n){function s(d,m){if(!r[d]){if(!o[d]){var p=typeof fe=="function"&&fe;if(!m&&p)return p(d,!0);if(a)return a(d,!0);var y=new Error("Cannot find module '"+d+"'");throw y.code="MODULE_NOT_FOUND",y}var h=r[d]={exports:{}};o[d][0].call(h.exports,function(b){var f=o[d][1][b];return s(f||b)},h,h.exports,t,o,r,n)}return r[d].exports}for(var a=typeof fe=="function"&&fe,c=0;c<n.length;c++)s(n[c]);return s}({1:[function(t,o,r){var n=t("./utils"),s=t("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(c){for(var d,m,p,y,h,b,f,g=[],_=0,v=c.length,S=v,z=n.getTypeOf(c)!=="string";_<c.length;)S=v-_,p=z?(d=c[_++],m=_<v?c[_++]:0,_<v?c[_++]:0):(d=c.charCodeAt(_++),m=_<v?c.charCodeAt(_++):0,_<v?c.charCodeAt(_++):0),y=d>>2,h=(3&d)<<4|m>>4,b=1<S?(15&m)<<2|p>>6:64,f=2<S?63&p:64,g.push(a.charAt(y)+a.charAt(h)+a.charAt(b)+a.charAt(f));return g.join("")},r.decode=function(c){var d,m,p,y,h,b,f=0,g=0,_="data:";if(c.substr(0,_.length)===_)throw new Error("Invalid base64 input, it looks like a data url.");var v,S=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===a.charAt(64)&&S--,c.charAt(c.length-2)===a.charAt(64)&&S--,S%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=s.uint8array?new Uint8Array(0|S):new Array(0|S);f<c.length;)d=a.indexOf(c.charAt(f++))<<2|(y=a.indexOf(c.charAt(f++)))>>4,m=(15&y)<<4|(h=a.indexOf(c.charAt(f++)))>>2,p=(3&h)<<6|(b=a.indexOf(c.charAt(f++))),v[g++]=d,h!==64&&(v[g++]=m),b!==64&&(v[g++]=p);return v}},{"./support":30,"./utils":32}],2:[function(t,o,r){var n=t("./external"),s=t("./stream/DataWorker"),a=t("./stream/Crc32Probe"),c=t("./stream/DataLengthProbe");function d(m,p,y,h,b){this.compressedSize=m,this.uncompressedSize=p,this.crc32=y,this.compression=h,this.compressedContent=b}d.prototype={getContentWorker:function(){var m=new s(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),p=this;return m.on("end",function(){if(this.streamInfo.data_length!==p.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new s(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(m,p,y){return m.pipe(new a).pipe(new c("uncompressedSize")).pipe(p.compressWorker(y)).pipe(new c("compressedSize")).withStreamInfo("compression",p)},o.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,o,r){var n=t("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},r.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,o,r){var n=t("./utils"),s=function(){for(var a,c=[],d=0;d<256;d++){a=d;for(var m=0;m<8;m++)a=1&a?3988292384^a>>>1:a>>>1;c[d]=a}return c}();o.exports=function(a,c){return a!==void 0&&a.length?n.getTypeOf(a)!=="string"?function(d,m,p,y){var h=s,b=y+p;d^=-1;for(var f=y;f<b;f++)d=d>>>8^h[255&(d^m[f])];return-1^d}(0|c,a,a.length,0):function(d,m,p,y){var h=s,b=y+p;d^=-1;for(var f=y;f<b;f++)d=d>>>8^h[255&(d^m.charCodeAt(f))];return-1^d}(0|c,a,a.length,0):0}},{"./utils":32}],5:[function(t,o,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(t,o,r){var n=null;n=typeof Promise<"u"?Promise:t("lie"),o.exports={Promise:n}},{lie:37}],7:[function(t,o,r){var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=t("pako"),a=t("./utils"),c=t("./stream/GenericWorker"),d=n?"uint8array":"array";function m(p,y){c.call(this,"FlateWorker/"+p),this._pako=null,this._pakoAction=p,this._pakoOptions=y,this.meta={}}r.magic="\b\0",a.inherits(m,c),m.prototype.processChunk=function(p){this.meta=p.meta,this._pako===null&&this._createPako(),this._pako.push(a.transformTo(d,p.data),!1)},m.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var p=this;this._pako.onData=function(y){p.push({data:y,meta:p.meta})}},r.compressWorker=function(p){return new m("Deflate",p)},r.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,o,r){function n(h,b){var f,g="";for(f=0;f<b;f++)g+=String.fromCharCode(255&h),h>>>=8;return g}function s(h,b,f,g,_,v){var S,z,C=h.file,j=h.compression,L=v!==d.utf8encode,N=a.transformTo("string",v(C.name)),D=a.transformTo("string",d.utf8encode(C.name)),M=C.comment,G=a.transformTo("string",v(M)),k=a.transformTo("string",d.utf8encode(M)),O=D.length!==C.name.length,u=k.length!==M.length,T="",Q="",Z="",nt=C.dir,B=C.date,F={crc32:0,compressedSize:0,uncompressedSize:0};b&&!f||(F.crc32=h.crc32,F.compressedSize=h.compressedSize,F.uncompressedSize=h.uncompressedSize);var E=0;b&&(E|=8),L||!O&&!u||(E|=2048);var I=0,V=0;nt&&(I|=16),_==="UNIX"?(V=798,I|=function(q,ut){var ht=q;return q||(ht=ut?16893:33204),(65535&ht)<<16}(C.unixPermissions,nt)):(V=20,I|=function(q){return 63&(q||0)}(C.dosPermissions)),S=B.getUTCHours(),S<<=6,S|=B.getUTCMinutes(),S<<=5,S|=B.getUTCSeconds()/2,z=B.getUTCFullYear()-1980,z<<=4,z|=B.getUTCMonth()+1,z<<=5,z|=B.getUTCDate(),O&&(Q=n(1,1)+n(m(N),4)+D,T+="up"+n(Q.length,2)+Q),u&&(Z=n(1,1)+n(m(G),4)+k,T+="uc"+n(Z.length,2)+Z);var Y="";return Y+=`
\0`,Y+=n(E,2),Y+=j.magic,Y+=n(S,2),Y+=n(z,2),Y+=n(F.crc32,4),Y+=n(F.compressedSize,4),Y+=n(F.uncompressedSize,4),Y+=n(N.length,2),Y+=n(T.length,2),{fileRecord:p.LOCAL_FILE_HEADER+Y+N+T,dirRecord:p.CENTRAL_FILE_HEADER+n(V,2)+Y+n(G.length,2)+"\0\0\0\0"+n(I,4)+n(g,4)+N+T+G}}var a=t("../utils"),c=t("../stream/GenericWorker"),d=t("../utf8"),m=t("../crc32"),p=t("../signature");function y(h,b,f,g){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=f,this.encodeFileName=g,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(y,c),y.prototype.push=function(h){var b=h.meta.percent||0,f=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,c.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:f?(b+100*(f-g-1))/f:100}}))},y.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var b=this.streamFiles&&!h.file.dir;if(b){var f=s(h,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:f.fileRecord,meta:{percent:0}})}else this.accumulate=!0},y.prototype.closedSource=function(h){this.accumulate=!1;var b=this.streamFiles&&!h.file.dir,f=s(h,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(f.dirRecord),b)this.push({data:function(g){return p.DATA_DESCRIPTOR+n(g.crc32,4)+n(g.compressedSize,4)+n(g.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:f.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},y.prototype.flush=function(){for(var h=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var f=this.bytesWritten-h,g=function(_,v,S,z,C){var j=a.transformTo("string",C(z));return p.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(_,2)+n(_,2)+n(v,4)+n(S,4)+n(j.length,2)+j}(this.dirRecords.length,f,h,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},y.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},y.prototype.registerPrevious=function(h){this._sources.push(h);var b=this;return h.on("data",function(f){b.processChunk(f)}),h.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),h.on("error",function(f){b.error(f)}),this},y.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},y.prototype.error=function(h){var b=this._sources;if(!c.prototype.error.call(this,h))return!1;for(var f=0;f<b.length;f++)try{b[f].error(h)}catch{}return!0},y.prototype.lock=function(){c.prototype.lock.call(this);for(var h=this._sources,b=0;b<h.length;b++)h[b].lock()},o.exports=y},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,o,r){var n=t("../compressions"),s=t("./ZipFileWorker");r.generateWorker=function(a,c,d){var m=new s(c.streamFiles,d,c.platform,c.encodeFileName),p=0;try{a.forEach(function(y,h){p++;var b=function(v,S){var z=v||S,C=n[z];if(!C)throw new Error(z+" is not a valid compression method !");return C}(h.options.compression,c.compression),f=h.options.compressionOptions||c.compressionOptions||{},g=h.dir,_=h.date;h._compressWorker(b,f).withStreamInfo("file",{name:y,dir:g,date:_,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(m)}),m.entriesCount=p}catch(y){m.error(y)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,o,r){function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new n;for(var a in this)typeof this[a]!="function"&&(s[a]=this[a]);return s}}(n.prototype=t("./object")).loadAsync=t("./load"),n.support=t("./support"),n.defaults=t("./defaults"),n.version="3.10.1",n.loadAsync=function(s,a){return new n().loadAsync(s,a)},n.external=t("./external"),o.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,o,r){var n=t("./utils"),s=t("./external"),a=t("./utf8"),c=t("./zipEntries"),d=t("./stream/Crc32Probe"),m=t("./nodejsUtils");function p(y){return new s.Promise(function(h,b){var f=y.decompressed.getContentWorker().pipe(new d);f.on("error",function(g){b(g)}).on("end",function(){f.streamInfo.crc32!==y.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}o.exports=function(y,h){var b=this;return h=n.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),m.isNode&&m.isStream(y)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",y,!0,h.optimizedBinaryString,h.base64).then(function(f){var g=new c(h);return g.load(f),g}).then(function(f){var g=[s.Promise.resolve(f)],_=f.files;if(h.checkCRC32)for(var v=0;v<_.length;v++)g.push(p(_[v]));return s.Promise.all(g)}).then(function(f){for(var g=f.shift(),_=g.files,v=0;v<_.length;v++){var S=_[v],z=S.fileNameStr,C=n.resolve(S.fileNameStr);b.file(C,S.decompressed,{binary:!0,optimizedBinaryString:!0,date:S.date,dir:S.dir,comment:S.fileCommentStr.length?S.fileCommentStr:null,unixPermissions:S.unixPermissions,dosPermissions:S.dosPermissions,createFolders:h.createFolders}),S.dir||(b.file(C).unsafeOriginalName=z)}return g.zipComment.length&&(b.comment=g.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,o,r){var n=t("../utils"),s=t("../stream/GenericWorker");function a(c,d){s.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(d)}n.inherits(a,s),a.prototype._bindStream=function(c){var d=this;(this._stream=c).pause(),c.on("data",function(m){d.push({data:m,meta:{percent:0}})}).on("error",function(m){d.isPaused?this.generatedError=m:d.error(m)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},a.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,o,r){var n=t("readable-stream").Readable;function s(a,c,d){n.call(this,c),this._helper=a;var m=this;a.on("data",function(p,y){m.push(p)||m._helper.pause(),d&&d(y)}).on("error",function(p){m.emit("error",p)}).on("end",function(){m.push(null)})}t("../utils").inherits(s,n),s.prototype._read=function(){this._helper.resume()},o.exports=s},{"../utils":32,"readable-stream":16}],14:[function(t,o,r){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(n,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(n,s);if(typeof n=="number")throw new Error('The "data" argument must not be a number');return new Buffer(n,s)},allocBuffer:function(n){if(Buffer.alloc)return Buffer.alloc(n);var s=new Buffer(n);return s.fill(0),s},isBuffer:function(n){return Buffer.isBuffer(n)},isStream:function(n){return n&&typeof n.on=="function"&&typeof n.pause=="function"&&typeof n.resume=="function"}}},{}],15:[function(t,o,r){function n(C,j,L){var N,D=a.getTypeOf(j),M=a.extend(L||{},m);M.date=M.date||new Date,M.compression!==null&&(M.compression=M.compression.toUpperCase()),typeof M.unixPermissions=="string"&&(M.unixPermissions=parseInt(M.unixPermissions,8)),M.unixPermissions&&16384&M.unixPermissions&&(M.dir=!0),M.dosPermissions&&16&M.dosPermissions&&(M.dir=!0),M.dir&&(C=_(C)),M.createFolders&&(N=g(C))&&v.call(this,N,!0);var G=D==="string"&&M.binary===!1&&M.base64===!1;L&&L.binary!==void 0||(M.binary=!G),(j instanceof p&&j.uncompressedSize===0||M.dir||!j||j.length===0)&&(M.base64=!1,M.binary=!0,j="",M.compression="STORE",D="string");var k=null;k=j instanceof p||j instanceof c?j:b.isNode&&b.isStream(j)?new f(C,j):a.prepareContent(C,j,M.binary,M.optimizedBinaryString,M.base64);var O=new y(C,k,M);this.files[C]=O}var s=t("./utf8"),a=t("./utils"),c=t("./stream/GenericWorker"),d=t("./stream/StreamHelper"),m=t("./defaults"),p=t("./compressedObject"),y=t("./zipObject"),h=t("./generate"),b=t("./nodejsUtils"),f=t("./nodejs/NodejsStreamInputAdapter"),g=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var j=C.lastIndexOf("/");return 0<j?C.substring(0,j):""},_=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},v=function(C,j){return j=j!==void 0?j:m.createFolders,C=_(C),this.files[C]||n.call(this,C,null,{dir:!0,createFolders:j}),this.files[C]};function S(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var z={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var j,L,N;for(j in this.files)N=this.files[j],(L=j.slice(this.root.length,j.length))&&j.slice(0,this.root.length)===this.root&&C(L,N)},filter:function(C){var j=[];return this.forEach(function(L,N){C(L,N)&&j.push(N)}),j},file:function(C,j,L){if(arguments.length!==1)return C=this.root+C,n.call(this,C,j,L),this;if(S(C)){var N=C;return this.filter(function(M,G){return!G.dir&&N.test(M)})}var D=this.files[this.root+C];return D&&!D.dir?D:null},folder:function(C){if(!C)return this;if(S(C))return this.filter(function(D,M){return M.dir&&C.test(D)});var j=this.root+C,L=v.call(this,j),N=this.clone();return N.root=L.name,N},remove:function(C){C=this.root+C;var j=this.files[C];if(j||(C.slice(-1)!=="/"&&(C+="/"),j=this.files[C]),j&&!j.dir)delete this.files[C];else for(var L=this.filter(function(D,M){return M.name.slice(0,C.length)===C}),N=0;N<L.length;N++)delete this.files[L[N].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var j,L={};try{if((L=a.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=L.type.toLowerCase(),L.compression=L.compression.toUpperCase(),L.type==="binarystring"&&(L.type="string"),!L.type)throw new Error("No output type specified.");a.checkSupport(L.type),L.platform!=="darwin"&&L.platform!=="freebsd"&&L.platform!=="linux"&&L.platform!=="sunos"||(L.platform="UNIX"),L.platform==="win32"&&(L.platform="DOS");var N=L.comment||this.comment||"";j=h.generateWorker(this,L,N)}catch(D){(j=new c("error")).error(D)}return new d(j,L.type||"string",L.mimeType)},generateAsync:function(C,j){return this.generateInternalStream(C).accumulate(j)},generateNodeStream:function(C,j){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(j)}};o.exports=z},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,o,r){o.exports=t("stream")},{stream:void 0}],17:[function(t,o,r){var n=t("./DataReader");function s(a){n.call(this,a);for(var c=0;c<this.data.length;c++)a[c]=255&a[c]}t("../utils").inherits(s,n),s.prototype.byteAt=function(a){return this.data[this.zero+a]},s.prototype.lastIndexOfSignature=function(a){for(var c=a.charCodeAt(0),d=a.charCodeAt(1),m=a.charCodeAt(2),p=a.charCodeAt(3),y=this.length-4;0<=y;--y)if(this.data[y]===c&&this.data[y+1]===d&&this.data[y+2]===m&&this.data[y+3]===p)return y-this.zero;return-1},s.prototype.readAndCheckSignature=function(a){var c=a.charCodeAt(0),d=a.charCodeAt(1),m=a.charCodeAt(2),p=a.charCodeAt(3),y=this.readData(4);return c===y[0]&&d===y[1]&&m===y[2]&&p===y[3]},s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},o.exports=s},{"../utils":32,"./DataReader":18}],18:[function(t,o,r){var n=t("../utils");function s(a){this.data=a,this.length=a.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(a){this.checkIndex(this.index+a)},checkIndex:function(a){if(this.length<this.zero+a||a<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+a+"). Corrupted zip ?")},setIndex:function(a){this.checkIndex(a),this.index=a},skip:function(a){this.setIndex(this.index+a)},byteAt:function(){},readInt:function(a){var c,d=0;for(this.checkOffset(a),c=this.index+a-1;c>=this.index;c--)d=(d<<8)+this.byteAt(c);return this.index+=a,d},readString:function(a){return n.transformTo("string",this.readData(a))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var a=this.readInt(4);return new Date(Date.UTC(1980+(a>>25&127),(a>>21&15)-1,a>>16&31,a>>11&31,a>>5&63,(31&a)<<1))}},o.exports=s},{"../utils":32}],19:[function(t,o,r){var n=t("./Uint8ArrayReader");function s(a){n.call(this,a)}t("../utils").inherits(s,n),s.prototype.readData=function(a){this.checkOffset(a);var c=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},o.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,o,r){var n=t("./DataReader");function s(a){n.call(this,a)}t("../utils").inherits(s,n),s.prototype.byteAt=function(a){return this.data.charCodeAt(this.zero+a)},s.prototype.lastIndexOfSignature=function(a){return this.data.lastIndexOf(a)-this.zero},s.prototype.readAndCheckSignature=function(a){return a===this.readData(4)},s.prototype.readData=function(a){this.checkOffset(a);var c=this.data.slice(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},o.exports=s},{"../utils":32,"./DataReader":18}],21:[function(t,o,r){var n=t("./ArrayReader");function s(a){n.call(this,a)}t("../utils").inherits(s,n),s.prototype.readData=function(a){if(this.checkOffset(a),a===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+a);return this.index+=a,c},o.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(t,o,r){var n=t("../utils"),s=t("../support"),a=t("./ArrayReader"),c=t("./StringReader"),d=t("./NodeBufferReader"),m=t("./Uint8ArrayReader");o.exports=function(p){var y=n.getTypeOf(p);return n.checkSupport(y),y!=="string"||s.uint8array?y==="nodebuffer"?new d(p):s.uint8array?new m(n.transformTo("uint8array",p)):new a(n.transformTo("array",p)):new c(p)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,o,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,o,r){var n=t("./GenericWorker"),s=t("../utils");function a(c){n.call(this,"ConvertWorker to "+c),this.destType=c}s.inherits(a,n),a.prototype.processChunk=function(c){this.push({data:s.transformTo(this.destType,c.data),meta:c.meta})},o.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(t,o,r){var n=t("./GenericWorker"),s=t("../crc32");function a(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(a,n),a.prototype.processChunk=function(c){this.streamInfo.crc32=s(c.data,this.streamInfo.crc32||0),this.push(c)},o.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,o,r){var n=t("../utils"),s=t("./GenericWorker");function a(c){s.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}n.inherits(a,s),a.prototype.processChunk=function(c){if(c){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+c.data.length}s.prototype.processChunk.call(this,c)},o.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(t,o,r){var n=t("../utils"),s=t("./GenericWorker");function a(c){s.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(m){d.dataIsReady=!0,d.data=m,d.max=m&&m.length||0,d.type=n.getTypeOf(m),d.isPaused||d._tickAndRepeat()},function(m){d.error(m)})}n.inherits(a,s),a.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,d);break;case"uint8array":c=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":c=this.data.slice(this.index,d)}return this.index=d,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(t,o,r){function n(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,a){return this._listeners[s].push(a),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,a){if(this._listeners[s])for(var c=0;c<this._listeners[s].length;c++)this._listeners[s][c].call(this,a)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var a=this;return s.on("data",function(c){a.processChunk(c)}),s.on("end",function(){a.end()}),s.on("error",function(c){a.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,a){return this.extraStreamInfo[s]=a,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},o.exports=n},{}],29:[function(t,o,r){var n=t("../utils"),s=t("./ConvertWorker"),a=t("./GenericWorker"),c=t("../base64"),d=t("../support"),m=t("../external"),p=null;if(d.nodestream)try{p=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function y(b,f){return new m.Promise(function(g,_){var v=[],S=b._internalType,z=b._outputType,C=b._mimeType;b.on("data",function(j,L){v.push(j),f&&f(L)}).on("error",function(j){v=[],_(j)}).on("end",function(){try{var j=function(L,N,D){switch(L){case"blob":return n.newBlob(n.transformTo("arraybuffer",N),D);case"base64":return c.encode(N);default:return n.transformTo(L,N)}}(z,function(L,N){var D,M=0,G=null,k=0;for(D=0;D<N.length;D++)k+=N[D].length;switch(L){case"string":return N.join("");case"array":return Array.prototype.concat.apply([],N);case"uint8array":for(G=new Uint8Array(k),D=0;D<N.length;D++)G.set(N[D],M),M+=N[D].length;return G;case"nodebuffer":return Buffer.concat(N);default:throw new Error("concat : unsupported type '"+L+"'")}}(S,v),C);g(j)}catch(L){_(L)}v=[]}).resume()})}function h(b,f,g){var _=f;switch(f){case"blob":case"arraybuffer":_="uint8array";break;case"base64":_="string"}try{this._internalType=_,this._outputType=f,this._mimeType=g,n.checkSupport(_),this._worker=b.pipe(new s(_)),b.lock()}catch(v){this._worker=new a("error"),this._worker.error(v)}}h.prototype={accumulate:function(b){return y(this,b)},on:function(b,f){var g=this;return b==="data"?this._worker.on(b,function(_){f.call(g,_.data,_.meta)}):this._worker.on(b,function(){n.delay(f,arguments,g)}),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(n.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new p(this,{objectMode:this._outputType!=="nodebuffer"},b)}},o.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,o,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof Buffer<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var n=new ArrayBuffer(0);try{r.blob=new Blob([n],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(n),r.blob=s.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!t("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(t,o,r){for(var n=t("./utils"),s=t("./support"),a=t("./nodejsUtils"),c=t("./stream/GenericWorker"),d=new Array(256),m=0;m<256;m++)d[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;d[254]=d[254]=1;function p(){c.call(this,"utf-8 decode"),this.leftOver=null}function y(){c.call(this,"utf-8 encode")}r.utf8encode=function(h){return s.nodebuffer?a.newBufferFrom(h,"utf-8"):function(b){var f,g,_,v,S,z=b.length,C=0;for(v=0;v<z;v++)(64512&(g=b.charCodeAt(v)))==55296&&v+1<z&&(64512&(_=b.charCodeAt(v+1)))==56320&&(g=65536+(g-55296<<10)+(_-56320),v++),C+=g<128?1:g<2048?2:g<65536?3:4;for(f=s.uint8array?new Uint8Array(C):new Array(C),v=S=0;S<C;v++)(64512&(g=b.charCodeAt(v)))==55296&&v+1<z&&(64512&(_=b.charCodeAt(v+1)))==56320&&(g=65536+(g-55296<<10)+(_-56320),v++),g<128?f[S++]=g:(g<2048?f[S++]=192|g>>>6:(g<65536?f[S++]=224|g>>>12:(f[S++]=240|g>>>18,f[S++]=128|g>>>12&63),f[S++]=128|g>>>6&63),f[S++]=128|63&g);return f}(h)},r.utf8decode=function(h){return s.nodebuffer?n.transformTo("nodebuffer",h).toString("utf-8"):function(b){var f,g,_,v,S=b.length,z=new Array(2*S);for(f=g=0;f<S;)if((_=b[f++])<128)z[g++]=_;else if(4<(v=d[_]))z[g++]=65533,f+=v-1;else{for(_&=v===2?31:v===3?15:7;1<v&&f<S;)_=_<<6|63&b[f++],v--;1<v?z[g++]=65533:_<65536?z[g++]=_:(_-=65536,z[g++]=55296|_>>10&1023,z[g++]=56320|1023&_)}return z.length!==g&&(z.subarray?z=z.subarray(0,g):z.length=g),n.applyFromCharCode(z)}(h=n.transformTo(s.uint8array?"uint8array":"array",h))},n.inherits(p,c),p.prototype.processChunk=function(h){var b=n.transformTo(s.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var f=b;(b=new Uint8Array(f.length+this.leftOver.length)).set(this.leftOver,0),b.set(f,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var g=function(v,S){var z;for((S=S||v.length)>v.length&&(S=v.length),z=S-1;0<=z&&(192&v[z])==128;)z--;return z<0||z===0?S:z+d[v[z]]>S?z:S}(b),_=b;g!==b.length&&(s.uint8array?(_=b.subarray(0,g),this.leftOver=b.subarray(g,b.length)):(_=b.slice(0,g),this.leftOver=b.slice(g,b.length))),this.push({data:r.utf8decode(_),meta:h.meta})},p.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=p,n.inherits(y,c),y.prototype.processChunk=function(h){this.push({data:r.utf8encode(h.data),meta:h.meta})},r.Utf8EncodeWorker=y},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,o,r){var n=t("./support"),s=t("./base64"),a=t("./nodejsUtils"),c=t("./external");function d(f){return f}function m(f,g){for(var _=0;_<f.length;++_)g[_]=255&f.charCodeAt(_);return g}t("setimmediate"),r.newBlob=function(f,g){r.checkSupport("blob");try{return new Blob([f],{type:g})}catch{try{var _=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return _.append(f),_.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var p={stringifyByChunk:function(f,g,_){var v=[],S=0,z=f.length;if(z<=_)return String.fromCharCode.apply(null,f);for(;S<z;)g==="array"||g==="nodebuffer"?v.push(String.fromCharCode.apply(null,f.slice(S,Math.min(S+_,z)))):v.push(String.fromCharCode.apply(null,f.subarray(S,Math.min(S+_,z)))),S+=_;return v.join("")},stringifyByChar:function(f){for(var g="",_=0;_<f.length;_++)g+=String.fromCharCode(f[_]);return g},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&String.fromCharCode.apply(null,a.allocBuffer(1)).length===1}catch{return!1}}()}};function y(f){var g=65536,_=r.getTypeOf(f),v=!0;if(_==="uint8array"?v=p.applyCanBeUsed.uint8array:_==="nodebuffer"&&(v=p.applyCanBeUsed.nodebuffer),v)for(;1<g;)try{return p.stringifyByChunk(f,_,g)}catch{g=Math.floor(g/2)}return p.stringifyByChar(f)}function h(f,g){for(var _=0;_<f.length;_++)g[_]=f[_];return g}r.applyFromCharCode=y;var b={};b.string={string:d,array:function(f){return m(f,new Array(f.length))},arraybuffer:function(f){return b.string.uint8array(f).buffer},uint8array:function(f){return m(f,new Uint8Array(f.length))},nodebuffer:function(f){return m(f,a.allocBuffer(f.length))}},b.array={string:y,array:d,arraybuffer:function(f){return new Uint8Array(f).buffer},uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return a.newBufferFrom(f)}},b.arraybuffer={string:function(f){return y(new Uint8Array(f))},array:function(f){return h(new Uint8Array(f),new Array(f.byteLength))},arraybuffer:d,uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return a.newBufferFrom(new Uint8Array(f))}},b.uint8array={string:y,array:function(f){return h(f,new Array(f.length))},arraybuffer:function(f){return f.buffer},uint8array:d,nodebuffer:function(f){return a.newBufferFrom(f)}},b.nodebuffer={string:y,array:function(f){return h(f,new Array(f.length))},arraybuffer:function(f){return b.nodebuffer.uint8array(f).buffer},uint8array:function(f){return h(f,new Uint8Array(f.length))},nodebuffer:d},r.transformTo=function(f,g){if(g=g||"",!f)return g;r.checkSupport(f);var _=r.getTypeOf(g);return b[_][f](g)},r.resolve=function(f){for(var g=f.split("/"),_=[],v=0;v<g.length;v++){var S=g[v];S==="."||S===""&&v!==0&&v!==g.length-1||(S===".."?_.pop():_.push(S))}return _.join("/")},r.getTypeOf=function(f){return typeof f=="string"?"string":Object.prototype.toString.call(f)==="[object Array]"?"array":n.nodebuffer&&a.isBuffer(f)?"nodebuffer":n.uint8array&&f instanceof Uint8Array?"uint8array":n.arraybuffer&&f instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(f){if(!n[f.toLowerCase()])throw new Error(f+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(f){var g,_,v="";for(_=0;_<(f||"").length;_++)v+="\\x"+((g=f.charCodeAt(_))<16?"0":"")+g.toString(16).toUpperCase();return v},r.delay=function(f,g,_){setImmediate(function(){f.apply(_||null,g||[])})},r.inherits=function(f,g){function _(){}_.prototype=g.prototype,f.prototype=new _},r.extend=function(){var f,g,_={};for(f=0;f<arguments.length;f++)for(g in arguments[f])Object.prototype.hasOwnProperty.call(arguments[f],g)&&_[g]===void 0&&(_[g]=arguments[f][g]);return _},r.prepareContent=function(f,g,_,v,S){return c.Promise.resolve(g).then(function(z){return n.blob&&(z instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(z))!==-1)&&typeof FileReader<"u"?new c.Promise(function(C,j){var L=new FileReader;L.onload=function(N){C(N.target.result)},L.onerror=function(N){j(N.target.error)},L.readAsArrayBuffer(z)}):z}).then(function(z){var C=r.getTypeOf(z);return C?(C==="arraybuffer"?z=r.transformTo("uint8array",z):C==="string"&&(S?z=s.decode(z):_&&v!==!0&&(z=function(j){return m(j,n.uint8array?new Uint8Array(j.length):new Array(j.length))}(z))),z):c.Promise.reject(new Error("Can't read the data of '"+f+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,o,r){var n=t("./reader/readerFor"),s=t("./utils"),a=t("./signature"),c=t("./zipEntry"),d=t("./support");function m(p){this.files=[],this.loadOptions=p}m.prototype={checkSignature:function(p){if(!this.reader.readAndCheckSignature(p)){this.reader.index-=4;var y=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(y)+", expected "+s.pretty(p)+")")}},isSignature:function(p,y){var h=this.reader.index;this.reader.setIndex(p);var b=this.reader.readString(4)===y;return this.reader.setIndex(h),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var p=this.reader.readData(this.zipCommentLength),y=d.uint8array?"uint8array":"array",h=s.transformTo(y,p);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var p,y,h,b=this.zip64EndOfCentralSize-44;0<b;)p=this.reader.readInt(2),y=this.reader.readInt(4),h=this.reader.readData(y),this.zip64ExtensibleData[p]={id:p,length:y,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var p,y;for(p=0;p<this.files.length;p++)y=this.files[p],this.reader.setIndex(y.localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),y.readLocalPart(this.reader),y.handleUTF8(),y.processAttributes()},readCentralDir:function(){var p;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(p=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(p);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var p=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(p<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(p);var y=p;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(p=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(p),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var b=y-h;if(0<b)this.isSignature(y,a.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(p){this.reader=n(p)},load:function(p){this.prepareReader(p),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,o,r){var n=t("./reader/readerFor"),s=t("./utils"),a=t("./compressedObject"),c=t("./crc32"),d=t("./utf8"),m=t("./compressions"),p=t("./support");function y(h,b){this.options=h,this.loadOptions=b}y.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var b,f;if(h.skip(22),this.fileNameLength=h.readInt(2),f=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(f),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=function(g){for(var _ in m)if(Object.prototype.hasOwnProperty.call(m,_)&&m[_].magic===g)return m[_];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,b,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var b=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(b),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=n(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var b,f,g,_=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<_;)b=h.readInt(2),f=h.readInt(2),g=h.readData(f),this.extraFields[b]={id:b,length:f,value:g};h.setIndex(_)},handleUTF8:function(){var h=p.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var f=s.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(f)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var _=s.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(_)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var b=n(h.value);return b.readInt(1)!==1||c(this.fileName)!==b.readInt(4)?null:d.utf8decode(b.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var b=n(h.value);return b.readInt(1)!==1||c(this.fileComment)!==b.readInt(4)?null:d.utf8decode(b.readData(h.length-5))}return null}},o.exports=y},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,o,r){function n(b,f,g){this.name=b,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=f,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var s=t("./stream/StreamHelper"),a=t("./stream/DataWorker"),c=t("./utf8"),d=t("./compressedObject"),m=t("./stream/GenericWorker");n.prototype={internalStream:function(b){var f=null,g="string";try{if(!b)throw new Error("No output type specified.");var _=(g=b.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),f=this._decompressWorker();var v=!this._dataBinary;v&&!_&&(f=f.pipe(new c.Utf8EncodeWorker)),!v&&_&&(f=f.pipe(new c.Utf8DecodeWorker))}catch(S){(f=new m("error")).error(S)}return new s(f,g,"")},async:function(b,f){return this.internalStream(b).accumulate(f)},nodeStream:function(b,f){return this.internalStream(b||"nodebuffer").toNodejsStream(f)},_compressWorker:function(b,f){if(this._data instanceof d&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new c.Utf8EncodeWorker)),d.createWorkerFrom(g,b,f)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof m?this._data:new a(this._data)}};for(var p=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],y=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<p.length;h++)n.prototype[p[h]]=y;o.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,o,r){(function(n){var s,a,c=n.MutationObserver||n.WebKitMutationObserver;if(c){var d=0,m=new c(b),p=n.document.createTextNode("");m.observe(p,{characterData:!0}),s=function(){p.data=d=++d%2}}else if(n.setImmediate||n.MessageChannel===void 0)s="document"in n&&"onreadystatechange"in n.document.createElement("script")?function(){var f=n.document.createElement("script");f.onreadystatechange=function(){b(),f.onreadystatechange=null,f.parentNode.removeChild(f),f=null},n.document.documentElement.appendChild(f)}:function(){setTimeout(b,0)};else{var y=new n.MessageChannel;y.port1.onmessage=b,s=function(){y.port2.postMessage(0)}}var h=[];function b(){var f,g;a=!0;for(var _=h.length;_;){for(g=h,h=[],f=-1;++f<_;)g[f]();_=h.length}a=!1}o.exports=function(f){h.push(f)!==1||a||s()}}).call(this,typeof ue<"u"?ue:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,o,r){var n=t("immediate");function s(){}var a={},c=["REJECTED"],d=["FULFILLED"],m=["PENDING"];function p(_){if(typeof _!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,_!==s&&f(this,_)}function y(_,v,S){this.promise=_,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof S=="function"&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}function h(_,v,S){n(function(){var z;try{z=v(S)}catch(C){return a.reject(_,C)}z===_?a.reject(_,new TypeError("Cannot resolve promise with itself")):a.resolve(_,z)})}function b(_){var v=_&&_.then;if(_&&(typeof _=="object"||typeof _=="function")&&typeof v=="function")return function(){v.apply(_,arguments)}}function f(_,v){var S=!1;function z(L){S||(S=!0,a.reject(_,L))}function C(L){S||(S=!0,a.resolve(_,L))}var j=g(function(){v(C,z)});j.status==="error"&&z(j.value)}function g(_,v){var S={};try{S.value=_(v),S.status="success"}catch(z){S.status="error",S.value=z}return S}(o.exports=p).prototype.finally=function(_){if(typeof _!="function")return this;var v=this.constructor;return this.then(function(S){return v.resolve(_()).then(function(){return S})},function(S){return v.resolve(_()).then(function(){throw S})})},p.prototype.catch=function(_){return this.then(null,_)},p.prototype.then=function(_,v){if(typeof _!="function"&&this.state===d||typeof v!="function"&&this.state===c)return this;var S=new this.constructor(s);return this.state!==m?h(S,this.state===d?_:v,this.outcome):this.queue.push(new y(S,_,v)),S},y.prototype.callFulfilled=function(_){a.resolve(this.promise,_)},y.prototype.otherCallFulfilled=function(_){h(this.promise,this.onFulfilled,_)},y.prototype.callRejected=function(_){a.reject(this.promise,_)},y.prototype.otherCallRejected=function(_){h(this.promise,this.onRejected,_)},a.resolve=function(_,v){var S=g(b,v);if(S.status==="error")return a.reject(_,S.value);var z=S.value;if(z)f(_,z);else{_.state=d,_.outcome=v;for(var C=-1,j=_.queue.length;++C<j;)_.queue[C].callFulfilled(v)}return _},a.reject=function(_,v){_.state=c,_.outcome=v;for(var S=-1,z=_.queue.length;++S<z;)_.queue[S].callRejected(v);return _},p.resolve=function(_){return _ instanceof this?_:a.resolve(new this(s),_)},p.reject=function(_){var v=new this(s);return a.reject(v,_)},p.all=function(_){var v=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=_.length,z=!1;if(!S)return this.resolve([]);for(var C=new Array(S),j=0,L=-1,N=new this(s);++L<S;)D(_[L],L);return N;function D(M,G){v.resolve(M).then(function(k){C[G]=k,++j!==S||z||(z=!0,a.resolve(N,C))},function(k){z||(z=!0,a.reject(N,k))})}},p.race=function(_){var v=this;if(Object.prototype.toString.call(_)!=="[object Array]")return this.reject(new TypeError("must be an array"));var S=_.length,z=!1;if(!S)return this.resolve([]);for(var C=-1,j=new this(s);++C<S;)L=_[C],v.resolve(L).then(function(N){z||(z=!0,a.resolve(j,N))},function(N){z||(z=!0,a.reject(j,N))});var L;return j}},{immediate:36}],38:[function(t,o,r){var n={};(0,t("./lib/utils/common").assign)(n,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),o.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,o,r){var n=t("./zlib/deflate"),s=t("./utils/common"),a=t("./utils/strings"),c=t("./zlib/messages"),d=t("./zlib/zstream"),m=Object.prototype.toString,p=0,y=-1,h=0,b=8;function f(_){if(!(this instanceof f))return new f(_);this.options=s.assign({level:y,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},_||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var S=n.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(S!==p)throw new Error(c[S]);if(v.header&&n.deflateSetHeader(this.strm,v.header),v.dictionary){var z;if(z=typeof v.dictionary=="string"?a.string2buf(v.dictionary):m.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(S=n.deflateSetDictionary(this.strm,z))!==p)throw new Error(c[S]);this._dict_set=!0}}function g(_,v){var S=new f(v);if(S.push(_,!0),S.err)throw S.msg||c[S.err];return S.result}f.prototype.push=function(_,v){var S,z,C=this.strm,j=this.options.chunkSize;if(this.ended)return!1;z=v===~~v?v:v===!0?4:0,typeof _=="string"?C.input=a.string2buf(_):m.call(_)==="[object ArrayBuffer]"?C.input=new Uint8Array(_):C.input=_,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new s.Buf8(j),C.next_out=0,C.avail_out=j),(S=n.deflate(C,z))!==1&&S!==p)return this.onEnd(S),!(this.ended=!0);C.avail_out!==0&&(C.avail_in!==0||z!==4&&z!==2)||(this.options.to==="string"?this.onData(a.buf2binstring(s.shrinkBuf(C.output,C.next_out))):this.onData(s.shrinkBuf(C.output,C.next_out)))}while((0<C.avail_in||C.avail_out===0)&&S!==1);return z===4?(S=n.deflateEnd(this.strm),this.onEnd(S),this.ended=!0,S===p):z!==2||(this.onEnd(p),!(C.avail_out=0))},f.prototype.onData=function(_){this.chunks.push(_)},f.prototype.onEnd=function(_){_===p&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=_,this.msg=this.strm.msg},r.Deflate=f,r.deflate=g,r.deflateRaw=function(_,v){return(v=v||{}).raw=!0,g(_,v)},r.gzip=function(_,v){return(v=v||{}).gzip=!0,g(_,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,o,r){var n=t("./zlib/inflate"),s=t("./utils/common"),a=t("./utils/strings"),c=t("./zlib/constants"),d=t("./zlib/messages"),m=t("./zlib/zstream"),p=t("./zlib/gzheader"),y=Object.prototype.toString;function h(f){if(!(this instanceof h))return new h(f);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},f||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||f&&f.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&(15&g.windowBits)==0&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var _=n.inflateInit2(this.strm,g.windowBits);if(_!==c.Z_OK)throw new Error(d[_]);this.header=new p,n.inflateGetHeader(this.strm,this.header)}function b(f,g){var _=new h(g);if(_.push(f,!0),_.err)throw _.msg||d[_.err];return _.result}h.prototype.push=function(f,g){var _,v,S,z,C,j,L=this.strm,N=this.options.chunkSize,D=this.options.dictionary,M=!1;if(this.ended)return!1;v=g===~~g?g:g===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof f=="string"?L.input=a.binstring2buf(f):y.call(f)==="[object ArrayBuffer]"?L.input=new Uint8Array(f):L.input=f,L.next_in=0,L.avail_in=L.input.length;do{if(L.avail_out===0&&(L.output=new s.Buf8(N),L.next_out=0,L.avail_out=N),(_=n.inflate(L,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&D&&(j=typeof D=="string"?a.string2buf(D):y.call(D)==="[object ArrayBuffer]"?new Uint8Array(D):D,_=n.inflateSetDictionary(this.strm,j)),_===c.Z_BUF_ERROR&&M===!0&&(_=c.Z_OK,M=!1),_!==c.Z_STREAM_END&&_!==c.Z_OK)return this.onEnd(_),!(this.ended=!0);L.next_out&&(L.avail_out!==0&&_!==c.Z_STREAM_END&&(L.avail_in!==0||v!==c.Z_FINISH&&v!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(S=a.utf8border(L.output,L.next_out),z=L.next_out-S,C=a.buf2string(L.output,S),L.next_out=z,L.avail_out=N-z,z&&s.arraySet(L.output,L.output,S,z,0),this.onData(C)):this.onData(s.shrinkBuf(L.output,L.next_out)))),L.avail_in===0&&L.avail_out===0&&(M=!0)}while((0<L.avail_in||L.avail_out===0)&&_!==c.Z_STREAM_END);return _===c.Z_STREAM_END&&(v=c.Z_FINISH),v===c.Z_FINISH?(_=n.inflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===c.Z_OK):v!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(L.avail_out=0))},h.prototype.onData=function(f){this.chunks.push(f)},h.prototype.onEnd=function(f){f===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=f,this.msg=this.strm.msg},r.Inflate=h,r.inflate=b,r.inflateRaw=function(f,g){return(g=g||{}).raw=!0,b(f,g)},r.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,o,r){var n=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(c){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var m=d.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var p in m)m.hasOwnProperty(p)&&(c[p]=m[p])}}return c},r.shrinkBuf=function(c,d){return c.length===d?c:c.subarray?c.subarray(0,d):(c.length=d,c)};var s={arraySet:function(c,d,m,p,y){if(d.subarray&&c.subarray)c.set(d.subarray(m,m+p),y);else for(var h=0;h<p;h++)c[y+h]=d[m+h]},flattenChunks:function(c){var d,m,p,y,h,b;for(d=p=0,m=c.length;d<m;d++)p+=c[d].length;for(b=new Uint8Array(p),d=y=0,m=c.length;d<m;d++)h=c[d],b.set(h,y),y+=h.length;return b}},a={arraySet:function(c,d,m,p,y){for(var h=0;h<p;h++)c[y+h]=d[m+h]},flattenChunks:function(c){return[].concat.apply([],c)}};r.setTyped=function(c){c?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,s)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,a))},r.setTyped(n)},{}],42:[function(t,o,r){var n=t("./common"),s=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{a=!1}for(var c=new n.Buf8(256),d=0;d<256;d++)c[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function m(p,y){if(y<65537&&(p.subarray&&a||!p.subarray&&s))return String.fromCharCode.apply(null,n.shrinkBuf(p,y));for(var h="",b=0;b<y;b++)h+=String.fromCharCode(p[b]);return h}c[254]=c[254]=1,r.string2buf=function(p){var y,h,b,f,g,_=p.length,v=0;for(f=0;f<_;f++)(64512&(h=p.charCodeAt(f)))==55296&&f+1<_&&(64512&(b=p.charCodeAt(f+1)))==56320&&(h=65536+(h-55296<<10)+(b-56320),f++),v+=h<128?1:h<2048?2:h<65536?3:4;for(y=new n.Buf8(v),f=g=0;g<v;f++)(64512&(h=p.charCodeAt(f)))==55296&&f+1<_&&(64512&(b=p.charCodeAt(f+1)))==56320&&(h=65536+(h-55296<<10)+(b-56320),f++),h<128?y[g++]=h:(h<2048?y[g++]=192|h>>>6:(h<65536?y[g++]=224|h>>>12:(y[g++]=240|h>>>18,y[g++]=128|h>>>12&63),y[g++]=128|h>>>6&63),y[g++]=128|63&h);return y},r.buf2binstring=function(p){return m(p,p.length)},r.binstring2buf=function(p){for(var y=new n.Buf8(p.length),h=0,b=y.length;h<b;h++)y[h]=p.charCodeAt(h);return y},r.buf2string=function(p,y){var h,b,f,g,_=y||p.length,v=new Array(2*_);for(h=b=0;h<_;)if((f=p[h++])<128)v[b++]=f;else if(4<(g=c[f]))v[b++]=65533,h+=g-1;else{for(f&=g===2?31:g===3?15:7;1<g&&h<_;)f=f<<6|63&p[h++],g--;1<g?v[b++]=65533:f<65536?v[b++]=f:(f-=65536,v[b++]=55296|f>>10&1023,v[b++]=56320|1023&f)}return m(v,b)},r.utf8border=function(p,y){var h;for((y=y||p.length)>p.length&&(y=p.length),h=y-1;0<=h&&(192&p[h])==128;)h--;return h<0||h===0?y:h+c[p[h]]>y?h:y}},{"./common":41}],43:[function(t,o,r){o.exports=function(n,s,a,c){for(var d=65535&n|0,m=n>>>16&65535|0,p=0;a!==0;){for(a-=p=2e3<a?2e3:a;m=m+(d=d+s[c++]|0)|0,--p;);d%=65521,m%=65521}return d|m<<16|0}},{}],44:[function(t,o,r){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,o,r){var n=function(){for(var s,a=[],c=0;c<256;c++){s=c;for(var d=0;d<8;d++)s=1&s?3988292384^s>>>1:s>>>1;a[c]=s}return a}();o.exports=function(s,a,c,d){var m=n,p=d+c;s^=-1;for(var y=d;y<p;y++)s=s>>>8^m[255&(s^a[y])];return-1^s}},{}],46:[function(t,o,r){var n,s=t("../utils/common"),a=t("./trees"),c=t("./adler32"),d=t("./crc32"),m=t("./messages"),p=0,y=4,h=0,b=-2,f=-1,g=4,_=2,v=8,S=9,z=286,C=30,j=19,L=2*z+1,N=15,D=3,M=258,G=M+D+1,k=42,O=113,u=1,T=2,Q=3,Z=4;function nt(l,W){return l.msg=m[W],W}function B(l){return(l<<1)-(4<l?9:0)}function F(l){for(var W=l.length;0<=--W;)l[W]=0}function E(l){var W=l.state,U=W.pending;U>l.avail_out&&(U=l.avail_out),U!==0&&(s.arraySet(l.output,W.pending_buf,W.pending_out,U,l.next_out),l.next_out+=U,W.pending_out+=U,l.total_out+=U,l.avail_out-=U,W.pending-=U,W.pending===0&&(W.pending_out=0))}function I(l,W){a._tr_flush_block(l,0<=l.block_start?l.block_start:-1,l.strstart-l.block_start,W),l.block_start=l.strstart,E(l.strm)}function V(l,W){l.pending_buf[l.pending++]=W}function Y(l,W){l.pending_buf[l.pending++]=W>>>8&255,l.pending_buf[l.pending++]=255&W}function q(l,W){var U,A,w=l.max_chain_length,x=l.strstart,H=l.prev_length,K=l.nice_match,R=l.strstart>l.w_size-G?l.strstart-(l.w_size-G):0,J=l.window,$=l.w_mask,X=l.prev,rt=l.strstart+M,gt=J[x+H-1],dt=J[x+H];l.prev_length>=l.good_match&&(w>>=2),K>l.lookahead&&(K=l.lookahead);do if(J[(U=W)+H]===dt&&J[U+H-1]===gt&&J[U]===J[x]&&J[++U]===J[x+1]){x+=2,U++;do;while(J[++x]===J[++U]&&J[++x]===J[++U]&&J[++x]===J[++U]&&J[++x]===J[++U]&&J[++x]===J[++U]&&J[++x]===J[++U]&&J[++x]===J[++U]&&J[++x]===J[++U]&&x<rt);if(A=M-(rt-x),x=rt-M,H<A){if(l.match_start=W,K<=(H=A))break;gt=J[x+H-1],dt=J[x+H]}}while((W=X[W&$])>R&&--w!=0);return H<=l.lookahead?H:l.lookahead}function ut(l){var W,U,A,w,x,H,K,R,J,$,X=l.w_size;do{if(w=l.window_size-l.lookahead-l.strstart,l.strstart>=X+(X-G)){for(s.arraySet(l.window,l.window,X,X,0),l.match_start-=X,l.strstart-=X,l.block_start-=X,W=U=l.hash_size;A=l.head[--W],l.head[W]=X<=A?A-X:0,--U;);for(W=U=X;A=l.prev[--W],l.prev[W]=X<=A?A-X:0,--U;);w+=X}if(l.strm.avail_in===0)break;if(H=l.strm,K=l.window,R=l.strstart+l.lookahead,J=w,$=void 0,$=H.avail_in,J<$&&($=J),U=$===0?0:(H.avail_in-=$,s.arraySet(K,H.input,H.next_in,$,R),H.state.wrap===1?H.adler=c(H.adler,K,$,R):H.state.wrap===2&&(H.adler=d(H.adler,K,$,R)),H.next_in+=$,H.total_in+=$,$),l.lookahead+=U,l.lookahead+l.insert>=D)for(x=l.strstart-l.insert,l.ins_h=l.window[x],l.ins_h=(l.ins_h<<l.hash_shift^l.window[x+1])&l.hash_mask;l.insert&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[x+D-1])&l.hash_mask,l.prev[x&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=x,x++,l.insert--,!(l.lookahead+l.insert<D)););}while(l.lookahead<G&&l.strm.avail_in!==0)}function ht(l,W){for(var U,A;;){if(l.lookahead<G){if(ut(l),l.lookahead<G&&W===p)return u;if(l.lookahead===0)break}if(U=0,l.lookahead>=D&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+D-1])&l.hash_mask,U=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart),U!==0&&l.strstart-U<=l.w_size-G&&(l.match_length=q(l,U)),l.match_length>=D)if(A=a._tr_tally(l,l.strstart-l.match_start,l.match_length-D),l.lookahead-=l.match_length,l.match_length<=l.max_lazy_match&&l.lookahead>=D){for(l.match_length--;l.strstart++,l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+D-1])&l.hash_mask,U=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart,--l.match_length!=0;);l.strstart++}else l.strstart+=l.match_length,l.match_length=0,l.ins_h=l.window[l.strstart],l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+1])&l.hash_mask;else A=a._tr_tally(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++;if(A&&(I(l,!1),l.strm.avail_out===0))return u}return l.insert=l.strstart<D-1?l.strstart:D-1,W===y?(I(l,!0),l.strm.avail_out===0?Q:Z):l.last_lit&&(I(l,!1),l.strm.avail_out===0)?u:T}function st(l,W){for(var U,A,w;;){if(l.lookahead<G){if(ut(l),l.lookahead<G&&W===p)return u;if(l.lookahead===0)break}if(U=0,l.lookahead>=D&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+D-1])&l.hash_mask,U=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart),l.prev_length=l.match_length,l.prev_match=l.match_start,l.match_length=D-1,U!==0&&l.prev_length<l.max_lazy_match&&l.strstart-U<=l.w_size-G&&(l.match_length=q(l,U),l.match_length<=5&&(l.strategy===1||l.match_length===D&&4096<l.strstart-l.match_start)&&(l.match_length=D-1)),l.prev_length>=D&&l.match_length<=l.prev_length){for(w=l.strstart+l.lookahead-D,A=a._tr_tally(l,l.strstart-1-l.prev_match,l.prev_length-D),l.lookahead-=l.prev_length-1,l.prev_length-=2;++l.strstart<=w&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+D-1])&l.hash_mask,U=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart),--l.prev_length!=0;);if(l.match_available=0,l.match_length=D-1,l.strstart++,A&&(I(l,!1),l.strm.avail_out===0))return u}else if(l.match_available){if((A=a._tr_tally(l,0,l.window[l.strstart-1]))&&I(l,!1),l.strstart++,l.lookahead--,l.strm.avail_out===0)return u}else l.match_available=1,l.strstart++,l.lookahead--}return l.match_available&&(A=a._tr_tally(l,0,l.window[l.strstart-1]),l.match_available=0),l.insert=l.strstart<D-1?l.strstart:D-1,W===y?(I(l,!0),l.strm.avail_out===0?Q:Z):l.last_lit&&(I(l,!1),l.strm.avail_out===0)?u:T}function ft(l,W,U,A,w){this.good_length=l,this.max_lazy=W,this.nice_length=U,this.max_chain=A,this.func=w}function vt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*L),this.dyn_dtree=new s.Buf16(2*(2*C+1)),this.bl_tree=new s.Buf16(2*(2*j+1)),F(this.dyn_ltree),F(this.dyn_dtree),F(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(N+1),this.heap=new s.Buf16(2*z+1),F(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*z+1),F(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function pt(l){var W;return l&&l.state?(l.total_in=l.total_out=0,l.data_type=_,(W=l.state).pending=0,W.pending_out=0,W.wrap<0&&(W.wrap=-W.wrap),W.status=W.wrap?k:O,l.adler=W.wrap===2?0:1,W.last_flush=p,a._tr_init(W),h):nt(l,b)}function Ot(l){var W=pt(l);return W===h&&function(U){U.window_size=2*U.w_size,F(U.head),U.max_lazy_match=n[U.level].max_lazy,U.good_match=n[U.level].good_length,U.nice_match=n[U.level].nice_length,U.max_chain_length=n[U.level].max_chain,U.strstart=0,U.block_start=0,U.lookahead=0,U.insert=0,U.match_length=U.prev_length=D-1,U.match_available=0,U.ins_h=0}(l.state),W}function xt(l,W,U,A,w,x){if(!l)return b;var H=1;if(W===f&&(W=6),A<0?(H=0,A=-A):15<A&&(H=2,A-=16),w<1||S<w||U!==v||A<8||15<A||W<0||9<W||x<0||g<x)return nt(l,b);A===8&&(A=9);var K=new vt;return(l.state=K).strm=l,K.wrap=H,K.gzhead=null,K.w_bits=A,K.w_size=1<<K.w_bits,K.w_mask=K.w_size-1,K.hash_bits=w+7,K.hash_size=1<<K.hash_bits,K.hash_mask=K.hash_size-1,K.hash_shift=~~((K.hash_bits+D-1)/D),K.window=new s.Buf8(2*K.w_size),K.head=new s.Buf16(K.hash_size),K.prev=new s.Buf16(K.w_size),K.lit_bufsize=1<<w+6,K.pending_buf_size=4*K.lit_bufsize,K.pending_buf=new s.Buf8(K.pending_buf_size),K.d_buf=1*K.lit_bufsize,K.l_buf=3*K.lit_bufsize,K.level=W,K.strategy=x,K.method=U,Ot(l)}n=[new ft(0,0,0,0,function(l,W){var U=65535;for(U>l.pending_buf_size-5&&(U=l.pending_buf_size-5);;){if(l.lookahead<=1){if(ut(l),l.lookahead===0&&W===p)return u;if(l.lookahead===0)break}l.strstart+=l.lookahead,l.lookahead=0;var A=l.block_start+U;if((l.strstart===0||l.strstart>=A)&&(l.lookahead=l.strstart-A,l.strstart=A,I(l,!1),l.strm.avail_out===0)||l.strstart-l.block_start>=l.w_size-G&&(I(l,!1),l.strm.avail_out===0))return u}return l.insert=0,W===y?(I(l,!0),l.strm.avail_out===0?Q:Z):(l.strstart>l.block_start&&(I(l,!1),l.strm.avail_out),u)}),new ft(4,4,8,4,ht),new ft(4,5,16,8,ht),new ft(4,6,32,32,ht),new ft(4,4,16,16,st),new ft(8,16,32,32,st),new ft(8,16,128,128,st),new ft(8,32,128,256,st),new ft(32,128,258,1024,st),new ft(32,258,258,4096,st)],r.deflateInit=function(l,W){return xt(l,W,v,15,8,0)},r.deflateInit2=xt,r.deflateReset=Ot,r.deflateResetKeep=pt,r.deflateSetHeader=function(l,W){return l&&l.state?l.state.wrap!==2?b:(l.state.gzhead=W,h):b},r.deflate=function(l,W){var U,A,w,x;if(!l||!l.state||5<W||W<0)return l?nt(l,b):b;if(A=l.state,!l.output||!l.input&&l.avail_in!==0||A.status===666&&W!==y)return nt(l,l.avail_out===0?-5:b);if(A.strm=l,U=A.last_flush,A.last_flush=W,A.status===k)if(A.wrap===2)l.adler=0,V(A,31),V(A,139),V(A,8),A.gzhead?(V(A,(A.gzhead.text?1:0)+(A.gzhead.hcrc?2:0)+(A.gzhead.extra?4:0)+(A.gzhead.name?8:0)+(A.gzhead.comment?16:0)),V(A,255&A.gzhead.time),V(A,A.gzhead.time>>8&255),V(A,A.gzhead.time>>16&255),V(A,A.gzhead.time>>24&255),V(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),V(A,255&A.gzhead.os),A.gzhead.extra&&A.gzhead.extra.length&&(V(A,255&A.gzhead.extra.length),V(A,A.gzhead.extra.length>>8&255)),A.gzhead.hcrc&&(l.adler=d(l.adler,A.pending_buf,A.pending,0)),A.gzindex=0,A.status=69):(V(A,0),V(A,0),V(A,0),V(A,0),V(A,0),V(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),V(A,3),A.status=O);else{var H=v+(A.w_bits-8<<4)<<8;H|=(2<=A.strategy||A.level<2?0:A.level<6?1:A.level===6?2:3)<<6,A.strstart!==0&&(H|=32),H+=31-H%31,A.status=O,Y(A,H),A.strstart!==0&&(Y(A,l.adler>>>16),Y(A,65535&l.adler)),l.adler=1}if(A.status===69)if(A.gzhead.extra){for(w=A.pending;A.gzindex<(65535&A.gzhead.extra.length)&&(A.pending!==A.pending_buf_size||(A.gzhead.hcrc&&A.pending>w&&(l.adler=d(l.adler,A.pending_buf,A.pending-w,w)),E(l),w=A.pending,A.pending!==A.pending_buf_size));)V(A,255&A.gzhead.extra[A.gzindex]),A.gzindex++;A.gzhead.hcrc&&A.pending>w&&(l.adler=d(l.adler,A.pending_buf,A.pending-w,w)),A.gzindex===A.gzhead.extra.length&&(A.gzindex=0,A.status=73)}else A.status=73;if(A.status===73)if(A.gzhead.name){w=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>w&&(l.adler=d(l.adler,A.pending_buf,A.pending-w,w)),E(l),w=A.pending,A.pending===A.pending_buf_size)){x=1;break}x=A.gzindex<A.gzhead.name.length?255&A.gzhead.name.charCodeAt(A.gzindex++):0,V(A,x)}while(x!==0);A.gzhead.hcrc&&A.pending>w&&(l.adler=d(l.adler,A.pending_buf,A.pending-w,w)),x===0&&(A.gzindex=0,A.status=91)}else A.status=91;if(A.status===91)if(A.gzhead.comment){w=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>w&&(l.adler=d(l.adler,A.pending_buf,A.pending-w,w)),E(l),w=A.pending,A.pending===A.pending_buf_size)){x=1;break}x=A.gzindex<A.gzhead.comment.length?255&A.gzhead.comment.charCodeAt(A.gzindex++):0,V(A,x)}while(x!==0);A.gzhead.hcrc&&A.pending>w&&(l.adler=d(l.adler,A.pending_buf,A.pending-w,w)),x===0&&(A.status=103)}else A.status=103;if(A.status===103&&(A.gzhead.hcrc?(A.pending+2>A.pending_buf_size&&E(l),A.pending+2<=A.pending_buf_size&&(V(A,255&l.adler),V(A,l.adler>>8&255),l.adler=0,A.status=O)):A.status=O),A.pending!==0){if(E(l),l.avail_out===0)return A.last_flush=-1,h}else if(l.avail_in===0&&B(W)<=B(U)&&W!==y)return nt(l,-5);if(A.status===666&&l.avail_in!==0)return nt(l,-5);if(l.avail_in!==0||A.lookahead!==0||W!==p&&A.status!==666){var K=A.strategy===2?function(R,J){for(var $;;){if(R.lookahead===0&&(ut(R),R.lookahead===0)){if(J===p)return u;break}if(R.match_length=0,$=a._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++,$&&(I(R,!1),R.strm.avail_out===0))return u}return R.insert=0,J===y?(I(R,!0),R.strm.avail_out===0?Q:Z):R.last_lit&&(I(R,!1),R.strm.avail_out===0)?u:T}(A,W):A.strategy===3?function(R,J){for(var $,X,rt,gt,dt=R.window;;){if(R.lookahead<=M){if(ut(R),R.lookahead<=M&&J===p)return u;if(R.lookahead===0)break}if(R.match_length=0,R.lookahead>=D&&0<R.strstart&&(X=dt[rt=R.strstart-1])===dt[++rt]&&X===dt[++rt]&&X===dt[++rt]){gt=R.strstart+M;do;while(X===dt[++rt]&&X===dt[++rt]&&X===dt[++rt]&&X===dt[++rt]&&X===dt[++rt]&&X===dt[++rt]&&X===dt[++rt]&&X===dt[++rt]&&rt<gt);R.match_length=M-(gt-rt),R.match_length>R.lookahead&&(R.match_length=R.lookahead)}if(R.match_length>=D?($=a._tr_tally(R,1,R.match_length-D),R.lookahead-=R.match_length,R.strstart+=R.match_length,R.match_length=0):($=a._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++),$&&(I(R,!1),R.strm.avail_out===0))return u}return R.insert=0,J===y?(I(R,!0),R.strm.avail_out===0?Q:Z):R.last_lit&&(I(R,!1),R.strm.avail_out===0)?u:T}(A,W):n[A.level].func(A,W);if(K!==Q&&K!==Z||(A.status=666),K===u||K===Q)return l.avail_out===0&&(A.last_flush=-1),h;if(K===T&&(W===1?a._tr_align(A):W!==5&&(a._tr_stored_block(A,0,0,!1),W===3&&(F(A.head),A.lookahead===0&&(A.strstart=0,A.block_start=0,A.insert=0))),E(l),l.avail_out===0))return A.last_flush=-1,h}return W!==y?h:A.wrap<=0?1:(A.wrap===2?(V(A,255&l.adler),V(A,l.adler>>8&255),V(A,l.adler>>16&255),V(A,l.adler>>24&255),V(A,255&l.total_in),V(A,l.total_in>>8&255),V(A,l.total_in>>16&255),V(A,l.total_in>>24&255)):(Y(A,l.adler>>>16),Y(A,65535&l.adler)),E(l),0<A.wrap&&(A.wrap=-A.wrap),A.pending!==0?h:1)},r.deflateEnd=function(l){var W;return l&&l.state?(W=l.state.status)!==k&&W!==69&&W!==73&&W!==91&&W!==103&&W!==O&&W!==666?nt(l,b):(l.state=null,W===O?nt(l,-3):h):b},r.deflateSetDictionary=function(l,W){var U,A,w,x,H,K,R,J,$=W.length;if(!l||!l.state||(x=(U=l.state).wrap)===2||x===1&&U.status!==k||U.lookahead)return b;for(x===1&&(l.adler=c(l.adler,W,$,0)),U.wrap=0,$>=U.w_size&&(x===0&&(F(U.head),U.strstart=0,U.block_start=0,U.insert=0),J=new s.Buf8(U.w_size),s.arraySet(J,W,$-U.w_size,U.w_size,0),W=J,$=U.w_size),H=l.avail_in,K=l.next_in,R=l.input,l.avail_in=$,l.next_in=0,l.input=W,ut(U);U.lookahead>=D;){for(A=U.strstart,w=U.lookahead-(D-1);U.ins_h=(U.ins_h<<U.hash_shift^U.window[A+D-1])&U.hash_mask,U.prev[A&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=A,A++,--w;);U.strstart=A,U.lookahead=D-1,ut(U)}return U.strstart+=U.lookahead,U.block_start=U.strstart,U.insert=U.lookahead,U.lookahead=0,U.match_length=U.prev_length=D-1,U.match_available=0,l.next_in=K,l.input=R,l.avail_in=H,U.wrap=x,h},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,o,r){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,o,r){o.exports=function(n,s){var a,c,d,m,p,y,h,b,f,g,_,v,S,z,C,j,L,N,D,M,G,k,O,u,T;a=n.state,c=n.next_in,u=n.input,d=c+(n.avail_in-5),m=n.next_out,T=n.output,p=m-(s-n.avail_out),y=m+(n.avail_out-257),h=a.dmax,b=a.wsize,f=a.whave,g=a.wnext,_=a.window,v=a.hold,S=a.bits,z=a.lencode,C=a.distcode,j=(1<<a.lenbits)-1,L=(1<<a.distbits)-1;t:do{S<15&&(v+=u[c++]<<S,S+=8,v+=u[c++]<<S,S+=8),N=z[v&j];e:for(;;){if(v>>>=D=N>>>24,S-=D,(D=N>>>16&255)===0)T[m++]=65535&N;else{if(!(16&D)){if((64&D)==0){N=z[(65535&N)+(v&(1<<D)-1)];continue e}if(32&D){a.mode=12;break t}n.msg="invalid literal/length code",a.mode=30;break t}M=65535&N,(D&=15)&&(S<D&&(v+=u[c++]<<S,S+=8),M+=v&(1<<D)-1,v>>>=D,S-=D),S<15&&(v+=u[c++]<<S,S+=8,v+=u[c++]<<S,S+=8),N=C[v&L];n:for(;;){if(v>>>=D=N>>>24,S-=D,!(16&(D=N>>>16&255))){if((64&D)==0){N=C[(65535&N)+(v&(1<<D)-1)];continue n}n.msg="invalid distance code",a.mode=30;break t}if(G=65535&N,S<(D&=15)&&(v+=u[c++]<<S,(S+=8)<D&&(v+=u[c++]<<S,S+=8)),h<(G+=v&(1<<D)-1)){n.msg="invalid distance too far back",a.mode=30;break t}if(v>>>=D,S-=D,(D=m-p)<G){if(f<(D=G-D)&&a.sane){n.msg="invalid distance too far back",a.mode=30;break t}if(O=_,(k=0)===g){if(k+=b-D,D<M){for(M-=D;T[m++]=_[k++],--D;);k=m-G,O=T}}else if(g<D){if(k+=b+g-D,(D-=g)<M){for(M-=D;T[m++]=_[k++],--D;);if(k=0,g<M){for(M-=D=g;T[m++]=_[k++],--D;);k=m-G,O=T}}}else if(k+=g-D,D<M){for(M-=D;T[m++]=_[k++],--D;);k=m-G,O=T}for(;2<M;)T[m++]=O[k++],T[m++]=O[k++],T[m++]=O[k++],M-=3;M&&(T[m++]=O[k++],1<M&&(T[m++]=O[k++]))}else{for(k=m-G;T[m++]=T[k++],T[m++]=T[k++],T[m++]=T[k++],2<(M-=3););M&&(T[m++]=T[k++],1<M&&(T[m++]=T[k++]))}break}}break}}while(c<d&&m<y);c-=M=S>>3,v&=(1<<(S-=M<<3))-1,n.next_in=c,n.next_out=m,n.avail_in=c<d?d-c+5:5-(c-d),n.avail_out=m<y?y-m+257:257-(m-y),a.hold=v,a.bits=S}},{}],49:[function(t,o,r){var n=t("../utils/common"),s=t("./adler32"),a=t("./crc32"),c=t("./inffast"),d=t("./inftrees"),m=1,p=2,y=0,h=-2,b=1,f=852,g=592;function _(k){return(k>>>24&255)+(k>>>8&65280)+((65280&k)<<8)+((255&k)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function S(k){var O;return k&&k.state?(O=k.state,k.total_in=k.total_out=O.total=0,k.msg="",O.wrap&&(k.adler=1&O.wrap),O.mode=b,O.last=0,O.havedict=0,O.dmax=32768,O.head=null,O.hold=0,O.bits=0,O.lencode=O.lendyn=new n.Buf32(f),O.distcode=O.distdyn=new n.Buf32(g),O.sane=1,O.back=-1,y):h}function z(k){var O;return k&&k.state?((O=k.state).wsize=0,O.whave=0,O.wnext=0,S(k)):h}function C(k,O){var u,T;return k&&k.state?(T=k.state,O<0?(u=0,O=-O):(u=1+(O>>4),O<48&&(O&=15)),O&&(O<8||15<O)?h:(T.window!==null&&T.wbits!==O&&(T.window=null),T.wrap=u,T.wbits=O,z(k))):h}function j(k,O){var u,T;return k?(T=new v,(k.state=T).window=null,(u=C(k,O))!==y&&(k.state=null),u):h}var L,N,D=!0;function M(k){if(D){var O;for(L=new n.Buf32(512),N=new n.Buf32(32),O=0;O<144;)k.lens[O++]=8;for(;O<256;)k.lens[O++]=9;for(;O<280;)k.lens[O++]=7;for(;O<288;)k.lens[O++]=8;for(d(m,k.lens,0,288,L,0,k.work,{bits:9}),O=0;O<32;)k.lens[O++]=5;d(p,k.lens,0,32,N,0,k.work,{bits:5}),D=!1}k.lencode=L,k.lenbits=9,k.distcode=N,k.distbits=5}function G(k,O,u,T){var Q,Z=k.state;return Z.window===null&&(Z.wsize=1<<Z.wbits,Z.wnext=0,Z.whave=0,Z.window=new n.Buf8(Z.wsize)),T>=Z.wsize?(n.arraySet(Z.window,O,u-Z.wsize,Z.wsize,0),Z.wnext=0,Z.whave=Z.wsize):(T<(Q=Z.wsize-Z.wnext)&&(Q=T),n.arraySet(Z.window,O,u-T,Q,Z.wnext),(T-=Q)?(n.arraySet(Z.window,O,u-T,T,0),Z.wnext=T,Z.whave=Z.wsize):(Z.wnext+=Q,Z.wnext===Z.wsize&&(Z.wnext=0),Z.whave<Z.wsize&&(Z.whave+=Q))),0}r.inflateReset=z,r.inflateReset2=C,r.inflateResetKeep=S,r.inflateInit=function(k){return j(k,15)},r.inflateInit2=j,r.inflate=function(k,O){var u,T,Q,Z,nt,B,F,E,I,V,Y,q,ut,ht,st,ft,vt,pt,Ot,xt,l,W,U,A,w=0,x=new n.Buf8(4),H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return h;(u=k.state).mode===12&&(u.mode=13),nt=k.next_out,Q=k.output,F=k.avail_out,Z=k.next_in,T=k.input,B=k.avail_in,E=u.hold,I=u.bits,V=B,Y=F,W=y;t:for(;;)switch(u.mode){case b:if(u.wrap===0){u.mode=13;break}for(;I<16;){if(B===0)break t;B--,E+=T[Z++]<<I,I+=8}if(2&u.wrap&&E===35615){x[u.check=0]=255&E,x[1]=E>>>8&255,u.check=a(u.check,x,2,0),I=E=0,u.mode=2;break}if(u.flags=0,u.head&&(u.head.done=!1),!(1&u.wrap)||(((255&E)<<8)+(E>>8))%31){k.msg="incorrect header check",u.mode=30;break}if((15&E)!=8){k.msg="unknown compression method",u.mode=30;break}if(I-=4,l=8+(15&(E>>>=4)),u.wbits===0)u.wbits=l;else if(l>u.wbits){k.msg="invalid window size",u.mode=30;break}u.dmax=1<<l,k.adler=u.check=1,u.mode=512&E?10:12,I=E=0;break;case 2:for(;I<16;){if(B===0)break t;B--,E+=T[Z++]<<I,I+=8}if(u.flags=E,(255&u.flags)!=8){k.msg="unknown compression method",u.mode=30;break}if(57344&u.flags){k.msg="unknown header flags set",u.mode=30;break}u.head&&(u.head.text=E>>8&1),512&u.flags&&(x[0]=255&E,x[1]=E>>>8&255,u.check=a(u.check,x,2,0)),I=E=0,u.mode=3;case 3:for(;I<32;){if(B===0)break t;B--,E+=T[Z++]<<I,I+=8}u.head&&(u.head.time=E),512&u.flags&&(x[0]=255&E,x[1]=E>>>8&255,x[2]=E>>>16&255,x[3]=E>>>24&255,u.check=a(u.check,x,4,0)),I=E=0,u.mode=4;case 4:for(;I<16;){if(B===0)break t;B--,E+=T[Z++]<<I,I+=8}u.head&&(u.head.xflags=255&E,u.head.os=E>>8),512&u.flags&&(x[0]=255&E,x[1]=E>>>8&255,u.check=a(u.check,x,2,0)),I=E=0,u.mode=5;case 5:if(1024&u.flags){for(;I<16;){if(B===0)break t;B--,E+=T[Z++]<<I,I+=8}u.length=E,u.head&&(u.head.extra_len=E),512&u.flags&&(x[0]=255&E,x[1]=E>>>8&255,u.check=a(u.check,x,2,0)),I=E=0}else u.head&&(u.head.extra=null);u.mode=6;case 6:if(1024&u.flags&&(B<(q=u.length)&&(q=B),q&&(u.head&&(l=u.head.extra_len-u.length,u.head.extra||(u.head.extra=new Array(u.head.extra_len)),n.arraySet(u.head.extra,T,Z,q,l)),512&u.flags&&(u.check=a(u.check,T,q,Z)),B-=q,Z+=q,u.length-=q),u.length))break t;u.length=0,u.mode=7;case 7:if(2048&u.flags){if(B===0)break t;for(q=0;l=T[Z+q++],u.head&&l&&u.length<65536&&(u.head.name+=String.fromCharCode(l)),l&&q<B;);if(512&u.flags&&(u.check=a(u.check,T,q,Z)),B-=q,Z+=q,l)break t}else u.head&&(u.head.name=null);u.length=0,u.mode=8;case 8:if(4096&u.flags){if(B===0)break t;for(q=0;l=T[Z+q++],u.head&&l&&u.length<65536&&(u.head.comment+=String.fromCharCode(l)),l&&q<B;);if(512&u.flags&&(u.check=a(u.check,T,q,Z)),B-=q,Z+=q,l)break t}else u.head&&(u.head.comment=null);u.mode=9;case 9:if(512&u.flags){for(;I<16;){if(B===0)break t;B--,E+=T[Z++]<<I,I+=8}if(E!==(65535&u.check)){k.msg="header crc mismatch",u.mode=30;break}I=E=0}u.head&&(u.head.hcrc=u.flags>>9&1,u.head.done=!0),k.adler=u.check=0,u.mode=12;break;case 10:for(;I<32;){if(B===0)break t;B--,E+=T[Z++]<<I,I+=8}k.adler=u.check=_(E),I=E=0,u.mode=11;case 11:if(u.havedict===0)return k.next_out=nt,k.avail_out=F,k.next_in=Z,k.avail_in=B,u.hold=E,u.bits=I,2;k.adler=u.check=1,u.mode=12;case 12:if(O===5||O===6)break t;case 13:if(u.last){E>>>=7&I,I-=7&I,u.mode=27;break}for(;I<3;){if(B===0)break t;B--,E+=T[Z++]<<I,I+=8}switch(u.last=1&E,I-=1,3&(E>>>=1)){case 0:u.mode=14;break;case 1:if(M(u),u.mode=20,O!==6)break;E>>>=2,I-=2;break t;case 2:u.mode=17;break;case 3:k.msg="invalid block type",u.mode=30}E>>>=2,I-=2;break;case 14:for(E>>>=7&I,I-=7&I;I<32;){if(B===0)break t;B--,E+=T[Z++]<<I,I+=8}if((65535&E)!=(E>>>16^65535)){k.msg="invalid stored block lengths",u.mode=30;break}if(u.length=65535&E,I=E=0,u.mode=15,O===6)break t;case 15:u.mode=16;case 16:if(q=u.length){if(B<q&&(q=B),F<q&&(q=F),q===0)break t;n.arraySet(Q,T,Z,q,nt),B-=q,Z+=q,F-=q,nt+=q,u.length-=q;break}u.mode=12;break;case 17:for(;I<14;){if(B===0)break t;B--,E+=T[Z++]<<I,I+=8}if(u.nlen=257+(31&E),E>>>=5,I-=5,u.ndist=1+(31&E),E>>>=5,I-=5,u.ncode=4+(15&E),E>>>=4,I-=4,286<u.nlen||30<u.ndist){k.msg="too many length or distance symbols",u.mode=30;break}u.have=0,u.mode=18;case 18:for(;u.have<u.ncode;){for(;I<3;){if(B===0)break t;B--,E+=T[Z++]<<I,I+=8}u.lens[H[u.have++]]=7&E,E>>>=3,I-=3}for(;u.have<19;)u.lens[H[u.have++]]=0;if(u.lencode=u.lendyn,u.lenbits=7,U={bits:u.lenbits},W=d(0,u.lens,0,19,u.lencode,0,u.work,U),u.lenbits=U.bits,W){k.msg="invalid code lengths set",u.mode=30;break}u.have=0,u.mode=19;case 19:for(;u.have<u.nlen+u.ndist;){for(;ft=(w=u.lencode[E&(1<<u.lenbits)-1])>>>16&255,vt=65535&w,!((st=w>>>24)<=I);){if(B===0)break t;B--,E+=T[Z++]<<I,I+=8}if(vt<16)E>>>=st,I-=st,u.lens[u.have++]=vt;else{if(vt===16){for(A=st+2;I<A;){if(B===0)break t;B--,E+=T[Z++]<<I,I+=8}if(E>>>=st,I-=st,u.have===0){k.msg="invalid bit length repeat",u.mode=30;break}l=u.lens[u.have-1],q=3+(3&E),E>>>=2,I-=2}else if(vt===17){for(A=st+3;I<A;){if(B===0)break t;B--,E+=T[Z++]<<I,I+=8}I-=st,l=0,q=3+(7&(E>>>=st)),E>>>=3,I-=3}else{for(A=st+7;I<A;){if(B===0)break t;B--,E+=T[Z++]<<I,I+=8}I-=st,l=0,q=11+(127&(E>>>=st)),E>>>=7,I-=7}if(u.have+q>u.nlen+u.ndist){k.msg="invalid bit length repeat",u.mode=30;break}for(;q--;)u.lens[u.have++]=l}}if(u.mode===30)break;if(u.lens[256]===0){k.msg="invalid code -- missing end-of-block",u.mode=30;break}if(u.lenbits=9,U={bits:u.lenbits},W=d(m,u.lens,0,u.nlen,u.lencode,0,u.work,U),u.lenbits=U.bits,W){k.msg="invalid literal/lengths set",u.mode=30;break}if(u.distbits=6,u.distcode=u.distdyn,U={bits:u.distbits},W=d(p,u.lens,u.nlen,u.ndist,u.distcode,0,u.work,U),u.distbits=U.bits,W){k.msg="invalid distances set",u.mode=30;break}if(u.mode=20,O===6)break t;case 20:u.mode=21;case 21:if(6<=B&&258<=F){k.next_out=nt,k.avail_out=F,k.next_in=Z,k.avail_in=B,u.hold=E,u.bits=I,c(k,Y),nt=k.next_out,Q=k.output,F=k.avail_out,Z=k.next_in,T=k.input,B=k.avail_in,E=u.hold,I=u.bits,u.mode===12&&(u.back=-1);break}for(u.back=0;ft=(w=u.lencode[E&(1<<u.lenbits)-1])>>>16&255,vt=65535&w,!((st=w>>>24)<=I);){if(B===0)break t;B--,E+=T[Z++]<<I,I+=8}if(ft&&(240&ft)==0){for(pt=st,Ot=ft,xt=vt;ft=(w=u.lencode[xt+((E&(1<<pt+Ot)-1)>>pt)])>>>16&255,vt=65535&w,!(pt+(st=w>>>24)<=I);){if(B===0)break t;B--,E+=T[Z++]<<I,I+=8}E>>>=pt,I-=pt,u.back+=pt}if(E>>>=st,I-=st,u.back+=st,u.length=vt,ft===0){u.mode=26;break}if(32&ft){u.back=-1,u.mode=12;break}if(64&ft){k.msg="invalid literal/length code",u.mode=30;break}u.extra=15&ft,u.mode=22;case 22:if(u.extra){for(A=u.extra;I<A;){if(B===0)break t;B--,E+=T[Z++]<<I,I+=8}u.length+=E&(1<<u.extra)-1,E>>>=u.extra,I-=u.extra,u.back+=u.extra}u.was=u.length,u.mode=23;case 23:for(;ft=(w=u.distcode[E&(1<<u.distbits)-1])>>>16&255,vt=65535&w,!((st=w>>>24)<=I);){if(B===0)break t;B--,E+=T[Z++]<<I,I+=8}if((240&ft)==0){for(pt=st,Ot=ft,xt=vt;ft=(w=u.distcode[xt+((E&(1<<pt+Ot)-1)>>pt)])>>>16&255,vt=65535&w,!(pt+(st=w>>>24)<=I);){if(B===0)break t;B--,E+=T[Z++]<<I,I+=8}E>>>=pt,I-=pt,u.back+=pt}if(E>>>=st,I-=st,u.back+=st,64&ft){k.msg="invalid distance code",u.mode=30;break}u.offset=vt,u.extra=15&ft,u.mode=24;case 24:if(u.extra){for(A=u.extra;I<A;){if(B===0)break t;B--,E+=T[Z++]<<I,I+=8}u.offset+=E&(1<<u.extra)-1,E>>>=u.extra,I-=u.extra,u.back+=u.extra}if(u.offset>u.dmax){k.msg="invalid distance too far back",u.mode=30;break}u.mode=25;case 25:if(F===0)break t;if(q=Y-F,u.offset>q){if((q=u.offset-q)>u.whave&&u.sane){k.msg="invalid distance too far back",u.mode=30;break}ut=q>u.wnext?(q-=u.wnext,u.wsize-q):u.wnext-q,q>u.length&&(q=u.length),ht=u.window}else ht=Q,ut=nt-u.offset,q=u.length;for(F<q&&(q=F),F-=q,u.length-=q;Q[nt++]=ht[ut++],--q;);u.length===0&&(u.mode=21);break;case 26:if(F===0)break t;Q[nt++]=u.length,F--,u.mode=21;break;case 27:if(u.wrap){for(;I<32;){if(B===0)break t;B--,E|=T[Z++]<<I,I+=8}if(Y-=F,k.total_out+=Y,u.total+=Y,Y&&(k.adler=u.check=u.flags?a(u.check,Q,Y,nt-Y):s(u.check,Q,Y,nt-Y)),Y=F,(u.flags?E:_(E))!==u.check){k.msg="incorrect data check",u.mode=30;break}I=E=0}u.mode=28;case 28:if(u.wrap&&u.flags){for(;I<32;){if(B===0)break t;B--,E+=T[Z++]<<I,I+=8}if(E!==(4294967295&u.total)){k.msg="incorrect length check",u.mode=30;break}I=E=0}u.mode=29;case 29:W=1;break t;case 30:W=-3;break t;case 31:return-4;case 32:default:return h}return k.next_out=nt,k.avail_out=F,k.next_in=Z,k.avail_in=B,u.hold=E,u.bits=I,(u.wsize||Y!==k.avail_out&&u.mode<30&&(u.mode<27||O!==4))&&G(k,k.output,k.next_out,Y-k.avail_out)?(u.mode=31,-4):(V-=k.avail_in,Y-=k.avail_out,k.total_in+=V,k.total_out+=Y,u.total+=Y,u.wrap&&Y&&(k.adler=u.check=u.flags?a(u.check,Q,Y,k.next_out-Y):s(u.check,Q,Y,k.next_out-Y)),k.data_type=u.bits+(u.last?64:0)+(u.mode===12?128:0)+(u.mode===20||u.mode===15?256:0),(V==0&&Y===0||O===4)&&W===y&&(W=-5),W)},r.inflateEnd=function(k){if(!k||!k.state)return h;var O=k.state;return O.window&&(O.window=null),k.state=null,y},r.inflateGetHeader=function(k,O){var u;return k&&k.state?(2&(u=k.state).wrap)==0?h:((u.head=O).done=!1,y):h},r.inflateSetDictionary=function(k,O){var u,T=O.length;return k&&k.state?(u=k.state).wrap!==0&&u.mode!==11?h:u.mode===11&&s(1,O,T,0)!==u.check?-3:G(k,O,T,T)?(u.mode=31,-4):(u.havedict=1,y):h},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,o,r){var n=t("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(m,p,y,h,b,f,g,_){var v,S,z,C,j,L,N,D,M,G=_.bits,k=0,O=0,u=0,T=0,Q=0,Z=0,nt=0,B=0,F=0,E=0,I=null,V=0,Y=new n.Buf16(16),q=new n.Buf16(16),ut=null,ht=0;for(k=0;k<=15;k++)Y[k]=0;for(O=0;O<h;O++)Y[p[y+O]]++;for(Q=G,T=15;1<=T&&Y[T]===0;T--);if(T<Q&&(Q=T),T===0)return b[f++]=20971520,b[f++]=20971520,_.bits=1,0;for(u=1;u<T&&Y[u]===0;u++);for(Q<u&&(Q=u),k=B=1;k<=15;k++)if(B<<=1,(B-=Y[k])<0)return-1;if(0<B&&(m===0||T!==1))return-1;for(q[1]=0,k=1;k<15;k++)q[k+1]=q[k]+Y[k];for(O=0;O<h;O++)p[y+O]!==0&&(g[q[p[y+O]]++]=O);if(L=m===0?(I=ut=g,19):m===1?(I=s,V-=257,ut=a,ht-=257,256):(I=c,ut=d,-1),k=u,j=f,nt=O=E=0,z=-1,C=(F=1<<(Z=Q))-1,m===1&&852<F||m===2&&592<F)return 1;for(;;){for(N=k-nt,M=g[O]<L?(D=0,g[O]):g[O]>L?(D=ut[ht+g[O]],I[V+g[O]]):(D=96,0),v=1<<k-nt,u=S=1<<Z;b[j+(E>>nt)+(S-=v)]=N<<24|D<<16|M|0,S!==0;);for(v=1<<k-1;E&v;)v>>=1;if(v!==0?(E&=v-1,E+=v):E=0,O++,--Y[k]==0){if(k===T)break;k=p[y+g[O]]}if(Q<k&&(E&C)!==z){for(nt===0&&(nt=Q),j+=u,B=1<<(Z=k-nt);Z+nt<T&&!((B-=Y[Z+nt])<=0);)Z++,B<<=1;if(F+=1<<Z,m===1&&852<F||m===2&&592<F)return 1;b[z=E&C]=Q<<24|Z<<16|j-f|0}}return E!==0&&(b[j+E]=k-nt<<24|64<<16|0),_.bits=Q,0}},{"../utils/common":41}],51:[function(t,o,r){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,o,r){var n=t("../utils/common"),s=0,a=1;function c(w){for(var x=w.length;0<=--x;)w[x]=0}var d=0,m=29,p=256,y=p+1+m,h=30,b=19,f=2*y+1,g=15,_=16,v=7,S=256,z=16,C=17,j=18,L=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],N=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],D=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],G=new Array(2*(y+2));c(G);var k=new Array(2*h);c(k);var O=new Array(512);c(O);var u=new Array(256);c(u);var T=new Array(m);c(T);var Q,Z,nt,B=new Array(h);function F(w,x,H,K,R){this.static_tree=w,this.extra_bits=x,this.extra_base=H,this.elems=K,this.max_length=R,this.has_stree=w&&w.length}function E(w,x){this.dyn_tree=w,this.max_code=0,this.stat_desc=x}function I(w){return w<256?O[w]:O[256+(w>>>7)]}function V(w,x){w.pending_buf[w.pending++]=255&x,w.pending_buf[w.pending++]=x>>>8&255}function Y(w,x,H){w.bi_valid>_-H?(w.bi_buf|=x<<w.bi_valid&65535,V(w,w.bi_buf),w.bi_buf=x>>_-w.bi_valid,w.bi_valid+=H-_):(w.bi_buf|=x<<w.bi_valid&65535,w.bi_valid+=H)}function q(w,x,H){Y(w,H[2*x],H[2*x+1])}function ut(w,x){for(var H=0;H|=1&w,w>>>=1,H<<=1,0<--x;);return H>>>1}function ht(w,x,H){var K,R,J=new Array(g+1),$=0;for(K=1;K<=g;K++)J[K]=$=$+H[K-1]<<1;for(R=0;R<=x;R++){var X=w[2*R+1];X!==0&&(w[2*R]=ut(J[X]++,X))}}function st(w){var x;for(x=0;x<y;x++)w.dyn_ltree[2*x]=0;for(x=0;x<h;x++)w.dyn_dtree[2*x]=0;for(x=0;x<b;x++)w.bl_tree[2*x]=0;w.dyn_ltree[2*S]=1,w.opt_len=w.static_len=0,w.last_lit=w.matches=0}function ft(w){8<w.bi_valid?V(w,w.bi_buf):0<w.bi_valid&&(w.pending_buf[w.pending++]=w.bi_buf),w.bi_buf=0,w.bi_valid=0}function vt(w,x,H,K){var R=2*x,J=2*H;return w[R]<w[J]||w[R]===w[J]&&K[x]<=K[H]}function pt(w,x,H){for(var K=w.heap[H],R=H<<1;R<=w.heap_len&&(R<w.heap_len&&vt(x,w.heap[R+1],w.heap[R],w.depth)&&R++,!vt(x,K,w.heap[R],w.depth));)w.heap[H]=w.heap[R],H=R,R<<=1;w.heap[H]=K}function Ot(w,x,H){var K,R,J,$,X=0;if(w.last_lit!==0)for(;K=w.pending_buf[w.d_buf+2*X]<<8|w.pending_buf[w.d_buf+2*X+1],R=w.pending_buf[w.l_buf+X],X++,K===0?q(w,R,x):(q(w,(J=u[R])+p+1,x),($=L[J])!==0&&Y(w,R-=T[J],$),q(w,J=I(--K),H),($=N[J])!==0&&Y(w,K-=B[J],$)),X<w.last_lit;);q(w,S,x)}function xt(w,x){var H,K,R,J=x.dyn_tree,$=x.stat_desc.static_tree,X=x.stat_desc.has_stree,rt=x.stat_desc.elems,gt=-1;for(w.heap_len=0,w.heap_max=f,H=0;H<rt;H++)J[2*H]!==0?(w.heap[++w.heap_len]=gt=H,w.depth[H]=0):J[2*H+1]=0;for(;w.heap_len<2;)J[2*(R=w.heap[++w.heap_len]=gt<2?++gt:0)]=1,w.depth[R]=0,w.opt_len--,X&&(w.static_len-=$[2*R+1]);for(x.max_code=gt,H=w.heap_len>>1;1<=H;H--)pt(w,J,H);for(R=rt;H=w.heap[1],w.heap[1]=w.heap[w.heap_len--],pt(w,J,1),K=w.heap[1],w.heap[--w.heap_max]=H,w.heap[--w.heap_max]=K,J[2*R]=J[2*H]+J[2*K],w.depth[R]=(w.depth[H]>=w.depth[K]?w.depth[H]:w.depth[K])+1,J[2*H+1]=J[2*K+1]=R,w.heap[1]=R++,pt(w,J,1),2<=w.heap_len;);w.heap[--w.heap_max]=w.heap[1],function(dt,Et){var $t,Ft,te,yt,oe,be,Lt=Et.dyn_tree,Oe=Et.max_code,gn=Et.stat_desc.static_tree,_n=Et.stat_desc.has_stree,bn=Et.stat_desc.extra_bits,Fe=Et.stat_desc.extra_base,ee=Et.stat_desc.max_length,ae=0;for(yt=0;yt<=g;yt++)dt.bl_count[yt]=0;for(Lt[2*dt.heap[dt.heap_max]+1]=0,$t=dt.heap_max+1;$t<f;$t++)ee<(yt=Lt[2*Lt[2*(Ft=dt.heap[$t])+1]+1]+1)&&(yt=ee,ae++),Lt[2*Ft+1]=yt,Oe<Ft||(dt.bl_count[yt]++,oe=0,Fe<=Ft&&(oe=bn[Ft-Fe]),be=Lt[2*Ft],dt.opt_len+=be*(yt+oe),_n&&(dt.static_len+=be*(gn[2*Ft+1]+oe)));if(ae!==0){do{for(yt=ee-1;dt.bl_count[yt]===0;)yt--;dt.bl_count[yt]--,dt.bl_count[yt+1]+=2,dt.bl_count[ee]--,ae-=2}while(0<ae);for(yt=ee;yt!==0;yt--)for(Ft=dt.bl_count[yt];Ft!==0;)Oe<(te=dt.heap[--$t])||(Lt[2*te+1]!==yt&&(dt.opt_len+=(yt-Lt[2*te+1])*Lt[2*te],Lt[2*te+1]=yt),Ft--)}}(w,x),ht(J,gt,w.bl_count)}function l(w,x,H){var K,R,J=-1,$=x[1],X=0,rt=7,gt=4;for($===0&&(rt=138,gt=3),x[2*(H+1)+1]=65535,K=0;K<=H;K++)R=$,$=x[2*(K+1)+1],++X<rt&&R===$||(X<gt?w.bl_tree[2*R]+=X:R!==0?(R!==J&&w.bl_tree[2*R]++,w.bl_tree[2*z]++):X<=10?w.bl_tree[2*C]++:w.bl_tree[2*j]++,J=R,gt=(X=0)===$?(rt=138,3):R===$?(rt=6,3):(rt=7,4))}function W(w,x,H){var K,R,J=-1,$=x[1],X=0,rt=7,gt=4;for($===0&&(rt=138,gt=3),K=0;K<=H;K++)if(R=$,$=x[2*(K+1)+1],!(++X<rt&&R===$)){if(X<gt)for(;q(w,R,w.bl_tree),--X!=0;);else R!==0?(R!==J&&(q(w,R,w.bl_tree),X--),q(w,z,w.bl_tree),Y(w,X-3,2)):X<=10?(q(w,C,w.bl_tree),Y(w,X-3,3)):(q(w,j,w.bl_tree),Y(w,X-11,7));J=R,gt=(X=0)===$?(rt=138,3):R===$?(rt=6,3):(rt=7,4)}}c(B);var U=!1;function A(w,x,H,K){Y(w,(d<<1)+(K?1:0),3),function(R,J,$,X){ft(R),X&&(V(R,$),V(R,~$)),n.arraySet(R.pending_buf,R.window,J,$,R.pending),R.pending+=$}(w,x,H,!0)}r._tr_init=function(w){U||(function(){var x,H,K,R,J,$=new Array(g+1);for(R=K=0;R<m-1;R++)for(T[R]=K,x=0;x<1<<L[R];x++)u[K++]=R;for(u[K-1]=R,R=J=0;R<16;R++)for(B[R]=J,x=0;x<1<<N[R];x++)O[J++]=R;for(J>>=7;R<h;R++)for(B[R]=J<<7,x=0;x<1<<N[R]-7;x++)O[256+J++]=R;for(H=0;H<=g;H++)$[H]=0;for(x=0;x<=143;)G[2*x+1]=8,x++,$[8]++;for(;x<=255;)G[2*x+1]=9,x++,$[9]++;for(;x<=279;)G[2*x+1]=7,x++,$[7]++;for(;x<=287;)G[2*x+1]=8,x++,$[8]++;for(ht(G,y+1,$),x=0;x<h;x++)k[2*x+1]=5,k[2*x]=ut(x,5);Q=new F(G,L,p+1,y,g),Z=new F(k,N,0,h,g),nt=new F(new Array(0),D,0,b,v)}(),U=!0),w.l_desc=new E(w.dyn_ltree,Q),w.d_desc=new E(w.dyn_dtree,Z),w.bl_desc=new E(w.bl_tree,nt),w.bi_buf=0,w.bi_valid=0,st(w)},r._tr_stored_block=A,r._tr_flush_block=function(w,x,H,K){var R,J,$=0;0<w.level?(w.strm.data_type===2&&(w.strm.data_type=function(X){var rt,gt=4093624447;for(rt=0;rt<=31;rt++,gt>>>=1)if(1&gt&&X.dyn_ltree[2*rt]!==0)return s;if(X.dyn_ltree[18]!==0||X.dyn_ltree[20]!==0||X.dyn_ltree[26]!==0)return a;for(rt=32;rt<p;rt++)if(X.dyn_ltree[2*rt]!==0)return a;return s}(w)),xt(w,w.l_desc),xt(w,w.d_desc),$=function(X){var rt;for(l(X,X.dyn_ltree,X.l_desc.max_code),l(X,X.dyn_dtree,X.d_desc.max_code),xt(X,X.bl_desc),rt=b-1;3<=rt&&X.bl_tree[2*M[rt]+1]===0;rt--);return X.opt_len+=3*(rt+1)+5+5+4,rt}(w),R=w.opt_len+3+7>>>3,(J=w.static_len+3+7>>>3)<=R&&(R=J)):R=J=H+5,H+4<=R&&x!==-1?A(w,x,H,K):w.strategy===4||J===R?(Y(w,2+(K?1:0),3),Ot(w,G,k)):(Y(w,4+(K?1:0),3),function(X,rt,gt,dt){var Et;for(Y(X,rt-257,5),Y(X,gt-1,5),Y(X,dt-4,4),Et=0;Et<dt;Et++)Y(X,X.bl_tree[2*M[Et]+1],3);W(X,X.dyn_ltree,rt-1),W(X,X.dyn_dtree,gt-1)}(w,w.l_desc.max_code+1,w.d_desc.max_code+1,$+1),Ot(w,w.dyn_ltree,w.dyn_dtree)),st(w),K&&ft(w)},r._tr_tally=function(w,x,H){return w.pending_buf[w.d_buf+2*w.last_lit]=x>>>8&255,w.pending_buf[w.d_buf+2*w.last_lit+1]=255&x,w.pending_buf[w.l_buf+w.last_lit]=255&H,w.last_lit++,x===0?w.dyn_ltree[2*H]++:(w.matches++,x--,w.dyn_ltree[2*(u[H]+p+1)]++,w.dyn_dtree[2*I(x)]++),w.last_lit===w.lit_bufsize-1},r._tr_align=function(w){Y(w,2,3),q(w,S,G),function(x){x.bi_valid===16?(V(x,x.bi_buf),x.bi_buf=0,x.bi_valid=0):8<=x.bi_valid&&(x.pending_buf[x.pending++]=255&x.bi_buf,x.bi_buf>>=8,x.bi_valid-=8)}(w)}},{"../utils/common":41}],53:[function(t,o,r){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,o,r){(function(n){(function(s,a){if(!s.setImmediate){var c,d,m,p,y=1,h={},b=!1,f=s.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(s);g=g&&g.setTimeout?g:s,c={}.toString.call(s.process)==="[object process]"?function(z){process.nextTick(function(){v(z)})}:function(){if(s.postMessage&&!s.importScripts){var z=!0,C=s.onmessage;return s.onmessage=function(){z=!1},s.postMessage("","*"),s.onmessage=C,z}}()?(p="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",S,!1):s.attachEvent("onmessage",S),function(z){s.postMessage(p+z,"*")}):s.MessageChannel?((m=new MessageChannel).port1.onmessage=function(z){v(z.data)},function(z){m.port2.postMessage(z)}):f&&"onreadystatechange"in f.createElement("script")?(d=f.documentElement,function(z){var C=f.createElement("script");C.onreadystatechange=function(){v(z),C.onreadystatechange=null,d.removeChild(C),C=null},d.appendChild(C)}):function(z){setTimeout(v,0,z)},g.setImmediate=function(z){typeof z!="function"&&(z=new Function(""+z));for(var C=new Array(arguments.length-1),j=0;j<C.length;j++)C[j]=arguments[j+1];var L={callback:z,args:C};return h[y]=L,c(y),y++},g.clearImmediate=_}function _(z){delete h[z]}function v(z){if(b)setTimeout(v,0,z);else{var C=h[z];if(C){b=!0;try{(function(j){var L=j.callback,N=j.args;switch(N.length){case 0:L();break;case 1:L(N[0]);break;case 2:L(N[0],N[1]);break;case 3:L(N[0],N[1],N[2]);break;default:L.apply(a,N)}})(C)}finally{_(z),b=!1}}}}function S(z){z.source===s&&typeof z.data=="string"&&z.data.indexOf(p)===0&&v(+z.data.slice(p.length))}})(typeof self>"u"?n===void 0?this:n:self)}).call(this,typeof ue<"u"?ue:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(mn);const Ye=mn.exports,Bi="data:text/plain;base64,IyBIb3cgdG8gc2V0dXAgdGhlIHBsdWdpbg0KDQojIyBPbmNlIHlvdSBoYXZlIGRvd25sb2FkZWQgdGhpcyBmaWxlIHB1dCB0aGUgZGlzY3MuanNvbiBmaWxlIGluIHRoZSByb290IG9mIHBsdWdpbiBkaXJlY3RvcnkNCg0KYGBgDQpTZXJ2ZXINCuKUlOKUgOKUgOKUgC4uLg0K4pSU4pSA4pSA4pSAcGx1Z2lucw0KICAgIOKUlOKUgOKUgOKUgEp1a2Vib3hFeHRlbmRlZFJlYm9ybg0KICAgIOKUgiAgIOKUlOKUgOKUgOKUgGRpc2NzLmpzb24NCgnilIIJ4pSU4pSA4pSA4pSAY29uZmlnLmpzb24NCgnilIIJ4pSU4pSA4pSA4pSALi4uDQoJ4pSU4pSA4pSA4pSASmV4dC5qYXINCgnilJTilIDilIDilIAuLi4NCmBgYA0KDQojIyBBcyBmb3IgdGhlIHJlc291cmNlIHBhY2sgZmlsZSB5b3UgY2FuIHNldCBpdCB1cCBieSBlZGl0aW5nIHRoZSBzZXJ2ZXIgY29uZmlnIGZpbGUNCg0KRXhhbXBsZSB1cGxvYWQgeW91ciBmaWxlIHRvIGRyb3Bib3guDQpHZW5lcmF0ZSBhIGRvd25sb2FkIHVybCBhbmQgcmVwbGFjZSB0aGUgZGw9MCBhdCB0aGUgZW5kIG9mIHRoZSB1cmwgd2l0aCBhIGRsPTENCg0KRXhhbXBsZToNCm9yaWdpbmFsIHVybDogaHR0cHM6Ly93d3cuZHJvcGJveC5jb20vcy9tc2llN2h1Y25wYmtmeS90ZXN0LlBORz9kbD0wDQplZGl0ZWQgICB1cmw6IGh0dHBzOi8vd3d3LmRyb3Bib3guY29tL3MvbXNpZTdodWNucGJrZnkvdGVzdC5QTkc/ZGw9MQ0KDQp0aGVuIGluIHRoZSBzZXJ2ZXIucHJvcGVydGllcyBmaWxlIHNldCB0aGUgc2VydmVyLXJlc291cmNlLXBhY2sgdG8gdGhlIGVkaXRlZCB1cmwNCg0KIyBZb3VyIHBsdWdpbiBpcyBub3cgcmVhZHkgdG8gZ28sIHJlc3RhcnQgdGhlIHNlcnZlciB0byBzdGFydCB1c2luZyBqZXh0",xi=async(i,e,t,o,r)=>{const n=new Ye,s=`
        {"pack": {"pack_format": ${e},"description": "Adds custom musics discs"}}
    `;n.file("pack.mcmeta",s);const c=await(await(await fetch(t)).blob()).arrayBuffer();n.file("pack.png",c);const d=n.folder("assets").folder("minecraft"),m={};i.forEach(f=>{m[`music_disc.${f.namespace}`]={sounds:[{name:`records/${f.namespace}`,stream:!0}]}}),d.file("sounds.json",JSON.stringify(m,null,2));const p=d.folder("models").folder("item"),y=d.folder("sounds").folder("records"),h=d.folder("textures").folder("item"),b={parent:"item/generated",textures:{layer0:"item/music_disc_11"},overrides:i.map((f,g)=>({predicate:{custom_model_data:g},model:`item/music_disc_${f.namespace}`}))};p.file("music_disc_11.json",JSON.stringify(b,null,2));for(let f=0;f<i.length;f++){const g=i[f],_=await(await Ir(g.texture,16,16)).arrayBuffer();h.file(`music_disc_${g.namespace}.png`,_);const v=r?await g.monoFile.arrayBuffer():await g.oggFile.arrayBuffer();y.file(`${g.namespace}.ogg`,v),console.log(g),p.file(`music_disc_${g.namespace}.json`,JSON.stringify({parent:"item/generated",textures:{layer0:`item/music_disc_${g.namespace}`}},null,2))}n.generateAsync({type:"blob"}).then(async f=>{const g=new Ye,_=i.map((v,S)=>({title:v.name,author:v.author,"disc-namespace":`music_disc.${v.namespace}`,"model-data":S,"creeper-drop":v.creeperDrop,lores:v.lores.split(`
`),"loot-tables":v.lootTables.join(",").split(",")}));g.file("README.md",await(await fetch(Bi)).arrayBuffer()),g.file(`${o}.zip`,await f.arrayBuffer()),g.file("discs.json",JSON.stringify(_,null,2)),g.generateAsync({type:"blob"}).then(async v=>{Rr(v,"open me.zip")})})};function Je(i){let e,t,o;function r(s){i[8](s)}let n={text:"Add at least a disc"};return i[5]!==void 0&&(n.closePopup=i[5]),e=new Ii({props:n}),kt.push(()=>zt(e,"closePopup",r)),{c(){It(e.$$.fragment)},m(s,a){At(e,s,a),o=!0},p(s,a){const c={};!t&&a&32&&(t=!0,c.closePopup=s[5],Ct(()=>t=!1)),e.$set(c)},i(s){o||(ct(e.$$.fragment,s),o=!0)},o(s){mt(e.$$.fragment,s),o=!1},d(s){St(e,s)}}}function Ri(i){let e,t,o,r;return{c(){e=tt("div"),t=tt("p"),t.textContent="GENERATE",P(t,"id","generate_text"),P(t,"class","noselect svelte-g5uugw"),P(e,"id","generate_button"),Qt(e,"background-image","url("+pn+")"),P(e,"class","grayscale svelte-g5uugw")},m(n,s){ot(n,e,s),et(e,t),o||(r=[at(e,"click",i[6]),at(e,"keydown",null)],o=!0)},p:lt,d(n){n&&it(e),o=!1,bt(r)}}}function Oi(i){let e,t,o,r;return{c(){e=tt("div"),t=tt("p"),t.textContent="GENERATE",P(t,"id","generate_text"),P(t,"class","noselect svelte-g5uugw"),P(e,"id","generate_button"),Qt(e,"background-image","url("+pn+")"),P(e,"class","svelte-g5uugw")},m(n,s){ot(n,e,s),et(e,t),o||(r=[at(e,"click",i[7]),at(e,"keydown",null)],o=!0)},p:lt,d(n){n&&it(e),o=!1,bt(r)}}}function Fi(i){let e,t,o,r,n,s,a,c,d,m,p,y,h,b,f=i[5]&&Je(i);function g(G){i[9](G)}function _(G){i[10](G)}function v(G){i[11](G)}function S(G){i[12](G)}let z={};i[1]!==void 0&&(z.packname=i[1]),i[2]!==void 0&&(z.version=i[2]),i[0]!==void 0&&(z.imagesrc=i[0]),i[3]!==void 0&&(z.useMono=i[3]),o=new Ei({props:z}),kt.push(()=>zt(o,"packname",g)),kt.push(()=>zt(o,"version",_)),kt.push(()=>zt(o,"imagesrc",v)),kt.push(()=>zt(o,"useMono",S));function C(G){i[13](G)}function j(G){i[14](G)}let L={};i[4]!==void 0&&(L.discData=i[4]),i[2]!==void 0&&(L.version=i[2]),d=new bi({props:L}),kt.push(()=>zt(d,"discData",C)),kt.push(()=>zt(d,"version",j));function N(G,k){return G[4].length>0?Oi:Ri}let D=N(i),M=D(i);return{c(){e=tt("main"),f&&f.c(),t=_t(),It(o.$$.fragment),c=_t(),It(d.$$.fragment),y=_t(),h=tt("div"),M.c(),P(h,"id","footer"),P(h,"class","svelte-g5uugw"),P(e,"class","svelte-g5uugw")},m(G,k){ot(G,e,k),f&&f.m(e,null),et(e,t),At(o,e,null),et(e,c),At(d,e,null),et(e,y),et(e,h),M.m(h,null),b=!0},p(G,[k]){G[5]?f?(f.p(G,k),k&32&&ct(f,1)):(f=Je(G),f.c(),ct(f,1),f.m(e,t)):f&&(Kt(),mt(f,1,1,()=>{f=null}),qt());const O={};!r&&k&2&&(r=!0,O.packname=G[1],Ct(()=>r=!1)),!n&&k&4&&(n=!0,O.version=G[2],Ct(()=>n=!1)),!s&&k&1&&(s=!0,O.imagesrc=G[0],Ct(()=>s=!1)),!a&&k&8&&(a=!0,O.useMono=G[3],Ct(()=>a=!1)),o.$set(O);const u={};!m&&k&16&&(m=!0,u.discData=G[4],Ct(()=>m=!1)),!p&&k&4&&(p=!0,u.version=G[2],Ct(()=>p=!1)),d.$set(u),D===(D=N(G))&&M?M.p(G,k):(M.d(1),M=D(G),M&&(M.c(),M.m(h,null)))},i(G){b||(ct(f),ct(o.$$.fragment,G),ct(d.$$.fragment,G),b=!0)},o(G){mt(f),mt(o.$$.fragment,G),mt(d.$$.fragment,G),b=!1},d(G){G&&it(e),f&&f.d(),St(o),St(d),M.d()}}}function Di(i,e,t){let o,r,n,s,a=[],c=!1;const d=()=>{t(5,c=!0)},m=()=>{xi(a,n,o,r,s)};function p(v){c=v,t(5,c)}function y(v){r=v,t(1,r)}function h(v){n=v,t(2,n)}function b(v){o=v,t(0,o)}function f(v){s=v,t(3,s)}function g(v){a=v,t(4,a)}function _(v){n=v,t(2,n)}return[o,r,n,s,a,c,d,m,p,y,h,b,f,g,_]}class Ti extends Gt{constructor(e){super(),Mt(this,e,Di,Fi,Wt,{})}}new Ti({target:document.getElementById("app")});
